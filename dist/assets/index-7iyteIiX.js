var nO=Object.defineProperty;var rO=(t,e,n)=>e in t?nO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>rO(t,typeof e!="symbol"?e+"":e,n);function sO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function oi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qy={exports:{}},Fu={},Gy={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function iO(){if(U1)return Je;U1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function w(H,Z,oe){this.props=H,this.context=Z,this.refs=b,this.updater=oe||x}w.prototype.isReactComponent={},w.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},w.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=w.prototype;function k(H,Z,oe){this.props=H,this.context=Z,this.refs=b,this.updater=oe||x}var N=k.prototype=new R;N.constructor=k,T(N,w.prototype),N.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E(H,Z,oe){var xe,be={},Te=null,pe=null;if(Z!=null)for(xe in Z.ref!==void 0&&(pe=Z.ref),Z.key!==void 0&&(Te=""+Z.key),Z)B.call(Z,xe)&&!M.hasOwnProperty(xe)&&(be[xe]=Z[xe]);var fe=arguments.length-2;if(fe===1)be.children=oe;else if(1<fe){for(var we=Array(fe),Se=0;Se<fe;Se++)we[Se]=arguments[Se+2];be.children=we}if(H&&H.defaultProps)for(xe in fe=H.defaultProps,fe)be[xe]===void 0&&(be[xe]=fe[xe]);return{$$typeof:t,type:H,key:Te,ref:pe,props:be,_owner:U.current}}function P(H,Z){return{$$typeof:t,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(oe){return Z[oe]})}var D=/\/+/g;function V(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):Z.toString(36)}function J(H,Z,oe,xe,be){var Te=typeof H;(Te==="undefined"||Te==="boolean")&&(H=null);var pe=!1;if(H===null)pe=!0;else switch(Te){case"string":case"number":pe=!0;break;case"object":switch(H.$$typeof){case t:case e:pe=!0}}if(pe)return pe=H,be=be(pe),H=xe===""?"."+V(pe,0):xe,O(be)?(oe="",H!=null&&(oe=H.replace(D,"$&/")+"/"),J(be,Z,oe,"",function(Se){return Se})):be!=null&&(j(be)&&(be=P(be,oe+(!be.key||pe&&pe.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+H)),Z.push(be)),1;if(pe=0,xe=xe===""?".":xe+":",O(H))for(var fe=0;fe<H.length;fe++){Te=H[fe];var we=xe+V(Te,fe);pe+=J(Te,Z,oe,we,be)}else if(we=v(H),typeof we=="function")for(H=we.call(H),fe=0;!(Te=H.next()).done;)Te=Te.value,we=xe+V(Te,fe++),pe+=J(Te,Z,oe,we,be);else if(Te==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return pe}function K(H,Z,oe){if(H==null)return H;var xe=[],be=0;return J(H,xe,"","",function(Te){return Z.call(oe,Te,be++)}),xe}function W(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(oe){(H._status===0||H._status===-1)&&(H._status=1,H._result=oe)},function(oe){(H._status===0||H._status===-1)&&(H._status=2,H._result=oe)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var Y={current:null},G={transition:null},te={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:G,ReactCurrentOwner:U};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:K,forEach:function(H,Z,oe){K(H,function(){Z.apply(this,arguments)},oe)},count:function(H){var Z=0;return K(H,function(){Z++}),Z},toArray:function(H){return K(H,function(Z){return Z})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Je.Component=w,Je.Fragment=n,Je.Profiler=s,Je.PureComponent=k,Je.StrictMode=r,Je.Suspense=u,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Je.act=ae,Je.cloneElement=function(H,Z,oe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var xe=T({},H.props),be=H.key,Te=H.ref,pe=H._owner;if(Z!=null){if(Z.ref!==void 0&&(Te=Z.ref,pe=U.current),Z.key!==void 0&&(be=""+Z.key),H.type&&H.type.defaultProps)var fe=H.type.defaultProps;for(we in Z)B.call(Z,we)&&!M.hasOwnProperty(we)&&(xe[we]=Z[we]===void 0&&fe!==void 0?fe[we]:Z[we])}var we=arguments.length-2;if(we===1)xe.children=oe;else if(1<we){fe=Array(we);for(var Se=0;Se<we;Se++)fe[Se]=arguments[Se+2];xe.children=fe}return{$$typeof:t,type:H.type,key:be,ref:Te,props:xe,_owner:pe}},Je.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},Je.createElement=E,Je.createFactory=function(H){var Z=E.bind(null,H);return Z.type=H,Z},Je.createRef=function(){return{current:null}},Je.forwardRef=function(H){return{$$typeof:l,render:H}},Je.isValidElement=j,Je.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:W}},Je.memo=function(H,Z){return{$$typeof:d,type:H,compare:Z===void 0?null:Z}},Je.startTransition=function(H){var Z=G.transition;G.transition={};try{H()}finally{G.transition=Z}},Je.unstable_act=ae,Je.useCallback=function(H,Z){return Y.current.useCallback(H,Z)},Je.useContext=function(H){return Y.current.useContext(H)},Je.useDebugValue=function(){},Je.useDeferredValue=function(H){return Y.current.useDeferredValue(H)},Je.useEffect=function(H,Z){return Y.current.useEffect(H,Z)},Je.useId=function(){return Y.current.useId()},Je.useImperativeHandle=function(H,Z,oe){return Y.current.useImperativeHandle(H,Z,oe)},Je.useInsertionEffect=function(H,Z){return Y.current.useInsertionEffect(H,Z)},Je.useLayoutEffect=function(H,Z){return Y.current.useLayoutEffect(H,Z)},Je.useMemo=function(H,Z){return Y.current.useMemo(H,Z)},Je.useReducer=function(H,Z,oe){return Y.current.useReducer(H,Z,oe)},Je.useRef=function(H){return Y.current.useRef(H)},Je.useState=function(H){return Y.current.useState(H)},Je.useSyncExternalStore=function(H,Z,oe){return Y.current.useSyncExternalStore(H,Z,oe)},Je.useTransition=function(){return Y.current.useTransition()},Je.version="18.3.1",Je}var $1;function vm(){return $1||($1=1,Gy.exports=iO()),Gy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function oO(){if(H1)return Fu;H1=1;var t=vm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,g={},v=null,x=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)r.call(u,f)&&!i.hasOwnProperty(f)&&(g[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)g[f]===void 0&&(g[f]=u[f]);return{$$typeof:e,type:l,key:v,ref:x,props:g,_owner:s.current}}return Fu.Fragment=n,Fu.jsx=o,Fu.jsxs=o,Fu}var W1;function aO(){return W1||(W1=1,qy.exports=oO()),qy.exports}var p=aO(),A=vm();const Ue=oi(A),qA=sO({__proto__:null,default:Ue},[A]);var Tf={},Ky={exports:{}},ar={},Qy={exports:{}},Yy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function lO(){return q1||(q1=1,(function(t){function e(G,te){var ae=G.length;G.push(te);e:for(;0<ae;){var H=ae-1>>>1,Z=G[H];if(0<s(Z,te))G[H]=te,G[ae]=Z,ae=H;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],ae=G.pop();if(ae!==te){G[0]=ae;e:for(var H=0,Z=G.length,oe=Z>>>1;H<oe;){var xe=2*(H+1)-1,be=G[xe],Te=xe+1,pe=G[Te];if(0>s(be,ae))Te<Z&&0>s(pe,be)?(G[H]=pe,G[Te]=ae,H=Te):(G[H]=be,G[xe]=ae,H=xe);else if(Te<Z&&0>s(pe,ae))G[H]=pe,G[Te]=ae,H=Te;else break e}}return te}function s(G,te){var ae=G.sortIndex-te.sortIndex;return ae!==0?ae:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,g=null,v=3,x=!1,T=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=G)r(d),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(d)}}function O(G){if(b=!1,N(G),!T)if(n(u)!==null)T=!0,W(B);else{var te=n(d);te!==null&&Y(O,te.startTime-G)}}function B(G,te){T=!1,b&&(b=!1,R(E),E=-1),x=!0;var ae=v;try{for(N(te),g=n(u);g!==null&&(!(g.expirationTime>te)||G&&!F());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var Z=H(g.expirationTime<=te);te=t.unstable_now(),typeof Z=="function"?g.callback=Z:g===n(u)&&r(u),N(te)}else r(u);g=n(u)}if(g!==null)var oe=!0;else{var xe=n(d);xe!==null&&Y(O,xe.startTime-te),oe=!1}return oe}finally{g=null,v=ae,x=!1}}var U=!1,M=null,E=-1,P=5,j=-1;function F(){return!(t.unstable_now()-j<P)}function D(){if(M!==null){var G=t.unstable_now();j=G;var te=!0;try{te=M(!0,G)}finally{te?V():(U=!1,M=null)}}else U=!1}var V;if(typeof k=="function")V=function(){k(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=D,V=function(){K.postMessage(null)}}else V=function(){w(D,0)};function W(G){M=G,U||(U=!0,V())}function Y(G,te){E=w(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,W(B))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var ae=v;v=te;try{return G()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=v;v=G;try{return te()}finally{v=ae}},t.unstable_scheduleCallback=function(G,te,ae){var H=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?H+ae:H):ae=H,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,G={id:f++,callback:te,priorityLevel:G,startTime:ae,expirationTime:Z,sortIndex:-1},ae>H?(G.sortIndex=ae,e(d,G),n(u)===null&&G===n(d)&&(b?(R(E),E=-1):b=!0,Y(O,ae-H))):(G.sortIndex=Z,e(u,G),T||x||(T=!0,W(B))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var te=v;return function(){var ae=v;v=te;try{return G.apply(this,arguments)}finally{v=ae}}}})(Yy)),Yy}var G1;function cO(){return G1||(G1=1,Qy.exports=lO()),Qy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function uO(){if(K1)return ar;K1=1;var t=vm(),e=cO();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(s[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function v(a){return u.call(g,a)?!0:u.call(f,a)?!1:d.test(a)?g[a]=!0:(f[a]=!0,!1)}function x(a,c,h,y){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,c,h,y){if(c===null||typeof c>"u"||x(a,c,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(a,c,h,y,_,C,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=C,this.removeEmptyString=L}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){w[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];w[c]=new b(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){w[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){w[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){w[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){w[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){w[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){w[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){w[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(R,k);w[c]=new b(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(R,k);w[c]=new b(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(R,k);w[c]=new b(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){w[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){w[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function N(a,c,h,y){var _=w.hasOwnProperty(c)?w[c]:null;(_!==null?_.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,h,_,y)&&(h=null),y||_===null?v(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):_.mustUseProperty?a[_.propertyName]=h===null?_.type===3?!1:"":h:(c=_.attributeName,y=_.attributeNamespace,h===null?a.removeAttribute(c):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,y?a.setAttributeNS(y,c,h):a.setAttribute(c,h))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),U=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,H;function Z(a){if(H===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);H=c&&c[1]||""}return`
`+H+a}var oe=!1;function xe(a,c){if(!a||oe)return"";oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var y=re}Reflect.construct(a,[],c)}else{try{c.call()}catch(re){y=re}a.call(c.prototype)}else{try{throw Error()}catch(re){y=re}a()}}catch(re){if(re&&y&&typeof re.stack=="string"){for(var _=re.stack.split(`
`),C=y.stack.split(`
`),L=_.length-1,$=C.length-1;1<=L&&0<=$&&_[L]!==C[$];)$--;for(;1<=L&&0<=$;L--,$--)if(_[L]!==C[$]){if(L!==1||$!==1)do if(L--,$--,0>$||_[L]!==C[$]){var q=`
`+_[L].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=L&&0<=$);break}}}finally{oe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?Z(a):""}function be(a){switch(a.tag){case 5:return Z(a.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return a=xe(a.type,!1),a;case 11:return a=xe(a.type.render,!1),a;case 1:return a=xe(a.type,!0),a;default:return""}}function Te(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case U:return"Portal";case P:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case j:return(a._context.displayName||"Context")+".Provider";case D:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case K:return c=a.displayName||null,c!==null?c:Te(a.type)||"Memo";case W:c=a._payload,a=a._init;try{return Te(a(c))}catch{}}return null}function pe(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function fe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function we(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Se(a){var c=we(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,C=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return _.call(this)},set:function(L){y=""+L,C.call(this,L)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(L){y=""+L},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function _e(a){a._valueTracker||(a._valueTracker=Se(a))}function se(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),y="";return a&&(y=we(a)?a.checked?"true":"false":a.value),a=y,a!==h?(c.setValue(a),!0):!1}function ye(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Pe(a,c){var h=c.checked;return ae({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Me(a,c){var h=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;h=fe(c.value!=null?c.value:h),a._wrapperState={initialChecked:y,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Oe(a,c){c=c.checked,c!=null&&N(a,"checked",c,!1)}function vt(a,c){Oe(a,c);var h=fe(c.value),y=c.type;if(h!=null)y==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?tt(a,c.type,h):c.hasOwnProperty("defaultValue")&&tt(a,c.type,fe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function et(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function tt(a,c,h){(c!=="number"||ye(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var bt=Array.isArray;function Nn(a,c,h,y){if(a=a.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<a.length;h++)_=c.hasOwnProperty("$"+a[h].value),a[h].selected!==_&&(a[h].selected=_),_&&y&&(a[h].defaultSelected=!0)}else{for(h=""+fe(h),c=null,_=0;_<a.length;_++){if(a[_].value===h){a[_].selected=!0,y&&(a[_].defaultSelected=!0);return}c!==null||a[_].disabled||(c=a[_])}c!==null&&(c.selected=!0)}}function Dn(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Pr(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(bt(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:fe(h)}}function zt(a,c){var h=fe(c.value),y=fe(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),y!=null&&(a.defaultValue=""+y)}function jn(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ze(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ze(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ln,ui=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,y,_){MSApp.execUnsafeLocalFunction(function(){return a(c,h,y,_)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(ln=ln||document.createElement("div"),ln.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ln.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Zr(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gn=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(a){gn.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Jn[c]=Jn[a]})});function Jr(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Jn.hasOwnProperty(a)&&Jn[a]?(""+c).trim():c+"px"}function qi(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var y=h.indexOf("--")===0,_=Jr(h,c[h],y);h==="float"&&(h="cssFloat"),y?a.setProperty(h,_):a[h]=_}}var Zc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jc(a,c){if(c){if(Zc[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function eu(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function sl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var il=null,Rr=null,ks=null;function ol(a){if(a=Su(a)){if(typeof il!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Vh(c),il(a.stateNode,a.type,c))}}function Ns(a){Rr?ks?ks.push(a):ks=[a]:Rr=a}function tu(){if(Rr){var a=Rr,c=ks;if(ks=Rr=null,ol(a),c)for(a=0;a<c.length;a++)ol(c[a])}}function na(a,c){return a(c)}function nu(){}var di=!1;function ru(a,c,h){if(di)return a(c,h);di=!0;try{return na(a,c,h)}finally{di=!1,(Rr!==null||ks!==null)&&(nu(),tu())}}function Qt(a,c){var h=a.stateNode;if(h===null)return null;var y=Vh(h);if(y===null)return null;h=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var al=!1;if(l)try{var es={};Object.defineProperty(es,"passive",{get:function(){al=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{al=!1}function ra(a,c,h,y,_,C,L,$,q){var re=Array.prototype.slice.call(arguments,3);try{c.apply(h,re)}catch(de){this.onError(de)}}var sa=!1,ll=null,ts=!1,su=null,_g={onError:function(a){sa=!0,ll=a}};function cl(a,c,h,y,_,C,L,$,q){sa=!1,ll=null,ra.apply(_g,arguments)}function lh(a,c,h,y,_,C,L,$,q){if(cl.apply(this,arguments),sa){if(sa){var re=ll;sa=!1,ll=null}else throw Error(n(198));ts||(ts=!0,su=re)}}function ns(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function ia(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function rs(a){if(ns(a)!==a)throw Error(n(188))}function ch(a){var c=a.alternate;if(!c){if(c=ns(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,y=c;;){var _=h.return;if(_===null)break;var C=_.alternate;if(C===null){if(y=_.return,y!==null){h=y;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===h)return rs(_),a;if(C===y)return rs(_),c;C=C.sibling}throw Error(n(188))}if(h.return!==y.return)h=_,y=C;else{for(var L=!1,$=_.child;$;){if($===h){L=!0,h=_,y=C;break}if($===y){L=!0,y=_,h=C;break}$=$.sibling}if(!L){for($=C.child;$;){if($===h){L=!0,h=C,y=_;break}if($===y){L=!0,y=C,h=_;break}$=$.sibling}if(!L)throw Error(n(189))}}if(h.alternate!==y)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function iu(a){return a=ch(a),a!==null?ul(a):null}function ul(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=ul(a);if(c!==null)return c;a=a.sibling}return null}var dl=e.unstable_scheduleCallback,ou=e.unstable_cancelCallback,uh=e.unstable_shouldYield,wg=e.unstable_requestPaint,It=e.unstable_now,dh=e.unstable_getCurrentPriorityLevel,oa=e.unstable_ImmediatePriority,Gi=e.unstable_UserBlockingPriority,Ir=e.unstable_NormalPriority,au=e.unstable_LowPriority,hh=e.unstable_IdlePriority,aa=null,fr=null;function fh(a){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(aa,a,void 0,(a.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:mh,lu=Math.log,ph=Math.LN2;function mh(a){return a>>>=0,a===0?32:31-(lu(a)/ph|0)|0}var hl=64,fl=4194304;function Ki(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function la(a,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,_=a.suspendedLanes,C=a.pingedLanes,L=h&268435455;if(L!==0){var $=L&~_;$!==0?y=Ki($):(C&=L,C!==0&&(y=Ki(C)))}else L=h&~_,L!==0?y=Ki(L):C!==0&&(y=Ki(C));if(y===0)return 0;if(c!==0&&c!==y&&(c&_)===0&&(_=y&-y,C=c&-c,_>=C||_===16&&(C&4194240)!==0))return c;if((y&4)!==0&&(y|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=y;0<c;)h=31-Gn(c),_=1<<h,y|=a[h],c&=~_;return y}function bg(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(a,c){for(var h=a.suspendedLanes,y=a.pingedLanes,_=a.expirationTimes,C=a.pendingLanes;0<C;){var L=31-Gn(C),$=1<<L,q=_[L];q===-1?(($&h)===0||($&y)!==0)&&(_[L]=bg($,c)):q<=c&&(a.expiredLanes|=$),C&=~$}}function pr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ca(){var a=hl;return hl<<=1,(hl&4194240)===0&&(hl=64),a}function Qi(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function Yi(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Gn(c),a[c]=h}function At(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<h;){var _=31-Gn(h),C=1<<_;c[_]=0,y[_]=-1,a[_]=-1,h&=~C}}function Xi(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var y=31-Gn(h),_=1<<y;_&c|a[y]&c&&(a[y]|=c),h&=~_}}var st=0;function Zi(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var gh,pl,yh,vh,xh,cu=!1,Ds=[],Tn=null,ss=null,is=null,Ji=new Map,kr=new Map,js=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(a,c){switch(a){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ji.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(c.pointerId)}}function er(a,c,h,y,_,C){return a===null||a.nativeEvent!==C?(a={blockedOn:c,domEventName:h,eventSystemFlags:y,nativeEvent:C,targetContainers:[_]},c!==null&&(c=Su(c),c!==null&&pl(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),a)}function Sg(a,c,h,y,_){switch(c){case"focusin":return Tn=er(Tn,a,c,h,y,_),!0;case"dragenter":return ss=er(ss,a,c,h,y,_),!0;case"mouseover":return is=er(is,a,c,h,y,_),!0;case"pointerover":var C=_.pointerId;return Ji.set(C,er(Ji.get(C)||null,a,c,h,y,_)),!0;case"gotpointercapture":return C=_.pointerId,kr.set(C,er(kr.get(C)||null,a,c,h,y,_)),!0}return!1}function wh(a){var c=pa(a.target);if(c!==null){var h=ns(c);if(h!==null){if(c=h.tag,c===13){if(c=ia(h),c!==null){a.blockedOn=c,xh(a.priority,function(){yh(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fi(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=ml(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);ta=y,h.target.dispatchEvent(y),ta=null}else return c=Su(h),c!==null&&pl(c),a.blockedOn=h,!1;c.shift()}return!0}function ua(a,c,h){fi(a)&&h.delete(c)}function bh(){cu=!1,Tn!==null&&fi(Tn)&&(Tn=null),ss!==null&&fi(ss)&&(ss=null),is!==null&&fi(is)&&(is=null),Ji.forEach(ua),kr.forEach(ua)}function os(a,c){a.blockedOn===c&&(a.blockedOn=null,cu||(cu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bh)))}function as(a){function c(_){return os(_,a)}if(0<Ds.length){os(Ds[0],a);for(var h=1;h<Ds.length;h++){var y=Ds[h];y.blockedOn===a&&(y.blockedOn=null)}}for(Tn!==null&&os(Tn,a),ss!==null&&os(ss,a),is!==null&&os(is,a),Ji.forEach(c),kr.forEach(c),h=0;h<js.length;h++)y=js[h],y.blockedOn===a&&(y.blockedOn=null);for(;0<js.length&&(h=js[0],h.blockedOn===null);)wh(h),h.blockedOn===null&&js.shift()}var pi=O.ReactCurrentBatchConfig,eo=!0;function Lt(a,c,h,y){var _=st,C=pi.transition;pi.transition=null;try{st=1,uu(a,c,h,y)}finally{st=_,pi.transition=C}}function Eg(a,c,h,y){var _=st,C=pi.transition;pi.transition=null;try{st=4,uu(a,c,h,y)}finally{st=_,pi.transition=C}}function uu(a,c,h,y){if(eo){var _=ml(a,c,h,y);if(_===null)Og(a,c,y,da,h),_h(a,y);else if(Sg(_,a,c,h,y))y.stopPropagation();else if(_h(a,y),c&4&&-1<Tg.indexOf(a)){for(;_!==null;){var C=Su(_);if(C!==null&&gh(C),C=ml(a,c,h,y),C===null&&Og(a,c,y,da,h),C===_)break;_=C}_!==null&&y.stopPropagation()}else Og(a,c,y,null,h)}}var da=null;function ml(a,c,h,y){if(da=null,a=sl(y),a=pa(a),a!==null)if(c=ns(a),c===null)a=null;else if(h=c.tag,h===13){if(a=ia(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return da=a,null}function du(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dh()){case oa:return 1;case Gi:return 4;case Ir:case au:return 16;case hh:return 536870912;default:return 16}default:return 16}}var mr=null,gl=null,tr=null;function hu(){if(tr)return tr;var a,c=gl,h=c.length,y,_="value"in mr?mr.value:mr.textContent,C=_.length;for(a=0;a<h&&c[a]===_[a];a++);var L=h-a;for(y=1;y<=L&&c[h-y]===_[C-y];y++);return tr=_.slice(a,1<y?1-y:void 0)}function yl(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ms(){return!0}function fu(){return!1}function Sn(a){function c(h,y,_,C,L){this._reactName=h,this._targetInst=_,this.type=y,this.nativeEvent=C,this.target=L,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(h=a[$],this[$]=h?h(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ms:fu,this.isPropagationStopped=fu,this}return ae(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),c}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Sn(ls),Os=ae({},ls,{view:0,detail:0}),Cg=Sn(Os),xl,mi,to,ha=ae({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==to&&(to&&a.type==="mousemove"?(xl=a.screenX-to.screenX,mi=a.screenY-to.screenY):mi=xl=0,to=a),xl)},movementY:function(a){return"movementY"in a?a.movementY:mi}}),_l=Sn(ha),pu=ae({},ha,{dataTransfer:0}),Th=Sn(pu),wl=ae({},Os,{relatedTarget:0}),bl=Sn(wl),Sh=ae({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=Sn(Sh),Eh=ae({},ls,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ch=Sn(Eh),Ah=ae({},ls,{data:0}),mu=Sn(Ah),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rh(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Ph[a])?!!c[a]:!1}function Vs(){return Rh}var m=ae({},Os,{key:function(a){if(a.key){var c=Tl[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=yl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Kn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(a){return a.type==="keypress"?yl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),S=Sn(m),I=ae({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Sn(I),X=ae({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),ie=Sn(X),ge=ae({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tt=Sn(ge),cn=ae({},ha,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=Sn(cn),yn=[9,13,27,32],tn=l&&"CompositionEvent"in window,Nr=null;l&&"documentMode"in document&&(Nr=document.documentMode);var gr=l&&"TextEvent"in window&&!Nr,fa=l&&(!tn||Nr&&8<Nr&&11>=Nr),Sl=" ",Ow=!1;function Vw(a,c){switch(a){case"keyup":return yn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var El=!1;function Jj(a,c){switch(a){case"compositionend":return Lw(c);case"keypress":return c.which!==32?null:(Ow=!0,Sl);case"textInput":return a=c.data,a===Sl&&Ow?null:a;default:return null}}function eM(a,c){if(El)return a==="compositionend"||!tn&&Vw(a,c)?(a=hu(),tr=gl=mr=null,El=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return fa&&c.locale!=="ko"?null:c.data;default:return null}}var tM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!tM[a.type]:c==="textarea"}function Bw(a,c,h,y){Ns(y),c=jh(c,"onChange"),0<c.length&&(h=new vl("onChange","change",null,h,y),a.push({event:h,listeners:c}))}var gu=null,yu=null;function nM(a){sb(a,0)}function Ih(a){var c=Il(a);if(se(c))return a}function rM(a,c){if(a==="change")return c}var zw=!1;if(l){var Ag;if(l){var Pg="oninput"in document;if(!Pg){var Uw=document.createElement("div");Uw.setAttribute("oninput","return;"),Pg=typeof Uw.oninput=="function"}Ag=Pg}else Ag=!1;zw=Ag&&(!document.documentMode||9<document.documentMode)}function $w(){gu&&(gu.detachEvent("onpropertychange",Hw),yu=gu=null)}function Hw(a){if(a.propertyName==="value"&&Ih(yu)){var c=[];Bw(c,yu,a,sl(a)),ru(nM,c)}}function sM(a,c,h){a==="focusin"?($w(),gu=c,yu=h,gu.attachEvent("onpropertychange",Hw)):a==="focusout"&&$w()}function iM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ih(yu)}function oM(a,c){if(a==="click")return Ih(c)}function aM(a,c){if(a==="input"||a==="change")return Ih(c)}function lM(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var cs=typeof Object.is=="function"?Object.is:lM;function vu(a,c){if(cs(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),y=Object.keys(c);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var _=h[y];if(!u.call(c,_)||!cs(a[_],c[_]))return!1}return!0}function Ww(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function qw(a,c){var h=Ww(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=c&&y>=c)return{node:h,offset:c-a};a=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ww(h)}}function Gw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?Gw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Kw(){for(var a=window,c=ye();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=ye(a.document)}return c}function Rg(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function cM(a){var c=Kw(),h=a.focusedElem,y=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&Gw(h.ownerDocument.documentElement,h)){if(y!==null&&Rg(h)){if(c=y.start,a=y.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var _=h.textContent.length,C=Math.min(y.start,_);y=y.end===void 0?C:Math.min(y.end,_),!a.extend&&C>y&&(_=y,y=C,C=_),_=qw(h,C);var L=qw(h,y);_&&L&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==L.node||a.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),a.removeAllRanges(),C>y?(a.addRange(c),a.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uM=l&&"documentMode"in document&&11>=document.documentMode,Cl=null,Ig=null,xu=null,kg=!1;function Qw(a,c,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;kg||Cl==null||Cl!==ye(y)||(y=Cl,"selectionStart"in y&&Rg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),xu&&vu(xu,y)||(xu=y,y=jh(Ig,"onSelect"),0<y.length&&(c=new vl("onSelect","select",null,c,h),a.push({event:c,listeners:y}),c.target=Cl)))}function kh(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Al={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},Ng={},Yw={};l&&(Yw=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Nh(a){if(Ng[a])return Ng[a];if(!Al[a])return a;var c=Al[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in Yw)return Ng[a]=c[h];return a}var Xw=Nh("animationend"),Zw=Nh("animationiteration"),Jw=Nh("animationstart"),eb=Nh("transitionend"),tb=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(a,c){tb.set(a,c),i(c,[a])}for(var Dg=0;Dg<nb.length;Dg++){var jg=nb[Dg],dM=jg.toLowerCase(),hM=jg[0].toUpperCase()+jg.slice(1);no(dM,"on"+hM)}no(Xw,"onAnimationEnd"),no(Zw,"onAnimationIteration"),no(Jw,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(eb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function rb(a,c,h){var y=a.type||"unknown-event";a.currentTarget=h,lh(y,c,void 0,a),a.currentTarget=null}function sb(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],_=y.event;y=y.listeners;e:{var C=void 0;if(c)for(var L=y.length-1;0<=L;L--){var $=y[L],q=$.instance,re=$.currentTarget;if($=$.listener,q!==C&&_.isPropagationStopped())break e;rb(_,$,re),C=q}else for(L=0;L<y.length;L++){if($=y[L],q=$.instance,re=$.currentTarget,$=$.listener,q!==C&&_.isPropagationStopped())break e;rb(_,$,re),C=q}}}if(ts)throw a=su,ts=!1,su=null,a}function Nt(a,c){var h=c[Ug];h===void 0&&(h=c[Ug]=new Set);var y=a+"__bubble";h.has(y)||(ib(c,a,2,!1),h.add(y))}function Mg(a,c,h){var y=0;c&&(y|=4),ib(h,a,y,c)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function wu(a){if(!a[Dh]){a[Dh]=!0,r.forEach(function(h){h!=="selectionchange"&&(fM.has(h)||Mg(h,!1,a),Mg(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Dh]||(c[Dh]=!0,Mg("selectionchange",!1,c))}}function ib(a,c,h,y){switch(du(c)){case 1:var _=Lt;break;case 4:_=Eg;break;default:_=uu}h=_.bind(null,c,h,a),_=void 0,!al||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),y?_!==void 0?a.addEventListener(c,h,{capture:!0,passive:_}):a.addEventListener(c,h,!0):_!==void 0?a.addEventListener(c,h,{passive:_}):a.addEventListener(c,h,!1)}function Og(a,c,h,y,_){var C=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var L=y.tag;if(L===3||L===4){var $=y.stateNode.containerInfo;if($===_||$.nodeType===8&&$.parentNode===_)break;if(L===4)for(L=y.return;L!==null;){var q=L.tag;if((q===3||q===4)&&(q=L.stateNode.containerInfo,q===_||q.nodeType===8&&q.parentNode===_))return;L=L.return}for(;$!==null;){if(L=pa($),L===null)return;if(q=L.tag,q===5||q===6){y=C=L;continue e}$=$.parentNode}}y=y.return}ru(function(){var re=C,de=sl(h),he=[];e:{var ue=tb.get(a);if(ue!==void 0){var Ee=vl,Ie=a;switch(a){case"keypress":if(yl(h)===0)break e;case"keydown":case"keyup":Ee=S;break;case"focusin":Ie="focus",Ee=bl;break;case"focusout":Ie="blur",Ee=bl;break;case"beforeblur":case"afterblur":Ee=bl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ie;break;case Xw:case Zw:case Jw:Ee=gi;break;case eb:Ee=Tt;break;case"scroll":Ee=Cg;break;case"wheel":Ee=ot;break;case"copy":case"cut":case"paste":Ee=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=z}var ke=(c&4)!==0,Yt=!ke&&a==="scroll",ee=ke?ue!==null?ue+"Capture":null:ue;ke=[];for(var Q=re,ne;Q!==null;){ne=Q;var me=ne.stateNode;if(ne.tag===5&&me!==null&&(ne=me,ee!==null&&(me=Qt(Q,ee),me!=null&&ke.push(bu(Q,me,ne)))),Yt)break;Q=Q.return}0<ke.length&&(ue=new Ee(ue,Ie,null,h,de),he.push({event:ue,listeners:ke}))}}if((c&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",ue&&h!==ta&&(Ie=h.relatedTarget||h.fromElement)&&(pa(Ie)||Ie[yi]))break e;if((Ee||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ee?(Ie=h.relatedTarget||h.toElement,Ee=re,Ie=Ie?pa(Ie):null,Ie!==null&&(Yt=ns(Ie),Ie!==Yt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ee=null,Ie=re),Ee!==Ie)){if(ke=_l,me="onMouseLeave",ee="onMouseEnter",Q="mouse",(a==="pointerout"||a==="pointerover")&&(ke=z,me="onPointerLeave",ee="onPointerEnter",Q="pointer"),Yt=Ee==null?ue:Il(Ee),ne=Ie==null?ue:Il(Ie),ue=new ke(me,Q+"leave",Ee,h,de),ue.target=Yt,ue.relatedTarget=ne,me=null,pa(de)===re&&(ke=new ke(ee,Q+"enter",Ie,h,de),ke.target=ne,ke.relatedTarget=Yt,me=ke),Yt=me,Ee&&Ie)t:{for(ke=Ee,ee=Ie,Q=0,ne=ke;ne;ne=Pl(ne))Q++;for(ne=0,me=ee;me;me=Pl(me))ne++;for(;0<Q-ne;)ke=Pl(ke),Q--;for(;0<ne-Q;)ee=Pl(ee),ne--;for(;Q--;){if(ke===ee||ee!==null&&ke===ee.alternate)break t;ke=Pl(ke),ee=Pl(ee)}ke=null}else ke=null;Ee!==null&&ob(he,ue,Ee,ke,!1),Ie!==null&&Yt!==null&&ob(he,Yt,Ie,ke,!0)}}e:{if(ue=re?Il(re):window,Ee=ue.nodeName&&ue.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ue.type==="file")var Ne=rM;else if(Fw(ue))if(zw)Ne=aM;else{Ne=iM;var Fe=sM}else(Ee=ue.nodeName)&&Ee.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ne=oM);if(Ne&&(Ne=Ne(a,re))){Bw(he,Ne,h,de);break e}Fe&&Fe(a,ue,re),a==="focusout"&&(Fe=ue._wrapperState)&&Fe.controlled&&ue.type==="number"&&tt(ue,"number",ue.value)}switch(Fe=re?Il(re):window,a){case"focusin":(Fw(Fe)||Fe.contentEditable==="true")&&(Cl=Fe,Ig=re,xu=null);break;case"focusout":xu=Ig=Cl=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,Qw(he,h,de);break;case"selectionchange":if(uM)break;case"keydown":case"keyup":Qw(he,h,de)}var Be;if(tn)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else El?Vw(a,h)&&(He="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(fa&&h.locale!=="ko"&&(El||He!=="onCompositionStart"?He==="onCompositionEnd"&&El&&(Be=hu()):(mr=de,gl="value"in mr?mr.value:mr.textContent,El=!0)),Fe=jh(re,He),0<Fe.length&&(He=new mu(He,a,null,h,de),he.push({event:He,listeners:Fe}),Be?He.data=Be:(Be=Lw(h),Be!==null&&(He.data=Be)))),(Be=gr?Jj(a,h):eM(a,h))&&(re=jh(re,"onBeforeInput"),0<re.length&&(de=new mu("onBeforeInput","beforeinput",null,h,de),he.push({event:de,listeners:re}),de.data=Be))}sb(he,c)})}function bu(a,c,h){return{instance:a,listener:c,currentTarget:h}}function jh(a,c){for(var h=c+"Capture",y=[];a!==null;){var _=a,C=_.stateNode;_.tag===5&&C!==null&&(_=C,C=Qt(a,h),C!=null&&y.unshift(bu(a,C,_)),C=Qt(a,c),C!=null&&y.push(bu(a,C,_))),a=a.return}return y}function Pl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function ob(a,c,h,y,_){for(var C=c._reactName,L=[];h!==null&&h!==y;){var $=h,q=$.alternate,re=$.stateNode;if(q!==null&&q===y)break;$.tag===5&&re!==null&&($=re,_?(q=Qt(h,C),q!=null&&L.unshift(bu(h,q,$))):_||(q=Qt(h,C),q!=null&&L.push(bu(h,q,$)))),h=h.return}L.length!==0&&a.push({event:c,listeners:L})}var pM=/\r\n?/g,mM=/\u0000|\uFFFD/g;function ab(a){return(typeof a=="string"?a:""+a).replace(pM,`
`).replace(mM,"")}function Mh(a,c,h){if(c=ab(c),ab(a)!==c&&h)throw Error(n(425))}function Oh(){}var Vg=null,Lg=null;function Fg(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Bg=typeof setTimeout=="function"?setTimeout:void 0,gM=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,yM=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(a){return lb.resolve(null).then(a).catch(vM)}:Bg;function vM(a){setTimeout(function(){throw a})}function zg(a,c){var h=c,y=0;do{var _=h.nextSibling;if(a.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(y===0){a.removeChild(_),as(c);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=_}while(h);as(c)}function ro(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function cb(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Ls="__reactFiber$"+Rl,Tu="__reactProps$"+Rl,yi="__reactContainer$"+Rl,Ug="__reactEvents$"+Rl,xM="__reactListeners$"+Rl,_M="__reactHandles$"+Rl;function pa(a){var c=a[Ls];if(c)return c;for(var h=a.parentNode;h;){if(c=h[yi]||h[Ls]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=cb(a);a!==null;){if(h=a[Ls])return h;a=cb(a)}return c}a=h,h=a.parentNode}return null}function Su(a){return a=a[Ls]||a[yi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Il(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Vh(a){return a[Tu]||null}var $g=[],kl=-1;function so(a){return{current:a}}function Dt(a){0>kl||(a.current=$g[kl],$g[kl]=null,kl--)}function kt(a,c){kl++,$g[kl]=a.current,a.current=c}var io={},Mn=so(io),nr=so(!1),ma=io;function Nl(a,c){var h=a.type.contextTypes;if(!h)return io;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var _={},C;for(C in h)_[C]=c[C];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=_),_}function rr(a){return a=a.childContextTypes,a!=null}function Lh(){Dt(nr),Dt(Mn)}function ub(a,c,h){if(Mn.current!==io)throw Error(n(168));kt(Mn,c),kt(nr,h)}function db(a,c,h){var y=a.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var _ in y)if(!(_ in c))throw Error(n(108,pe(a)||"Unknown",_));return ae({},h,y)}function Fh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||io,ma=Mn.current,kt(Mn,a),kt(nr,nr.current),!0}function hb(a,c,h){var y=a.stateNode;if(!y)throw Error(n(169));h?(a=db(a,c,ma),y.__reactInternalMemoizedMergedChildContext=a,Dt(nr),Dt(Mn),kt(Mn,a)):Dt(nr),kt(nr,h)}var vi=null,Bh=!1,Hg=!1;function fb(a){vi===null?vi=[a]:vi.push(a)}function wM(a){Bh=!0,fb(a)}function oo(){if(!Hg&&vi!==null){Hg=!0;var a=0,c=st;try{var h=vi;for(st=1;a<h.length;a++){var y=h[a];do y=y(!0);while(y!==null)}vi=null,Bh=!1}catch(_){throw vi!==null&&(vi=vi.slice(a+1)),dl(oa,oo),_}finally{st=c,Hg=!1}}return null}var Dl=[],jl=0,zh=null,Uh=0,Dr=[],jr=0,ga=null,xi=1,_i="";function ya(a,c){Dl[jl++]=Uh,Dl[jl++]=zh,zh=a,Uh=c}function pb(a,c,h){Dr[jr++]=xi,Dr[jr++]=_i,Dr[jr++]=ga,ga=a;var y=xi;a=_i;var _=32-Gn(y)-1;y&=~(1<<_),h+=1;var C=32-Gn(c)+_;if(30<C){var L=_-_%5;C=(y&(1<<L)-1).toString(32),y>>=L,_-=L,xi=1<<32-Gn(c)+_|h<<_|y,_i=C+a}else xi=1<<C|h<<_|y,_i=a}function Wg(a){a.return!==null&&(ya(a,1),pb(a,1,0))}function qg(a){for(;a===zh;)zh=Dl[--jl],Dl[jl]=null,Uh=Dl[--jl],Dl[jl]=null;for(;a===ga;)ga=Dr[--jr],Dr[jr]=null,_i=Dr[--jr],Dr[jr]=null,xi=Dr[--jr],Dr[jr]=null}var yr=null,vr=null,Ft=!1,us=null;function mb(a,c){var h=Lr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function gb(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,yr=a,vr=ro(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,yr=a,vr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=ga!==null?{id:xi,overflow:_i}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Lr(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,yr=a,vr=null,!0):!1;default:return!1}}function Gg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Kg(a){if(Ft){var c=vr;if(c){var h=c;if(!gb(a,c)){if(Gg(a))throw Error(n(418));c=ro(h.nextSibling);var y=yr;c&&gb(a,c)?mb(y,h):(a.flags=a.flags&-4097|2,Ft=!1,yr=a)}}else{if(Gg(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ft=!1,yr=a}}}function yb(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;yr=a}function $h(a){if(a!==yr)return!1;if(!Ft)return yb(a),Ft=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Fg(a.type,a.memoizedProps)),c&&(c=vr)){if(Gg(a))throw vb(),Error(n(418));for(;c;)mb(a,c),c=ro(c.nextSibling)}if(yb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){vr=ro(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}vr=null}}else vr=yr?ro(a.stateNode.nextSibling):null;return!0}function vb(){for(var a=vr;a;)a=ro(a.nextSibling)}function Ml(){vr=yr=null,Ft=!1}function Qg(a){us===null?us=[a]:us.push(a)}var bM=O.ReactCurrentBatchConfig;function Eu(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var y=h.stateNode}if(!y)throw Error(n(147,a));var _=y,C=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===C?c.ref:(c=function(L){var $=_.refs;L===null?delete $[C]:$[C]=L},c._stringRef=C,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Hh(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function xb(a){var c=a._init;return c(a._payload)}function _b(a){function c(ee,Q){if(a){var ne=ee.deletions;ne===null?(ee.deletions=[Q],ee.flags|=16):ne.push(Q)}}function h(ee,Q){if(!a)return null;for(;Q!==null;)c(ee,Q),Q=Q.sibling;return null}function y(ee,Q){for(ee=new Map;Q!==null;)Q.key!==null?ee.set(Q.key,Q):ee.set(Q.index,Q),Q=Q.sibling;return ee}function _(ee,Q){return ee=mo(ee,Q),ee.index=0,ee.sibling=null,ee}function C(ee,Q,ne){return ee.index=ne,a?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Q?(ee.flags|=2,Q):ne):(ee.flags|=2,Q)):(ee.flags|=1048576,Q)}function L(ee){return a&&ee.alternate===null&&(ee.flags|=2),ee}function $(ee,Q,ne,me){return Q===null||Q.tag!==6?(Q=By(ne,ee.mode,me),Q.return=ee,Q):(Q=_(Q,ne),Q.return=ee,Q)}function q(ee,Q,ne,me){var Ne=ne.type;return Ne===M?de(ee,Q,ne.props.children,me,ne.key):Q!==null&&(Q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===W&&xb(Ne)===Q.type)?(me=_(Q,ne.props),me.ref=Eu(ee,Q,ne),me.return=ee,me):(me=mf(ne.type,ne.key,ne.props,null,ee.mode,me),me.ref=Eu(ee,Q,ne),me.return=ee,me)}function re(ee,Q,ne,me){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=zy(ne,ee.mode,me),Q.return=ee,Q):(Q=_(Q,ne.children||[]),Q.return=ee,Q)}function de(ee,Q,ne,me,Ne){return Q===null||Q.tag!==7?(Q=Ea(ne,ee.mode,me,Ne),Q.return=ee,Q):(Q=_(Q,ne),Q.return=ee,Q)}function he(ee,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=By(""+Q,ee.mode,ne),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return ne=mf(Q.type,Q.key,Q.props,null,ee.mode,ne),ne.ref=Eu(ee,null,Q),ne.return=ee,ne;case U:return Q=zy(Q,ee.mode,ne),Q.return=ee,Q;case W:var me=Q._init;return he(ee,me(Q._payload),ne)}if(bt(Q)||te(Q))return Q=Ea(Q,ee.mode,ne,null),Q.return=ee,Q;Hh(ee,Q)}return null}function ue(ee,Q,ne,me){var Ne=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ne!==null?null:$(ee,Q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:return ne.key===Ne?q(ee,Q,ne,me):null;case U:return ne.key===Ne?re(ee,Q,ne,me):null;case W:return Ne=ne._init,ue(ee,Q,Ne(ne._payload),me)}if(bt(ne)||te(ne))return Ne!==null?null:de(ee,Q,ne,me,null);Hh(ee,ne)}return null}function Ee(ee,Q,ne,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number")return ee=ee.get(ne)||null,$(Q,ee,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case B:return ee=ee.get(me.key===null?ne:me.key)||null,q(Q,ee,me,Ne);case U:return ee=ee.get(me.key===null?ne:me.key)||null,re(Q,ee,me,Ne);case W:var Fe=me._init;return Ee(ee,Q,ne,Fe(me._payload),Ne)}if(bt(me)||te(me))return ee=ee.get(ne)||null,de(Q,ee,me,Ne,null);Hh(Q,me)}return null}function Ie(ee,Q,ne,me){for(var Ne=null,Fe=null,Be=Q,He=Q=0,_n=null;Be!==null&&He<ne.length;He++){Be.index>He?(_n=Be,Be=null):_n=Be.sibling;var ht=ue(ee,Be,ne[He],me);if(ht===null){Be===null&&(Be=_n);break}a&&Be&&ht.alternate===null&&c(ee,Be),Q=C(ht,Q,He),Fe===null?Ne=ht:Fe.sibling=ht,Fe=ht,Be=_n}if(He===ne.length)return h(ee,Be),Ft&&ya(ee,He),Ne;if(Be===null){for(;He<ne.length;He++)Be=he(ee,ne[He],me),Be!==null&&(Q=C(Be,Q,He),Fe===null?Ne=Be:Fe.sibling=Be,Fe=Be);return Ft&&ya(ee,He),Ne}for(Be=y(ee,Be);He<ne.length;He++)_n=Ee(Be,ee,He,ne[He],me),_n!==null&&(a&&_n.alternate!==null&&Be.delete(_n.key===null?He:_n.key),Q=C(_n,Q,He),Fe===null?Ne=_n:Fe.sibling=_n,Fe=_n);return a&&Be.forEach(function(go){return c(ee,go)}),Ft&&ya(ee,He),Ne}function ke(ee,Q,ne,me){var Ne=te(ne);if(typeof Ne!="function")throw Error(n(150));if(ne=Ne.call(ne),ne==null)throw Error(n(151));for(var Fe=Ne=null,Be=Q,He=Q=0,_n=null,ht=ne.next();Be!==null&&!ht.done;He++,ht=ne.next()){Be.index>He?(_n=Be,Be=null):_n=Be.sibling;var go=ue(ee,Be,ht.value,me);if(go===null){Be===null&&(Be=_n);break}a&&Be&&go.alternate===null&&c(ee,Be),Q=C(go,Q,He),Fe===null?Ne=go:Fe.sibling=go,Fe=go,Be=_n}if(ht.done)return h(ee,Be),Ft&&ya(ee,He),Ne;if(Be===null){for(;!ht.done;He++,ht=ne.next())ht=he(ee,ht.value,me),ht!==null&&(Q=C(ht,Q,He),Fe===null?Ne=ht:Fe.sibling=ht,Fe=ht);return Ft&&ya(ee,He),Ne}for(Be=y(ee,Be);!ht.done;He++,ht=ne.next())ht=Ee(Be,ee,He,ht.value,me),ht!==null&&(a&&ht.alternate!==null&&Be.delete(ht.key===null?He:ht.key),Q=C(ht,Q,He),Fe===null?Ne=ht:Fe.sibling=ht,Fe=ht);return a&&Be.forEach(function(tO){return c(ee,tO)}),Ft&&ya(ee,He),Ne}function Yt(ee,Q,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===M&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:e:{for(var Ne=ne.key,Fe=Q;Fe!==null;){if(Fe.key===Ne){if(Ne=ne.type,Ne===M){if(Fe.tag===7){h(ee,Fe.sibling),Q=_(Fe,ne.props.children),Q.return=ee,ee=Q;break e}}else if(Fe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===W&&xb(Ne)===Fe.type){h(ee,Fe.sibling),Q=_(Fe,ne.props),Q.ref=Eu(ee,Fe,ne),Q.return=ee,ee=Q;break e}h(ee,Fe);break}else c(ee,Fe);Fe=Fe.sibling}ne.type===M?(Q=Ea(ne.props.children,ee.mode,me,ne.key),Q.return=ee,ee=Q):(me=mf(ne.type,ne.key,ne.props,null,ee.mode,me),me.ref=Eu(ee,Q,ne),me.return=ee,ee=me)}return L(ee);case U:e:{for(Fe=ne.key;Q!==null;){if(Q.key===Fe)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){h(ee,Q.sibling),Q=_(Q,ne.children||[]),Q.return=ee,ee=Q;break e}else{h(ee,Q);break}else c(ee,Q);Q=Q.sibling}Q=zy(ne,ee.mode,me),Q.return=ee,ee=Q}return L(ee);case W:return Fe=ne._init,Yt(ee,Q,Fe(ne._payload),me)}if(bt(ne))return Ie(ee,Q,ne,me);if(te(ne))return ke(ee,Q,ne,me);Hh(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Q!==null&&Q.tag===6?(h(ee,Q.sibling),Q=_(Q,ne),Q.return=ee,ee=Q):(h(ee,Q),Q=By(ne,ee.mode,me),Q.return=ee,ee=Q),L(ee)):h(ee,Q)}return Yt}var Ol=_b(!0),wb=_b(!1),Wh=so(null),qh=null,Vl=null,Yg=null;function Xg(){Yg=Vl=qh=null}function Zg(a){var c=Wh.current;Dt(Wh),a._currentValue=c}function Jg(a,c,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===h)break;a=a.return}}function Ll(a,c){qh=a,Yg=Vl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(sr=!0),a.firstContext=null)}function Mr(a){var c=a._currentValue;if(Yg!==a)if(a={context:a,memoizedValue:c,next:null},Vl===null){if(qh===null)throw Error(n(308));Vl=a,qh.dependencies={lanes:0,firstContext:a}}else Vl=Vl.next=a;return c}var va=null;function ey(a){va===null?va=[a]:va.push(a)}function bb(a,c,h,y){var _=c.interleaved;return _===null?(h.next=h,ey(c)):(h.next=_.next,_.next=h),c.interleaved=h,wi(a,y)}function wi(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var ao=!1;function ty(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tb(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function bi(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function lo(a,c,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(ct&2)!==0){var _=y.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),y.pending=c,wi(a,h)}return _=y.interleaved,_===null?(c.next=c,ey(y)):(c.next=_.next,_.next=c),y.interleaved=c,wi(a,h)}function Gh(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var y=c.lanes;y&=a.pendingLanes,h|=y,c.lanes=h,Xi(a,h)}}function Sb(a,c){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var _=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var L={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};C===null?_=C=L:C=C.next=L,h=h.next}while(h!==null);C===null?_=C=c:C=C.next=c}else _=C=c;h={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:y.shared,effects:y.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function Kh(a,c,h,y){var _=a.updateQueue;ao=!1;var C=_.firstBaseUpdate,L=_.lastBaseUpdate,$=_.shared.pending;if($!==null){_.shared.pending=null;var q=$,re=q.next;q.next=null,L===null?C=re:L.next=re,L=q;var de=a.alternate;de!==null&&(de=de.updateQueue,$=de.lastBaseUpdate,$!==L&&($===null?de.firstBaseUpdate=re:$.next=re,de.lastBaseUpdate=q))}if(C!==null){var he=_.baseState;L=0,de=re=q=null,$=C;do{var ue=$.lane,Ee=$.eventTime;if((y&ue)===ue){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ie=a,ke=$;switch(ue=c,Ee=h,ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){he=Ie.call(Ee,he,ue);break e}he=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,ue=typeof Ie=="function"?Ie.call(Ee,he,ue):Ie,ue==null)break e;he=ae({},he,ue);break e;case 2:ao=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,ue=_.effects,ue===null?_.effects=[$]:ue.push($))}else Ee={eventTime:Ee,lane:ue,tag:$.tag,payload:$.payload,callback:$.callback,next:null},de===null?(re=de=Ee,q=he):de=de.next=Ee,L|=ue;if($=$.next,$===null){if($=_.shared.pending,$===null)break;ue=$,$=ue.next,ue.next=null,_.lastBaseUpdate=ue,_.shared.pending=null}}while(!0);if(de===null&&(q=he),_.baseState=q,_.firstBaseUpdate=re,_.lastBaseUpdate=de,c=_.shared.interleaved,c!==null){_=c;do L|=_.lane,_=_.next;while(_!==c)}else C===null&&(_.shared.lanes=0);wa|=L,a.lanes=L,a.memoizedState=he}}function Eb(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var y=a[c],_=y.callback;if(_!==null){if(y.callback=null,y=h,typeof _!="function")throw Error(n(191,_));_.call(y)}}}var Cu={},Fs=so(Cu),Au=so(Cu),Pu=so(Cu);function xa(a){if(a===Cu)throw Error(n(174));return a}function ny(a,c){switch(kt(Pu,c),kt(Au,a),kt(Fs,Cu),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:it(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=it(c,a)}Dt(Fs),kt(Fs,c)}function Fl(){Dt(Fs),Dt(Au),Dt(Pu)}function Cb(a){xa(Pu.current);var c=xa(Fs.current),h=it(c,a.type);c!==h&&(kt(Au,a),kt(Fs,h))}function ry(a){Au.current===a&&(Dt(Fs),Dt(Au))}var Ut=so(0);function Qh(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var sy=[];function iy(){for(var a=0;a<sy.length;a++)sy[a]._workInProgressVersionPrimary=null;sy.length=0}var Yh=O.ReactCurrentDispatcher,oy=O.ReactCurrentBatchConfig,_a=0,$t=null,un=null,vn=null,Xh=!1,Ru=!1,Iu=0,TM=0;function On(){throw Error(n(321))}function ay(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!cs(a[h],c[h]))return!1;return!0}function ly(a,c,h,y,_,C){if(_a=C,$t=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Yh.current=a===null||a.memoizedState===null?AM:PM,a=h(y,_),Ru){C=0;do{if(Ru=!1,Iu=0,25<=C)throw Error(n(301));C+=1,vn=un=null,c.updateQueue=null,Yh.current=RM,a=h(y,_)}while(Ru)}if(Yh.current=ef,c=un!==null&&un.next!==null,_a=0,vn=un=$t=null,Xh=!1,c)throw Error(n(300));return a}function cy(){var a=Iu!==0;return Iu=0,a}function Bs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?$t.memoizedState=vn=a:vn=vn.next=a,vn}function Or(){if(un===null){var a=$t.alternate;a=a!==null?a.memoizedState:null}else a=un.next;var c=vn===null?$t.memoizedState:vn.next;if(c!==null)vn=c,un=a;else{if(a===null)throw Error(n(310));un=a,a={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},vn===null?$t.memoizedState=vn=a:vn=vn.next=a}return vn}function ku(a,c){return typeof c=="function"?c(a):c}function uy(a){var c=Or(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var y=un,_=y.baseQueue,C=h.pending;if(C!==null){if(_!==null){var L=_.next;_.next=C.next,C.next=L}y.baseQueue=_=C,h.pending=null}if(_!==null){C=_.next,y=y.baseState;var $=L=null,q=null,re=C;do{var de=re.lane;if((_a&de)===de)q!==null&&(q=q.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),y=re.hasEagerState?re.eagerState:a(y,re.action);else{var he={lane:de,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};q===null?($=q=he,L=y):q=q.next=he,$t.lanes|=de,wa|=de}re=re.next}while(re!==null&&re!==C);q===null?L=y:q.next=$,cs(y,c.memoizedState)||(sr=!0),c.memoizedState=y,c.baseState=L,c.baseQueue=q,h.lastRenderedState=y}if(a=h.interleaved,a!==null){_=a;do C=_.lane,$t.lanes|=C,wa|=C,_=_.next;while(_!==a)}else _===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function dy(a){var c=Or(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var y=h.dispatch,_=h.pending,C=c.memoizedState;if(_!==null){h.pending=null;var L=_=_.next;do C=a(C,L.action),L=L.next;while(L!==_);cs(C,c.memoizedState)||(sr=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),h.lastRenderedState=C}return[C,y]}function Ab(){}function Pb(a,c){var h=$t,y=Or(),_=c(),C=!cs(y.memoizedState,_);if(C&&(y.memoizedState=_,sr=!0),y=y.queue,hy(kb.bind(null,h,y,a),[a]),y.getSnapshot!==c||C||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,Nu(9,Ib.bind(null,h,y,_,c),void 0,null),xn===null)throw Error(n(349));(_a&30)!==0||Rb(h,c,_)}return _}function Rb(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=$t.updateQueue,c===null?(c={lastEffect:null,stores:null},$t.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Ib(a,c,h,y){c.value=h,c.getSnapshot=y,Nb(c)&&Db(a)}function kb(a,c,h){return h(function(){Nb(c)&&Db(a)})}function Nb(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!cs(a,h)}catch{return!0}}function Db(a){var c=wi(a,1);c!==null&&ps(c,a,1,-1)}function jb(a){var c=Bs();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:a},c.queue=a,a=a.dispatch=CM.bind(null,$t,a),[c.memoizedState,a]}function Nu(a,c,h,y){return a={tag:a,create:c,destroy:h,deps:y,next:null},c=$t.updateQueue,c===null?(c={lastEffect:null,stores:null},$t.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,c.lastEffect=a)),a}function Mb(){return Or().memoizedState}function Zh(a,c,h,y){var _=Bs();$t.flags|=a,_.memoizedState=Nu(1|c,h,void 0,y===void 0?null:y)}function Jh(a,c,h,y){var _=Or();y=y===void 0?null:y;var C=void 0;if(un!==null){var L=un.memoizedState;if(C=L.destroy,y!==null&&ay(y,L.deps)){_.memoizedState=Nu(c,h,C,y);return}}$t.flags|=a,_.memoizedState=Nu(1|c,h,C,y)}function Ob(a,c){return Zh(8390656,8,a,c)}function hy(a,c){return Jh(2048,8,a,c)}function Vb(a,c){return Jh(4,2,a,c)}function Lb(a,c){return Jh(4,4,a,c)}function Fb(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Bb(a,c,h){return h=h!=null?h.concat([a]):null,Jh(4,4,Fb.bind(null,c,a),h)}function fy(){}function zb(a,c){var h=Or();c=c===void 0?null:c;var y=h.memoizedState;return y!==null&&c!==null&&ay(c,y[1])?y[0]:(h.memoizedState=[a,c],a)}function Ub(a,c){var h=Or();c=c===void 0?null:c;var y=h.memoizedState;return y!==null&&c!==null&&ay(c,y[1])?y[0]:(a=a(),h.memoizedState=[a,c],a)}function $b(a,c,h){return(_a&21)===0?(a.baseState&&(a.baseState=!1,sr=!0),a.memoizedState=h):(cs(h,c)||(h=ca(),$t.lanes|=h,wa|=h,a.baseState=!0),c)}function SM(a,c){var h=st;st=h!==0&&4>h?h:4,a(!0);var y=oy.transition;oy.transition={};try{a(!1),c()}finally{st=h,oy.transition=y}}function Hb(){return Or().memoizedState}function EM(a,c,h){var y=fo(a);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},Wb(a))qb(c,h);else if(h=bb(a,c,h,y),h!==null){var _=Yn();ps(h,a,y,_),Gb(h,c,y)}}function CM(a,c,h){var y=fo(a),_={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(Wb(a))qb(c,_);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var L=c.lastRenderedState,$=C(L,h);if(_.hasEagerState=!0,_.eagerState=$,cs($,L)){var q=c.interleaved;q===null?(_.next=_,ey(c)):(_.next=q.next,q.next=_),c.interleaved=_;return}}catch{}finally{}h=bb(a,c,_,y),h!==null&&(_=Yn(),ps(h,a,y,_),Gb(h,c,y))}}function Wb(a){var c=a.alternate;return a===$t||c!==null&&c===$t}function qb(a,c){Ru=Xh=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function Gb(a,c,h){if((h&4194240)!==0){var y=c.lanes;y&=a.pendingLanes,h|=y,c.lanes=h,Xi(a,h)}}var ef={readContext:Mr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},AM={readContext:Mr,useCallback:function(a,c){return Bs().memoizedState=[a,c===void 0?null:c],a},useContext:Mr,useEffect:Ob,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,Zh(4194308,4,Fb.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Zh(4194308,4,a,c)},useInsertionEffect:function(a,c){return Zh(4,2,a,c)},useMemo:function(a,c){var h=Bs();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var y=Bs();return c=h!==void 0?h(c):c,y.memoizedState=y.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},y.queue=a,a=a.dispatch=EM.bind(null,$t,a),[y.memoizedState,a]},useRef:function(a){var c=Bs();return a={current:a},c.memoizedState=a},useState:jb,useDebugValue:fy,useDeferredValue:function(a){return Bs().memoizedState=a},useTransition:function(){var a=jb(!1),c=a[0];return a=SM.bind(null,a[1]),Bs().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var y=$t,_=Bs();if(Ft){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),xn===null)throw Error(n(349));(_a&30)!==0||Rb(y,c,h)}_.memoizedState=h;var C={value:h,getSnapshot:c};return _.queue=C,Ob(kb.bind(null,y,C,a),[a]),y.flags|=2048,Nu(9,Ib.bind(null,y,C,h,c),void 0,null),h},useId:function(){var a=Bs(),c=xn.identifierPrefix;if(Ft){var h=_i,y=xi;h=(y&~(1<<32-Gn(y)-1)).toString(32)+h,c=":"+c+"R"+h,h=Iu++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=TM++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},PM={readContext:Mr,useCallback:zb,useContext:Mr,useEffect:hy,useImperativeHandle:Bb,useInsertionEffect:Vb,useLayoutEffect:Lb,useMemo:Ub,useReducer:uy,useRef:Mb,useState:function(){return uy(ku)},useDebugValue:fy,useDeferredValue:function(a){var c=Or();return $b(c,un.memoizedState,a)},useTransition:function(){var a=uy(ku)[0],c=Or().memoizedState;return[a,c]},useMutableSource:Ab,useSyncExternalStore:Pb,useId:Hb,unstable_isNewReconciler:!1},RM={readContext:Mr,useCallback:zb,useContext:Mr,useEffect:hy,useImperativeHandle:Bb,useInsertionEffect:Vb,useLayoutEffect:Lb,useMemo:Ub,useReducer:dy,useRef:Mb,useState:function(){return dy(ku)},useDebugValue:fy,useDeferredValue:function(a){var c=Or();return un===null?c.memoizedState=a:$b(c,un.memoizedState,a)},useTransition:function(){var a=dy(ku)[0],c=Or().memoizedState;return[a,c]},useMutableSource:Ab,useSyncExternalStore:Pb,useId:Hb,unstable_isNewReconciler:!1};function ds(a,c){if(a&&a.defaultProps){c=ae({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function py(a,c,h,y){c=a.memoizedState,h=h(y,c),h=h==null?c:ae({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var tf={isMounted:function(a){return(a=a._reactInternals)?ns(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var y=Yn(),_=fo(a),C=bi(y,_);C.payload=c,h!=null&&(C.callback=h),c=lo(a,C,_),c!==null&&(ps(c,a,_,y),Gh(c,a,_))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var y=Yn(),_=fo(a),C=bi(y,_);C.tag=1,C.payload=c,h!=null&&(C.callback=h),c=lo(a,C,_),c!==null&&(ps(c,a,_,y),Gh(c,a,_))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Yn(),y=fo(a),_=bi(h,y);_.tag=2,c!=null&&(_.callback=c),c=lo(a,_,y),c!==null&&(ps(c,a,y,h),Gh(c,a,y))}};function Kb(a,c,h,y,_,C,L){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,C,L):c.prototype&&c.prototype.isPureReactComponent?!vu(h,y)||!vu(_,C):!0}function Qb(a,c,h){var y=!1,_=io,C=c.contextType;return typeof C=="object"&&C!==null?C=Mr(C):(_=rr(c)?ma:Mn.current,y=c.contextTypes,C=(y=y!=null)?Nl(a,_):io),c=new c(h,C),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=tf,a.stateNode=c,c._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=C),c}function Yb(a,c,h,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,y),c.state!==a&&tf.enqueueReplaceState(c,c.state,null)}function my(a,c,h,y){var _=a.stateNode;_.props=h,_.state=a.memoizedState,_.refs={},ty(a);var C=c.contextType;typeof C=="object"&&C!==null?_.context=Mr(C):(C=rr(c)?ma:Mn.current,_.context=Nl(a,C)),_.state=a.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(py(a,c,C,h),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&tf.enqueueReplaceState(_,_.state,null),Kh(a,h,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Bl(a,c){try{var h="",y=c;do h+=be(y),y=y.return;while(y);var _=h}catch(C){_=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:c,stack:_,digest:null}}function gy(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function yy(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var IM=typeof WeakMap=="function"?WeakMap:Map;function Xb(a,c,h){h=bi(-1,h),h.tag=3,h.payload={element:null};var y=c.value;return h.callback=function(){cf||(cf=!0,Ny=y),yy(a,c)},h}function Zb(a,c,h){h=bi(-1,h),h.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=c.value;h.payload=function(){return y(_)},h.callback=function(){yy(a,c)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(h.callback=function(){yy(a,c),typeof y!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),h}function Jb(a,c,h){var y=a.pingCache;if(y===null){y=a.pingCache=new IM;var _=new Set;y.set(c,_)}else _=y.get(c),_===void 0&&(_=new Set,y.set(c,_));_.has(h)||(_.add(h),a=HM.bind(null,a,c,h),c.then(a,a))}function e1(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function t1(a,c,h,y,_){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=bi(-1,1),c.tag=2,lo(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=_,a)}var kM=O.ReactCurrentOwner,sr=!1;function Qn(a,c,h,y){c.child=a===null?wb(c,null,h,y):Ol(c,a.child,h,y)}function n1(a,c,h,y,_){h=h.render;var C=c.ref;return Ll(c,_),y=ly(a,c,h,y,C,_),h=cy(),a!==null&&!sr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~_,Ti(a,c,_)):(Ft&&h&&Wg(c),c.flags|=1,Qn(a,c,y,_),c.child)}function r1(a,c,h,y,_){if(a===null){var C=h.type;return typeof C=="function"&&!Fy(C)&&C.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=C,s1(a,c,C,y,_)):(a=mf(h.type,null,y,c,c.mode,_),a.ref=c.ref,a.return=c,c.child=a)}if(C=a.child,(a.lanes&_)===0){var L=C.memoizedProps;if(h=h.compare,h=h!==null?h:vu,h(L,y)&&a.ref===c.ref)return Ti(a,c,_)}return c.flags|=1,a=mo(C,y),a.ref=c.ref,a.return=c,c.child=a}function s1(a,c,h,y,_){if(a!==null){var C=a.memoizedProps;if(vu(C,y)&&a.ref===c.ref)if(sr=!1,c.pendingProps=y=C,(a.lanes&_)!==0)(a.flags&131072)!==0&&(sr=!0);else return c.lanes=a.lanes,Ti(a,c,_)}return vy(a,c,h,y,_)}function i1(a,c,h){var y=c.pendingProps,_=y.children,C=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Ul,xr),xr|=h;else{if((h&1073741824)===0)return a=C!==null?C.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,kt(Ul,xr),xr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:h,kt(Ul,xr),xr|=y}else C!==null?(y=C.baseLanes|h,c.memoizedState=null):y=h,kt(Ul,xr),xr|=y;return Qn(a,c,_,h),c.child}function o1(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function vy(a,c,h,y,_){var C=rr(h)?ma:Mn.current;return C=Nl(c,C),Ll(c,_),h=ly(a,c,h,y,C,_),y=cy(),a!==null&&!sr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~_,Ti(a,c,_)):(Ft&&y&&Wg(c),c.flags|=1,Qn(a,c,h,_),c.child)}function a1(a,c,h,y,_){if(rr(h)){var C=!0;Fh(c)}else C=!1;if(Ll(c,_),c.stateNode===null)rf(a,c),Qb(c,h,y),my(c,h,y,_),y=!0;else if(a===null){var L=c.stateNode,$=c.memoizedProps;L.props=$;var q=L.context,re=h.contextType;typeof re=="object"&&re!==null?re=Mr(re):(re=rr(h)?ma:Mn.current,re=Nl(c,re));var de=h.getDerivedStateFromProps,he=typeof de=="function"||typeof L.getSnapshotBeforeUpdate=="function";he||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||($!==y||q!==re)&&Yb(c,L,y,re),ao=!1;var ue=c.memoizedState;L.state=ue,Kh(c,y,L,_),q=c.memoizedState,$!==y||ue!==q||nr.current||ao?(typeof de=="function"&&(py(c,h,de,y),q=c.memoizedState),($=ao||Kb(c,h,$,y,ue,q,re))?(he||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=q),L.props=y,L.state=q,L.context=re,y=$):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{L=c.stateNode,Tb(a,c),$=c.memoizedProps,re=c.type===c.elementType?$:ds(c.type,$),L.props=re,he=c.pendingProps,ue=L.context,q=h.contextType,typeof q=="object"&&q!==null?q=Mr(q):(q=rr(h)?ma:Mn.current,q=Nl(c,q));var Ee=h.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||($!==he||ue!==q)&&Yb(c,L,y,q),ao=!1,ue=c.memoizedState,L.state=ue,Kh(c,y,L,_);var Ie=c.memoizedState;$!==he||ue!==Ie||nr.current||ao?(typeof Ee=="function"&&(py(c,h,Ee,y),Ie=c.memoizedState),(re=ao||Kb(c,h,re,y,ue,Ie,q)||!1)?(de||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,Ie,q),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,Ie,q)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||$===a.memoizedProps&&ue===a.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&ue===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ie),L.props=y,L.state=Ie,L.context=q,y=re):(typeof L.componentDidUpdate!="function"||$===a.memoizedProps&&ue===a.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&ue===a.memoizedState||(c.flags|=1024),y=!1)}return xy(a,c,h,y,C,_)}function xy(a,c,h,y,_,C){o1(a,c);var L=(c.flags&128)!==0;if(!y&&!L)return _&&hb(c,h,!1),Ti(a,c,C);y=c.stateNode,kM.current=c;var $=L&&typeof h.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,a!==null&&L?(c.child=Ol(c,a.child,null,C),c.child=Ol(c,null,$,C)):Qn(a,c,$,C),c.memoizedState=y.state,_&&hb(c,h,!0),c.child}function l1(a){var c=a.stateNode;c.pendingContext?ub(a,c.pendingContext,c.pendingContext!==c.context):c.context&&ub(a,c.context,!1),ny(a,c.containerInfo)}function c1(a,c,h,y,_){return Ml(),Qg(_),c.flags|=256,Qn(a,c,h,y),c.child}var _y={dehydrated:null,treeContext:null,retryLane:0};function wy(a){return{baseLanes:a,cachePool:null,transitions:null}}function u1(a,c,h){var y=c.pendingProps,_=Ut.current,C=!1,L=(c.flags&128)!==0,$;if(($=L)||($=a!==null&&a.memoizedState===null?!1:(_&2)!==0),$?(C=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),kt(Ut,_&1),a===null)return Kg(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=y.children,a=y.fallback,C?(y=c.mode,C=c.child,L={mode:"hidden",children:L},(y&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=L):C=gf(L,y,0,null),a=Ea(a,y,h,null),C.return=c,a.return=c,C.sibling=a,c.child=C,c.child.memoizedState=wy(h),c.memoizedState=_y,a):by(c,L));if(_=a.memoizedState,_!==null&&($=_.dehydrated,$!==null))return NM(a,c,L,y,$,_,h);if(C){C=y.fallback,L=c.mode,_=a.child,$=_.sibling;var q={mode:"hidden",children:y.children};return(L&1)===0&&c.child!==_?(y=c.child,y.childLanes=0,y.pendingProps=q,c.deletions=null):(y=mo(_,q),y.subtreeFlags=_.subtreeFlags&14680064),$!==null?C=mo($,C):(C=Ea(C,L,h,null),C.flags|=2),C.return=c,y.return=c,y.sibling=C,c.child=y,y=C,C=c.child,L=a.child.memoizedState,L=L===null?wy(h):{baseLanes:L.baseLanes|h,cachePool:null,transitions:L.transitions},C.memoizedState=L,C.childLanes=a.childLanes&~h,c.memoizedState=_y,y}return C=a.child,a=C.sibling,y=mo(C,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=h),y.return=c,y.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=y,c.memoizedState=null,y}function by(a,c){return c=gf({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function nf(a,c,h,y){return y!==null&&Qg(y),Ol(c,a.child,null,h),a=by(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function NM(a,c,h,y,_,C,L){if(h)return c.flags&256?(c.flags&=-257,y=gy(Error(n(422))),nf(a,c,L,y)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(C=y.fallback,_=c.mode,y=gf({mode:"visible",children:y.children},_,0,null),C=Ea(C,_,L,null),C.flags|=2,y.return=c,C.return=c,y.sibling=C,c.child=y,(c.mode&1)!==0&&Ol(c,a.child,null,L),c.child.memoizedState=wy(L),c.memoizedState=_y,C);if((c.mode&1)===0)return nf(a,c,L,null);if(_.data==="$!"){if(y=_.nextSibling&&_.nextSibling.dataset,y)var $=y.dgst;return y=$,C=Error(n(419)),y=gy(C,y,void 0),nf(a,c,L,y)}if($=(L&a.childLanes)!==0,sr||$){if(y=xn,y!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(y.suspendedLanes|L))!==0?0:_,_!==0&&_!==C.retryLane&&(C.retryLane=_,wi(a,_),ps(y,a,_,-1))}return Ly(),y=gy(Error(n(421))),nf(a,c,L,y)}return _.data==="$?"?(c.flags|=128,c.child=a.child,c=WM.bind(null,a),_._reactRetry=c,null):(a=C.treeContext,vr=ro(_.nextSibling),yr=c,Ft=!0,us=null,a!==null&&(Dr[jr++]=xi,Dr[jr++]=_i,Dr[jr++]=ga,xi=a.id,_i=a.overflow,ga=c),c=by(c,y.children),c.flags|=4096,c)}function d1(a,c,h){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),Jg(a.return,c,h)}function Ty(a,c,h,y,_){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:_}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=h,C.tailMode=_)}function h1(a,c,h){var y=c.pendingProps,_=y.revealOrder,C=y.tail;if(Qn(a,c,y.children,h),y=Ut.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&d1(a,h,c);else if(a.tag===19)d1(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(kt(Ut,y),(c.mode&1)===0)c.memoizedState=null;else switch(_){case"forwards":for(h=c.child,_=null;h!==null;)a=h.alternate,a!==null&&Qh(a)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),Ty(c,!1,_,h,C);break;case"backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(a=_.alternate,a!==null&&Qh(a)===null){c.child=_;break}a=_.sibling,_.sibling=h,h=_,_=a}Ty(c,!0,h,null,C);break;case"together":Ty(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function rf(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Ti(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),wa|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=mo(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=mo(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function DM(a,c,h){switch(c.tag){case 3:l1(c),Ml();break;case 5:Cb(c);break;case 1:rr(c.type)&&Fh(c);break;case 4:ny(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,_=c.memoizedProps.value;kt(Wh,y._currentValue),y._currentValue=_;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(kt(Ut,Ut.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?u1(a,c,h):(kt(Ut,Ut.current&1),a=Ti(a,c,h),a!==null?a.sibling:null);kt(Ut,Ut.current&1);break;case 19:if(y=(h&c.childLanes)!==0,(a.flags&128)!==0){if(y)return h1(a,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(Ut,Ut.current),y)break;return null;case 22:case 23:return c.lanes=0,i1(a,c,h)}return Ti(a,c,h)}var f1,Sy,p1,m1;f1=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Sy=function(){},p1=function(a,c,h,y){var _=a.memoizedProps;if(_!==y){a=c.stateNode,xa(Fs.current);var C=null;switch(h){case"input":_=Pe(a,_),y=Pe(a,y),C=[];break;case"select":_=ae({},_,{value:void 0}),y=ae({},y,{value:void 0}),C=[];break;case"textarea":_=Dn(a,_),y=Dn(a,y),C=[];break;default:typeof _.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Oh)}Jc(h,y);var L;h=null;for(re in _)if(!y.hasOwnProperty(re)&&_.hasOwnProperty(re)&&_[re]!=null)if(re==="style"){var $=_[re];for(L in $)$.hasOwnProperty(L)&&(h||(h={}),h[L]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(s.hasOwnProperty(re)?C||(C=[]):(C=C||[]).push(re,null));for(re in y){var q=y[re];if($=_!=null?_[re]:void 0,y.hasOwnProperty(re)&&q!==$&&(q!=null||$!=null))if(re==="style")if($){for(L in $)!$.hasOwnProperty(L)||q&&q.hasOwnProperty(L)||(h||(h={}),h[L]="");for(L in q)q.hasOwnProperty(L)&&$[L]!==q[L]&&(h||(h={}),h[L]=q[L])}else h||(C||(C=[]),C.push(re,h)),h=q;else re==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,$=$?$.__html:void 0,q!=null&&$!==q&&(C=C||[]).push(re,q)):re==="children"?typeof q!="string"&&typeof q!="number"||(C=C||[]).push(re,""+q):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(s.hasOwnProperty(re)?(q!=null&&re==="onScroll"&&Nt("scroll",a),C||$===q||(C=[])):(C=C||[]).push(re,q))}h&&(C=C||[]).push("style",h);var re=C;(c.updateQueue=re)&&(c.flags|=4)}},m1=function(a,c,h,y){h!==y&&(c.flags|=4)};function Du(a,c){if(!Ft)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Vn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(c)for(var _=a.child;_!==null;)h|=_.lanes|_.childLanes,y|=_.subtreeFlags&14680064,y|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)h|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=h,c}function jM(a,c,h){var y=c.pendingProps;switch(qg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(c),null;case 1:return rr(c.type)&&Lh(),Vn(c),null;case 3:return y=c.stateNode,Fl(),Dt(nr),Dt(Mn),iy(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&($h(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,us!==null&&(My(us),us=null))),Sy(a,c),Vn(c),null;case 5:ry(c);var _=xa(Pu.current);if(h=c.type,a!==null&&c.stateNode!=null)p1(a,c,h,y,_),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Vn(c),null}if(a=xa(Fs.current),$h(c)){y=c.stateNode,h=c.type;var C=c.memoizedProps;switch(y[Ls]=c,y[Tu]=C,a=(c.mode&1)!==0,h){case"dialog":Nt("cancel",y),Nt("close",y);break;case"iframe":case"object":case"embed":Nt("load",y);break;case"video":case"audio":for(_=0;_<_u.length;_++)Nt(_u[_],y);break;case"source":Nt("error",y);break;case"img":case"image":case"link":Nt("error",y),Nt("load",y);break;case"details":Nt("toggle",y);break;case"input":Me(y,C),Nt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Nt("invalid",y);break;case"textarea":Pr(y,C),Nt("invalid",y)}Jc(h,C),_=null;for(var L in C)if(C.hasOwnProperty(L)){var $=C[L];L==="children"?typeof $=="string"?y.textContent!==$&&(C.suppressHydrationWarning!==!0&&Mh(y.textContent,$,a),_=["children",$]):typeof $=="number"&&y.textContent!==""+$&&(C.suppressHydrationWarning!==!0&&Mh(y.textContent,$,a),_=["children",""+$]):s.hasOwnProperty(L)&&$!=null&&L==="onScroll"&&Nt("scroll",y)}switch(h){case"input":_e(y),et(y,C,!0);break;case"textarea":_e(y),jn(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Oh)}y=_,c.updateQueue=y,y!==null&&(c.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ze(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=L.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=L.createElement(h,{is:y.is}):(a=L.createElement(h),h==="select"&&(L=a,y.multiple?L.multiple=!0:y.size&&(L.size=y.size))):a=L.createElementNS(a,h),a[Ls]=c,a[Tu]=y,f1(a,c,!1,!1),c.stateNode=a;e:{switch(L=eu(h,y),h){case"dialog":Nt("cancel",a),Nt("close",a),_=y;break;case"iframe":case"object":case"embed":Nt("load",a),_=y;break;case"video":case"audio":for(_=0;_<_u.length;_++)Nt(_u[_],a);_=y;break;case"source":Nt("error",a),_=y;break;case"img":case"image":case"link":Nt("error",a),Nt("load",a),_=y;break;case"details":Nt("toggle",a),_=y;break;case"input":Me(a,y),_=Pe(a,y),Nt("invalid",a);break;case"option":_=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},_=ae({},y,{value:void 0}),Nt("invalid",a);break;case"textarea":Pr(a,y),_=Dn(a,y),Nt("invalid",a);break;default:_=y}Jc(h,_),$=_;for(C in $)if($.hasOwnProperty(C)){var q=$[C];C==="style"?qi(a,q):C==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&ui(a,q)):C==="children"?typeof q=="string"?(h!=="textarea"||q!=="")&&Zr(a,q):typeof q=="number"&&Zr(a,""+q):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(s.hasOwnProperty(C)?q!=null&&C==="onScroll"&&Nt("scroll",a):q!=null&&N(a,C,q,L))}switch(h){case"input":_e(a),et(a,y,!1);break;case"textarea":_e(a),jn(a);break;case"option":y.value!=null&&a.setAttribute("value",""+fe(y.value));break;case"select":a.multiple=!!y.multiple,C=y.value,C!=null?Nn(a,!!y.multiple,C,!1):y.defaultValue!=null&&Nn(a,!!y.multiple,y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=Oh)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Vn(c),null;case 6:if(a&&c.stateNode!=null)m1(a,c,a.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(h=xa(Pu.current),xa(Fs.current),$h(c)){if(y=c.stateNode,h=c.memoizedProps,y[Ls]=c,(C=y.nodeValue!==h)&&(a=yr,a!==null))switch(a.tag){case 3:Mh(y.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Mh(y.nodeValue,h,(a.mode&1)!==0)}C&&(c.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[Ls]=c,c.stateNode=y}return Vn(c),null;case 13:if(Dt(Ut),y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ft&&vr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)vb(),Ml(),c.flags|=98560,C=!1;else if(C=$h(c),y!==null&&y.dehydrated!==null){if(a===null){if(!C)throw Error(n(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Ls]=c}else Ml(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Vn(c),C=!1}else us!==null&&(My(us),us=null),C=!0;if(!C)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Ut.current&1)!==0?dn===0&&(dn=3):Ly())),c.updateQueue!==null&&(c.flags|=4),Vn(c),null);case 4:return Fl(),Sy(a,c),a===null&&wu(c.stateNode.containerInfo),Vn(c),null;case 10:return Zg(c.type._context),Vn(c),null;case 17:return rr(c.type)&&Lh(),Vn(c),null;case 19:if(Dt(Ut),C=c.memoizedState,C===null)return Vn(c),null;if(y=(c.flags&128)!==0,L=C.rendering,L===null)if(y)Du(C,!1);else{if(dn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(L=Qh(a),L!==null){for(c.flags|=128,Du(C,!1),y=L.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=h,h=c.child;h!==null;)C=h,a=y,C.flags&=14680066,L=C.alternate,L===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=L.childLanes,C.lanes=L.lanes,C.child=L.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=L.memoizedProps,C.memoizedState=L.memoizedState,C.updateQueue=L.updateQueue,C.type=L.type,a=L.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return kt(Ut,Ut.current&1|2),c.child}a=a.sibling}C.tail!==null&&It()>$l&&(c.flags|=128,y=!0,Du(C,!1),c.lanes=4194304)}else{if(!y)if(a=Qh(L),a!==null){if(c.flags|=128,y=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Du(C,!0),C.tail===null&&C.tailMode==="hidden"&&!L.alternate&&!Ft)return Vn(c),null}else 2*It()-C.renderingStartTime>$l&&h!==1073741824&&(c.flags|=128,y=!0,Du(C,!1),c.lanes=4194304);C.isBackwards?(L.sibling=c.child,c.child=L):(h=C.last,h!==null?h.sibling=L:c.child=L,C.last=L)}return C.tail!==null?(c=C.tail,C.rendering=c,C.tail=c.sibling,C.renderingStartTime=It(),c.sibling=null,h=Ut.current,kt(Ut,y?h&1|2:h&1),c):(Vn(c),null);case 22:case 23:return Vy(),y=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(xr&1073741824)!==0&&(Vn(c),c.subtreeFlags&6&&(c.flags|=8192)):Vn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function MM(a,c){switch(qg(c),c.tag){case 1:return rr(c.type)&&Lh(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Fl(),Dt(nr),Dt(Mn),iy(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return ry(c),null;case 13:if(Dt(Ut),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Ml()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Dt(Ut),null;case 4:return Fl(),null;case 10:return Zg(c.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var sf=!1,Ln=!1,OM=typeof WeakSet=="function"?WeakSet:Set,Re=null;function zl(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){Gt(a,c,y)}else h.current=null}function Ey(a,c,h){try{h()}catch(y){Gt(a,c,y)}}var g1=!1;function VM(a,c){if(Vg=eo,a=Kw(),Rg(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var _=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var L=0,$=-1,q=-1,re=0,de=0,he=a,ue=null;t:for(;;){for(var Ee;he!==h||_!==0&&he.nodeType!==3||($=L+_),he!==C||y!==0&&he.nodeType!==3||(q=L+y),he.nodeType===3&&(L+=he.nodeValue.length),(Ee=he.firstChild)!==null;)ue=he,he=Ee;for(;;){if(he===a)break t;if(ue===h&&++re===_&&($=L),ue===C&&++de===y&&(q=L),(Ee=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=Ee}h=$===-1||q===-1?null:{start:$,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lg={focusedElem:a,selectionRange:h},eo=!1,Re=c;Re!==null;)if(c=Re,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Re=a;else for(;Re!==null;){c=Re;try{var Ie=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ke=Ie.memoizedProps,Yt=Ie.memoizedState,ee=c.stateNode,Q=ee.getSnapshotBeforeUpdate(c.elementType===c.type?ke:ds(c.type,ke),Yt);ee.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ne=c.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Gt(c,c.return,me)}if(a=c.sibling,a!==null){a.return=c.return,Re=a;break}Re=c.return}return Ie=g1,g1=!1,Ie}function ju(a,c,h){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&a)===a){var C=_.destroy;_.destroy=void 0,C!==void 0&&Ey(c,h,C)}_=_.next}while(_!==y)}}function of(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var y=h.create;h.destroy=y()}h=h.next}while(h!==c)}}function Cy(a){var c=a.ref;if(c!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof c=="function"?c(a):c.current=a}}function y1(a){var c=a.alternate;c!==null&&(a.alternate=null,y1(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Ls],delete c[Tu],delete c[Ug],delete c[xM],delete c[_M])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function v1(a){return a.tag===5||a.tag===3||a.tag===4}function x1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||v1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ay(a,c,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Oh));else if(y!==4&&(a=a.child,a!==null))for(Ay(a,c,h),a=a.sibling;a!==null;)Ay(a,c,h),a=a.sibling}function Py(a,c,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(Py(a,c,h),a=a.sibling;a!==null;)Py(a,c,h),a=a.sibling}var En=null,hs=!1;function co(a,c,h){for(h=h.child;h!==null;)_1(a,c,h),h=h.sibling}function _1(a,c,h){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(aa,h)}catch{}switch(h.tag){case 5:Ln||zl(h,c);case 6:var y=En,_=hs;En=null,co(a,c,h),En=y,hs=_,En!==null&&(hs?(a=En,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):En.removeChild(h.stateNode));break;case 18:En!==null&&(hs?(a=En,h=h.stateNode,a.nodeType===8?zg(a.parentNode,h):a.nodeType===1&&zg(a,h),as(a)):zg(En,h.stateNode));break;case 4:y=En,_=hs,En=h.stateNode.containerInfo,hs=!0,co(a,c,h),En=y,hs=_;break;case 0:case 11:case 14:case 15:if(!Ln&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){_=y=y.next;do{var C=_,L=C.destroy;C=C.tag,L!==void 0&&((C&2)!==0||(C&4)!==0)&&Ey(h,c,L),_=_.next}while(_!==y)}co(a,c,h);break;case 1:if(!Ln&&(zl(h,c),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch($){Gt(h,c,$)}co(a,c,h);break;case 21:co(a,c,h);break;case 22:h.mode&1?(Ln=(y=Ln)||h.memoizedState!==null,co(a,c,h),Ln=y):co(a,c,h);break;default:co(a,c,h)}}function w1(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new OM),c.forEach(function(y){var _=qM.bind(null,a,y);h.has(y)||(h.add(y),y.then(_,_))})}}function fs(a,c){var h=c.deletions;if(h!==null)for(var y=0;y<h.length;y++){var _=h[y];try{var C=a,L=c,$=L;e:for(;$!==null;){switch($.tag){case 5:En=$.stateNode,hs=!1;break e;case 3:En=$.stateNode.containerInfo,hs=!0;break e;case 4:En=$.stateNode.containerInfo,hs=!0;break e}$=$.return}if(En===null)throw Error(n(160));_1(C,L,_),En=null,hs=!1;var q=_.alternate;q!==null&&(q.return=null),_.return=null}catch(re){Gt(_,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)b1(c,a),c=c.sibling}function b1(a,c){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(fs(c,a),zs(a),y&4){try{ju(3,a,a.return),of(3,a)}catch(ke){Gt(a,a.return,ke)}try{ju(5,a,a.return)}catch(ke){Gt(a,a.return,ke)}}break;case 1:fs(c,a),zs(a),y&512&&h!==null&&zl(h,h.return);break;case 5:if(fs(c,a),zs(a),y&512&&h!==null&&zl(h,h.return),a.flags&32){var _=a.stateNode;try{Zr(_,"")}catch(ke){Gt(a,a.return,ke)}}if(y&4&&(_=a.stateNode,_!=null)){var C=a.memoizedProps,L=h!==null?h.memoizedProps:C,$=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{$==="input"&&C.type==="radio"&&C.name!=null&&Oe(_,C),eu($,L);var re=eu($,C);for(L=0;L<q.length;L+=2){var de=q[L],he=q[L+1];de==="style"?qi(_,he):de==="dangerouslySetInnerHTML"?ui(_,he):de==="children"?Zr(_,he):N(_,de,he,re)}switch($){case"input":vt(_,C);break;case"textarea":zt(_,C);break;case"select":var ue=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!C.multiple;var Ee=C.value;Ee!=null?Nn(_,!!C.multiple,Ee,!1):ue!==!!C.multiple&&(C.defaultValue!=null?Nn(_,!!C.multiple,C.defaultValue,!0):Nn(_,!!C.multiple,C.multiple?[]:"",!1))}_[Tu]=C}catch(ke){Gt(a,a.return,ke)}}break;case 6:if(fs(c,a),zs(a),y&4){if(a.stateNode===null)throw Error(n(162));_=a.stateNode,C=a.memoizedProps;try{_.nodeValue=C}catch(ke){Gt(a,a.return,ke)}}break;case 3:if(fs(c,a),zs(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{as(c.containerInfo)}catch(ke){Gt(a,a.return,ke)}break;case 4:fs(c,a),zs(a);break;case 13:fs(c,a),zs(a),_=a.child,_.flags&8192&&(C=_.memoizedState!==null,_.stateNode.isHidden=C,!C||_.alternate!==null&&_.alternate.memoizedState!==null||(ky=It())),y&4&&w1(a);break;case 22:if(de=h!==null&&h.memoizedState!==null,a.mode&1?(Ln=(re=Ln)||de,fs(c,a),Ln=re):fs(c,a),zs(a),y&8192){if(re=a.memoizedState!==null,(a.stateNode.isHidden=re)&&!de&&(a.mode&1)!==0)for(Re=a,de=a.child;de!==null;){for(he=Re=de;Re!==null;){switch(ue=Re,Ee=ue.child,ue.tag){case 0:case 11:case 14:case 15:ju(4,ue,ue.return);break;case 1:zl(ue,ue.return);var Ie=ue.stateNode;if(typeof Ie.componentWillUnmount=="function"){y=ue,h=ue.return;try{c=y,Ie.props=c.memoizedProps,Ie.state=c.memoizedState,Ie.componentWillUnmount()}catch(ke){Gt(y,h,ke)}}break;case 5:zl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){E1(he);continue}}Ee!==null?(Ee.return=ue,Re=Ee):E1(he)}de=de.sibling}e:for(de=null,he=a;;){if(he.tag===5){if(de===null){de=he;try{_=he.stateNode,re?(C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):($=he.stateNode,q=he.memoizedProps.style,L=q!=null&&q.hasOwnProperty("display")?q.display:null,$.style.display=Jr("display",L))}catch(ke){Gt(a,a.return,ke)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=re?"":he.memoizedProps}catch(ke){Gt(a,a.return,ke)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===a)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===a)break e;for(;he.sibling===null;){if(he.return===null||he.return===a)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:fs(c,a),zs(a),y&4&&w1(a);break;case 21:break;default:fs(c,a),zs(a)}}function zs(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(v1(h)){var y=h;break e}h=h.return}throw Error(n(160))}switch(y.tag){case 5:var _=y.stateNode;y.flags&32&&(Zr(_,""),y.flags&=-33);var C=x1(a);Py(a,C,_);break;case 3:case 4:var L=y.stateNode.containerInfo,$=x1(a);Ay(a,$,L);break;default:throw Error(n(161))}}catch(q){Gt(a,a.return,q)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function LM(a,c,h){Re=a,T1(a)}function T1(a,c,h){for(var y=(a.mode&1)!==0;Re!==null;){var _=Re,C=_.child;if(_.tag===22&&y){var L=_.memoizedState!==null||sf;if(!L){var $=_.alternate,q=$!==null&&$.memoizedState!==null||Ln;$=sf;var re=Ln;if(sf=L,(Ln=q)&&!re)for(Re=_;Re!==null;)L=Re,q=L.child,L.tag===22&&L.memoizedState!==null?C1(_):q!==null?(q.return=L,Re=q):C1(_);for(;C!==null;)Re=C,T1(C),C=C.sibling;Re=_,sf=$,Ln=re}S1(a)}else(_.subtreeFlags&8772)!==0&&C!==null?(C.return=_,Re=C):S1(a)}}function S1(a){for(;Re!==null;){var c=Re;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Ln||of(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Ln)if(h===null)y.componentDidMount();else{var _=c.elementType===c.type?h.memoizedProps:ds(c.type,h.memoizedProps);y.componentDidUpdate(_,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=c.updateQueue;C!==null&&Eb(c,C,y);break;case 3:var L=c.updateQueue;if(L!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Eb(c,L,h)}break;case 5:var $=c.stateNode;if(h===null&&c.flags&4){h=$;var q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&h.focus();break;case"img":q.src&&(h.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var de=re.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&as(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ln||c.flags&512&&Cy(c)}catch(ue){Gt(c,c.return,ue)}}if(c===a){Re=null;break}if(h=c.sibling,h!==null){h.return=c.return,Re=h;break}Re=c.return}}function E1(a){for(;Re!==null;){var c=Re;if(c===a){Re=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Re=h;break}Re=c.return}}function C1(a){for(;Re!==null;){var c=Re;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{of(4,c)}catch(q){Gt(c,h,q)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var _=c.return;try{y.componentDidMount()}catch(q){Gt(c,_,q)}}var C=c.return;try{Cy(c)}catch(q){Gt(c,C,q)}break;case 5:var L=c.return;try{Cy(c)}catch(q){Gt(c,L,q)}}}catch(q){Gt(c,c.return,q)}if(c===a){Re=null;break}var $=c.sibling;if($!==null){$.return=c.return,Re=$;break}Re=c.return}}var FM=Math.ceil,af=O.ReactCurrentDispatcher,Ry=O.ReactCurrentOwner,Vr=O.ReactCurrentBatchConfig,ct=0,xn=null,nn=null,Cn=0,xr=0,Ul=so(0),dn=0,Mu=null,wa=0,lf=0,Iy=0,Ou=null,ir=null,ky=0,$l=1/0,Si=null,cf=!1,Ny=null,uo=null,uf=!1,ho=null,df=0,Vu=0,Dy=null,hf=-1,ff=0;function Yn(){return(ct&6)!==0?It():hf!==-1?hf:hf=It()}function fo(a){return(a.mode&1)===0?1:(ct&2)!==0&&Cn!==0?Cn&-Cn:bM.transition!==null?(ff===0&&(ff=ca()),ff):(a=st,a!==0||(a=window.event,a=a===void 0?16:du(a.type)),a)}function ps(a,c,h,y){if(50<Vu)throw Vu=0,Dy=null,Error(n(185));Yi(a,h,y),((ct&2)===0||a!==xn)&&(a===xn&&((ct&2)===0&&(lf|=h),dn===4&&po(a,Cn)),or(a,y),h===1&&ct===0&&(c.mode&1)===0&&($l=It()+500,Bh&&oo()))}function or(a,c){var h=a.callbackNode;hi(a,c);var y=la(a,a===xn?Cn:0);if(y===0)h!==null&&ou(h),a.callbackNode=null,a.callbackPriority=0;else if(c=y&-y,a.callbackPriority!==c){if(h!=null&&ou(h),c===1)a.tag===0?wM(P1.bind(null,a)):fb(P1.bind(null,a)),yM(function(){(ct&6)===0&&oo()}),h=null;else{switch(Zi(y)){case 1:h=oa;break;case 4:h=Gi;break;case 16:h=Ir;break;case 536870912:h=hh;break;default:h=Ir}h=O1(h,A1.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function A1(a,c){if(hf=-1,ff=0,(ct&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Hl()&&a.callbackNode!==h)return null;var y=la(a,a===xn?Cn:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||c)c=pf(a,y);else{c=y;var _=ct;ct|=2;var C=I1();(xn!==a||Cn!==c)&&(Si=null,$l=It()+500,Ta(a,c));do try{UM();break}catch($){R1(a,$)}while(!0);Xg(),af.current=C,ct=_,nn!==null?c=0:(xn=null,Cn=0,c=dn)}if(c!==0){if(c===2&&(_=pr(a),_!==0&&(y=_,c=jy(a,_))),c===1)throw h=Mu,Ta(a,0),po(a,y),or(a,It()),h;if(c===6)po(a,y);else{if(_=a.current.alternate,(y&30)===0&&!BM(_)&&(c=pf(a,y),c===2&&(C=pr(a),C!==0&&(y=C,c=jy(a,C))),c===1))throw h=Mu,Ta(a,0),po(a,y),or(a,It()),h;switch(a.finishedWork=_,a.finishedLanes=y,c){case 0:case 1:throw Error(n(345));case 2:Sa(a,ir,Si);break;case 3:if(po(a,y),(y&130023424)===y&&(c=ky+500-It(),10<c)){if(la(a,0)!==0)break;if(_=a.suspendedLanes,(_&y)!==y){Yn(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Bg(Sa.bind(null,a,ir,Si),c);break}Sa(a,ir,Si);break;case 4:if(po(a,y),(y&4194240)===y)break;for(c=a.eventTimes,_=-1;0<y;){var L=31-Gn(y);C=1<<L,L=c[L],L>_&&(_=L),y&=~C}if(y=_,y=It()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*FM(y/1960))-y,10<y){a.timeoutHandle=Bg(Sa.bind(null,a,ir,Si),y);break}Sa(a,ir,Si);break;case 5:Sa(a,ir,Si);break;default:throw Error(n(329))}}}return or(a,It()),a.callbackNode===h?A1.bind(null,a):null}function jy(a,c){var h=Ou;return a.current.memoizedState.isDehydrated&&(Ta(a,c).flags|=256),a=pf(a,c),a!==2&&(c=ir,ir=h,c!==null&&My(c)),a}function My(a){ir===null?ir=a:ir.push.apply(ir,a)}function BM(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var _=h[y],C=_.getSnapshot;_=_.value;try{if(!cs(C(),_))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function po(a,c){for(c&=~Iy,c&=~lf,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Gn(c),y=1<<h;a[h]=-1,c&=~y}}function P1(a){if((ct&6)!==0)throw Error(n(327));Hl();var c=la(a,0);if((c&1)===0)return or(a,It()),null;var h=pf(a,c);if(a.tag!==0&&h===2){var y=pr(a);y!==0&&(c=y,h=jy(a,y))}if(h===1)throw h=Mu,Ta(a,0),po(a,c),or(a,It()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Sa(a,ir,Si),or(a,It()),null}function Oy(a,c){var h=ct;ct|=1;try{return a(c)}finally{ct=h,ct===0&&($l=It()+500,Bh&&oo())}}function ba(a){ho!==null&&ho.tag===0&&(ct&6)===0&&Hl();var c=ct;ct|=1;var h=Vr.transition,y=st;try{if(Vr.transition=null,st=1,a)return a()}finally{st=y,Vr.transition=h,ct=c,(ct&6)===0&&oo()}}function Vy(){xr=Ul.current,Dt(Ul)}function Ta(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,gM(h)),nn!==null)for(h=nn.return;h!==null;){var y=h;switch(qg(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Lh();break;case 3:Fl(),Dt(nr),Dt(Mn),iy();break;case 5:ry(y);break;case 4:Fl();break;case 13:Dt(Ut);break;case 19:Dt(Ut);break;case 10:Zg(y.type._context);break;case 22:case 23:Vy()}h=h.return}if(xn=a,nn=a=mo(a.current,null),Cn=xr=c,dn=0,Mu=null,Iy=lf=wa=0,ir=Ou=null,va!==null){for(c=0;c<va.length;c++)if(h=va[c],y=h.interleaved,y!==null){h.interleaved=null;var _=y.next,C=h.pending;if(C!==null){var L=C.next;C.next=_,y.next=L}h.pending=y}va=null}return a}function R1(a,c){do{var h=nn;try{if(Xg(),Yh.current=ef,Xh){for(var y=$t.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}Xh=!1}if(_a=0,vn=un=$t=null,Ru=!1,Iu=0,Ry.current=null,h===null||h.return===null){dn=1,Mu=c,nn=null;break}e:{var C=a,L=h.return,$=h,q=c;if(c=Cn,$.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var re=q,de=$,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=e1(L);if(Ee!==null){Ee.flags&=-257,t1(Ee,L,$,C,c),Ee.mode&1&&Jb(C,re,c),c=Ee,q=re;var Ie=c.updateQueue;if(Ie===null){var ke=new Set;ke.add(q),c.updateQueue=ke}else Ie.add(q);break e}else{if((c&1)===0){Jb(C,re,c),Ly();break e}q=Error(n(426))}}else if(Ft&&$.mode&1){var Yt=e1(L);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),t1(Yt,L,$,C,c),Qg(Bl(q,$));break e}}C=q=Bl(q,$),dn!==4&&(dn=2),Ou===null?Ou=[C]:Ou.push(C),C=L;do{switch(C.tag){case 3:C.flags|=65536,c&=-c,C.lanes|=c;var ee=Xb(C,q,c);Sb(C,ee);break e;case 1:$=q;var Q=C.type,ne=C.stateNode;if((C.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(uo===null||!uo.has(ne)))){C.flags|=65536,c&=-c,C.lanes|=c;var me=Zb(C,$,c);Sb(C,me);break e}}C=C.return}while(C!==null)}N1(h)}catch(Ne){c=Ne,nn===h&&h!==null&&(nn=h=h.return);continue}break}while(!0)}function I1(){var a=af.current;return af.current=ef,a===null?ef:a}function Ly(){(dn===0||dn===3||dn===2)&&(dn=4),xn===null||(wa&268435455)===0&&(lf&268435455)===0||po(xn,Cn)}function pf(a,c){var h=ct;ct|=2;var y=I1();(xn!==a||Cn!==c)&&(Si=null,Ta(a,c));do try{zM();break}catch(_){R1(a,_)}while(!0);if(Xg(),ct=h,af.current=y,nn!==null)throw Error(n(261));return xn=null,Cn=0,dn}function zM(){for(;nn!==null;)k1(nn)}function UM(){for(;nn!==null&&!uh();)k1(nn)}function k1(a){var c=M1(a.alternate,a,xr);a.memoizedProps=a.pendingProps,c===null?N1(a):nn=c,Ry.current=null}function N1(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=jM(h,c,xr),h!==null){nn=h;return}}else{if(h=MM(h,c),h!==null){h.flags&=32767,nn=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{dn=6,nn=null;return}}if(c=c.sibling,c!==null){nn=c;return}nn=c=a}while(c!==null);dn===0&&(dn=5)}function Sa(a,c,h){var y=st,_=Vr.transition;try{Vr.transition=null,st=1,$M(a,c,h,y)}finally{Vr.transition=_,st=y}return null}function $M(a,c,h,y){do Hl();while(ho!==null);if((ct&6)!==0)throw Error(n(327));h=a.finishedWork;var _=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var C=h.lanes|h.childLanes;if(At(a,C),a===xn&&(nn=xn=null,Cn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||uf||(uf=!0,O1(Ir,function(){return Hl(),null})),C=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||C){C=Vr.transition,Vr.transition=null;var L=st;st=1;var $=ct;ct|=4,Ry.current=null,VM(a,h),b1(h,a),cM(Lg),eo=!!Vg,Lg=Vg=null,a.current=h,LM(h),wg(),ct=$,st=L,Vr.transition=C}else a.current=h;if(uf&&(uf=!1,ho=a,df=_),C=a.pendingLanes,C===0&&(uo=null),fh(h.stateNode),or(a,It()),c!==null)for(y=a.onRecoverableError,h=0;h<c.length;h++)_=c[h],y(_.value,{componentStack:_.stack,digest:_.digest});if(cf)throw cf=!1,a=Ny,Ny=null,a;return(df&1)!==0&&a.tag!==0&&Hl(),C=a.pendingLanes,(C&1)!==0?a===Dy?Vu++:(Vu=0,Dy=a):Vu=0,oo(),null}function Hl(){if(ho!==null){var a=Zi(df),c=Vr.transition,h=st;try{if(Vr.transition=null,st=16>a?16:a,ho===null)var y=!1;else{if(a=ho,ho=null,df=0,(ct&6)!==0)throw Error(n(331));var _=ct;for(ct|=4,Re=a.current;Re!==null;){var C=Re,L=C.child;if((Re.flags&16)!==0){var $=C.deletions;if($!==null){for(var q=0;q<$.length;q++){var re=$[q];for(Re=re;Re!==null;){var de=Re;switch(de.tag){case 0:case 11:case 15:ju(8,de,C)}var he=de.child;if(he!==null)he.return=de,Re=he;else for(;Re!==null;){de=Re;var ue=de.sibling,Ee=de.return;if(y1(de),de===re){Re=null;break}if(ue!==null){ue.return=Ee,Re=ue;break}Re=Ee}}}var Ie=C.alternate;if(Ie!==null){var ke=Ie.child;if(ke!==null){Ie.child=null;do{var Yt=ke.sibling;ke.sibling=null,ke=Yt}while(ke!==null)}}Re=C}}if((C.subtreeFlags&2064)!==0&&L!==null)L.return=C,Re=L;else e:for(;Re!==null;){if(C=Re,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:ju(9,C,C.return)}var ee=C.sibling;if(ee!==null){ee.return=C.return,Re=ee;break e}Re=C.return}}var Q=a.current;for(Re=Q;Re!==null;){L=Re;var ne=L.child;if((L.subtreeFlags&2064)!==0&&ne!==null)ne.return=L,Re=ne;else e:for(L=Q;Re!==null;){if($=Re,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:of(9,$)}}catch(Ne){Gt($,$.return,Ne)}if($===L){Re=null;break e}var me=$.sibling;if(me!==null){me.return=$.return,Re=me;break e}Re=$.return}}if(ct=_,oo(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(aa,a)}catch{}y=!0}return y}finally{st=h,Vr.transition=c}}return!1}function D1(a,c,h){c=Bl(h,c),c=Xb(a,c,1),a=lo(a,c,1),c=Yn(),a!==null&&(Yi(a,1,c),or(a,c))}function Gt(a,c,h){if(a.tag===3)D1(a,a,h);else for(;c!==null;){if(c.tag===3){D1(c,a,h);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(uo===null||!uo.has(y))){a=Bl(h,a),a=Zb(c,a,1),c=lo(c,a,1),a=Yn(),c!==null&&(Yi(c,1,a),or(c,a));break}}c=c.return}}function HM(a,c,h){var y=a.pingCache;y!==null&&y.delete(c),c=Yn(),a.pingedLanes|=a.suspendedLanes&h,xn===a&&(Cn&h)===h&&(dn===4||dn===3&&(Cn&130023424)===Cn&&500>It()-ky?Ta(a,0):Iy|=h),or(a,c)}function j1(a,c){c===0&&((a.mode&1)===0?c=1:(c=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var h=Yn();a=wi(a,c),a!==null&&(Yi(a,c,h),or(a,h))}function WM(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),j1(a,h)}function qM(a,c){var h=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(h=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(c),j1(a,h)}var M1;M1=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||nr.current)sr=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return sr=!1,DM(a,c,h);sr=(a.flags&131072)!==0}else sr=!1,Ft&&(c.flags&1048576)!==0&&pb(c,Uh,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;rf(a,c),a=c.pendingProps;var _=Nl(c,Mn.current);Ll(c,h),_=ly(null,c,y,a,_,h);var C=cy();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,rr(y)?(C=!0,Fh(c)):C=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,ty(c),_.updater=tf,c.stateNode=_,_._reactInternals=c,my(c,y,a,h),c=xy(null,c,y,!0,C,h)):(c.tag=0,Ft&&C&&Wg(c),Qn(null,c,_,h),c=c.child),c;case 16:y=c.elementType;e:{switch(rf(a,c),a=c.pendingProps,_=y._init,y=_(y._payload),c.type=y,_=c.tag=KM(y),a=ds(y,a),_){case 0:c=vy(null,c,y,a,h);break e;case 1:c=a1(null,c,y,a,h);break e;case 11:c=n1(null,c,y,a,h);break e;case 14:c=r1(null,c,y,ds(y.type,a),h);break e}throw Error(n(306,y,""))}return c;case 0:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:ds(y,_),vy(a,c,y,_,h);case 1:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:ds(y,_),a1(a,c,y,_,h);case 3:e:{if(l1(c),a===null)throw Error(n(387));y=c.pendingProps,C=c.memoizedState,_=C.element,Tb(a,c),Kh(c,y,null,h);var L=c.memoizedState;if(y=L.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){_=Bl(Error(n(423)),c),c=c1(a,c,y,h,_);break e}else if(y!==_){_=Bl(Error(n(424)),c),c=c1(a,c,y,h,_);break e}else for(vr=ro(c.stateNode.containerInfo.firstChild),yr=c,Ft=!0,us=null,h=wb(c,null,y,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ml(),y===_){c=Ti(a,c,h);break e}Qn(a,c,y,h)}c=c.child}return c;case 5:return Cb(c),a===null&&Kg(c),y=c.type,_=c.pendingProps,C=a!==null?a.memoizedProps:null,L=_.children,Fg(y,_)?L=null:C!==null&&Fg(y,C)&&(c.flags|=32),o1(a,c),Qn(a,c,L,h),c.child;case 6:return a===null&&Kg(c),null;case 13:return u1(a,c,h);case 4:return ny(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Ol(c,null,y,h):Qn(a,c,y,h),c.child;case 11:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:ds(y,_),n1(a,c,y,_,h);case 7:return Qn(a,c,c.pendingProps,h),c.child;case 8:return Qn(a,c,c.pendingProps.children,h),c.child;case 12:return Qn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(y=c.type._context,_=c.pendingProps,C=c.memoizedProps,L=_.value,kt(Wh,y._currentValue),y._currentValue=L,C!==null)if(cs(C.value,L)){if(C.children===_.children&&!nr.current){c=Ti(a,c,h);break e}}else for(C=c.child,C!==null&&(C.return=c);C!==null;){var $=C.dependencies;if($!==null){L=C.child;for(var q=$.firstContext;q!==null;){if(q.context===y){if(C.tag===1){q=bi(-1,h&-h),q.tag=2;var re=C.updateQueue;if(re!==null){re=re.shared;var de=re.pending;de===null?q.next=q:(q.next=de.next,de.next=q),re.pending=q}}C.lanes|=h,q=C.alternate,q!==null&&(q.lanes|=h),Jg(C.return,h,c),$.lanes|=h;break}q=q.next}}else if(C.tag===10)L=C.type===c.type?null:C.child;else if(C.tag===18){if(L=C.return,L===null)throw Error(n(341));L.lanes|=h,$=L.alternate,$!==null&&($.lanes|=h),Jg(L,h,c),L=C.sibling}else L=C.child;if(L!==null)L.return=C;else for(L=C;L!==null;){if(L===c){L=null;break}if(C=L.sibling,C!==null){C.return=L.return,L=C;break}L=L.return}C=L}Qn(a,c,_.children,h),c=c.child}return c;case 9:return _=c.type,y=c.pendingProps.children,Ll(c,h),_=Mr(_),y=y(_),c.flags|=1,Qn(a,c,y,h),c.child;case 14:return y=c.type,_=ds(y,c.pendingProps),_=ds(y.type,_),r1(a,c,y,_,h);case 15:return s1(a,c,c.type,c.pendingProps,h);case 17:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:ds(y,_),rf(a,c),c.tag=1,rr(y)?(a=!0,Fh(c)):a=!1,Ll(c,h),Qb(c,y,_),my(c,y,_,h),xy(null,c,y,!0,a,h);case 19:return h1(a,c,h);case 22:return i1(a,c,h)}throw Error(n(156,c.tag))};function O1(a,c){return dl(a,c)}function GM(a,c,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(a,c,h,y){return new GM(a,c,h,y)}function Fy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function KM(a){if(typeof a=="function")return Fy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===D)return 11;if(a===K)return 14}return 2}function mo(a,c){var h=a.alternate;return h===null?(h=Lr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function mf(a,c,h,y,_,C){var L=2;if(y=a,typeof a=="function")Fy(a)&&(L=1);else if(typeof a=="string")L=5;else e:switch(a){case M:return Ea(h.children,_,C,c);case E:L=8,_|=8;break;case P:return a=Lr(12,h,c,_|2),a.elementType=P,a.lanes=C,a;case V:return a=Lr(13,h,c,_),a.elementType=V,a.lanes=C,a;case J:return a=Lr(19,h,c,_),a.elementType=J,a.lanes=C,a;case Y:return gf(h,_,C,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:L=10;break e;case F:L=9;break e;case D:L=11;break e;case K:L=14;break e;case W:L=16,y=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Lr(L,h,c,_),c.elementType=a,c.type=y,c.lanes=C,c}function Ea(a,c,h,y){return a=Lr(7,a,y,c),a.lanes=h,a}function gf(a,c,h,y){return a=Lr(22,a,y,c),a.elementType=Y,a.lanes=h,a.stateNode={isHidden:!1},a}function By(a,c,h){return a=Lr(6,a,null,c),a.lanes=h,a}function zy(a,c,h){return c=Lr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function QM(a,c,h,y,_){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Uy(a,c,h,y,_,C,L,$,q){return a=new QM(a,c,h,$,q),c===1?(c=1,C===!0&&(c|=8)):c=0,C=Lr(3,null,null,c),a.current=C,C.stateNode=a,C.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},ty(C),a}function YM(a,c,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:y==null?null:""+y,children:a,containerInfo:c,implementation:h}}function V1(a){if(!a)return io;a=a._reactInternals;e:{if(ns(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(rr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(rr(h))return db(a,h,c)}return c}function L1(a,c,h,y,_,C,L,$,q){return a=Uy(h,y,!0,a,_,C,L,$,q),a.context=V1(null),h=a.current,y=Yn(),_=fo(h),C=bi(y,_),C.callback=c??null,lo(h,C,_),a.current.lanes=_,Yi(a,_,y),or(a,y),a}function yf(a,c,h,y){var _=c.current,C=Yn(),L=fo(_);return h=V1(h),c.context===null?c.context=h:c.pendingContext=h,c=bi(C,L),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=lo(_,c,L),a!==null&&(ps(a,_,L,C),Gh(a,_,L)),L}function vf(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function F1(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function $y(a,c){F1(a,c),(a=a.alternate)&&F1(a,c)}function XM(){return null}var B1=typeof reportError=="function"?reportError:function(a){console.error(a)};function Hy(a){this._internalRoot=a}xf.prototype.render=Hy.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));yf(a,c,null,null)},xf.prototype.unmount=Hy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;ba(function(){yf(null,a,null,null)}),c[yi]=null}};function xf(a){this._internalRoot=a}xf.prototype.unstable_scheduleHydration=function(a){if(a){var c=vh();a={blockedOn:null,target:a,priority:c};for(var h=0;h<js.length&&c!==0&&c<js[h].priority;h++);js.splice(h,0,a),h===0&&wh(a)}};function Wy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function _f(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function z1(){}function ZM(a,c,h,y,_){if(_){if(typeof y=="function"){var C=y;y=function(){var re=vf(L);C.call(re)}}var L=L1(c,y,a,0,null,!1,!1,"",z1);return a._reactRootContainer=L,a[yi]=L.current,wu(a.nodeType===8?a.parentNode:a),ba(),L}for(;_=a.lastChild;)a.removeChild(_);if(typeof y=="function"){var $=y;y=function(){var re=vf(q);$.call(re)}}var q=Uy(a,0,!1,null,null,!1,!1,"",z1);return a._reactRootContainer=q,a[yi]=q.current,wu(a.nodeType===8?a.parentNode:a),ba(function(){yf(c,q,h,y)}),q}function wf(a,c,h,y,_){var C=h._reactRootContainer;if(C){var L=C;if(typeof _=="function"){var $=_;_=function(){var q=vf(L);$.call(q)}}yf(c,L,a,_)}else L=ZM(h,c,a,_,y);return vf(L)}gh=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=Ki(c.pendingLanes);h!==0&&(Xi(c,h|1),or(c,It()),(ct&6)===0&&($l=It()+500,oo()))}break;case 13:ba(function(){var y=wi(a,1);if(y!==null){var _=Yn();ps(y,a,1,_)}}),$y(a,1)}},pl=function(a){if(a.tag===13){var c=wi(a,134217728);if(c!==null){var h=Yn();ps(c,a,134217728,h)}$y(a,134217728)}},yh=function(a){if(a.tag===13){var c=fo(a),h=wi(a,c);if(h!==null){var y=Yn();ps(h,a,c,y)}$y(a,c)}},vh=function(){return st},xh=function(a,c){var h=st;try{return st=a,c()}finally{st=h}},il=function(a,c,h){switch(c){case"input":if(vt(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var y=h[c];if(y!==a&&y.form===a.form){var _=Vh(y);if(!_)throw Error(n(90));se(y),vt(y,_)}}}break;case"textarea":zt(a,h);break;case"select":c=h.value,c!=null&&Nn(a,!!h.multiple,c,!1)}},na=Oy,nu=ba;var JM={usingClientEntryPoint:!1,Events:[Su,Il,Vh,Ns,tu,Oy]},Lu={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eO={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=iu(a),a===null?null:a.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||XM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{aa=bf.inject(eO),fr=bf}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JM,ar.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wy(c))throw Error(n(200));return YM(a,c,null,h)},ar.createRoot=function(a,c){if(!Wy(a))throw Error(n(299));var h=!1,y="",_=B1;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=Uy(a,1,!1,null,null,h,!1,y,_),a[yi]=c.current,wu(a.nodeType===8?a.parentNode:a),new Hy(c)},ar.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=iu(c),a=a===null?null:a.stateNode,a},ar.flushSync=function(a){return ba(a)},ar.hydrate=function(a,c,h){if(!_f(c))throw Error(n(200));return wf(null,a,c,!0,h)},ar.hydrateRoot=function(a,c,h){if(!Wy(a))throw Error(n(405));var y=h!=null&&h.hydratedSources||null,_=!1,C="",L=B1;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),c=L1(c,null,a,1,h??null,_,!1,C,L),a[yi]=c.current,wu(a),y)for(a=0;a<y.length;a++)h=y[a],_=h._getVersion,_=_(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,_]:c.mutableSourceEagerHydrationData.push(h,_);return new xf(c)},ar.render=function(a,c,h){if(!_f(c))throw Error(n(200));return wf(null,a,c,!1,h)},ar.unmountComponentAtNode=function(a){if(!_f(a))throw Error(n(40));return a._reactRootContainer?(ba(function(){wf(null,null,a,!1,function(){a._reactRootContainer=null,a[yi]=null})}),!0):!1},ar.unstable_batchedUpdates=Oy,ar.unstable_renderSubtreeIntoContainer=function(a,c,h,y){if(!_f(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return wf(a,c,h,!1,y)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var Q1;function GA(){if(Q1)return Ky.exports;Q1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ky.exports=uO(),Ky.exports}var Y1;function dO(){if(Y1)return Tf;Y1=1;var t=GA();return Tf.createRoot=t.createRoot,Tf.hydrateRoot=t.hydrateRoot,Tf}var hO=dO();const fO=oi(hO);var Xy={exports:{}},Zy,X1;function pO(){if(X1)return Zy;X1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zy=t,Zy}var Jy,Z1;function mO(){if(Z1)return Jy;Z1=1;var t=pO();function e(){}function n(){}return n.resetWarningCache=e,Jy=function(){function r(o,l,u,d,f,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},Jy}var J1;function gO(){return J1||(J1=1,Xy.exports=mO()()),Xy.exports}var yO=gO();const Ye=oi(yO);var ev,eT;function vO(){if(eT)return ev;eT=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=vm(),n=t(e);function r(l,u,d){return u in l?Object.defineProperty(l,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[u]=d,l}function s(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var i=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,u,d){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(g){return g.displayName||g.name||"Component"}return function(v){if(typeof v!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],T;function b(){T=l(x.map(function(R){return R.props})),w.canUseDOM?u(T):d&&(T=d(T))}var w=(function(R){s(k,R);function k(){return R.apply(this,arguments)||this}k.peek=function(){return T},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var B=T;return T=void 0,x=[],B};var N=k.prototype;return N.UNSAFE_componentWillMount=function(){x.push(this),b()},N.componentDidUpdate=function(){b()},N.componentWillUnmount=function(){var B=x.indexOf(this);x.splice(B,1),b()},N.render=function(){return n.createElement(v,this.props)},k})(e.PureComponent);return r(w,"displayName","SideEffect("+f(v)+")"),r(w,"canUseDOM",i),w}}return ev=o,ev}var xO=vO();const _O=oi(xO);var tv,tT;function wO(){if(tT)return tv;tT=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,u,d;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(u=l;u--!==0;)if(!s(i[u],o[u]))return!1;return!0}var f;if(e&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(f=i.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=i.entries();!(u=f.next()).done;)if(!s(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(f=i.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(u=l;u--!==0;)if(i[u]!==o[u])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),l=d.length,l!==Object.keys(o).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[u]))return!1;if(t&&i instanceof Element)return!1;for(u=l;u--!==0;)if(!((d[u]==="_owner"||d[u]==="__v"||d[u]==="__o")&&i.$$typeof)&&!s(i[d[u]],o[d[u]]))return!1;return!0}return i!==i&&o!==o}return tv=function(o,l){try{return s(o,l)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},tv}var bO=wO();const TO=oi(bO);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nv,nT;function SO(){if(nT)return nv;nT=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var u=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(u.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return nv=s()?Object.assign:function(i,o){for(var l,u=r(i),d,f=1;f<arguments.length;f++){l=Object(arguments[f]);for(var g in l)e.call(l,g)&&(u[g]=l[g]);if(t){d=t(l);for(var v=0;v<d.length;v++)n.call(l,d[v])&&(u[d[v]]=l[d[v]])}}return u},nv}var EO=SO();const CO=oi(EO);var La={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ke={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ke).map(function(t){return Ke[t]});var Bt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Pp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},_d={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},AO=Object.keys(Pp).reduce(function(t,e){return t[Pp[e]]=e,t},{}),PO=[Ke.NOSCRIPT,Ke.SCRIPT,Ke.STYLE],ys="data-react-helmet",RO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IO=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},kO=(function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),cr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NO=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},rT=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},DO=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},a0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},jO=function(e){var n=oc(e,Ke.TITLE),r=oc(e,_d.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=oc(e,_d.DEFAULT_TITLE);return n||s||void 0},MO=function(e){return oc(e,_d.ON_CHANGE_CLIENT_STATE)||function(){}},rv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return cr({},r,s)},{})},OO=function(e,n){return n.filter(function(r){return typeof r[Ke.BASE]<"u"}).map(function(r){return r[Ke.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],u=l.toLowerCase();if(e.indexOf(u)!==-1&&s[u])return r.concat(s)}return r},[])},Bu=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&BO("Helmet: "+e+' should be of type "Array". Instead found type "'+RO(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(v){for(var x=void 0,T=Object.keys(v),b=0;b<T.length;b++){var w=T[b],R=w.toLowerCase();n.indexOf(R)!==-1&&!(x===Bt.REL&&v[x].toLowerCase()==="canonical")&&!(R===Bt.REL&&v[R].toLowerCase()==="stylesheet")&&(x=R),n.indexOf(w)!==-1&&(w===Bt.INNER_HTML||w===Bt.CSS_TEXT||w===Bt.ITEM_PROP)&&(x=w)}if(!x||!v[x])return!1;var k=v[x].toLowerCase();return s[x]||(s[x]={}),l[x]||(l[x]={}),s[x][k]?!1:(l[x][k]=!0,!0)}).reverse().forEach(function(v){return i.push(v)});for(var u=Object.keys(l),d=0;d<u.length;d++){var f=u[d],g=CO({},s[f],l[f]);s[f]=g}return i},[]).reverse()},oc=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},VO=function(e){return{baseTag:OO([Bt.HREF,Bt.TARGET],e),bodyAttributes:rv(La.BODY,e),defer:oc(e,_d.DEFER),encode:oc(e,_d.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rv(La.HTML,e),linkTags:Bu(Ke.LINK,[Bt.REL,Bt.HREF],e),metaTags:Bu(Ke.META,[Bt.NAME,Bt.CHARSET,Bt.HTTPEQUIV,Bt.PROPERTY,Bt.ITEM_PROP],e),noscriptTags:Bu(Ke.NOSCRIPT,[Bt.INNER_HTML],e),onChangeClientState:MO(e),scriptTags:Bu(Ke.SCRIPT,[Bt.SRC,Bt.INNER_HTML],e),styleTags:Bu(Ke.STYLE,[Bt.CSS_TEXT],e),title:jO(e),titleAttributes:rv(La.TITLE,e)}},l0=(function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){l0(e)},0)}})(),sT=function(e){return clearTimeout(e)},LO=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||l0:global.requestAnimationFrame||l0,FO=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||sT:global.cancelAnimationFrame||sT,BO=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},zu=null,zO=function(e){zu&&FO(zu),e.defer?zu=LO(function(){iT(e,function(){zu=null})}):(iT(e),zu=null)},iT=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,u=e.noscriptTags,d=e.onChangeClientState,f=e.scriptTags,g=e.styleTags,v=e.title,x=e.titleAttributes;c0(Ke.BODY,s),c0(Ke.HTML,i),UO(v,x);var T={baseTag:Wl(Ke.BASE,r),linkTags:Wl(Ke.LINK,o),metaTags:Wl(Ke.META,l),noscriptTags:Wl(Ke.NOSCRIPT,u),scriptTags:Wl(Ke.SCRIPT,f),styleTags:Wl(Ke.STYLE,g)},b={},w={};Object.keys(T).forEach(function(R){var k=T[R],N=k.newTags,O=k.oldTags;N.length&&(b[R]=N),O.length&&(w[R]=T[R].oldTags)}),n&&n(),d(e,b,w)},KA=function(e){return Array.isArray(e)?e.join(""):e},UO=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=KA(e)),c0(Ke.TITLE,n)},c0=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(ys),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),u=0;u<l.length;u++){var d=l[u],f=n[d]||"";r.getAttribute(d)!==f&&r.setAttribute(d,f),i.indexOf(d)===-1&&i.push(d);var g=o.indexOf(d);g!==-1&&o.splice(g,1)}for(var v=o.length-1;v>=0;v--)r.removeAttribute(o[v]);i.length===o.length?r.removeAttribute(ys):r.getAttribute(ys)!==l.join(",")&&r.setAttribute(ys,l.join(","))}},Wl=function(e,n){var r=document.head||document.querySelector(Ke.HEAD),s=r.querySelectorAll(e+"["+ys+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(u){var d=document.createElement(e);for(var f in u)if(u.hasOwnProperty(f))if(f===Bt.INNER_HTML)d.innerHTML=u.innerHTML;else if(f===Bt.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=u.cssText:d.appendChild(document.createTextNode(u.cssText));else{var g=typeof u[f]>"u"?"":u[f];d.setAttribute(f,g)}d.setAttribute(ys,"true"),i.some(function(v,x){return l=x,d.isEqualNode(v)})?i.splice(l,1):o.push(d)}),i.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:i,newTags:o}},QA=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},$O=function(e,n,r,s){var i=QA(r),o=KA(n);return i?"<"+e+" "+ys+'="true" '+i+">"+a0(o,s)+"</"+e+">":"<"+e+" "+ys+'="true">'+a0(o,s)+"</"+e+">"},HO=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===Bt.INNER_HTML||d===Bt.CSS_TEXT)}).reduce(function(d,f){var g=typeof i[f]>"u"?f:f+'="'+a0(i[f],r)+'"';return d?d+" "+g:g},""),l=i.innerHTML||i.cssText||"",u=PO.indexOf(e)===-1;return s+"<"+e+" "+ys+'="true" '+o+(u?"/>":">"+l+"</"+e+">")},"")},YA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Pp[s]||s]=e[s],r},n)},WO=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[AO[s]||s]=e[s],r},n)},qO=function(e,n,r){var s,i=(s={key:n},s[ys]=!0,s),o=YA(r,i);return[Ue.createElement(Ke.TITLE,o,n)]},GO=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[ys]=!0,i);return Object.keys(r).forEach(function(l){var u=Pp[l]||l;if(u===Bt.INNER_HTML||u===Bt.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[u]=r[l]}),Ue.createElement(e,o)})},Ei=function(e,n,r){switch(e){case Ke.TITLE:return{toComponent:function(){return qO(e,n.title,n.titleAttributes)},toString:function(){return $O(e,n.title,n.titleAttributes,r)}};case La.BODY:case La.HTML:return{toComponent:function(){return YA(n)},toString:function(){return QA(n)}};default:return{toComponent:function(){return GO(e,n)},toString:function(){return HO(e,n,r)}}}},XA=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,u=e.noscriptTags,d=e.scriptTags,f=e.styleTags,g=e.title,v=g===void 0?"":g,x=e.titleAttributes;return{base:Ei(Ke.BASE,n,s),bodyAttributes:Ei(La.BODY,r,s),htmlAttributes:Ei(La.HTML,i,s),link:Ei(Ke.LINK,o,s),meta:Ei(Ke.META,l,s),noscript:Ei(Ke.NOSCRIPT,u,s),script:Ei(Ke.SCRIPT,d,s),style:Ei(Ke.STYLE,f,s),title:Ei(Ke.TITLE,{title:v,titleAttributes:x},s)}},KO=function(e){var n,r;return r=n=(function(s){NO(i,s);function i(){return IO(this,i),DO(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!TO(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,u){if(!u)return null;switch(l.type){case Ke.SCRIPT:case Ke.NOSCRIPT:return{innerHTML:u};case Ke.STYLE:return{cssText:u}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var u,d=l.child,f=l.arrayTypeChildren,g=l.newChildProps,v=l.nestedChildren;return cr({},f,(u={},u[d.type]=[].concat(f[d.type]||[],[cr({},g,this.mapNestedChildrenToProps(d,v))]),u))},i.prototype.mapObjectTypeChildren=function(l){var u,d,f=l.child,g=l.newProps,v=l.newChildProps,x=l.nestedChildren;switch(f.type){case Ke.TITLE:return cr({},g,(u={},u[f.type]=x,u.titleAttributes=cr({},v),u));case Ke.BODY:return cr({},g,{bodyAttributes:cr({},v)});case Ke.HTML:return cr({},g,{htmlAttributes:cr({},v)})}return cr({},g,(d={},d[f.type]=cr({},v),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,u){var d=cr({},u);return Object.keys(l).forEach(function(f){var g;d=cr({},d,(g={},g[f]=l[f],g))}),d},i.prototype.warnOnInvalidChildren=function(l,u){return!0},i.prototype.mapChildrenToProps=function(l,u){var d=this,f={};return Ue.Children.forEach(l,function(g){if(!(!g||!g.props)){var v=g.props,x=v.children,T=rT(v,["children"]),b=WO(T);switch(d.warnOnInvalidChildren(g,x),g.type){case Ke.LINK:case Ke.META:case Ke.NOSCRIPT:case Ke.SCRIPT:case Ke.STYLE:f=d.flattenArrayTypeChildren({child:g,arrayTypeChildren:f,newChildProps:b,nestedChildren:x});break;default:u=d.mapObjectTypeChildren({child:g,newProps:u,newChildProps:b,nestedChildren:x});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},i.prototype.render=function(){var l=this.props,u=l.children,d=rT(l,["children"]),f=cr({},d);return u&&(f=this.mapChildrenToProps(u,f)),Ue.createElement(e,f)},kO(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i})(Ue.Component),n.propTypes={base:Ye.object,bodyAttributes:Ye.object,children:Ye.oneOfType([Ye.arrayOf(Ye.node),Ye.node]),defaultTitle:Ye.string,defer:Ye.bool,encodeSpecialCharacters:Ye.bool,htmlAttributes:Ye.object,link:Ye.arrayOf(Ye.object),meta:Ye.arrayOf(Ye.object),noscript:Ye.arrayOf(Ye.object),onChangeClientState:Ye.func,script:Ye.arrayOf(Ye.object),style:Ye.arrayOf(Ye.object),title:Ye.string,titleAttributes:Ye.object,titleTemplate:Ye.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=XA({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},QO=function(){return null},YO=_O(VO,zO,XA)(QO),u0=KO(YO);u0.renderStatic=u0.rewind;const XO=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,g=(i&3)<<4|l>>4;let v=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(v=64)),r.push(n[f],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||g==null)throw new JO;const v=i<<2|l>>4;if(r.push(v),d!==64){const x=l<<4&240|d>>2;if(r.push(x),g!==64){const T=d<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eV=function(t){const e=ZA(t);return JA.encodeByteArray(e,!0)},Rp=function(t){return eV(t).replace(/\./g,"")},tV=function(t){try{return JA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=()=>nV().__FIREBASE_DEFAULTS__,sV=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tV(t[1]);return e&&JSON.parse(e)},Px=()=>{try{return XO()||rV()||sV()||iV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oV=t=>{var e,n;return(n=(e=Px())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eP=t=>{const e=oV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tP=()=>{var t;return(t=Px())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rp(JSON.stringify(n)),Rp(JSON.stringify(o)),""].join(".")}const ad={};function lV(){const t={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?t.emulator.push(e):t.prod.push(e);return t}function cV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let aT=!1;function sP(t,e){if(typeof window>"u"||typeof document>"u"||!xm(window.location.host)||ad[t]===e||ad[t]||aT)return;ad[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=lV().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{aT=!0,o()},v}function f(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=cV(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),w=document.getElementById(b)||document.createElement("a"),R=n("preprendIcon"),k=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;l(N),f(w,b);const O=d();u(k,R),N.append(k,T,w,O),document.body.appendChild(N)}i?(T.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dV(){var e;const t=(e=Px())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hV(){return!dV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fV(){try{return typeof indexedDB=="object"}catch{return!1}}function pV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="FirebaseError";class Xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mV,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iP.prototype.create)}}class iP{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gV(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Xa(s,l,r)}}function gV(t,e){return t.replace(yV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yV=/\{\$([^}]+)}/g;function Ip(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(lT(i)&&lT(o)){if(!Ip(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class mc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_V(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xV(t){return t===ka?void 0:t}function _V(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const bV={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},TV=lt.INFO,SV={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},EV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=SV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oP{constructor(e){this.name=e,this._logLevel=TV,this._logHandler=EV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const CV=(t,e)=>e.some(n=>t instanceof n);let cT,uT;function AV(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PV(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aP=new WeakMap,d0=new WeakMap,lP=new WeakMap,sv=new WeakMap,Rx=new WeakMap;function RV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Eo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aP.set(n,t)}).catch(()=>{}),Rx.set(e,t),e}function IV(t){if(d0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});d0.set(t,e)}let h0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kV(t){h0=t(h0)}function NV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iv(this),e,...n);return lP.set(r,e.sort?e.sort():[e]),Eo(r)}:PV().includes(t)?function(...e){return t.apply(iv(this),e),Eo(aP.get(this))}:function(...e){return Eo(t.apply(iv(this),e))}}function DV(t){return typeof t=="function"?NV(t):(t instanceof IDBTransaction&&IV(t),CV(t,AV())?new Proxy(t,h0):t)}function Eo(t){if(t instanceof IDBRequest)return RV(t);if(sv.has(t))return sv.get(t);const e=DV(t);return e!==t&&(sv.set(t,e),Rx.set(e,t)),e}const iv=t=>Rx.get(t);function jV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Eo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Eo(o.result),u.oldVersion,u.newVersion,Eo(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const MV=["get","getKey","getAll","getAllKeys","count"],OV=["put","add","delete","clear"],ov=new Map;function dT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ov.get(e))return ov.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=OV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||MV.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return ov.set(e,i),i}kV(t=>({...t,get:(e,n,r)=>dT(e,n)||t.get(e,n,r),has:(e,n)=>!!dT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f0="@firebase/app",hT="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new oP("@firebase/app"),FV="@firebase/app-compat",BV="@firebase/analytics-compat",zV="@firebase/analytics",UV="@firebase/app-check-compat",$V="@firebase/app-check",HV="@firebase/auth",WV="@firebase/auth-compat",qV="@firebase/database",GV="@firebase/data-connect",KV="@firebase/database-compat",QV="@firebase/functions",YV="@firebase/functions-compat",XV="@firebase/installations",ZV="@firebase/installations-compat",JV="@firebase/messaging",eL="@firebase/messaging-compat",tL="@firebase/performance",nL="@firebase/performance-compat",rL="@firebase/remote-config",sL="@firebase/remote-config-compat",iL="@firebase/storage",oL="@firebase/storage-compat",aL="@firebase/firestore",lL="@firebase/ai",cL="@firebase/firestore-compat",uL="firebase",dL="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="[DEFAULT]",hL={[f0]:"fire-core",[FV]:"fire-core-compat",[zV]:"fire-analytics",[BV]:"fire-analytics-compat",[$V]:"fire-app-check",[UV]:"fire-app-check-compat",[HV]:"fire-auth",[WV]:"fire-auth-compat",[qV]:"fire-rtdb",[GV]:"fire-data-connect",[KV]:"fire-rtdb-compat",[QV]:"fire-fn",[YV]:"fire-fn-compat",[XV]:"fire-iid",[ZV]:"fire-iid-compat",[JV]:"fire-fcm",[eL]:"fire-fcm-compat",[tL]:"fire-perf",[nL]:"fire-perf-compat",[rL]:"fire-rc",[sL]:"fire-rc-compat",[iL]:"fire-gcs",[oL]:"fire-gcs-compat",[aL]:"fire-fst",[cL]:"fire-fst-compat",[lL]:"fire-vertex","fire-js":"fire-js",[uL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map,fL=new Map,m0=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wd(t){const e=t.name;if(m0.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;m0.set(e,t);for(const n of kp.values())fT(n,t);for(const n of fL.values())fT(n,t);return!0}function cP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function uP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new iP("app","Firebase",pL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=dL;function hP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:p0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Co.create("bad-app-name",{appName:String(s)});if(n||(n=tP()),!n)throw Co.create("no-options");const i=kp.get(s);if(i){if(Ip(n,i.options)&&Ip(r,i.config))return i;throw Co.create("duplicate-app",{appName:s})}const o=new wV(s);for(const u of m0.values())o.addComponent(u);const l=new mL(n,r,o);return kp.set(s,l),l}function fP(t=p0){const e=kp.get(t);if(!e&&t===p0&&tP())return hP();if(!e)throw Co.create("no-app",{appName:t});return e}function Ao(t,e,n){let r=hL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(o.join(" "));return}wd(new mc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="firebase-heartbeat-database",yL=1,bd="firebase-heartbeat-store";let av=null;function pP(){return av||(av=jV(gL,yL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),av}async function vL(t){try{const n=(await pP()).transaction(bd),r=await n.objectStore(bd).get(mP(t));return await n.done,r}catch(e){if(e instanceof Xa)ji.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function pT(t,e){try{const r=(await pP()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,mP(t)),await r.done}catch(n){if(n instanceof Xa)ji.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(r.message)}}}function mP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=1024,_L=30;class wL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>_L){const o=SL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mT(),{heartbeatsToSend:r,unsentEntries:s}=bL(this._heartbeatsCache.heartbeats),i=Rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ji.warn(n),""}}}function mT(){return new Date().toISOString().substring(0,10)}function bL(t,e=xL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fV()?pV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gT(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}function SL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){wd(new mc("platform-logger",e=>new VV(e),"PRIVATE")),wd(new mc("heartbeat",e=>new wL(e),"PRIVATE")),Ao(f0,hT,t),Ao(f0,hT,"esm2020"),Ao("fire-js","")}EL("");var CL="firebase",AL="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(CL,AL,"app");var yT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,gP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,E){function P(){}P.prototype=E.prototype,M.D=E.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(j,F,D){for(var V=Array(arguments.length-2),J=2;J<arguments.length;J++)V[J-2]=arguments[J];return E.prototype[F].apply(j,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,E,P){P||(P=0);var j=Array(16);if(typeof E=="string")for(var F=0;16>F;++F)j[F]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(F=0;16>F;++F)j[F]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=M.g[0],P=M.g[1],F=M.g[2];var D=M.g[3],V=E+(D^P&(F^D))+j[0]+3614090360&4294967295;E=P+(V<<7&4294967295|V>>>25),V=D+(F^E&(P^F))+j[1]+3905402710&4294967295,D=E+(V<<12&4294967295|V>>>20),V=F+(P^D&(E^P))+j[2]+606105819&4294967295,F=D+(V<<17&4294967295|V>>>15),V=P+(E^F&(D^E))+j[3]+3250441966&4294967295,P=F+(V<<22&4294967295|V>>>10),V=E+(D^P&(F^D))+j[4]+4118548399&4294967295,E=P+(V<<7&4294967295|V>>>25),V=D+(F^E&(P^F))+j[5]+1200080426&4294967295,D=E+(V<<12&4294967295|V>>>20),V=F+(P^D&(E^P))+j[6]+2821735955&4294967295,F=D+(V<<17&4294967295|V>>>15),V=P+(E^F&(D^E))+j[7]+4249261313&4294967295,P=F+(V<<22&4294967295|V>>>10),V=E+(D^P&(F^D))+j[8]+1770035416&4294967295,E=P+(V<<7&4294967295|V>>>25),V=D+(F^E&(P^F))+j[9]+2336552879&4294967295,D=E+(V<<12&4294967295|V>>>20),V=F+(P^D&(E^P))+j[10]+4294925233&4294967295,F=D+(V<<17&4294967295|V>>>15),V=P+(E^F&(D^E))+j[11]+2304563134&4294967295,P=F+(V<<22&4294967295|V>>>10),V=E+(D^P&(F^D))+j[12]+1804603682&4294967295,E=P+(V<<7&4294967295|V>>>25),V=D+(F^E&(P^F))+j[13]+4254626195&4294967295,D=E+(V<<12&4294967295|V>>>20),V=F+(P^D&(E^P))+j[14]+2792965006&4294967295,F=D+(V<<17&4294967295|V>>>15),V=P+(E^F&(D^E))+j[15]+1236535329&4294967295,P=F+(V<<22&4294967295|V>>>10),V=E+(F^D&(P^F))+j[1]+4129170786&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^F&(E^P))+j[6]+3225465664&4294967295,D=E+(V<<9&4294967295|V>>>23),V=F+(E^P&(D^E))+j[11]+643717713&4294967295,F=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(F^D))+j[0]+3921069994&4294967295,P=F+(V<<20&4294967295|V>>>12),V=E+(F^D&(P^F))+j[5]+3593408605&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^F&(E^P))+j[10]+38016083&4294967295,D=E+(V<<9&4294967295|V>>>23),V=F+(E^P&(D^E))+j[15]+3634488961&4294967295,F=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(F^D))+j[4]+3889429448&4294967295,P=F+(V<<20&4294967295|V>>>12),V=E+(F^D&(P^F))+j[9]+568446438&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^F&(E^P))+j[14]+3275163606&4294967295,D=E+(V<<9&4294967295|V>>>23),V=F+(E^P&(D^E))+j[3]+4107603335&4294967295,F=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(F^D))+j[8]+1163531501&4294967295,P=F+(V<<20&4294967295|V>>>12),V=E+(F^D&(P^F))+j[13]+2850285829&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^F&(E^P))+j[2]+4243563512&4294967295,D=E+(V<<9&4294967295|V>>>23),V=F+(E^P&(D^E))+j[7]+1735328473&4294967295,F=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(F^D))+j[12]+2368359562&4294967295,P=F+(V<<20&4294967295|V>>>12),V=E+(P^F^D)+j[5]+4294588738&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^F)+j[8]+2272392833&4294967295,D=E+(V<<11&4294967295|V>>>21),V=F+(D^E^P)+j[11]+1839030562&4294967295,F=D+(V<<16&4294967295|V>>>16),V=P+(F^D^E)+j[14]+4259657740&4294967295,P=F+(V<<23&4294967295|V>>>9),V=E+(P^F^D)+j[1]+2763975236&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^F)+j[4]+1272893353&4294967295,D=E+(V<<11&4294967295|V>>>21),V=F+(D^E^P)+j[7]+4139469664&4294967295,F=D+(V<<16&4294967295|V>>>16),V=P+(F^D^E)+j[10]+3200236656&4294967295,P=F+(V<<23&4294967295|V>>>9),V=E+(P^F^D)+j[13]+681279174&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^F)+j[0]+3936430074&4294967295,D=E+(V<<11&4294967295|V>>>21),V=F+(D^E^P)+j[3]+3572445317&4294967295,F=D+(V<<16&4294967295|V>>>16),V=P+(F^D^E)+j[6]+76029189&4294967295,P=F+(V<<23&4294967295|V>>>9),V=E+(P^F^D)+j[9]+3654602809&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^F)+j[12]+3873151461&4294967295,D=E+(V<<11&4294967295|V>>>21),V=F+(D^E^P)+j[15]+530742520&4294967295,F=D+(V<<16&4294967295|V>>>16),V=P+(F^D^E)+j[2]+3299628645&4294967295,P=F+(V<<23&4294967295|V>>>9),V=E+(F^(P|~D))+j[0]+4096336452&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~F))+j[7]+1126891415&4294967295,D=E+(V<<10&4294967295|V>>>22),V=F+(E^(D|~P))+j[14]+2878612391&4294967295,F=D+(V<<15&4294967295|V>>>17),V=P+(D^(F|~E))+j[5]+4237533241&4294967295,P=F+(V<<21&4294967295|V>>>11),V=E+(F^(P|~D))+j[12]+1700485571&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~F))+j[3]+2399980690&4294967295,D=E+(V<<10&4294967295|V>>>22),V=F+(E^(D|~P))+j[10]+4293915773&4294967295,F=D+(V<<15&4294967295|V>>>17),V=P+(D^(F|~E))+j[1]+2240044497&4294967295,P=F+(V<<21&4294967295|V>>>11),V=E+(F^(P|~D))+j[8]+1873313359&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~F))+j[15]+4264355552&4294967295,D=E+(V<<10&4294967295|V>>>22),V=F+(E^(D|~P))+j[6]+2734768916&4294967295,F=D+(V<<15&4294967295|V>>>17),V=P+(D^(F|~E))+j[13]+1309151649&4294967295,P=F+(V<<21&4294967295|V>>>11),V=E+(F^(P|~D))+j[4]+4149444226&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~F))+j[11]+3174756917&4294967295,D=E+(V<<10&4294967295|V>>>22),V=F+(E^(D|~P))+j[2]+718787259&4294967295,F=D+(V<<15&4294967295|V>>>17),V=P+(D^(F|~E))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+E&4294967295,M.g[1]=M.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+D&4294967295}r.prototype.u=function(M,E){E===void 0&&(E=M.length);for(var P=E-this.blockSize,j=this.B,F=this.h,D=0;D<E;){if(F==0)for(;D<=P;)s(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<E;)if(j[F++]=M.charCodeAt(D++),F==this.blockSize){s(this,j),F=0;break}}else for(;D<E;)if(j[F++]=M[D++],F==this.blockSize){s(this,j),F=0;break}}this.h=F,this.o+=E},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var E=1;E<M.length-8;++E)M[E]=0;var P=8*this.o;for(E=M.length-8;E<M.length;++E)M[E]=P&255,P/=256;for(this.u(M),M=Array(16),E=P=0;4>E;++E)for(var j=0;32>j;j+=8)M[P++]=this.g[E]>>>j&255;return M};function i(M,E){var P=l;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=E(M)}function o(M,E){this.h=E;for(var P=[],j=!0,F=M.length-1;0<=F;F--){var D=M[F]|0;j&&D==E||(P[F]=D,j=!1)}this.g=P}var l={};function u(M){return-128<=M&&128>M?i(M,function(E){return new o([E|0],0>E?-1:0)}):new o([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return g;if(0>M)return w(d(-M));for(var E=[],P=1,j=0;M>=P;j++)E[j]=M/P|0,P*=4294967296;return new o(E,0)}function f(M,E){if(M.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(M.charAt(0)=="-")return w(f(M.substring(1),E));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(E,8)),j=g,F=0;F<M.length;F+=8){var D=Math.min(8,M.length-F),V=parseInt(M.substring(F,F+D),E);8>D?(D=d(Math.pow(E,D)),j=j.j(D).add(d(V))):(j=j.j(P),j=j.add(d(V)))}return j}var g=u(0),v=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-w(this).m();for(var M=0,E=1,P=0;P<this.g.length;P++){var j=this.i(P);M+=(0<=j?j:4294967296+j)*E,E*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(b(this))return"-"+w(this).toString(M);for(var E=d(Math.pow(M,6)),P=this,j="";;){var F=O(P,E).g;P=R(P,F.j(E));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=F,T(P))return D+j;for(;6>D.length;)D="0"+D;j=D+j}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var E=0;E<M.g.length;E++)if(M.g[E]!=0)return!1;return!0}function b(M){return M.h==-1}t.l=function(M){return M=R(this,M),b(M)?-1:T(M)?0:1};function w(M){for(var E=M.g.length,P=[],j=0;j<E;j++)P[j]=~M.g[j];return new o(P,~M.h).add(v)}t.abs=function(){return b(this)?w(this):this},t.add=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],j=0,F=0;F<=E;F++){var D=j+(this.i(F)&65535)+(M.i(F)&65535),V=(D>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);j=V>>>16,D&=65535,V&=65535,P[F]=V<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function R(M,E){return M.add(w(E))}t.j=function(M){if(T(this)||T(M))return g;if(b(this))return b(M)?w(this).j(w(M)):w(w(this).j(M));if(b(M))return w(this.j(w(M)));if(0>this.l(x)&&0>M.l(x))return d(this.m()*M.m());for(var E=this.g.length+M.g.length,P=[],j=0;j<2*E;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<M.g.length;F++){var D=this.i(j)>>>16,V=this.i(j)&65535,J=M.i(F)>>>16,K=M.i(F)&65535;P[2*j+2*F]+=V*K,k(P,2*j+2*F),P[2*j+2*F+1]+=D*K,k(P,2*j+2*F+1),P[2*j+2*F+1]+=V*J,k(P,2*j+2*F+1),P[2*j+2*F+2]+=D*J,k(P,2*j+2*F+2)}for(j=0;j<E;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=E;j<2*E;j++)P[j]=0;return new o(P,0)};function k(M,E){for(;(M[E]&65535)!=M[E];)M[E+1]+=M[E]>>>16,M[E]&=65535,E++}function N(M,E){this.g=M,this.h=E}function O(M,E){if(T(E))throw Error("division by zero");if(T(M))return new N(g,g);if(b(M))return E=O(w(M),E),new N(w(E.g),w(E.h));if(b(E))return E=O(M,w(E)),new N(w(E.g),E.h);if(30<M.g.length){if(b(M)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var P=v,j=E;0>=j.l(M);)P=B(P),j=B(j);var F=U(P,1),D=U(j,1);for(j=U(j,2),P=U(P,2);!T(j);){var V=D.add(j);0>=V.l(M)&&(F=F.add(P),D=V),j=U(j,1),P=U(P,1)}return E=R(M,F.j(E)),new N(F,E)}for(F=g;0<=M.l(E);){for(P=Math.max(1,Math.floor(M.m()/E.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),D=d(P),V=D.j(E);b(V)||0<V.l(M);)P-=j,D=d(P),V=D.j(E);T(D)&&(D=v),F=F.add(D),M=R(M,V)}return new N(F,M)}t.A=function(M){return O(this,M).h},t.and=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],j=0;j<E;j++)P[j]=this.i(j)&M.i(j);return new o(P,this.h&M.h)},t.or=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],j=0;j<E;j++)P[j]=this.i(j)|M.i(j);return new o(P,this.h|M.h)},t.xor=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],j=0;j<E;j++)P[j]=this.i(j)^M.i(j);return new o(P,this.h^M.h)};function B(M){for(var E=M.g.length+1,P=[],j=0;j<E;j++)P[j]=M.i(j)<<1|M.i(j-1)>>>31;return new o(P,M.h)}function U(M,E){var P=E>>5;E%=32;for(var j=M.g.length-P,F=[],D=0;D<j;D++)F[D]=0<E?M.i(D+P)>>>E|M.i(D+P+1)<<32-E:M.i(D+P);return new o(F,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Po=o}).apply(typeof yT<"u"?yT:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yP,Yu,vP,cp,g0,xP,_P,wP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,I){return m==Array.prototype||m==Object.prototype||(m[S]=I.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var S=0;S<m.length;++S){var I=m[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(m,S){if(S)e:{var I=r;m=m.split(".");for(var z=0;z<m.length-1;z++){var X=m[z];if(!(X in I))break e;I=I[X]}m=m[m.length-1],z=I[m],S=S(z),S!=z&&S!=null&&e(I,m,{configurable:!0,writable:!0,value:S})}}function i(m,S){m instanceof String&&(m+="");var I=0,z=!1,X={next:function(){if(!z&&I<m.length){var ie=I++;return{value:S(ie,m[ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(m){return m||function(){return i(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function d(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function f(m,S,I){return m.call.apply(m.bind,arguments)}function g(m,S,I){if(!m)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,z),m.apply(S,X)}}return function(){return m.apply(S,arguments)}}function v(m,S,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function x(m,S){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function T(m,S){function I(){}I.prototype=S.prototype,m.aa=S.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(z,X,ie){for(var ge=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ge[Tt-2]=arguments[Tt];return S.prototype[X].apply(z,ge)}}function b(m){const S=m.length;if(0<S){const I=Array(S);for(let z=0;z<S;z++)I[z]=m[z];return I}return[]}function w(m,S){for(let I=1;I<arguments.length;I++){const z=arguments[I];if(u(z)){const X=m.length||0,ie=z.length||0;m.length=X+ie;for(let ge=0;ge<ie;ge++)m[X+ge]=z[ge]}else m.push(z)}}class R{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function O(m){return O[" "](m),m}O[" "]=function(){};var B=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function U(m,S,I){for(const z in m)S.call(I,m[z],z,m)}function M(m,S){for(const I in m)S.call(void 0,m[I],I,m)}function E(m){const S={};for(const I in m)S[I]=m[I];return S}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(m,S){let I,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(I in z)m[I]=z[I];for(let ie=0;ie<P.length;ie++)I=P[ie],Object.prototype.hasOwnProperty.call(z,I)&&(m[I]=z[I])}}function F(m){var S=1;m=m.split(":");const I=[];for(;0<S&&m.length;)I.push(m.shift()),S--;return m.length&&I.push(m.join(":")),I}function D(m){l.setTimeout(()=>{throw m},0)}function V(){var m=te;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class J{constructor(){this.h=this.g=null}add(S,I){const z=K.get();z.set(S,I),this.h?this.h.next=z:this.g=z,this.h=z}}var K=new R(()=>new W,m=>m.reset());class W{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,G=!1,te=new J,ae=()=>{const m=l.Promise.resolve(void 0);Y=()=>{m.then(H)}};var H=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(I){D(I)}var S=K;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}G=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};l.addEventListener("test",I,S),l.removeEventListener("test",I,S)}catch{}return m})();function be(m,S){if(oe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(B){e:{try{O(S.nodeName);var X=!0;break e}catch{}X=!1}X||(S=null)}}else I=="mouseover"?S=m.fromElement:I=="mouseout"&&(S=m.toElement);this.relatedTarget=S,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Te[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&be.aa.h.call(this)}}T(be,oe);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),fe=0;function we(m,S,I,z,X){this.listener=m,this.proxy=null,this.src=S,this.type=I,this.capture=!!z,this.ha=X,this.key=++fe,this.da=this.fa=!1}function Se(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function _e(m){this.src=m,this.g={},this.h=0}_e.prototype.add=function(m,S,I,z,X){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var ge=ye(m,S,z,X);return-1<ge?(S=m[ge],I||(S.fa=!1)):(S=new we(S,this.src,ie,!!z,X),S.fa=I,m.push(S)),S};function se(m,S){var I=S.type;if(I in m.g){var z=m.g[I],X=Array.prototype.indexOf.call(z,S,void 0),ie;(ie=0<=X)&&Array.prototype.splice.call(z,X,1),ie&&(Se(S),m.g[I].length==0&&(delete m.g[I],m.h--))}}function ye(m,S,I,z){for(var X=0;X<m.length;++X){var ie=m[X];if(!ie.da&&ie.listener==S&&ie.capture==!!I&&ie.ha==z)return X}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Me={};function Oe(m,S,I,z,X){if(Array.isArray(S)){for(var ie=0;ie<S.length;ie++)Oe(m,S[ie],I,z,X);return null}return I=jn(I),m&&m[pe]?m.K(S,I,d(z)?!!z.capture:!1,X):vt(m,S,I,!1,z,X)}function vt(m,S,I,z,X,ie){if(!S)throw Error("Invalid event type");var ge=d(X)?!!X.capture:!!X,Tt=Pr(m);if(Tt||(m[Pe]=Tt=new _e(m)),I=Tt.add(S,I,z,ge,ie),I.proxy)return I;if(z=et(),I.proxy=z,z.src=m,z.listener=I,m.addEventListener)xe||(X=ge),X===void 0&&(X=!1),m.addEventListener(S.toString(),z,X);else if(m.attachEvent)m.attachEvent(Nn(S.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function et(){function m(I){return S.call(m.src,m.listener,I)}const S=Dn;return m}function tt(m,S,I,z,X){if(Array.isArray(S))for(var ie=0;ie<S.length;ie++)tt(m,S[ie],I,z,X);else z=d(z)?!!z.capture:!!z,I=jn(I),m&&m[pe]?(m=m.i,S=String(S).toString(),S in m.g&&(ie=m.g[S],I=ye(ie,I,z,X),-1<I&&(Se(ie[I]),Array.prototype.splice.call(ie,I,1),ie.length==0&&(delete m.g[S],m.h--)))):m&&(m=Pr(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ye(S,I,z,X)),(I=-1<m?S[m]:null)&&bt(I))}function bt(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[pe])se(S.i,m);else{var I=m.type,z=m.proxy;S.removeEventListener?S.removeEventListener(I,z,m.capture):S.detachEvent?S.detachEvent(Nn(I),z):S.addListener&&S.removeListener&&S.removeListener(z),(I=Pr(S))?(se(I,m),I.h==0&&(I.src=null,S[Pe]=null)):Se(m)}}}function Nn(m){return m in Me?Me[m]:Me[m]="on"+m}function Dn(m,S){if(m.da)m=!0;else{S=new be(S,this);var I=m.listener,z=m.ha||m.src;m.fa&&bt(m),m=I.call(z,S)}return m}function Pr(m){return m=m[Pe],m instanceof _e?m:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(m){return typeof m=="function"?m:(m[zt]||(m[zt]=function(S){return m.handleEvent(S)}),m[zt])}function Ze(){Z.call(this),this.i=new _e(this),this.M=this,this.F=null}T(Ze,Z),Ze.prototype[pe]=!0,Ze.prototype.removeEventListener=function(m,S,I,z){tt(this,m,S,I,z)};function it(m,S){var I,z=m.F;if(z)for(I=[];z;z=z.F)I.push(z);if(m=m.M,z=S.type||S,typeof S=="string")S=new oe(S,m);else if(S instanceof oe)S.target=S.target||m;else{var X=S;S=new oe(z,m),j(S,X)}if(X=!0,I)for(var ie=I.length-1;0<=ie;ie--){var ge=S.g=I[ie];X=ln(ge,z,!0,S)&&X}if(ge=S.g=m,X=ln(ge,z,!0,S)&&X,X=ln(ge,z,!1,S)&&X,I)for(ie=0;ie<I.length;ie++)ge=S.g=I[ie],X=ln(ge,z,!1,S)&&X}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var I=m.g[S],z=0;z<I.length;z++)Se(I[z]);delete m.g[S],m.h--}}this.F=null},Ze.prototype.K=function(m,S,I,z){return this.i.add(String(m),S,!1,I,z)},Ze.prototype.L=function(m,S,I,z){return this.i.add(String(m),S,!0,I,z)};function ln(m,S,I,z){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var X=!0,ie=0;ie<S.length;++ie){var ge=S[ie];if(ge&&!ge.da&&ge.capture==I){var Tt=ge.listener,cn=ge.ha||ge.src;ge.fa&&se(m.i,ge),X=Tt.call(cn,z)!==!1&&X}}return X&&!z.defaultPrevented}function ui(m,S,I){if(typeof m=="function")I&&(m=v(m,I));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(m,S||0)}function Zr(m){m.g=ui(()=>{m.g=null,m.i&&(m.i=!1,Zr(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Jn extends Z{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(m){Z.call(this),this.h=m,this.g={}}T(gn,Z);var Jr=[];function qi(m){U(m.g,function(S,I){this.g.hasOwnProperty(I)&&bt(S)},m),m.g={}}gn.prototype.N=function(){gn.aa.N.call(this),qi(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=l.JSON.stringify,Jc=l.JSON.parse,eu=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ta(){}ta.prototype.h=null;function sl(m){return m.h||(m.h=m.i())}function il(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ks(){oe.call(this,"d")}T(ks,oe);function ol(){oe.call(this,"c")}T(ol,oe);var Ns={},tu=null;function na(){return tu=tu||new Ze}Ns.La="serverreachability";function nu(m){oe.call(this,Ns.La,m)}T(nu,oe);function di(m){const S=na();it(S,new nu(S))}Ns.STAT_EVENT="statevent";function ru(m,S){oe.call(this,Ns.STAT_EVENT,m),this.stat=S}T(ru,oe);function Qt(m){const S=na();it(S,new ru(S,m))}Ns.Ma="timingevent";function al(m,S){oe.call(this,Ns.Ma,m),this.size=S}T(al,oe);function es(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},S)}function ra(){this.g=!0}ra.prototype.xa=function(){this.g=!1};function sa(m,S,I,z,X,ie){m.info(function(){if(m.g)if(ie)for(var ge="",Tt=ie.split("&"),cn=0;cn<Tt.length;cn++){var ot=Tt[cn].split("=");if(1<ot.length){var yn=ot[0];ot=ot[1];var tn=yn.split("_");ge=2<=tn.length&&tn[1]=="type"?ge+(yn+"="+ot+"&"):ge+(yn+"=redacted&")}}else ge=null;else ge=ie;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+S+`
`+I+`
`+ge})}function ll(m,S,I,z,X,ie,ge){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+S+`
`+I+`
`+ie+" "+ge})}function ts(m,S,I,z){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+_g(m,I)+(z?" "+z:"")})}function su(m,S){m.info(function(){return"TIMEOUT: "+S})}ra.prototype.info=function(){};function _g(m,S){if(!m.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var z=I[m];if(!(2>z.length)){var X=z[1];if(Array.isArray(X)&&!(1>X.length)){var ie=X[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ge=1;ge<X.length;ge++)X[ge]=""}}}}return Zc(I)}catch{return S}}var cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ns;function ia(){}T(ia,ta),ia.prototype.g=function(){return new XMLHttpRequest},ia.prototype.i=function(){return{}},ns=new ia;function rs(m,S,I,z){this.j=m,this.i=S,this.l=I,this.R=z||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ch}function ch(){this.i=null,this.g="",this.h=!1}var iu={},ul={};function dl(m,S,I){m.L=1,m.v=Xi(pr(S)),m.m=I,m.P=!0,ou(m,null)}function ou(m,S){m.F=Date.now(),It(m),m.A=pr(m.v);var I=m.A,z=m.R;Array.isArray(z)||(z=[String(z)]),Ji(I.i,"t",z),m.C=0,I=m.j.J,m.h=new ch,m.g=Ah(m.j,I?S:null,!m.m),0<m.O&&(m.M=new Jn(v(m.Y,m,m.g),m.O)),S=m.U,I=m.g,z=m.ca;var X="readystatechange";Array.isArray(X)||(X&&(Jr[0]=X.toString()),X=Jr);for(var ie=0;ie<X.length;ie++){var ge=Oe(I,X[ie],z||S.handleEvent,!1,S.h||S);if(!ge)break;S.g[ge.key]=ge}S=m.H?E(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),di(),sa(m.i,m.u,m.A,m.l,m.R,m.m)}rs.prototype.ca=function(m){m=m.target;const S=this.M;S&&tr(m)==3?S.j():this.Y(m)},rs.prototype.Y=function(m){try{if(m==this.g)e:{const tn=tr(this.g);var S=this.g.Ba();const Nr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||tn!=4||S==7||(S==8||0>=Nr?di(3):di(2)),oa(this);var I=this.g.Z();this.X=I;t:if(uh(this)){var z=hu(this.g);m="";var X=z.length,ie=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),Gi(this);var ge="";break t}this.h.i=new l.TextDecoder}for(S=0;S<X;S++)this.h.h=!0,m+=this.h.i.decode(z[S],{stream:!(ie&&S==X-1)});z.length=0,this.h.g+=m,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,ll(this.i,this.u,this.A,this.l,this.R,tn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,cn=this.g;if((Tt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Tt)){var ot=Tt;break t}}ot=null}if(I=ot)ts(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,au(this,I);else{this.o=!1,this.s=3,Qt(12),Ir(this),Gi(this);break e}}if(this.P){I=!0;let gr;for(;!this.J&&this.C<ge.length;)if(gr=wg(this,ge),gr==ul){tn==4&&(this.s=4,Qt(14),I=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==iu){this.s=4,Qt(15),ts(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else ts(this.i,this.l,gr,null),au(this,gr);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ge.length!=0||this.h.h||(this.s=1,Qt(16),I=!1),this.o=this.o&&I,!I)ts(this.i,this.l,ge,"[Invalid Chunked Response]"),Ir(this),Gi(this);else if(0<ge.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),pu(yn),yn.M=!0,Qt(11))}}else ts(this.i,this.l,ge,null),au(this,ge);tn==4&&Ir(this),this.o&&!this.J&&(tn==4?bl(this.j,this):(this.o=!1,It(this)))}else yl(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Ir(this),Gi(this)}}}catch{}finally{}};function uh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function wg(m,S){var I=m.C,z=S.indexOf(`
`,I);return z==-1?ul:(I=Number(S.substring(I,z)),isNaN(I)?iu:(z+=1,z+I>S.length?ul:(S=S.slice(z,z+I),m.C=z+I,S)))}rs.prototype.cancel=function(){this.J=!0,Ir(this)};function It(m){m.S=Date.now()+m.I,dh(m,m.I)}function dh(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=es(v(m.ba,m),S)}function oa(m){m.B&&(l.clearTimeout(m.B),m.B=null)}rs.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(su(this.i,this.A),this.L!=2&&(di(),Qt(17)),Ir(this),this.s=2,Gi(this)):dh(this,this.S-m)};function Gi(m){m.j.G==0||m.J||bl(m.j,m)}function Ir(m){oa(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,qi(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function au(m,S){try{var I=m.j;if(I.G!=0&&(I.g==m||Gn(I.h,m))){if(!m.K&&Gn(I.h,m)&&I.G==3){try{var z=I.Da.g.parse(S)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)wl(I),ls(I);else break e;_l(I),Qt(18)}}else I.za=X[1],0<I.za-I.T&&37500>X[2]&&I.F&&I.v==0&&!I.C&&(I.C=es(v(I.Za,I),6e3));if(1>=fh(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else gi(I,11)}else if((m.K||I.g==m)&&wl(I),!k(S))for(X=I.Da.g.parse(S),S=0;S<X.length;S++){let ot=X[S];if(I.T=ot[0],ot=ot[1],I.G==2)if(ot[0]=="c"){I.K=ot[1],I.ia=ot[2];const yn=ot[3];yn!=null&&(I.la=yn,I.j.info("VER="+I.la));const tn=ot[4];tn!=null&&(I.Aa=tn,I.j.info("SVER="+I.Aa));const Nr=ot[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(z=1.5*Nr,I.L=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const gr=m.g;if(gr){const fa=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var ie=z.h;ie.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(lu(ie,ie.h),ie.h=null))}if(z.D){const Sl=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(z.ya=Sl,At(z.I,z.D,Sl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),z=I;var ge=m;if(z.qa=Ch(z,z.J?z.ia:null,z.W),ge.K){ph(z.h,ge);var Tt=ge,cn=z.L;cn&&(Tt.I=cn),Tt.B&&(oa(Tt),It(Tt)),z.g=ge}else ha(z);0<I.i.length&&Os(I)}else ot[0]!="stop"&&ot[0]!="close"||gi(I,7);else I.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?gi(I,7):Sn(I):ot[0]!="noop"&&I.l&&I.l.ta(ot),I.v=0)}}di(4)}catch{}}var hh=class{constructor(m,S){this.g=m,this.map=S}};function aa(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function fh(m){return m.h?1:m.g?m.g.size:0}function Gn(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function lu(m,S){m.g?m.g.add(S):m.h=S}function ph(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}aa.prototype.cancel=function(){if(this.i=mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const I of m.g.values())S=S.concat(I.D);return S}return b(m.i)}function hl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var S=[],I=m.length,z=0;z<I;z++)S.push(m[z]);return S}S=[],I=0;for(z in m)S[I++]=m[z];return S}function fl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var S=[];m=m.length;for(var I=0;I<m;I++)S.push(I);return S}S=[],I=0;for(const z in m)S[I++]=z;return S}}}function Ki(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var I=fl(m),z=hl(m),X=z.length,ie=0;ie<X;ie++)S.call(void 0,z[ie],I&&I[ie],m)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bg(m,S){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var z=m[I].indexOf("="),X=null;if(0<=z){var ie=m[I].substring(0,z);X=m[I].substring(z+1)}else ie=m[I];S(ie,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function hi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof hi){this.h=m.h,ca(this,m.j),this.o=m.o,this.g=m.g,Qi(this,m.s),this.l=m.l;var S=m.i,I=new Ds;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),Yi(this,I),this.m=m.m}else m&&(S=String(m).match(la))?(this.h=!1,ca(this,S[1]||"",!0),this.o=st(S[2]||""),this.g=st(S[3]||"",!0),Qi(this,S[4]),this.l=st(S[5]||"",!0),Yi(this,S[6]||"",!0),this.m=st(S[7]||"")):(this.h=!1,this.i=new Ds(null,this.h))}hi.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Zi(S,pl,!0),":");var I=this.g;return(I||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Zi(S,pl,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Zi(I,I.charAt(0)=="/"?vh:yh,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Zi(I,cu)),m.join("")};function pr(m){return new hi(m)}function ca(m,S,I){m.j=I?st(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Qi(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function Yi(m,S,I){S instanceof Ds?(m.i=S,js(m.i,m.h)):(I||(S=Zi(S,xh)),m.i=new Ds(S,m.h))}function At(m,S,I){m.i.set(S,I)}function Xi(m){return At(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function st(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Zi(m,S,I){return typeof m=="string"?(m=encodeURI(m).replace(S,gh),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function gh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var pl=/[#\/\?@]/g,yh=/[#\?:]/g,vh=/[#\?]/g,xh=/[#\?@]/g,cu=/#/g;function Ds(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Tn(m){m.g||(m.g=new Map,m.h=0,m.i&&bg(m.i,function(S,I){m.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}t=Ds.prototype,t.add=function(m,S){Tn(this),this.i=null,m=kr(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(S),this.h+=1,this};function ss(m,S){Tn(m),S=kr(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function is(m,S){return Tn(m),S=kr(m,S),m.g.has(S)}t.forEach=function(m,S){Tn(this),this.g.forEach(function(I,z){I.forEach(function(X){m.call(S,X,z,this)},this)},this)},t.na=function(){Tn(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let z=0;z<S.length;z++){const X=m[z];for(let ie=0;ie<X.length;ie++)I.push(S[z])}return I},t.V=function(m){Tn(this);let S=[];if(typeof m=="string")is(this,m)&&(S=S.concat(this.g.get(kr(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)S=S.concat(m[I])}return S},t.set=function(m,S){return Tn(this),this.i=null,m=kr(this,m),is(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function Ji(m,S,I){ss(m,S),0<I.length&&(m.i=null,m.g.set(kr(m,S),b(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var z=S[I];const ie=encodeURIComponent(String(z)),ge=this.V(z);for(z=0;z<ge.length;z++){var X=ie;ge[z]!==""&&(X+="="+encodeURIComponent(String(ge[z]))),m.push(X)}}return this.i=m.join("&")};function kr(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function js(m,S){S&&!m.j&&(Tn(m),m.i=null,m.g.forEach(function(I,z){var X=z.toLowerCase();z!=X&&(ss(this,z),Ji(this,X,I))},m)),m.j=S}function Tg(m,S){const I=new ra;if(l.Image){const z=new Image;z.onload=x(er,I,"TestLoadImage: loaded",!0,S,z),z.onerror=x(er,I,"TestLoadImage: error",!1,S,z),z.onabort=x(er,I,"TestLoadImage: abort",!1,S,z),z.ontimeout=x(er,I,"TestLoadImage: timeout",!1,S,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else S(!1)}function _h(m,S){const I=new ra,z=new AbortController,X=setTimeout(()=>{z.abort(),er(I,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:z.signal}).then(ie=>{clearTimeout(X),ie.ok?er(I,"TestPingServer: ok",!0,S):er(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(X),er(I,"TestPingServer: error",!1,S)})}function er(m,S,I,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(I)}catch{}}function Sg(){this.g=new eu}function wh(m,S,I){const z=I||"";try{Ki(m,function(X,ie){let ge=X;d(X)&&(ge=Zc(X)),S.push(z+ie+"="+encodeURIComponent(ge))})}catch(X){throw S.push(z+"type="+encodeURIComponent("_badmap")),X}}function fi(m){this.l=m.Ub||null,this.j=m.eb||!1}T(fi,ta),fi.prototype.g=function(){return new ua(this.l,this.j)},fi.prototype.i=(function(m){return function(){return m}})({});function ua(m,S){Ze.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ua,Ze),t=ua.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,as(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function bh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?os(this):as(this),this.readyState==3&&bh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,os(this))},t.Qa=function(m){this.g&&(this.response=m,os(this))},t.ga=function(){this.g&&os(this)};function os(m){m.readyState=4,m.l=null,m.j=null,m.v=null,as(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=S.next();return m.join(`\r
`)};function as(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function pi(m){let S="";return U(m,function(I,z){S+=z,S+=":",S+=I,S+=`\r
`}),S}function eo(m,S,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=pi(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):At(m,S,I))}function Lt(m){Ze.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Lt,Ze);var Eg=/^https?$/i,uu=["POST","PUT"];t=Lt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ns.g(),this.v=this.o?sl(this.o):sl(ns),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(ie){da(this,ie);return}if(m=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)I.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ie of z.keys())I.set(ie,z.get(ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(uu,S,void 0))||z||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ge]of I)this.g.setRequestHeader(ie,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gl(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){da(this,ie)}};function da(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,ml(m),mr(m)}function ml(m){m.A||(m.A=!0,it(m,"complete"),it(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,it(this,"complete"),it(this,"abort"),mr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},t.bb=function(){du(this)};function du(m){if(m.h&&typeof o<"u"&&(!m.v[1]||tr(m)!=4||m.Z()!=2)){if(m.u&&tr(m)==4)ui(m.Ea,0,m);else if(it(m,"readystatechange"),tr(m)==4){m.h=!1;try{const ge=m.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var z;if(z=ge===0){var X=String(m.D).match(la)[1]||null;!X&&l.self&&l.self.location&&(X=l.self.location.protocol.slice(0,-1)),z=!Eg.test(X?X.toLowerCase():"")}I=z}if(I)it(m,"complete"),it(m,"success");else{m.m=6;try{var ie=2<tr(m)?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.Z()+"]",ml(m)}}finally{mr(m)}}}}function mr(m,S){if(m.g){gl(m);const I=m.g,z=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||it(m,"ready");try{I.onreadystatechange=z}catch{}}}function gl(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function tr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Jc(S)}};function hu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(m){const S={};m=(m.g&&2<=tr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(k(m[z]))continue;var I=F(m[z]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ie=S[X]||[];S[X]=ie,ie.push(I)}M(S,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(m,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||S}function fu(m){this.Aa=0,this.i=[],this.j=new ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,m),this.cb=Ms("retryDelaySeedMs",1e4,m),this.Wa=Ms("forwardChannelMaxRetries",2,m),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new aa(m&&m.concurrentRequestLimit),this.Da=new Sg,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fu.prototype,t.la=8,t.G=1,t.connect=function(m,S,I,z){Qt(0),this.W=m,this.H=S||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.I=Ch(this,null,this.W),Os(this)};function Sn(m){if(vl(m),m.G==3){var S=m.U++,I=pr(m.I);if(At(I,"SID",m.K),At(I,"RID",S),At(I,"TYPE","terminate"),mi(m,I),S=new rs(m,m.j,S),S.L=2,S.v=Xi(pr(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=S.v,I=!0),I||(S.g=Ah(S.j,null),S.g.ea(S.v)),S.F=Date.now(),It(S)}Eh(m)}function ls(m){m.g&&(pu(m),m.g.cancel(),m.g=null)}function vl(m){ls(m),m.u&&(l.clearTimeout(m.u),m.u=null),wl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Os(m){if(!fr(m.h)&&!m.s){m.s=!0;var S=m.Ga;Y||ae(),G||(Y(),G=!0),te.add(S,m),m.B=0}}function Cg(m,S){return fh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=es(v(m.Ga,m,S),Sh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const X=new rs(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=E(ie),j(ie,this.S)):ie=this.S),this.m!==null||this.O||(X.H=ie,ie=null),this.P)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(S+=z,4096<S){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=to(this,X,S),I=pr(this.I),At(I,"RID",m),At(I,"CVER",22),this.D&&At(I,"X-HTTP-Session-Id",this.D),mi(this,I),ie&&(this.O?S="headers="+encodeURIComponent(String(pi(ie)))+"&"+S:this.m&&eo(I,this.m,ie)),lu(this.h,X),this.Ua&&At(I,"TYPE","init"),this.P?(At(I,"$req",S),At(I,"SID","null"),X.T=!0,dl(X,I,null)):dl(X,I,S),this.G=2}}else this.G==3&&(m?xl(this,m):this.i.length==0||fr(this.h)||xl(this))};function xl(m,S){var I;S?I=S.l:I=m.U++;const z=pr(m.I);At(z,"SID",m.K),At(z,"RID",I),At(z,"AID",m.T),mi(m,z),m.m&&m.o&&eo(z,m.m,m.o),I=new rs(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),S&&(m.i=S.D.concat(m.i)),S=to(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),lu(m.h,I),dl(I,z,S)}function mi(m,S){m.H&&U(m.H,function(I,z){At(S,z,I)}),m.l&&Ki({},function(I,z){At(S,z,I)})}function to(m,S,I){I=Math.min(m.i.length,I);var z=m.l?v(m.l.Na,m.l,m):null;e:{var X=m.i;let ie=-1;for(;;){const ge=["count="+I];ie==-1?0<I?(ie=X[0].g,ge.push("ofs="+ie)):ie=0:ge.push("ofs="+ie);let Tt=!0;for(let cn=0;cn<I;cn++){let ot=X[cn].g;const yn=X[cn].map;if(ot-=ie,0>ot)ie=Math.max(0,X[cn].g-100),Tt=!1;else try{wh(yn,ge,"req"+ot+"_")}catch{z&&z(yn)}}if(Tt){z=ge.join("&");break e}}}return m=m.i.splice(0,I),S.D=m,z}function ha(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;Y||ae(),G||(Y(),G=!0),te.add(S,m),m.v=0}}function _l(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=es(v(m.Fa,m),Sh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=es(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),ls(this),Th(this))};function pu(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Th(m){m.g=new rs(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=pr(m.qa);At(S,"RID","rpc"),At(S,"SID",m.K),At(S,"AID",m.T),At(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&At(S,"TO",m.ja),At(S,"TYPE","xmlhttp"),mi(m,S),m.m&&m.o&&eo(S,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Xi(pr(S)),I.m=null,I.P=!0,ou(I,m)}t.Za=function(){this.C!=null&&(this.C=null,ls(this),_l(this),Qt(19))};function wl(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function bl(m,S){var I=null;if(m.g==S){wl(m),pu(m),m.g=null;var z=2}else if(Gn(m.h,S))I=S.D,ph(m.h,S),z=1;else return;if(m.G!=0){if(S.o)if(z==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var X=m.B;z=na(),it(z,new al(z,I)),Os(m)}else ha(m);else if(X=S.s,X==3||X==0&&0<S.X||!(z==1&&Cg(m,S)||z==2&&_l(m)))switch(I&&0<I.length&&(S=m.h,S.i=S.i.concat(I)),X){case 1:gi(m,5);break;case 4:gi(m,10);break;case 3:gi(m,6);break;default:gi(m,2)}}}function Sh(m,S){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*S}function gi(m,S){if(m.j.info("Error code "+S),S==2){var I=v(m.fb,m),z=m.Xa;const X=!z;z=new hi(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ca(z,"https"),Xi(z),X?Tg(z.toString(),I):_h(z.toString(),I)}else Qt(2);m.G=0,m.l&&m.l.sa(S),Eh(m),vl(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Eh(m){if(m.G=0,m.ka=[],m.l){const S=mh(m.h);(S.length!=0||m.i.length!=0)&&(w(m.ka,S),w(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function Ch(m,S,I){var z=I instanceof hi?pr(I):new hi(I);if(z.g!="")S&&(z.g=S+"."+z.g),Qi(z,z.s);else{var X=l.location;z=X.protocol,S=S?S+"."+X.hostname:X.hostname,X=+X.port;var ie=new hi(null);z&&ca(ie,z),S&&(ie.g=S),X&&Qi(ie,X),I&&(ie.l=I),z=ie}return I=m.D,S=m.ya,I&&S&&At(z,I,S),At(z,"VER",m.la),mi(m,z),z}function Ah(m,S,I){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Lt(new fi({eb:I})):new Lt(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}t=mu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(m,S){return new Kn(m,S)};function Kn(m,S){Ze.call(this),this.g=new fu(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!k(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!k(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Vs(this)}T(Kn,Ze),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){Sn(this.g)},Kn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=Zc(m),m=I);S.i.push(new hh(S.Ya++,m)),S.G==3&&Os(S)},Kn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,Kn.aa.N.call(this)};function Ph(m){ks.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const I in S){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}T(Ph,ks);function Rh(){ol.call(this),this.status=1}T(Rh,ol);function Vs(m){this.g=m}T(Vs,mu),Vs.prototype.ua=function(){it(this.g,"a")},Vs.prototype.ta=function(m){it(this.g,new Ph(m))},Vs.prototype.sa=function(m){it(this.g,new Rh)},Vs.prototype.ra=function(){it(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,wP=function(){return new Tl},_P=function(){return na()},xP=Ns,g0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cl.NO_ERROR=0,cl.TIMEOUT=8,cl.HTTP_ERROR=6,cp=cl,lh.COMPLETE="complete",vP=lh,il.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Yu=il,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,yP=Lt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore",xT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new oP("@firebase/firestore");function Yl(){return $a.logLevel}function Ae(t,...e){if($a.logLevel<=lt.DEBUG){const n=e.map(Ix);$a.debug(`Firestore (${kc}): ${t}`,...n)}}function Mi(t,...e){if($a.logLevel<=lt.ERROR){const n=e.map(Ix);$a.error(`Firestore (${kc}): ${t}`,...n)}}function gc(t,...e){if($a.logLevel<=lt.WARN){const n=e.map(Ix);$a.warn(`Firestore (${kc}): ${t}`,...n)}}function Ix(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bP(t,r,n)}function bP(t,e,n){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mi(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bP(e,s,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class RL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IL{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ki,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},l=u=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ki)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new TP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class kL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uP(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=i=>{i.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _T(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function y0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return lv(s)===lv(i)?nt(s,i):lv(s)?1:-1}return nt(t.length,e.length)}const ML=55296,OL=57343;function lv(t){const e=t.charCodeAt(0);return e>=ML&&e<=OL}function yc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__name__";class Ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ws.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return nt(e.length,n.length)}static compareSegments(e,n){const r=Ws.isNumericId(e),s=Ws.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ws.extractNumericId(e).compare(Ws.extractNumericId(n)):y0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Po.fromString(e.substring(4,e.length-2))}}class Pt extends Ws{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const VL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Ws{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return VL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new Rn([wT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Pt.fromString(e))}static fromName(e){return new je(Pt.fromString(e).popFirst(5))}static empty(){return new je(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LL(t,e,n,r){if(e===!0&&r===!0)throw new ve(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bT(t){if(!je.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(je.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wd(t,e){if(!EP(t))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ve(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=-62135596800,ET=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ET);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ST)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wd(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ST;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:an("string",Ot._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ot(0,0))}static max(){return new qe(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function FL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Oo(s,je.empty(),e)}function BL(t){return new Oo(t.readTime,t.key,Td)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(qe.min(),je.empty(),Td)}static max(){return new Oo(qe.max(),je.empty(),Td)}}function zL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $L{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==UL)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let s=0,i=0,o=!1;e.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(u=>r(u)))})),o=!0,i===s&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((s=>s?ce.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next((f=>{o[d]=f,++l,l===i&&r(o)}),(f=>s(f)))}}))}static doWhile(e,n){return new ce(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function HL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=-1;function bm(t){return t==null}function Np(t){return t===0&&1/t==-1/0}function WL(t){return typeof t=="number"&&Number.isInteger(t)&&!Np(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="";function qL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=GL(t.get(n),e);return CT(e)}function GL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case CP:n+="";break;default:n+=i}}return n}function CT(t){return t+CP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=s??Pn.EMPTY,this.right=i??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(e){return new PT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class PT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new wr([])}unionWith(e){let n=new fn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PP("Invalid base64 string: "+i):i}})(e);return new In(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const KL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=KL.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="server_timestamp",IP="__type__",kP="__previous_value__",NP="__local_write_time__";function Tm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IP])==null?void 0:r.stringValue)===RP}function Sm(t){const e=t.mapValue.fields[kP];return Tm(e)?Sm(e):e}function Sd(t){const e=Vo(t.mapValue.fields[NP].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,s,i,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const Dp="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||Dp}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Dp}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="__type__",YL="__max__",Cf={mapValue:{}},jP="__vector__",jp="value";function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tm(t)?4:ZL(t)?9007199254740991:XL(t)?10:11:$e(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vo(s.timestampValue),l=Vo(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Lo(s.bytesValue).isEqual(Lo(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Zt(s.geoPointValue.latitude)===Zt(i.geoPointValue.latitude)&&Zt(s.geoPointValue.longitude)===Zt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Zt(s.integerValue)===Zt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Zt(s.doubleValue),l=Zt(i.doubleValue);return o===l?Np(o)===Np(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(AT(o)!==AT(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!ti(o[u],l[u])))return!1;return!0})(t,e);default:return $e(52216,{left:t})}}function Cd(t,e){return(t.values||[]).find((n=>ti(n,e)))!==void 0}function vc(t,e){if(t===e)return 0;const n=Fo(t),r=Fo(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=Zt(i.integerValue||i.doubleValue),u=Zt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return RT(t.timestampValue,e.timestampValue);case 4:return RT(Sd(t),Sd(e));case 5:return y0(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=Lo(i),u=Lo(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=nt(l[d],u[d]);if(f!==0)return f}return nt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=nt(Zt(i.latitude),Zt(o.latitude));return l!==0?l:nt(Zt(i.longitude),Zt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var v,x,T,b;const l=i.fields||{},u=o.fields||{},d=(v=l[jp])==null?void 0:v.arrayValue,f=(x=u[jp])==null?void 0:x.arrayValue,g=nt(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((b=f==null?void 0:f.values)==null?void 0:b.length)||0);return g!==0?g:IT(d,f)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Cf.mapValue&&o===Cf.mapValue)return 0;if(i===Cf.mapValue)return 1;if(o===Cf.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const v=y0(u[g],f[g]);if(v!==0)return v;const x=vc(l[u[g]],d[f[g]]);if(x!==0)return x}return nt(u.length,f.length)})(t.mapValue,e.mapValue);default:throw $e(23264,{he:n})}}function RT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Vo(t),r=Vo(e),s=nt(n.seconds,r.seconds);return s!==0?s:nt(n.nanos,r.nanos)}function IT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=vc(n[s],r[s]);if(i)return i}return nt(n.length,r.length)}function xc(t){return v0(t)}function v0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=v0(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${v0(n.fields[o])}`;return s+"}"})(t.mapValue):$e(61005,{value:t})}function up(t){switch(Fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sm(t);return e?16+up(e):16;case 5:return 2*t.stringValue.length;case 6:return Lo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+up(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ko(r.fields,((i,o)=>{s+=i.length+up(o)})),s})(t.mapValue);default:throw $e(13486,{value:t})}}function Mp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function x0(t){return!!t&&"integerValue"in t}function Dx(t){return!!t&&"arrayValue"in t}function kT(t){return!!t&&"nullValue"in t}function NT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function XL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DP])==null?void 0:r.stringValue)===jP}function ld(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ld(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ld(t.arrayValue.values[n]);return e}return{...t}}function ZL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(n)}setAll(e){let n=Rn.emptyPath(),r={},s=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=ld(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new dr(ld(this.value))}}function MP(t){const e=[];return Ko(t.fields,((n,r)=>{const s=new Rn([n]);if(dp(r)){const i=MP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new $n(e,0,qe.min(),qe.min(),qe.min(),dr.empty(),0)}static newFoundDocument(e,n,r,s){return new $n(e,1,n,qe.min(),r,s,0)}static newNoDocument(e,n){return new $n(e,2,n,qe.min(),qe.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,qe.min(),qe.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.position=e,this.inclusive=n}}function DT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=vc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function jT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function JL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OP=class{};class sn extends OP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t4(e,n,r):n==="array-contains"?new s4(e,r):n==="in"?new i4(e,r):n==="not-in"?new o4(e,r):n==="array-contains-any"?new a4(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n4(e,r):new r4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vc(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends OP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ws(e,n)}matches(e){return VP(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VP(t){return t.op==="and"}function LP(t){return e4(t)&&VP(t)}function e4(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function _0(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+xc(t.value);if(LP(t))return t.filters.map((e=>_0(e))).join(",");{const e=t.filters.map((n=>_0(n))).join(",");return`${t.op}(${e})`}}function FP(t,e){return t instanceof sn?(function(r,s){return s instanceof sn&&r.op===s.op&&r.field.isEqual(s.field)&&ti(r.value,s.value)})(t,e):t instanceof ws?(function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&FP(o,s.filters[l])),!0):!1})(t,e):void $e(19439)}function BP(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${xc(n.value)}`})(t):t instanceof ws?(function(n){return n.op.toString()+" {"+n.getFilters().map(BP).join(" ,")+"}"})(t):"Filter"}class t4 extends sn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class n4 extends sn{constructor(e,n){super(e,"in",n),this.keys=zP("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class r4 extends sn{constructor(e,n){super(e,"not-in",n),this.keys=zP("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>je.fromName(r.referenceValue)))}class s4 extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dx(n)&&Cd(n.arrayValue,this.value)}}class i4 extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cd(this.value.arrayValue,n)}}class o4 extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cd(this.value.arrayValue,n)}}class a4 extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Cd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function MT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new l4(t,e,n,r,s,i,o)}function jx(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xc(r))).join(",")),e.Te=n}return e.Te}function Mx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jT(t.startAt,e.startAt)&&jT(t.endAt,e.endAt)}function w0(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c4(t,e,n,r,s,i,o,l){return new Za(t,e,n,r,s,i,o,l)}function Ox(t){return new Za(t)}function OT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vx(t){return t.collectionGroup!==null}function ac(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new fn(Rn.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ad(i,r))})),n.has(Rn.keyField().canonicalString())||e.Ie.push(new Ad(Rn.keyField(),r))}return e.Ie}function Ks(t){const e=Ge(t);return e.Ee||(e.Ee=u4(e,ac(t))),e.Ee}function u4(t,e){if(t.limitType==="F")return MT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Ad(s.field,i)}));const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return MT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b0(t,e){const n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Em(t,e){return Mx(Ks(t),Ks(e))&&t.limitType===e.limitType}function UP(t){return`${jx(Ks(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>BP(s))).join(", ")}]`),bm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>xc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>xc(s))).join(",")),`Target(${r})`})(Ks(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):je.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of ac(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,l,u){const d=DT(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,ac(r),s)||r.endAt&&!(function(o,l,u){const d=DT(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,ac(r),s))})(t,e)}function d4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $P(t){return(e,n)=>{let r=!1;for(const s of ac(t)){const i=h4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h4(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?vc(u,d):$e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return AP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Wt(je.comparator);function Oi(){return f4}const HP=new Wt(je.comparator);function Xu(...t){let e=HP;for(const n of t)e=e.insert(n.key,n);return e}function WP(t){let e=HP;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ma(){return cd()}function qP(){return cd()}function cd(){return new Ja((t=>t.toString()),((t,e)=>t.isEqual(e)))}const p4=new Wt(je.comparator),m4=new fn(je.comparator);function rt(...t){let e=m4;for(const n of t)e=e.add(n);return e}const g4=new fn(nt);function y4(){return g4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Np(e)?"-0":e}}function GP(t){return{integerValue:""+t}}function v4(t,e){return WL(e)?GP(e):Lx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof Vp?(function(s,i){const o={fields:{[IP]:{stringValue:RP},[NP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Tm(i)&&(i=Sm(i)),i&&(o.fields[kP]=i),{mapValue:o}})(n,e):t instanceof Pd?QP(t,e):t instanceof Rd?YP(t,e):(function(s,i){const o=KP(s,i),l=VT(o)+VT(s.Ae);return x0(o)&&x0(s.Ae)?GP(l):Lx(s.serializer,l)})(t,e)}function _4(t,e,n){return t instanceof Pd?QP(t,e):t instanceof Rd?YP(t,e):n}function KP(t,e){return t instanceof Lp?(function(r){return x0(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Vp extends Am{}class Pd extends Am{constructor(e){super(),this.elements=e}}function QP(t,e){const n=XP(e);for(const r of t.elements)n.some((s=>ti(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Rd extends Am{constructor(e){super(),this.elements=e}}function YP(t,e){let n=XP(e);for(const r of t.elements)n=n.filter((s=>!ti(s,r)));return{arrayValue:{values:n}}}class Lp extends Am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function VT(t){return Zt(t.integerValue||t.doubleValue)}function XP(t){return Dx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w4(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Pd&&s instanceof Pd||r instanceof Rd&&s instanceof Rd?yc(r.elements,s.elements,ti):r instanceof Lp&&s instanceof Lp?ti(r.Ae,s.Ae):r instanceof Vp&&s instanceof Vp})(t.transform,e.transform)}class b4{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pm{}function ZP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rm(t.key,Zn.none()):new qd(t.key,t.data,Zn.none());{const n=t.data,r=dr.empty();let s=new fn(Rn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Qo(t.key,r,new wr(s.toArray()),Zn.none())}}function T4(t,e,n){t instanceof qd?(function(s,i,o){const l=s.value.clone(),u=FT(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Qo?(function(s,i,o){if(!hp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=FT(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(JP(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function ud(t,e,n,r){return t instanceof qd?(function(i,o,l,u){if(!hp(i.precondition,o))return l;const d=i.value.clone(),f=BT(i.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qo?(function(i,o,l,u){if(!hp(i.precondition,o))return l;const d=BT(i.fieldTransforms,u,o),f=o.data;return f.setAll(JP(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,o,l){return hp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function S4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KP(r.transform,s||null);i!=null&&(n===null&&(n=dr.empty()),n.set(r.field,i))}return n||null}function LT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yc(r,s,((i,o)=>w4(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qd extends Pm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends Pm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JP(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function FT(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,_4(o,l,n[s]))}return r}function BT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,x4(i,o,e))}return r}class Rm extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E4 extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ud(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ud(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qP();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=ZP(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,((n,r)=>LT(n,r)))&&yc(this.baseMutations,e.baseMutations,((n,r)=>LT(n,r)))}}class Fx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return p4})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,at;function R4(t){switch(t){case le.OK:return $e(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function eR(t){if(t===void 0)return Mi("GRPC error has no .code"),le.UNKNOWN;switch(t){case rn.OK:return le.OK;case rn.CANCELLED:return le.CANCELLED;case rn.UNKNOWN:return le.UNKNOWN;case rn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case rn.INTERNAL:return le.INTERNAL;case rn.UNAVAILABLE:return le.UNAVAILABLE;case rn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case rn.NOT_FOUND:return le.NOT_FOUND;case rn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case rn.ABORTED:return le.ABORTED;case rn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case rn.DATA_LOSS:return le.DATA_LOSS;default:return $e(39323,{code:t})}}(at=rn||(rn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Po([4294967295,4294967295],0);function zT(t){const e=I4().encode(t),n=new gP;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Po([n,r],0),new Po([s,i],0)]}class Bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Po.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Po.fromNumber(r)));return s.compare(k4)===1&&(s=new Po([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zT(e),[r,s]=UT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bx(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=zT(e),[r,s]=UT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Im(qe.min(),s,new Wt(nt),Oi(),rt())}}class Gd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gd(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class tR{constructor(e,n){this.targetId=e,this.Ce=n}}class nR{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $T{constructor(){this.ve=0,this.Fe=HT(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:$e(38017,{changeType:i})}})),new Gd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class N4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oi(),this.Je=Af(),this.He=Af(),this.Ye=new Wt(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(w0(i))if(r===0){const o=new je(i.path);this.et(n,o,$n.newNoDocument(o,qe.min()))}else wt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Lo(r).toUint8Array()}catch(u){if(u instanceof PP)return gc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Bx(o,s,i)}catch(u){return gc(u instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&w0(l.target)){const u=new je(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,$n.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=rt();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Im(e,n,this.Ye,this.je,r);return this.je=Oi(),this.Je=Af(),this.He=Af(),this.Ye=new Wt(nt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $T,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new Wt(je.comparator)}function HT(){return new Wt(je.comparator)}const D4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"};class O4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T0(t,e){return t.useProto3Json||bm(e)?e:{value:e}}function Fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V4(t,e){return Fp(t,e.toTimestamp())}function Qs(t){return wt(!!t,49232),qe.fromTimestamp((function(n){const r=Vo(n);return new Ot(r.seconds,r.nanos)})(t))}function zx(t,e){return S0(t,e).canonicalString()}function S0(t,e){const n=(function(s){return new Pt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sR(t){const e=Pt.fromString(t);return wt(cR(e),10190,{key:e.toString()}),e}function E0(t,e){return zx(t.databaseId,e.path)}function cv(t,e){const n=sR(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(oR(n))}function iR(t,e){return zx(t.databaseId,e)}function L4(t){const e=sR(t);return e.length===4?Pt.emptyPath():oR(e)}function C0(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oR(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WT(t,e,n){return{name:E0(t,e),fields:n.value.mapValue.fields}}function F4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:$e(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(d,f){return d.useProto3Json?(wt(f===void 0||typeof f=="string",58123),In.fromBase64String(f||"")):(wt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),In.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?le.UNKNOWN:eR(d.code);return new ve(f,d.message||"")})(o);n=new nR(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cv(t,r.document.name),i=Qs(r.document.updateTime),o=r.document.createTime?Qs(r.document.createTime):qe.min(),l=new dr({mapValue:{fields:r.document.fields}}),u=$n.newFoundDocument(s,i,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new fp(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cv(t,r.document),i=r.readTime?Qs(r.readTime):qe.min(),o=$n.newNoDocument(s,i),l=r.removedTargetIds||[];n=new fp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cv(t,r.document),i=r.removedTargetIds||[];n=new fp([],i,s,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new P4(s,i),l=r.targetId;n=new tR(l,o)}}return n}function B4(t,e){let n;if(e instanceof qd)n={update:WT(t,e.key,e.value)};else if(e instanceof Rm)n={delete:E0(t,e.key)};else if(e instanceof Qo)n={update:WT(t,e.key,e.data),updateMask:Q4(e.fieldMask)};else{if(!(e instanceof E4))return $e(16599,{Vt:e.type});n={verify:E0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof Vp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Lp)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw $e(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:V4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:$e(27497)})(t,e.precondition)),n}function z4(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Qs(s.updateTime):Qs(i);return o.isEqual(qe.min())&&(o=Qs(i)),new b4(o,s.transformResults||[])})(n,e)))):[]}function U4(t,e){return{documents:[iR(t,e.path)]}}function $4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iR(t,s);const i=(function(d){if(d.length!==0)return lR(ws.create(d,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((f=>(function(v){return{field:Zl(v.field),direction:q4(v.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=T0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:s}}function H4(t){let e=L4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=(function(g){const v=aR(g);return v instanceof ws&&LP(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((v=>(function(T){return new Ad(Jl(T.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let v;return v=typeof g=="object"?g.value:g,bm(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(g){const v=!!g.before,x=g.values||[];return new _c(x,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const v=!g.before,x=g.values||[];return new _c(x,v)})(n.endAt)),c4(e,s,o,i,l,"F",u,d)}function W4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Jl(n.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jl(n.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jl(n.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(Jl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ws.create(n.compositeFilter.filters.map((r=>aR(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(n.compositeFilter.op))})(t):$e(30097,{filter:t})}function q4(t){return D4[t]}function G4(t){return j4[t]}function K4(t){return M4[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function Jl(t){return Rn.fromServerFormat(t.fieldPath)}function lR(t){return t instanceof sn?(function(n){if(n.op==="=="){if(NT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(kT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(kT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:G4(n.op),value:n.value}}})(t):t instanceof ws?(function(n){const r=n.getFilters().map((s=>lR(s)));return r.length===1?r[0]:{compositeFilter:{op:K4(n.op),filters:r}}})(t):$e(54877,{filter:t})}function Q4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,s,i=qe.min(),o=qe.min(),l=In.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.yt=e}}function X4(t){const e=H4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.Cn=new J4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Oo.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class J4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new fn(Pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uR=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(uR,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wc(0)}static cr(){return new wc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",eF=1048576;function KT([t,e],[n,r]){const s=nt(t,n);return s===0?nt(e,r):s}class tF{constructor(e){this.Ir=e,this.buffer=new fn(KT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(GT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dc(n)?Ae(GT,"Ignoring IndexedDB error during garbage collection: ",n):await Nc(n)}await this.Vr(3e5)}))}}class rF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(wm.ce);const r=new tF(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(qT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Yl()<=lt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function sF(t,e){return new rF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.changes=new Ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&ud(r.mutation,s,wr.empty(),Ot.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const s=Ma();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Xu();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ma();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,s){let i=Oi();const o=cd(),l=(function(){return cd()})();return n.forEach(((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof Qo)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ud(f.mutation,d,f.mutation.getFieldMask(),Ot.now())):o.set(d.key,wr.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>l.set(d,new oF(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=cd();let s=new Wt(((o,l)=>o-l)),i=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||wr.empty();f=l.applyToLocalView(d,f),r.set(u,f);const g=(s.get(l.batchId)||rt()).add(u);s=s.insert(l.batchId,g)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,g=qP();f.forEach((v=>{if(!i.has(v)){const x=ZP(n.get(v),r.get(v));x!==null&&g.set(v,x),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return ce.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ce.resolve(Ma());let l=Td,u=i;return o.next((d=>ce.forEach(d,((f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),i.get(f)?ce.resolve():this.remoteDocumentCache.getEntry(e,f).next((v=>{u=u.insert(f,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,u,d,rt()))).next((f=>({batchId:l,changes:WP(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let s=Xu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Xu();return this.indexManager.getCollectionParents(e,i).next((l=>ce.forEach(l,(u=>{const d=(function(g,v){return new Za(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((f=>{f.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,$n.newInvalidDocument(f)))}));let l=Xu();return o.forEach(((u,d)=>{const f=i.get(u);f!==void 0&&ud(f.mutation,d,wr.empty(),Ot.now()),Cm(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Qs(s.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:X4(s.bundledQuery),readTime:Qs(s.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.overlays=new Wt(je.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ma();return ce.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Ma(),i=n.length+1,o=new je(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Wt(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=Ma(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Ma(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=s)););return ce.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new A4(n,r));let i=this.qr.get(n);i===void 0&&(i=rt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Qr=new fn(wn.$r),this.Ur=new fn(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new je(new Pt([])),r=new wn(n,e),s=new wn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new Pt([])),r=new wn(n,e),s=new wn(n,e+1);let i=rt();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fn(wn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C4(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new wn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ce.resolve(o)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Nx:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),s=new wn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(nt);return n.forEach((s=>{const i=new wn(s,0),o=new wn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;je.isDocumentKey(i)||(i=i.child(""));const o=new wn(new je(i),0);let l=new fn(nt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.Yr)),!0)}),o),ce.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,(s=>{const i=new wn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new wn(n,0),s=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.ri=e,this.docs=(function(){return new Wt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$n.newInvalidDocument(s))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Oi();const o=n.path,l=new je(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||zL(BL(f),r)<=0||(s.has(f.key)||Cm(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,n,r,s){$e(9500)}ii(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fF(this)}getSize(e){return ce.resolve(this.size)}}class fF extends iF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.persistence=e,this.si=new Ja((n=>jx(n)),Mx),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ux,this.targetCount=0,this.ai=wc.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),ce.waitFor(i).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),ce.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.ui={},this.overlays={},this.ci=new wm(0),this.li=!1,this.li=!0,this.hi=new uF,this.referenceDelegate=e(this),this.Pi=new pF(this),this.indexManager=new Z4,this.remoteDocumentCache=(function(s){return new hF(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Y4(n),this.Ii=new lF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const s=new mF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class mF extends $L{constructor(e){super(),this.currentSequenceNumber=e}}class $x{constructor(e){this.persistence=e,this.Ri=new Ux,this.Vi=null}static mi(e){return new $x(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const s=je.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bp{constructor(e,n){this.persistence=e,this.pi=new Ja((r=>qL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=sF(this,n)}static mi(e,n){return new Bp(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?ce.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,i.removeEntry(o,qe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=up(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=rt(),s=rt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hV()?8:HL(uV())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new gF;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yl()<=lt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Yl()<=lt.DEBUG&&Ae("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yl()<=lt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):ce.resolve())}ys(e,n){if(OT(n))return ce.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Op(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=rt(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Op(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,s){return OT(n)||s.isEqual(qe.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?ce.resolve(null):(Yl()<=lt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xl(n)),this.vs(e,o,n,FL(s,Td)).next((l=>l)))}))}Ds(e,n){let r=new fn($P(e));return n.forEach(((s,i)=>{Cm(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yl()<=lt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.ps.getDocumentsMatchingQuery(e,n,Oo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="LocalStore",vF=3e8;class xF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Wt(nt),this.xs=new Ja((i=>jx(i)),Mx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _F(t,e,n,r){return new xF(t,e,n,r)}async function hR(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let u=rt();for(const d of s){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function wF(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const g=d.batch,v=g.keys();let x=ce.resolve();return v.forEach((T=>{x=x.next((()=>f.getEntry(u,T))).next((b=>{const w=d.docVersions.get(T);wt(w!==null,48541),b.version.compareTo(w)<0&&(g.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=rt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function fR(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bF(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach(((f,g)=>{const v=s.get(g);if(!v)return;l.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,f.addedDocuments,g))));let x=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(In.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),s=s.insert(g,x),(function(b,w,R){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=vF?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,x,f)&&l.push(n.Pi.updateTargetData(i,x))}));let u=Oi(),d=rt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),l.push(TF(i,o,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(qe.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(f)}return ce.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,d))).next((()=>u))})).then((i=>(n.Ms=s,i)))}function TF(t,e,n){let r=rt(),s=rt();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=Oi();return n.forEach(((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(qe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ae(Wx,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:s}}))}function SF(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function EF(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,ce.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new bo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function A0(t,e,n){const r=Ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Dc(o))throw o;Ae(Wx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function QT(t,e,n){const r=Ge(t);let s=qe.min(),i=rt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const g=Ge(u),v=g.xs.get(f);return v!==void 0?ce.resolve(g.Ms.get(v)):g.Pi.getTargetData(d,f)})(r,o,Ks(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:qe.min(),n?i:rt()))).next((l=>(CF(r,d4(e),l),{documents:l,Qs:i})))))}function CF(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class YT{constructor(){this.activeTargetIds=y4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AF{constructor(){this.Mo=new YT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="ConnectivityMonitor";class ZT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(XT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(XT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function P0(){return Pf===null?Pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="RestConnection",RF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=P0(),l=this.zo(e,n.toUriEncodedString());Ae(uv,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(l),f=xm(d);return this.Jo(e,l,u,r,f).then((g=>(Ae(uv,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw gc(uv,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=RF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class NF extends IF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=P0();return new Promise(((l,u)=>{const d=new yP;d.setWithCredentials(!0),d.listenOnce(vP.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case cp.NO_ERROR:const g=d.getResponseJson();Ae(Fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case cp.TIMEOUT:Ae(Fn,`RPC '${e}' ${o} timed out`),u(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const v=d.getStatus();if(Ae(Fn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x==null?void 0:x.error;if(T&&T.status&&T.message){const b=(function(R){const k=R.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(T.status);u(new ve(b,T.message))}else u(new ve(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ve(le.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ae(Fn,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(s);Ae(Fn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const s=P0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wP(),l=_P(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");Ae(Fn,`Creating RPC '${e}' stream ${s}: ${f}`,u);const g=o.createWebChannel(f,u);this.I_(g);let v=!1,x=!1;const T=new kF({Yo:w=>{x?Ae(Fn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(v||(Ae(Fn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),Ae(Fn,`RPC '${e}' stream ${s} sending:`,w),g.send(w))},Zo:()=>g.close()}),b=(w,R,k)=>{w.listen(R,(N=>{try{k(N)}catch(O){setTimeout((()=>{throw O}),0)}}))};return b(g,Yu.EventType.OPEN,(()=>{x||(Ae(Fn,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),b(g,Yu.EventType.CLOSE,(()=>{x||(x=!0,Ae(Fn,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(g))})),b(g,Yu.EventType.ERROR,(w=>{x||(x=!0,gc(Fn,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),T.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),b(g,Yu.EventType.MESSAGE,(w=>{var R;if(!x){const k=w.data[0];wt(!!k,16349);const N=k,O=(N==null?void 0:N.error)||((R=N[0])==null?void 0:R.error);if(O){Ae(Fn,`RPC '${e}' stream ${s} received error:`,O);const B=O.status;let U=(function(P){const j=rn[P];if(j!==void 0)return eR(j)})(B),M=O.message;U===void 0&&(U=le.INTERNAL,M="Unknown error status: "+B+" with message "+O.message),x=!0,T.a_(new ve(U,M)),g.close()}else Ae(Fn,`RPC '${e}' stream ${s} received:`,k),T.u_(k)}})),b(l,xP.STAT_EVENT,(w=>{w.stat===g0.PROXY?Ae(Fn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===g0.NOPROXY&&Ae(Fn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){return new O4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="PersistentStream";class mR{constructor(e,n,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ve(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(JT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(JT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DF extends mR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F4(this.serializer,e),r=(function(i){if(!("targetChange"in i))return qe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?qe.min():o.readTime?Qs(o.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=C0(this.serializer),n.addTarget=(function(i,o){let l;const u=o.target;if(l=w0(u)?{documents:U4(i,u)}:{query:$4(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=rR(i,o.resumeToken);const d=T0(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(qe.min())>0){l.readTime=Fp(i,o.snapshotVersion.toTimestamp());const d=T0(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=W4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=C0(this.serializer),n.removeTarget=e,this.q_(n)}}class jF extends mR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=z4(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=C0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>B4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{}class OF extends MF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,S0(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(le.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,S0(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class LF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{el(this)&&(Ae(Ha,"Restarting streams for network reachability change."),await(async function(u){const d=Ge(u);d.Ea.add(4),await Kd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Nm(d)})(this))}))})),this.Ra=new VF(r,s)}}async function Nm(t){if(el(t))for(const e of t.da)await e(!0)}async function Kd(t){for(const e of t.da)await e(!1)}function gR(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qx(n)?Kx(n):jc(n).O_()&&Gx(n,e))}function qx(t,e){const n=Ge(t),r=jc(n);n.Ia.delete(e),r.O_()&&yR(n,e),n.Ia.size===0&&(r.O_()?r.L_():el(n)&&n.Ra.set("Unknown"))}function Gx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).Y_(e)}function yR(t,e){t.Va.Ue(e),jc(t).Z_(e)}function Kx(t){t.Va=new N4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.Ra.ua()}function Qx(t){return el(t)&&!jc(t).x_()&&t.Ia.size>0}function el(t){return Ge(t).Ea.size===0}function vR(t){t.Va=void 0}async function FF(t){t.Ra.set("Online")}async function BF(t){t.Ia.forEach(((e,n)=>{Gx(t,e)}))}async function zF(t,e){vR(t),Qx(t)?(t.Ra.ha(e),Kx(t)):t.Ra.set("Unknown")}async function UF(t,e,n){if(t.Ra.set("Online"),e instanceof nR&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(t,e)}catch(r){Ae(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zp(t,r)}else if(e instanceof fp?t.Va.Ze(e):e instanceof tR?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await fR(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(In.EMPTY_BYTE_STRING,f.snapshotVersion)),yR(i,u);const g=new bo(f.target,u,d,f.sequenceNumber);Gx(i,g)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ae(Ha,"Failed to raise snapshot:",r),await zp(t,r)}}async function zp(t,e,n){if(!Dc(e))throw e;t.Ea.add(1),await Kd(t),t.Ra.set("Offline"),n||(n=()=>fR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(Ha,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nm(t)}))}function xR(t,e){return e().catch((n=>zp(t,n,e)))}async function Dm(t){const e=Ge(t),n=Bo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nx;for(;$F(e);)try{const s=await SF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,HF(e,s)}catch(s){await zp(e,s)}_R(e)&&wR(e)}function $F(t){return el(t)&&t.Ta.length<10}function HF(t,e){t.Ta.push(e);const n=Bo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _R(t){return el(t)&&!Bo(t).x_()&&t.Ta.length>0}function wR(t){Bo(t).start()}async function WF(t){Bo(t).ra()}async function qF(t){const e=Bo(t);for(const n of t.Ta)e.ea(n.mutations)}async function GF(t,e,n){const r=t.Ta.shift(),s=Fx.from(r,e,n);await xR(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Dm(t)}async function KF(t,e){e&&Bo(t).X_&&await(async function(r,s){if((function(o){return R4(o)&&o!==le.ABORTED})(s.code)){const i=r.Ta.shift();Bo(r).B_(),await xR(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Dm(r)}})(t,e),_R(t)&&wR(t)}async function eS(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ae(Ha,"RemoteStore received new credentials");const r=el(n);n.Ea.add(3),await Kd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nm(n)}async function QF(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Nm(n)):e||(n.Ea.add(2),await Kd(n),n.Ra.set("Unknown"))}function jc(t){return t.ma||(t.ma=(function(n,r,s){const i=Ge(n);return i.sa(),new DF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:FF.bind(null,t),t_:BF.bind(null,t),r_:zF.bind(null,t),H_:UF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Qx(t)?Kx(t):t.Ra.set("Unknown")):(await t.ma.stop(),vR(t))}))),t.ma}function Bo(t){return t.fa||(t.fa=(function(n,r,s){const i=Ge(n);return i.sa(),new jF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WF.bind(null,t),r_:KF.bind(null,t),ta:qF.bind(null,t),na:GF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Dm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(Ha,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Yx(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xx(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Dc(t))return new ve(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{static emptySet(e){return new lc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.ga=new Wt(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bc{constructor(e,n,r,s,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new bc(e,n,lc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XF{constructor(){this.queries=nS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ge(n),i=s.queries;s.queries=nS(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function nS(){return new Ja((t=>UP(t)),Em)}async function bR(t,e){const n=Ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new YF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Xx(o,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Zx(n)}async function TR(t,e){const n=Ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZF(t,e){const n=Ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&Zx(n)}function JF(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Zx(t){t.Ca.forEach((e=>{e.next()}))}var R0,rS;(rS=R0||(R0={})).Ma="default",rS.Cache="cache";class SR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==R0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.key=e}}class CR{constructor(e){this.key=e}}class e5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=$P(e),this.tu=new lc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new tS,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((f,g)=>{const v=s.get(f),x=Cm(this.query,g)?g:null,T=!!v&&this.mutatedKeys.has(v.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let w=!1;v&&x?v.data.isEqual(x.data)?T!==b&&(r.track({type:3,doc:x}),w=!0):this.su(v,x)||(r.track({type:2,doc:x}),w=!0,(u&&this.eu(x,u)>0||d&&this.eu(x,d)<0)&&(l=!0)):!v&&x?(r.track({type:0,doc:x}),w=!0):v&&!x&&(r.track({type:1,doc:v}),w=!0,(u||d)&&(l=!0)),w&&(x?(o=o.add(x),i=b?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,g)=>(function(x,T){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:w})}};return b(x)-b(T)})(f.type,g.type)||this.eu(f.doc,g.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new bc(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new CR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ER(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jx="SyncEngine";class t5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n5{constructor(e){this.key=e,this.hu=!1}}class r5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ja((l=>UP(l)),Em),this.Iu=new Map,this.Eu=new Set,this.du=new Wt(je.comparator),this.Au=new Map,this.Ru=new Ux,this.Vu={},this.mu=new Map,this.fu=wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s5(t,e,n=!0){const r=NR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await AR(r,e,n,!0),s}async function i5(t,e){const n=NR(t);await AR(n,e,!0,!1)}async function AR(t,e,n,r){const s=await EF(t.localStore,Ks(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await o5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&gR(t.remoteStore,s),l}async function o5(t,e,n,r,s){t.pu=(g,v,x)=>(async function(b,w,R,k){let N=w.view.ru(R);N.Cs&&(N=await QT(b.localStore,w.query,!1).then((({documents:M})=>w.view.ru(M,N))));const O=k&&k.targetChanges.get(w.targetId),B=k&&k.targetMismatches.get(w.targetId)!=null,U=w.view.applyChanges(N,b.isPrimaryClient,O,B);return iS(b,w.targetId,U.au),U.snapshot})(t,g,v,x);const i=await QT(t.localStore,e,!0),o=new e5(e,i.Qs),l=o.ru(i.documents),u=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);iS(t,n,d.au);const f=new t5(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function a5(t,e,n){const r=Ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Em(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await A0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&qx(r.remoteStore,s.targetId),I0(r,s.targetId)})).catch(Nc)):(I0(r,s.targetId),await A0(r.localStore,s.targetId,!0))}async function l5(t,e){const n=Ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qx(n.remoteStore,r.targetId))}async function c5(t,e,n){const r=g5(t);try{const s=await(function(o,l){const u=Ge(o),d=Ot.now(),f=l.reduce(((x,T)=>x.add(T.key)),rt());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=Oi(),b=rt();return u.Ns.getEntries(x,f).next((w=>{T=w,T.forEach(((R,k)=>{k.isValidDocument()||(b=b.add(R))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,T))).next((w=>{g=w;const R=[];for(const k of l){const N=S4(k,g.get(k.key).overlayedDocument);N!=null&&R.push(new Qo(k.key,N,MP(N.value.mapValue),Zn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,R,l)})).next((w=>{v=w;const R=w.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(x,w.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:WP(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Wt(nt)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,s.batchId,n),await Qd(r,s.changes),await Dm(r.remoteStore)}catch(s){const i=Xx(s,"Failed to persist write");n.reject(i)}}async function PR(t,e){const n=Ge(t);try{const r=await bF(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?wt(o.hu,14607):s.removedDocuments.size>0&&(wt(o.hu,42227),o.hu=!1))})),await Qd(n,r,e)}catch(r){await Nc(r)}}function sS(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const u=Ge(o);u.onlineState=l;let d=!1;u.queries.forEach(((f,g)=>{for(const v of g.Sa)v.va(l)&&(d=!0)})),d&&Zx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u5(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Wt(je.comparator);o=o.insert(i,$n.newNoDocument(i,qe.min()));const l=rt().add(i),u=new Im(qe.min(),new Map,new Wt(nt),o,l);await PR(r,u),r.du=r.du.remove(i),r.Au.delete(e),e_(r)}else await A0(r.localStore,e,!1).then((()=>I0(r,e,n))).catch(Nc)}async function d5(t,e){const n=Ge(t),r=e.batch.batchId;try{const s=await wF(n.localStore,e);IR(n,r,null),RR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qd(n,s)}catch(s){await Nc(s)}}async function h5(t,e,n){const r=Ge(t);try{const s=await(function(o,l){const u=Ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((g=>(wt(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);IR(r,e,n),RR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qd(r,s)}catch(s){await Nc(s)}}function RR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function IR(t,e,n){const r=Ge(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||kR(t,r)}))}function kR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),e_(t))}function iS(t,e,n){for(const r of n)r instanceof ER?(t.Ru.addReference(r.key,e),f5(t,r)):r instanceof CR?(Ae(Jx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kR(t,r.key)):$e(19791,{wu:r})}function f5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ae(Jx,"New document in limbo: "+n),t.Eu.add(r),e_(t))}function e_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new n5(n)),t.du=t.du.insert(n,r),gR(t.remoteStore,new bo(Ks(Ox(n.path)),r,"TargetPurposeLimboResolution",wm.ce))}}async function Qd(t,e,n){const r=Ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Hx.As(u.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,d){const f=Ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ce.forEach(d,(v=>ce.forEach(v.Es,(x=>f.persistence.referenceDelegate.addReference(g,v.targetId,x))).next((()=>ce.forEach(v.ds,(x=>f.persistence.referenceDelegate.removeReference(g,v.targetId,x)))))))))}catch(g){if(!Dc(g))throw g;Ae(Wx,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const x=f.Ms.get(v),T=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(v,b)}}})(r.localStore,i))}async function p5(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ae(Jx,"User change. New user:",e.toKey());const r=await hR(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new ve(le.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qd(n,r.Ls)}}function m5(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let s=rt();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function NR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u5.bind(null,e),e.Pu.H_=ZF.bind(null,e.eventManager),e.Pu.yu=JF.bind(null,e.eventManager),e}function g5(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h5.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _F(this.persistence,new yF,e.initialUser,this.serializer)}Cu(e){return new dR($x.mi,this.serializer)}Du(e){return new AF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class y5 extends Up{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Bp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new dR((r=>Bp.mi(r,n)),this.serializer)}}class k0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p5.bind(null,this.syncEngine),await QF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XF})()}createDatastore(e){const n=km(e.databaseInfo.databaseId),r=(function(i){return new NF(i)})(e.databaseInfo);return(function(i,o,l,u){return new OF(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,l){return new LF(r,s,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>sS(this.syncEngine,n,0)),(function(){return ZT.v()?new ZT:new PF})())}createSyncEngine(e,n){return(function(s,i,o,l,u,d,f){const g=new r5(s,i,o,l,u,d);return f&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=Ge(s);Ae(Ha,"RemoteStore shutting down."),i.Ea.add(5),await Kd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}k0.provider={build:()=>new k0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class v5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Un.UNAUTHENTICATED,this.clientId=kx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ae(zo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ae(zo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hv(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await hR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x5(t);Ae(zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>eS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>eS(e.remoteStore,s))),t._onlineComponents=e}async function x5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(zo,"Using user provided OfflineComponentProvider");try{await hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await hv(t,new Up)}}else Ae(zo,"Using default OfflineComponentProvider"),await hv(t,new y5(void 0));return t._offlineComponents}async function jR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(zo,"Using user provided OnlineComponentProvider"),await oS(t,t._uninitializedComponentsProvider._online)):(Ae(zo,"Using default OnlineComponentProvider"),await oS(t,new k0))),t._onlineComponents}function _5(t){return jR(t).then((e=>e.syncEngine))}async function MR(t){const e=await jR(t),n=e.eventManager;return n.onListen=s5.bind(null,e.syncEngine),n.onUnlisten=a5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l5.bind(null,e.syncEngine),n}function w5(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const f=new DR({next:v=>{f.Nu(),o.enqueueAndForget((()=>TR(i,g)));const x=v.docs.has(l);!x&&v.fromCache?d.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&v.fromCache&&u&&u.source==="server"?d.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new SR(Ox(l.path),f,{includeMetadataChanges:!0,qa:!0});return bR(i,g)})(await MR(t),t.asyncQueue,e,n,r))),r.promise}function b5(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const f=new DR({next:v=>{f.Nu(),o.enqueueAndForget((()=>TR(i,g))),v.fromCache&&u.source==="server"?d.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new SR(l,f,{includeMetadataChanges:!0,qa:!0});return bR(i,g)})(await MR(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firestore.googleapis.com",lS=!0;class cS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VR,this.ssl=lS}else this.host=e.host,this.ssl=e.ssl??lS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eF)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PL;switch(r.type){case"firstParty":return new NL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=aS.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),aS.delete(n),r.terminate())})(this),Promise.resolve()}}function T5(t,e,n,r={}){var d;t=Wr(t,jm);const s=xm(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(nP(`https://${l}`),sP("Firestore",!0)),i.host!==VR&&i.host!==l&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!Ip(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Un.MOCK_USER;else{f=rP(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Un(v)}t._authCredentials=new RL(new TP(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wd(n,Jt._jsonSchema))return new Jt(e,r||null,new je(Pt.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:an("string",Jt._jsonSchemaVersion),referencePath:an("string")};class Ro extends Wi{constructor(e,n,r){super(e,n,Ox(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new je(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function pn(t,e,...n){if(t=Er(t),SP("collection","path",e),t instanceof jm){const r=Pt.fromString(e,...n);return TT(r),new Ro(t,null,r)}{if(!(t instanceof Jt||t instanceof Ro))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return TT(r),new Ro(t.firestore,null,r)}}function Vi(t,e,...n){if(t=Er(t),arguments.length===1&&(e=kx.newId()),SP("doc","path",e),t instanceof jm){const r=Pt.fromString(e,...n);return bT(r),new Jt(t,null,new je(r))}{if(!(t instanceof Jt||t instanceof Ro))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return bT(r),new Jt(t.firestore,t instanceof Ro?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pR(this,"async_queue_retry"),this._c=()=>{const r=dv();r&&Ae(uS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dc(e))throw e;Ae(uS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",hS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Yx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&$e(47125,{Pc:hS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yo extends jm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new dS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function S5(t,e){const n=typeof t=="object"?t:fP(),r=typeof t=="string"?t:Dp,s=cP(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=eP("firestore");i&&T5(s,...i)}return s}function Mm(t){if(t._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E5(t),t._firestoreClient}function E5(t){var r,s,i;const e=t._freezeSettings(),n=(function(l,u,d,f){return new QL(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,OR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(In.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wd(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:an("string",Ur._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(Wd(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:an("string",Ys._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wd(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xs(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:an("string",Xs._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^__.*__$/;class A5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new qd(e,this.data,n,this.fieldTransforms)}}class LR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:t})}}class n_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $p(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FR(this.Ac)&&C5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class P5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||km(e)}Cc(e,n,r,s=!1){return new n_({Ac:e,methodName:n,Dc:r,path:Rn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(t){const e=t._freezeSettings(),n=km(t._databaseId);return new P5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r_(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);s_("Data must be an object, but it was:",o,r);const l=$R(r,o);let u,d;if(i.merge)u=new wr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const g of i.mergeFields){const v=N0(e,g,n);if(!o.contains(v))throw new ve(le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);WR(f,v)||f.push(v)}u=new wr(f),d=o.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,d=o.fieldTransforms;return new A5(new dr(l),u,d)}class Om extends t_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Om}}function BR(t,e,n,r){const s=t.Cc(1,e,n);s_("Data must be an object, but it was:",s,r);const i=[],o=dr.empty();Ko(r,((u,d)=>{const f=i_(e,u,n);d=Er(d);const g=s.yc(f);if(d instanceof Om)i.push(f);else{const v=Xd(d,g);v!=null&&(i.push(f),o.set(f,v))}}));const l=new wr(i);return new LR(o,l,s.fieldTransforms)}function zR(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[N0(e,r,n)],u=[s];if(i.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)l.push(N0(e,i[v])),u.push(i[v+1]);const d=[],f=dr.empty();for(let v=l.length-1;v>=0;--v)if(!WR(d,l[v])){const x=l[v];let T=u[v];T=Er(T);const b=o.yc(x);if(T instanceof Om)d.push(x);else{const w=Xd(T,b);w!=null&&(d.push(x),f.set(x,w))}}const g=new wr(d);return new LR(f,g,o.fieldTransforms)}function UR(t,e,n,r=!1){return Xd(n,t.Cc(r?4:3,e))}function Xd(t,e){if(HR(t=Er(t)))return s_("Unsupported field value:",e,t),$R(t,e);if(t instanceof t_)return(function(r,s){if(!FR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let u=Xd(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ot.fromDate(r);return{timestampValue:Fp(s.serializer,i)}}if(r instanceof Ot){const i=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fp(s.serializer,i)}}if(r instanceof Ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:rR(s.serializer,r._byteString)};if(r instanceof Jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xs)return(function(o,l){return{mapValue:{fields:{[DP]:{stringValue:jP},[jp]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Lx(l.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${_m(r)}`)})(t,e)}function $R(t,e){const n={};return AP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,((r,s)=>{const i=Xd(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Ys||t instanceof Ur||t instanceof Jt||t instanceof t_||t instanceof Xs)}function s_(t,e,n){if(!HR(n)||!EP(n)){const r=_m(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function N0(t,e,n){if((e=Er(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return i_(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,n)}const R5=new RegExp("[~\\*/\\[\\]]");function i_(t,e,n){if(e.search(R5)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yd(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $p(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ve(le.INVALID_ARGUMENT,l+t+u)}function WR(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I5 extends o_{data(){return super.data()}}function Vm(t,e){return typeof e=="string"?i_(t,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a_{}class Lm extends a_{}function br(t,e,...n){let r=[];e instanceof a_&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((u=>u instanceof l_)).length,l=i.filter((u=>u instanceof Fm)).length;if(o>1||o>0&&l>0)throw new ve(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Fm extends Lm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=this._parse(e);return qR(e._query,n),new Wi(e.firestore,e.converter,b0(e._query,n))}_parse(e){const n=Mc(e.firestore);return(function(i,o,l,u,d,f,g){let v;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ve(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){pS(g,f);const T=[];for(const b of g)T.push(fS(u,i,b));v={arrayValue:{values:T}}}else v=fS(u,i,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||pS(g,f),v=UR(l,o,g,f==="in"||f==="not-in");return sn.create(d,f,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $r(t,e,n){const r=e,s=Vm("where",t);return Fm._create(s,r,n)}class l_ extends a_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)qR(o,u),o=b0(o,u)})(e._query,n),new Wi(e.firestore,e.converter,b0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c_ extends Lm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c_(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ad(i,o)})(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Za(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function D0(t,e="asc"){const n=e,r=Vm("orderBy",t);return c_._create(r,n)}class u_ extends Lm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new u_(e,n,r)}_apply(e){return new Wi(e.firestore,e.converter,Op(e._query,this._limit,this._limitType))}}function j0(t){return u_._create("limit",t,"F")}class d_ extends Lm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new d_(e,n,r)}_apply(e){const n=N5(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(function(s,i){return new Za(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)})(e._query,n))}}function M0(...t){return d_._create("startAfter",t,!1)}function N5(t,e,n,r){if(n[0]=Er(n[0]),n[0]instanceof o_)return(function(i,o,l,u,d){if(!u)throw new ve(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const g of ac(i))if(g.field.isKeyField())f.push(Mp(o,u.key));else{const v=u.data.field(g.field);if(Tm(v))throw new ve(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const x=g.field.canonicalString();throw new ve(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}f.push(v)}return new _c(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Mc(t.firestore);return(function(o,l,u,d,f,g){const v=o.explicitOrderBy;if(f.length>v.length)throw new ve(le.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let T=0;T<f.length;T++){const b=f[T];if(v[T].field.isKeyField()){if(typeof b!="string")throw new ve(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof b}`);if(!Vx(o)&&b.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${b}' contains a slash.`);const w=o.path.child(Pt.fromString(b));if(!je.isDocumentKey(w))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const R=new je(w);x.push(Mp(l,R))}else{const w=UR(u,d,b);x.push(w)}}return new _c(x,g)})(t._query,t.firestore._databaseId,s,e,n,r)}}function fS(t,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new ve(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vx(e)&&n.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!je.isDocumentKey(r))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mp(t,new je(r))}if(n instanceof Jt)return Mp(t,n._key);throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function pS(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qR(t,e){const n=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class D5{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[jp].arrayValue)==null?void 0:s.values)==null?void 0:i.map((o=>Zt(o.doubleValue)));return new Xs(n)}convertGeoPoint(e){return new Ys(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);wt(cR(r),9688,{name:e});const s=new Ed(r.get(1),r.get(3)),i=new je(r.popFirst(5));return s.isEqual(n)||Mi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends o_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:an("string",Fa._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class pp extends Fa{data(e={}){return super.data(e)}}class cc{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new pp(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const u=new pp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ju(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new pp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ju(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:j5(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){t=Wr(t,Jt);const e=Wr(t.firestore,Yo);return w5(Mm(e),t._key).then((n=>O5(e,t,n)))}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:an("string",cc._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class GR extends D5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function mn(t){t=Wr(t,Wi);const e=Wr(t.firestore,Yo),n=Mm(e),r=new GR(e);return k5(t._query),b5(n,t._query).then((s=>new cc(e,r,t,s)))}function Hp(t,e,n){t=Wr(t,Jt);const r=Wr(t.firestore,Yo),s=h_(t.converter,e,n);return Zd(r,[r_(Mc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zn.none())])}function KR(t,e,n,...r){t=Wr(t,Jt);const s=Wr(t.firestore,Yo),i=Mc(s);let o;return o=typeof(e=Er(e))=="string"||e instanceof Yd?zR(i,"updateDoc",t._key,e,n,r):BR(i,"updateDoc",t._key,e),Zd(s,[o.toMutation(t._key,Zn.exists(!0))])}function O0(t){return Zd(Wr(t.firestore,Yo),[new Rm(t._key,Zn.none())])}function M5(t,e){const n=Wr(t.firestore,Yo),r=Vi(t),s=h_(t.converter,e);return Zd(n,[r_(Mc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then((()=>r))}function Zd(t,e){return(function(r,s){const i=new ki;return r.asyncQueue.enqueueAndForget((async()=>c5(await _5(r),s,i))),i.promise})(Mm(t),e)}function O5(t,e,n){const r=n.docs.get(e._key),s=new GR(t);return new Fa(t,s,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mc(e)}set(e,n,r){this._verifyNotCommitted();const s=fv(e,this._firestore),i=h_(s.converter,n,r),o=r_(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Zn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=fv(e,this._firestore);let o;return o=typeof(n=Er(n))=="string"||n instanceof Yd?zR(this._dataReader,"WriteBatch.update",i._key,n,r,s):BR(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fv(e,this._firestore);return this._mutations=this._mutations.concat(new Rm(n._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fv(t,e){if((t=Er(t)).firestore!==e)throw new ve(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){return Mm(t=Wr(t,Yo)),new V5(t,(e=>Zd(t,e)))}(function(e,n=!0){(function(s){kc=s})(dP),wd(new mc("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Yo(new IL(r.getProvider("auth-internal")),new DL(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(d.options.projectId,f)})(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Ao(vT,xT,e),Ao(vT,xT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebasestorage.googleapis.com",L5="storageBucket",F5=120*1e3,B5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Xa{constructor(e,n,r=0){super(pv(e),`Firebase Storage: ${n} (${pv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ni;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ni||(ni={}));function pv(t){return"storage/"+t}function z5(){const t="An unknown error occurred, please check the error payload for server response.";return new ai(ni.UNKNOWN,t)}function U5(){return new ai(ni.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $5(){return new ai(ni.CANCELED,"User canceled the upload/download.")}function H5(t){return new ai(ni.INVALID_URL,"Invalid URL '"+t+"'.")}function W5(t){return new ai(ni.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gS(t){return new ai(ni.INVALID_ARGUMENT,t)}function YR(){return new ai(ni.APP_DELETED,"The Firebase app was deleted.")}function q5(t){return new ai(ni.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vs.makeFromUrl(e,n)}catch{return new vs(e,"")}if(r.path==="")return r;throw W5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${f}/b/${s}/o${v}`,"i"),T={bucket:1,path:3},b=n===QR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",R=new RegExp(`^https?://${b}/${s}/${w}`,"i"),N=[{regex:l,indices:u,postModify:i},{regex:x,indices:T,postModify:d},{regex:R,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<N.length;O++){const B=N[O],U=B.regex.exec(e);if(U){const M=U[B.indices.bucket];let E=U[B.indices.path];E||(E=""),r=new vs(M,E),B.postModify(r);break}}if(r==null)throw H5(e);return r}}class G5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...w){d||(d=!0,e.apply(null,w))}function g(w){s=setTimeout(()=>{s=null,t(x,u())},w)}function v(){i&&clearTimeout(i)}function x(w,...R){if(d){v();return}if(w){v(),f.call(null,w,...R);return}if(u()||o){v(),f.call(null,w,...R);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,g(N)}let T=!1;function b(w){T||(T=!0,v(),!d&&(s!==null?(w||(l=2),clearTimeout(s),g(0)):w||(l=1)))}return g(0),i=setTimeout(()=>{o=!0,b(!0)},n),b}function Q5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){return t!==void 0}function yS(t,e,n,r){if(r<e)throw gS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gS(`Invalid value for '${t}'. Expected ${n} or less.`)}function X5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Wp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wp||(Wp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,s,i,o,l,u,d,f,g,v=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,b)=>{this.resolve_=T,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Rf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Wp.NO_ERROR,u=i.getStatus();if(!l||Z5(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===Wp.ABORT;r(!1,new Rf(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Rf(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Y5(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=z5();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(s.canceled){const u=this.appDelete_?YR():$5();o(u)}else{const u=U5();o(u)}};this.canceled_?n(!1,new Rf(!1,null,!0)):this.backoffId_=K5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function e3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function r3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function s3(t,e,n,r,s,i,o=!0,l=!1){const u=X5(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return n3(f,e),e3(f,n),t3(f,i),r3(f,r),new J5(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this._service=e,n instanceof vs?this._location=n:this._location=vs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qp(e,n)}get root(){const e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o3(this._location.path)}get storage(){return this._service}get parent(){const e=i3(this._location.path);if(e===null)return null;const n=new vs(this._location.bucket,e);return new qp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw q5(e)}}function vS(t,e){const n=e==null?void 0:e[L5];return n==null?null:vs.makeFromBucketSpec(n,t)}function a3(t,e,n,r={}){t.host=`${e}:${n}`;const s=xm(e);s&&(nP(`https://${t.host}/b`),sP("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rP(i,t.app.options.projectId))}class l3{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=QR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F5,this._maxUploadRetryTime=B5,this._requests=new Set,s!=null?this._bucket=vs.makeFromBucketSpec(s,this._host):this._bucket=vS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vs.makeFromBucketSpec(this._url,e):this._bucket=vS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(uP(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qp(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new G5(YR());{const o=s3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const xS="@firebase/storage",_S="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="storage";function c3(t=fP(),e){t=Er(t);const r=cP(t,XR).getImmediate({identifier:e}),s=eP("storage");return s&&u3(r,...s),r}function u3(t,e,n,r={}){a3(t,e,n,r)}function d3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new l3(n,r,s,e,dP)}function h3(){wd(new mc(XR,d3,"PUBLIC").setMultipleInstances(!0)),Ao(xS,_S,""),Ao(xS,_S,"esm2020")}h3();const f3={apiKey:"AIzaSyBKPk8NyeQWn1Aygwf8q36cRxpC2AR-Leo",authDomain:"central-treinamento.firebaseapp.com",projectId:"central-treinamento",storageBucket:"central-treinamento.appspot.com",messagingSenderId:"205424196328",appId:"1:205424196328:web:9caf94e132c3768091a75d"},ZR=hP(f3),_t=S5(ZR);c3(ZR);const JR=A.createContext(),Rs=()=>{const t=A.useContext(JR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},eI=({children:t})=>{const[e,n]=A.useState(null),[r,s]=A.useState(!0);A.useEffect(()=>{const d=localStorage.getItem("currentUser");d&&n(JSON.parse(d)),s(!1)},[]);const u={user:e,login:async(d,f)=>{try{const g=pn(_t,"usuarios"),v=br(g,$r("email","==",d)),x=await mn(v);if(x.empty)return{success:!1,error:"Credenciais invlidas ou usurio no encontrado"};const T=x.docs[0],b={id:T.id,...T.data()};if(b.senha===f&&b.ativo){const w={...b};return delete w.senha,n(w),localStorage.setItem("currentUser",JSON.stringify(w)),{success:!0,user:w}}else return{success:!1,error:"Credenciais invlidas ou usurio inativo"}}catch(g){return console.error("Erro no login:",g),{success:!1,error:"Ocorreu um erro no servidor. Tente novamente."}}},logout:()=>{n(null),localStorage.removeItem("currentUser")},isAdmin:()=>(e==null?void 0:e.tipo)==="admin",loading:r};return p.jsx(JR.Provider,{value:u,children:t})};function tI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tI(t))&&(r&&(r+=" "),r+=e);return r}const f_="-",p3=t=>{const e=g3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(f_);return l[0]===""&&l.length!==1&&l.shift(),rI(l,e)||m3(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},rI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?rI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(f_);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},wS=/^\[(.+)\]$/,m3=t=>{if(wS.test(t)){const e=wS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},g3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return v3(Object.entries(t.classGroups),n).forEach(([i,o])=>{V0(o,r,i,e)}),r},V0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:bS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(y3(s)){V0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{V0(o,bS(e,i),n,r)})})},bS=(t,e)=>{let n=t;return e.split(f_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},y3=t=>t.isThemeGetter,v3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,x3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},sI="!",_3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,f=0,g;for(let w=0;w<l.length;w++){let R=l[w];if(d===0){if(R===s&&(r||l.slice(w,w+i)===e)){u.push(l.slice(f,w)),f=w+i;continue}if(R==="/"){g=w;continue}}R==="["?d++:R==="]"&&d--}const v=u.length===0?l:l.substring(f),x=v.startsWith(sI),T=x?v.substring(1):v,b=g&&g>f?g-f:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:T,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},w3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},b3=t=>({cache:x3(t.cacheSize),parseClassName:_3(t),...p3(t)}),T3=/\s+/,S3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(T3);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}=n(d);let T=!!x,b=r(T?v.substring(0,x):v);if(!b){if(!T){l=d+(l.length>0?" "+l:l);continue}if(b=r(v),!b){l=d+(l.length>0?" "+l:l);continue}T=!1}const w=w3(f).join(":"),R=g?w+sI:w,k=R+b;if(i.includes(k))continue;i.push(k);const N=s(b,T);for(let O=0;O<N.length;++O){const B=N[O];i.push(R+B)}l=d+(l.length>0?" "+l:l)}return l};function E3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iI(e))&&(r&&(r+=" "),r+=n);return r}const iI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iI(t[r]))&&(n&&(n+=" "),n+=e);return n};function C3(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((f,g)=>g(f),t());return n=b3(d),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=S3(u,n);return s(u,f),f}return function(){return i(E3.apply(null,arguments))}}const jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oI=/^\[(?:([a-z-]+):)?(.+)\]$/i,A3=/^\d+\/\d+$/,P3=new Set(["px","full","screen"]),R3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ci=t=>uc(t)||P3.has(t)||A3.test(t),yo=t=>Oc(t,"length",z3),uc=t=>!!t&&!Number.isNaN(Number(t)),mv=t=>Oc(t,"number",uc),Uu=t=>!!t&&Number.isInteger(Number(t)),j3=t=>t.endsWith("%")&&uc(t.slice(0,-1)),Qe=t=>oI.test(t),vo=t=>R3.test(t),M3=new Set(["length","size","percentage"]),O3=t=>Oc(t,M3,aI),V3=t=>Oc(t,"position",aI),L3=new Set(["image","url"]),F3=t=>Oc(t,L3,$3),B3=t=>Oc(t,"",U3),$u=()=>!0,Oc=(t,e,n)=>{const r=oI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},z3=t=>I3.test(t)&&!k3.test(t),aI=()=>!1,U3=t=>N3.test(t),$3=t=>D3.test(t),H3=()=>{const t=jt("colors"),e=jt("spacing"),n=jt("blur"),r=jt("brightness"),s=jt("borderColor"),i=jt("borderRadius"),o=jt("borderSpacing"),l=jt("borderWidth"),u=jt("contrast"),d=jt("grayscale"),f=jt("hueRotate"),g=jt("invert"),v=jt("gap"),x=jt("gradientColorStops"),T=jt("gradientColorStopPositions"),b=jt("inset"),w=jt("margin"),R=jt("opacity"),k=jt("padding"),N=jt("saturate"),O=jt("scale"),B=jt("sepia"),U=jt("skew"),M=jt("space"),E=jt("translate"),P=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Qe,e],D=()=>[Qe,e],V=()=>["",Ci,yo],J=()=>["auto",uc,Qe],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Qe],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[uc,Qe];return{cacheSize:500,separator:":",theme:{colors:[$u],spacing:[Ci,yo],blur:["none","",vo,Qe],brightness:H(),borderColor:[t],borderRadius:["none","","full",vo,Qe],borderSpacing:D(),borderWidth:V(),contrast:H(),grayscale:te(),hueRotate:H(),invert:te(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[j3,yo],inset:F(),margin:F(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:te(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[vo]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Qe]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uu,Qe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Uu,Qe]}],"grid-cols":[{"grid-cols":[$u]}],"col-start-end":[{col:["auto",{span:["full",Uu,Qe]},Qe]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[$u]}],"row-start-end":[{row:["auto",{span:[Uu,Qe]},Qe]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[vo]},vo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mv]}],"font-family":[{font:[$u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",uc,mv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ci,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ci,yo]}],"underline-offset":[{"underline-offset":["auto",Ci,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),V3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ci,Qe]}],"outline-w":[{outline:[Ci,yo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Ci,yo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vo,B3]}],"shadow-color":[{shadow:[$u]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",vo,Qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Uu,Qe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ci,yo,mv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W3=C3(H3);function Xe(...t){return W3(nI(t))}var Vc=GA();const q3=oi(Vc);function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function TS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=TS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():TS(t[s],null)}}}}function dt(...t){return A.useCallback(lI(...t),t)}function G3(t,e){const n=A.createContext(e),r=i=>{const{children:o,...l}=i,u=A.useMemo(()=>l,Object.values(l));return p.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=A.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Xr(t,e=[]){let n=[];function r(i,o){const l=A.createContext(o),u=n.length;n=[...n,o];const d=g=>{var R;const{scope:v,children:x,...T}=g,b=((R=v==null?void 0:v[t])==null?void 0:R[u])||l,w=A.useMemo(()=>T,Object.values(T));return p.jsx(b.Provider,{value:w,children:x})};d.displayName=i+"Provider";function f(g,v){var b;const x=((b=v==null?void 0:v[t])==null?void 0:b[u])||l,T=A.useContext(x);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>A.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return A.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,K3(s,...e)]}function K3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const g=u(i)[`__scope${d}`];return{...l,...g}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Tc(t){const e=Y3(t),n=A.forwardRef((r,s)=>{const{children:i,...o}=r,l=A.Children.toArray(i),u=l.find(Z3);if(u){const d=u.props.children,f=l.map(g=>g===u?A.Children.count(d)>1?A.Children.only(null):A.isValidElement(d)?d.props.children:null:g);return p.jsx(e,{...o,ref:s,children:A.isValidElement(d)?A.cloneElement(d,void 0,f):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Q3=Tc("Slot");function Y3(t){const e=A.forwardRef((n,r)=>{const{children:s,...i}=n;if(A.isValidElement(s)){const o=e6(s),l=J3(i,s.props);return s.type!==A.Fragment&&(l.ref=r?lI(r,o):o),A.cloneElement(s,l)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cI=Symbol("radix.slottable");function X3(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cI,e}function Z3(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cI}function J3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function e6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function p_(t){const e=t+"CollectionProvider",[n,r]=Xr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:w,children:R}=b,k=Ue.useRef(null),N=Ue.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:N,collectionRef:k,children:R})};o.displayName=e;const l=t+"CollectionSlot",u=Tc(l),d=Ue.forwardRef((b,w)=>{const{scope:R,children:k}=b,N=i(l,R),O=dt(w,N.collectionRef);return p.jsx(u,{ref:O,children:k})});d.displayName=l;const f=t+"CollectionItemSlot",g="data-radix-collection-item",v=Tc(f),x=Ue.forwardRef((b,w)=>{const{scope:R,children:k,...N}=b,O=Ue.useRef(null),B=dt(w,O),U=i(f,R);return Ue.useEffect(()=>(U.itemMap.set(O,{ref:O,...N}),()=>void U.itemMap.delete(O))),p.jsx(v,{[g]:"",ref:B,children:k})});x.displayName=f;function T(b){const w=i(t+"CollectionConsumer",b);return Ue.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const N=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((U,M)=>N.indexOf(U.ref.current)-N.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},T,r]}var t6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=t6.reduce((t,e)=>{const n=Tc(`Primitive.${e}`),r=A.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function uI(t,e){t&&Vc.flushSync(()=>t.dispatchEvent(e))}function qr(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function n6(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t);A.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var r6="DismissableLayer",L0="dismissableLayer.update",s6="dismissableLayer.pointerDownOutside",i6="dismissableLayer.focusOutside",SS,dI=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,d=A.useContext(dI),[f,g]=A.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=A.useState({}),T=dt(e,M=>g(M)),b=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=b.indexOf(w),k=f?b.indexOf(f):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,O=k>=R,B=a6(M=>{const E=M.target,P=[...d.branches].some(j=>j.contains(E));!O||P||(s==null||s(M),o==null||o(M),M.defaultPrevented||l==null||l())},v),U=l6(M=>{const E=M.target;[...d.branches].some(j=>j.contains(E))||(i==null||i(M),o==null||o(M),M.defaultPrevented||l==null||l())},v);return n6(M=>{k===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},v),A.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(SS=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ES(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=SS)}},[f,v,n,d]),A.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ES())},[f,d]),A.useEffect(()=>{const M=()=>x({});return document.addEventListener(L0,M),()=>document.removeEventListener(L0,M)},[]),p.jsx(We.div,{...u,ref:T,style:{pointerEvents:N?O?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,B.onPointerDownCapture)})});Jd.displayName=r6;var o6="DismissableLayerBranch",hI=A.forwardRef((t,e)=>{const n=A.useContext(dI),r=A.useRef(null),s=dt(e,r);return A.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(We.div,{...t,ref:s})});hI.displayName=o6;function a6(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t),r=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){fI(s6,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function l6(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t),r=A.useRef(!1);return A.useEffect(()=>{const s=i=>{i.target&&!r.current&&fI(i6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ES(){const t=new CustomEvent(L0);document.dispatchEvent(t)}function fI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uI(s,i):s.dispatchEvent(i)}var c6=Jd,u6=hI,kn=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},d6="Portal",zm=A.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=A.useState(!1);kn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?q3.createPortal(p.jsx(We.div,{...r,ref:e}),o):null});zm.displayName=d6;function h6(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Xo=t=>{const{present:e,children:n}=t,r=f6(e),s=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),i=dt(r.ref,p6(s));return typeof n=="function"||r.isPresent?A.cloneElement(s,{ref:i}):null};Xo.displayName="Presence";function f6(t){const[e,n]=A.useState(),r=A.useRef(null),s=A.useRef(t),i=A.useRef("none"),o=t?"mounted":"unmounted",[l,u]=h6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const d=If(r.current);i.current=l==="mounted"?d:"none"},[l]),kn(()=>{const d=r.current,f=s.current;if(f!==t){const v=i.current,x=If(d);t?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&v!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),kn(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,g=x=>{const b=If(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&b&&(u("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},v=x=>{x.target===e&&(i.current=If(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:A.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function If(t){return(t==null?void 0:t.animationName)||"none"}function p6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m6=qA[" useInsertionEffect ".trim().toString()]||kn;function Li({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=g6({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const f=A.useRef(t!==void 0);A.useEffect(()=>{const g=f.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=A.useCallback(f=>{var g;if(l){const v=y6(f)?f(t):f;v!==t&&((g=o.current)==null||g.call(o,v))}else i(f)},[l,t,i,o]);return[u,d]}function g6({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),s=A.useRef(n),i=A.useRef(e);return m6(()=>{i.current=e},[e]),A.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function y6(t){return typeof t=="function"}var pI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v6="VisuallyHidden",Um=A.forwardRef((t,e)=>p.jsx(We.span,{...t,ref:e,style:{...pI,...t.style}}));Um.displayName=v6;var x6=Um,m_="ToastProvider",[g_,_6,w6]=p_("Toast"),[mI,oX]=Xr("Toast",[w6]),[b6,$m]=mI(m_),gI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=A.useState(null),[d,f]=A.useState(0),g=A.useRef(!1),v=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${m_}\`. Expected non-empty \`string\`.`),p.jsx(g_.Provider,{scope:e,children:p.jsx(b6,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:A.useCallback(()=>f(x=>x+1),[]),onToastRemove:A.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:o})})};gI.displayName=m_;var yI="ToastViewport",T6=["F8"],F0="toast.viewportPause",B0="toast.viewportResume",vI=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=T6,label:s="Notifications ({hotkey})",...i}=t,o=$m(yI,n),l=_6(n),u=A.useRef(null),d=A.useRef(null),f=A.useRef(null),g=A.useRef(null),v=dt(e,g,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;A.useEffect(()=>{const w=R=>{var N;r.length!==0&&r.every(O=>R[O]||R.code===O)&&((N=g.current)==null||N.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),A.useEffect(()=>{const w=u.current,R=g.current;if(T&&w&&R){const k=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(F0);R.dispatchEvent(U),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(B0);R.dispatchEvent(U),o.isClosePausedRef.current=!1}},O=U=>{!w.contains(U.relatedTarget)&&N()},B=()=>{w.contains(document.activeElement)||N()};return w.addEventListener("focusin",k),w.addEventListener("focusout",O),w.addEventListener("pointermove",k),w.addEventListener("pointerleave",B),window.addEventListener("blur",k),window.addEventListener("focus",N),()=>{w.removeEventListener("focusin",k),w.removeEventListener("focusout",O),w.removeEventListener("pointermove",k),w.removeEventListener("pointerleave",B),window.removeEventListener("blur",k),window.removeEventListener("focus",N)}}},[T,o.isClosePausedRef]);const b=A.useCallback(({tabbingDirection:w})=>{const k=l().map(N=>{const O=N.ref.current,B=[O,...O6(O)];return w==="forwards"?B:B.reverse()});return(w==="forwards"?k.reverse():k).flat()},[l]);return A.useEffect(()=>{const w=g.current;if(w){const R=k=>{var B,U,M;const N=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!N){const E=document.activeElement,P=k.shiftKey;if(k.target===w&&P){(B=d.current)==null||B.focus();return}const D=b({tabbingDirection:P?"backwards":"forwards"}),V=D.findIndex(J=>J===E);gv(D.slice(V+1))?k.preventDefault():P?(U=d.current)==null||U.focus():(M=f.current)==null||M.focus()}};return w.addEventListener("keydown",R),()=>w.removeEventListener("keydown",R)}},[l,b]),p.jsxs(u6,{ref:u,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&p.jsx(z0,{ref:d,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});gv(w)}}),p.jsx(g_.Slot,{scope:n,children:p.jsx(We.ol,{tabIndex:-1,...i,ref:v})}),T&&p.jsx(z0,{ref:f,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});gv(w)}})]})});vI.displayName=yI;var xI="ToastFocusProxy",z0=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$m(xI,n);return p.jsx(Um,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});z0.displayName=xI;var eh="Toast",S6="toast.swipeStart",E6="toast.swipeMove",C6="toast.swipeCancel",A6="toast.swipeEnd",_I=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=Li({prop:r,defaultProp:s??!0,onChange:i,caller:eh});return p.jsx(Xo,{present:n||l,children:p.jsx(I6,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:qr(t.onPause),onResume:qr(t.onResume),onSwipeStart:Le(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,d=>{const{x:f,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Le(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,d=>{const{x:f,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});_I.displayName=eh;var[P6,R6]=mI(eh,{onClose(){}}),I6=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:x,...T}=t,b=$m(eh,n),[w,R]=A.useState(null),k=dt(e,J=>R(J)),N=A.useRef(null),O=A.useRef(null),B=s||b.duration,U=A.useRef(0),M=A.useRef(B),E=A.useRef(0),{onToastAdd:P,onToastRemove:j}=b,F=qr(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=b.viewport)==null||K.focus()),o()}),D=A.useCallback(J=>{!J||J===1/0||(window.clearTimeout(E.current),U.current=new Date().getTime(),E.current=window.setTimeout(F,J))},[F]);A.useEffect(()=>{const J=b.viewport;if(J){const K=()=>{D(M.current),d==null||d()},W=()=>{const Y=new Date().getTime()-U.current;M.current=M.current-Y,window.clearTimeout(E.current),u==null||u()};return J.addEventListener(F0,W),J.addEventListener(B0,K),()=>{J.removeEventListener(F0,W),J.removeEventListener(B0,K)}}},[b.viewport,B,u,d,D]),A.useEffect(()=>{i&&!b.isClosePausedRef.current&&D(B)},[i,B,b.isClosePausedRef,D]),A.useEffect(()=>(P(),()=>j()),[P,j]);const V=A.useMemo(()=>w?AI(w):null,[w]);return b.viewport?p.jsxs(p.Fragment,{children:[V&&p.jsx(k6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:V}),p.jsx(P6,{scope:n,onClose:F,children:Vc.createPortal(p.jsx(g_.ItemSlot,{scope:n,children:p.jsx(c6,{asChild:!0,onEscapeKeyDown:Le(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||F(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(We.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...T,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,J=>{J.key==="Escape"&&(l==null||l(J.nativeEvent),J.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Le(t.onPointerDown,J=>{J.button===0&&(N.current={x:J.clientX,y:J.clientY})}),onPointerMove:Le(t.onPointerMove,J=>{if(!N.current)return;const K=J.clientX-N.current.x,W=J.clientY-N.current.y,Y=!!O.current,G=["left","right"].includes(b.swipeDirection),te=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ae=G?te(0,K):0,H=G?0:te(0,W),Z=J.pointerType==="touch"?10:2,oe={x:ae,y:H},xe={originalEvent:J,delta:oe};Y?(O.current=oe,kf(E6,g,xe,{discrete:!1})):CS(oe,b.swipeDirection,Z)?(O.current=oe,kf(S6,f,xe,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(K)>Z||Math.abs(W)>Z)&&(N.current=null)}),onPointerUp:Le(t.onPointerUp,J=>{const K=O.current,W=J.target;if(W.hasPointerCapture(J.pointerId)&&W.releasePointerCapture(J.pointerId),O.current=null,N.current=null,K){const Y=J.currentTarget,G={originalEvent:J,delta:K};CS(K,b.swipeDirection,b.swipeThreshold)?kf(A6,x,G,{discrete:!0}):kf(C6,v,G,{discrete:!0}),Y.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),k6=t=>{const{__scopeToast:e,children:n,...r}=t,s=$m(eh,e),[i,o]=A.useState(!1),[l,u]=A.useState(!1);return j6(()=>o(!0)),A.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:p.jsx(zm,{asChild:!0,children:p.jsx(Um,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},N6="ToastTitle",wI=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(We.div,{...r,ref:e})});wI.displayName=N6;var D6="ToastDescription",bI=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(We.div,{...r,ref:e})});bI.displayName=D6;var TI="ToastAction",SI=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(CI,{altText:n,asChild:!0,children:p.jsx(y_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${TI}\`. Expected non-empty \`string\`.`),null)});SI.displayName=TI;var EI="ToastClose",y_=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=R6(EI,n);return p.jsx(CI,{asChild:!0,children:p.jsx(We.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,s.onClose)})})});y_.displayName=EI;var CI=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function AI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),M6(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...AI(r))}}),e}function kf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uI(s,i):s.dispatchEvent(i)}var CS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function j6(t=()=>{}){const e=qr(t);kn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function M6(t){return t.nodeType===t.ELEMENT_NODE}function O6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var V6=gI,PI=vI,RI=_I,II=wI,kI=bI,NI=SI,DI=y_;const AS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,PS=nI,Hm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return PS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],g=i==null?void 0:i[d];if(f===null)return null;const v=AS(f)||AS(g);return s[d][v]}),l=n&&Object.entries(n).reduce((d,f)=>{let[g,v]=f;return v===void 0||(d[g]=v),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:g,className:v,...x}=f;return Object.entries(x).every(T=>{let[b,w]=T;return Array.isArray(w)?w.includes({...i,...l}[b]):{...i,...l}[b]===w})?[...d,g,v]:d},[]);return PS(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>A.createElement("svg",{ref:u,...F6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jI("lucide",s),...l},[...o.map(([d,f])=>A.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=A.forwardRef(({className:r,...s},i)=>A.createElement(B6,{ref:i,iconNode:e,className:jI(`lucide-${L6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ve("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Ve("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Ve("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Ve("FileCog",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3.2 12.9-.9-.4",key:"1i3dj5"}],["path",{d:"m3.2 15.1-.9.4",key:"1fvgj0"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5",key:"1yo3oz"}],["path",{d:"m4.9 11.2-.4-.9",key:"otmhb9"}],["path",{d:"m4.9 16.8-.4.9",key:"1b8z07"}],["path",{d:"m7.5 10.3-.4.9",key:"11k65u"}],["path",{d:"m7.5 17.7-.4-.9",key:"431x55"}],["path",{d:"m9.7 12.5-.9.4",key:"87sjan"}],["path",{d:"m9.7 15.5-.9-.4",key:"khqm91"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Ve("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Ve("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ve("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Ve("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Ve("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Ve("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Ve("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ve("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Ve("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dB=V6,KI=Ue.forwardRef(({className:t,...e},n)=>p.jsx(PI,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KI.displayName=PI.displayName;const hB=Hm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QI=Ue.forwardRef(({className:t,variant:e,...n},r)=>{const{dismiss:s,...i}=n;return p.jsx(RI,{ref:r,className:Xe(hB({variant:e}),t),...i})});QI.displayName=RI.displayName;const fB=Ue.forwardRef(({className:t,...e},n)=>p.jsx(NI,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fB.displayName=NI.displayName;const YI=Ue.forwardRef(({className:t,...e},n)=>p.jsx(DI,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(GI,{className:"h-4 w-4"})}));YI.displayName=DI.displayName;const XI=Ue.forwardRef(({className:t,...e},n)=>p.jsx(II,{ref:n,className:Xe("text-sm font-semibold",t),...e}));XI.displayName=II.displayName;const ZI=Ue.forwardRef(({className:t,...e},n)=>p.jsx(kI,{ref:n,className:Xe("text-sm opacity-90",t),...e}));ZI.displayName=kI.displayName;const pB=1;let yv=0;function mB(){return yv=(yv+1)%Number.MAX_VALUE,yv.toString()}const Xn={state:{toasts:[]},listeners:[],getState:()=>Xn.state,setState:t=>{typeof t=="function"?Xn.state=t(Xn.state):Xn.state={...Xn.state,...t},Xn.listeners.forEach(e=>e(Xn.state))},subscribe:t=>(Xn.listeners.push(t),()=>{Xn.listeners=Xn.listeners.filter(e=>e!==t)})},gB=({...t})=>{const e=mB(),n=s=>Xn.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===e?{...o,...s}:o)})),r=()=>Xn.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==e)}));return Xn.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,pB)})),{id:e,dismiss:r,update:n}};function Ar(){const[t,e]=A.useState(Xn.getState());return A.useEffect(()=>Xn.subscribe(r=>{e(r)}),[]),A.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:gB,toasts:t.toasts}}function yB(){const{toasts:t}=Ar();return p.jsxs(dB,{children:[t.map(({id:e,title:n,description:r,action:s,...i})=>p.jsxs(QI,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(XI,{children:n}),r&&p.jsx(ZI,{children:r})]}),s,p.jsx(YI,{})]},e)),p.jsx(KI,{})]})}const JI=A.createContext({});function vB(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const b_=A.createContext(null),ek=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xB(t=!0){const e=A.useContext(b_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=A.useId();A.useEffect(()=>{t&&s(i)},[t]);const o=A.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const T_=typeof window<"u",_B=T_?A.useLayoutEffect:A.useEffect,Tr=t=>t;let tk=Tr;function S_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ni=t=>t*1e3,Di=t=>t/1e3,wB={useManualTiming:!1};function bB(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,f=!1,g=!1)=>{const x=g&&r?e:n;return f&&i.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const Nf=["read","resolveKeyframes","update","preRender","render","postRender"],TB=40;function nk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Nf.reduce((R,k)=>(R[k]=bB(i),R),{}),{read:l,resolveKeyframes:u,update:d,preRender:f,render:g,postRender:v}=o,x=()=>{const R=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,TB),1),s.timestamp=R,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),f.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},T=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:Nf.reduce((R,k)=>{const N=o[k];return R[k]=(O,B=!1,U=!1)=>(n||T(),N.schedule(O,B,U)),R},{}),cancel:R=>{for(let k=0;k<Nf.length;k++)o[Nf[k]].cancel(R)},state:s,steps:o}}const{schedule:Vt,cancel:$o,state:An,steps:vv}=nk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0),rk=A.createContext({strict:!1}),IS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ec={};for(const t in IS)Ec[t]={isEnabled:e=>IS[t].some(n=>!!e[n])};function SB(t){for(const e in t)Ec[e]={...Ec[e],...t[e]}}const EB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EB.has(t)}let sk=t=>!Qp(t);function CB(t){t&&(sk=e=>e.startsWith("on")?!Qp(e):t(e))}try{CB(require("@emotion/is-prop-valid").default)}catch{}function AB(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(sk(s)||n===!0&&Qp(s)||!e&&!Qp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function PB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Wm=A.createContext({});function Id(t){return typeof t=="string"||Array.isArray(t)}function qm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const E_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C_=["initial",...E_];function Gm(t){return qm(t.animate)||C_.some(e=>Id(t[e]))}function ik(t){return!!(Gm(t)||t.variants)}function RB(t,e){if(Gm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Id(n)?n:void 0,animate:Id(r)?r:void 0}}return t.inherit!==!1?e:{}}function IB(t){const{initial:e,animate:n}=RB(t,A.useContext(Wm));return A.useMemo(()=>({initial:e,animate:n}),[kS(e),kS(n)])}function kS(t){return Array.isArray(t)?t.join(" "):t}const kB=Symbol.for("motionComponentSymbol");function ec(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NB(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ec(n)&&(n.current=r))},[e])}const A_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DB="framerAppearId",ok="data-"+A_(DB),{schedule:P_}=nk(queueMicrotask,!1),ak=A.createContext({});function jB(t,e,n,r,s){var i,o;const{visualElement:l}=A.useContext(Wm),u=A.useContext(rk),d=A.useContext(b_),f=A.useContext(ek).reducedMotion,g=A.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const v=g.current,x=A.useContext(ak);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&MB(g.current,n,s,x);const T=A.useRef(!1);A.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const b=n[ok],w=A.useRef(!!b&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return _B(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),P_.render(v.render),w.current&&v.animationState&&v.animationState.animateChanges())}),A.useEffect(()=>{v&&(!w.current&&v.animationState&&v.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,b)}),w.current=!1))}),v}function MB(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lk(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&ec(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function lk(t){if(t)return t.options.allowProjection!==!1?t.projection:lk(t.parent)}function OB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&SB(t);function l(d,f){let g;const v={...A.useContext(ek),...d,layoutId:VB(d)},{isStatic:x}=v,T=IB(d),b=r(d,x);if(!x&&T_){LB();const w=FB(v);g=w.MeasureLayout,T.visualElement=jB(s,b,v,e,w.ProjectionNode)}return p.jsxs(Wm.Provider,{value:T,children:[g&&T.visualElement?p.jsx(g,{visualElement:T.visualElement,...v}):null,n(s,d,NB(b,T.visualElement,f),b,x,T.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const u=A.forwardRef(l);return u[kB]=s,u}function VB({layoutId:t}){const e=A.useContext(JI).id;return e&&t!==void 0?e+"-"+t:t}function LB(t,e){A.useContext(rk).strict}function FB(t){const{drag:e,layout:n}=Ec;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const BB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R_(t){return typeof t!="string"||t.includes("-")?!1:!!(BB.indexOf(t)>-1||/[A-Z]/u.test(t))}function NS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function I_(t,e,n,r){if(typeof e=="function"){const[s,i]=NS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=NS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const H0=t=>Array.isArray(t),zB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),UB=t=>H0(t)?t[t.length-1]||0:t,Hn=t=>!!(t&&t.getVelocity);function mp(t){const e=Hn(t)?t.get():t;return zB(e)?e.toValue():e}function $B({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:HB(r,s,i,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const ck=t=>(e,n)=>{const r=A.useContext(Wm),s=A.useContext(b_),i=()=>$B(t,e,r,s);return n?i():vB(i)};function HB(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=mp(i[v]);let{initial:o,animate:l}=t;const u=Gm(t),d=ik(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const g=f?l:o;if(g&&typeof g!="boolean"&&!qm(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const T=I_(t,v[x]);if(T){const{transitionEnd:b,transition:w,...R}=T;for(const k in R){let N=R[k];if(Array.isArray(N)){const O=f?N.length-1:0;N=N[O]}N!==null&&(s[k]=N)}for(const k in b)s[k]=b[k]}}}return s}const zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(zc),uk=t=>e=>typeof e=="string"&&e.startsWith(t),dk=uk("--"),WB=uk("var(--"),k_=t=>WB(t)?qB.test(t.split("/*")[0].trim()):!1,qB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Bi=(t,e,n)=>n>e?e:n<t?t:n,Uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kd={...Uc,transform:t=>Bi(0,1,t)},Df={...Uc,default:1},th=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_o=th("deg"),Zs=th("%"),ze=th("px"),GB=th("vh"),KB=th("vw"),DS={...Zs,parse:t=>Zs.parse(t)/100,transform:t=>Zs.transform(t*100)},QB={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},YB={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:_o,skewX:_o,skewY:_o,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:kd,originX:DS,originY:DS,originZ:ze},jS={...Uc,transform:Math.round},N_={...QB,...YB,zIndex:jS,size:ze,fillOpacity:kd,strokeOpacity:kd,numOctaves:jS},XB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZB=zc.length;function JB(t,e,n){let r="",s=!0;for(let i=0;i<ZB;i++){const o=zc[i],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=hk(l,N_[o]);if(!u){s=!1;const f=XB[o]||o;r+=`${f}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function D_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(nl.has(u)){o=!0;continue}else if(dk(u)){s[u]=d;continue}else{const f=hk(d,N_[u]);u.startsWith("origin")?(l=!0,i[u]=f):r[u]=f}}if(e.transform||(o||n?r.transform=JB(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=i;r.transformOrigin=`${u} ${d} ${f}`}}const e9={offset:"stroke-dashoffset",array:"stroke-dasharray"},t9={offset:"strokeDashoffset",array:"strokeDasharray"};function n9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?e9:t9;t[i.offset]=ze.transform(-r);const o=ze.transform(e),l=ze.transform(n);t[i.array]=`${o} ${l}`}function MS(t,e,n){return typeof t=="string"?t:ze.transform(e+n*t)}function r9(t,e,n){const r=MS(e,t.x,t.width),s=MS(n,t.y,t.height);return`${r} ${s}`}function j_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,g){if(D_(t,d,g),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x,dimensions:T}=t;v.transform&&(T&&(x.transform=v.transform),delete v.transform),T&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=r9(T,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&n9(v,o,l,u,!1)}const M_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),fk=()=>({...M_(),attrs:{}}),O_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pk(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gk(t,e,n,r){pk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(mk.has(s)?s:A_(s),e.attrs[s])}const Yp={};function s9(t){Object.assign(Yp,t)}function yk(t,{layout:e,layoutId:n}){return nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yp[t]||t==="opacity")}function V_(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Hn(s[o])||e.style&&Hn(e.style[o])||yk(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function vk(t,e,n){const r=V_(t,e,n);for(const s in t)if(Hn(t[s])||Hn(e[s])){const i=zc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function i9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const OS=["x","y","width","height","cx","cy","r"],o9={useVisualState:ck({scrapeMotionValuesFromProps:vk,createRenderState:fk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(nl.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<OS.length;l++){const u=OS[l];t[u]!==e[u]&&(o=!0)}o&&Vt.read(()=>{i9(n,r),Vt.render(()=>{j_(r,s,O_(n.tagName),t.transformTemplate),gk(n,r)})})}})},a9={useVisualState:ck({scrapeMotionValuesFromProps:V_,createRenderState:M_})};function xk(t,e,n){for(const r in e)!Hn(e[r])&&!yk(r,n)&&(t[r]=e[r])}function l9({transformTemplate:t},e){return A.useMemo(()=>{const n=M_();return D_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function c9(t,e){const n=t.style||{},r={};return xk(r,n,t),Object.assign(r,l9(t,e)),r}function u9(t,e){const n={},r=c9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function d9(t,e,n,r){const s=A.useMemo(()=>{const i=fk();return j_(i,e,O_(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};xk(i,t.style,t),s.style={...i,...s.style}}return s}function h9(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(R_(n)?d9:u9)(r,i,o,n),d=AB(r,typeof n=="string",t),f=n!==A.Fragment?{...d,...u,ref:s}:{},{children:g}=r,v=A.useMemo(()=>Hn(g)?g.get():g,[g]);return A.createElement(n,{...f,children:v})}}function f9(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...R_(r)?o9:a9,preloadedFeatures:t,useRender:h9(s),createVisualElement:e,Component:r};return OB(o)}}function _k(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Km(t,e,n){const r=t.getProps();return I_(r,e,n!==void 0?n:r.custom,t)}const p9=S_(()=>window.ScrollTimeline!==void 0);class m9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(p9()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class g9 extends m9{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function L_(t,e){return t?t[e]||t.default||t:void 0}const W0=2e4;function wk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<W0;)e+=n,r=t.next(e);return e>=W0?1/0:e}function F_(t){return typeof t=="function"}function VS(t,e){t.timeline=e,t.onfinish=null}const B_=t=>Array.isArray(t)&&typeof t[0]=="number",y9={linearEasing:void 0};function v9(t,e){const n=S_(t);return()=>{var r;return(r=y9[e])!==null&&r!==void 0?r:n()}}const Xp=v9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Sc(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Tk(t){return!!(typeof t=="function"&&Xp()||!t||typeof t=="string"&&(t in q0||Xp())||B_(t)||Array.isArray(t)&&t.every(Tk))}const ed=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,q0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ed([0,.65,.55,1]),circOut:ed([.55,0,1,.45]),backIn:ed([.31,.01,.66,-.59]),backOut:ed([.33,1.53,.69,.99])};function Sk(t,e){if(t)return typeof t=="function"&&Xp()?bk(t,e):B_(t)?ed(t):Array.isArray(t)?t.map(n=>Sk(n,e)||q0.easeOut):q0[t]}const ms={x:!1,y:!1};function Ek(){return ms.x||ms.y}function x9(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Ck(t,e){const n=x9(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function LS(t){return e=>{e.pointerType==="touch"||Ek()||t(e)}}function _9(t,e,n={}){const[r,s,i]=Ck(t,n),o=LS(l=>{const{target:u}=l,d=e(l);if(typeof d!="function"||!u)return;const f=LS(g=>{d(g),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Ak=(t,e)=>e?t===e?!0:Ak(t,e.parentElement):!1,z_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,w9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b9(t){return w9.has(t.tagName)||t.tabIndex!==-1}const td=new WeakSet;function FS(t){return e=>{e.key==="Enter"&&t(e)}}function xv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=FS(()=>{if(td.has(n))return;xv(n,"down");const s=FS(()=>{xv(n,"up")}),i=()=>xv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function BS(t){return z_(t)&&!Ek()}function S9(t,e,n={}){const[r,s,i]=Ck(t,n),o=l=>{const u=l.currentTarget;if(!BS(l)||td.has(u))return;td.add(u);const d=e(l),f=(x,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!BS(x)||!td.has(u))&&(td.delete(u),typeof d=="function"&&d(x,{success:T}))},g=x=>{f(x,n.useGlobalTarget||Ak(u,x.target))},v=x=>{f(x,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(l=>{!b9(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",d=>T9(d,s),s)}),i}function E9(t){return t==="x"||t==="y"?ms[t]?null:(ms[t]=!0,()=>{ms[t]=!1}):ms.x||ms.y?null:(ms.x=ms.y=!0,()=>{ms.x=ms.y=!1})}const Pk=new Set(["width","height","top","left","right","bottom",...zc]);let gp;function C9(){gp=void 0}const Js={now:()=>(gp===void 0&&Js.set(An.isProcessing||wB.useManualTiming?An.timestamp:performance.now()),gp),set:t=>{gp=t,queueMicrotask(C9)}};function U_(t,e){t.indexOf(e)===-1&&t.push(e)}function $_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class H_{constructor(){this.subscriptions=[]}add(e){return U_(this.subscriptions,e),()=>$_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Rk(t,e){return e?t*(1e3/e):0}const zS=30,A9=t=>!isNaN(parseFloat(t));class P9{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Js.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new H_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zS);return Rk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nd(t,e){return new P9(t,e)}function R9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nd(n))}function I9(t,e){const n=Km(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=UB(i[o]);R9(t,o,l)}}function k9(t){return!!(Hn(t)&&t.add)}function G0(t,e){const n=t.getValue("willChange");if(k9(n))return n.add(e)}function Ik(t){return t.props[ok]}const kk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N9=1e-7,D9=12;function j9(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=kk(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>N9&&++l<D9);return o}function nh(t,e,n,r){if(t===e&&n===r)return Tr;const s=i=>j9(i,0,1,t,n);return i=>i===0||i===1?i:kk(s(i),e,r)}const Nk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Dk=t=>e=>1-t(1-e),jk=nh(.33,1.53,.69,.99),W_=Dk(jk),Mk=Nk(W_),Ok=t=>(t*=2)<1?.5*W_(t):.5*(2-Math.pow(2,-10*(t-1))),q_=t=>1-Math.sin(Math.acos(t)),Vk=Dk(q_),Lk=Nk(q_),Fk=t=>/^0[^.\s]+$/u.test(t);function M9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fk(t):!0}const dd=t=>Math.round(t*1e5)/1e5,G_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O9(t){return t==null}const V9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,K_=(t,e)=>n=>!!(typeof n=="string"&&V9.test(n)&&n.startsWith(t)||e&&!O9(n)&&Object.prototype.hasOwnProperty.call(n,e)),Bk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(G_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},L9=t=>Bi(0,255,t),_v={...Uc,transform:t=>Math.round(L9(t))},Oa={test:K_("rgb","red"),parse:Bk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_v.transform(t)+", "+_v.transform(e)+", "+_v.transform(n)+", "+dd(kd.transform(r))+")"};function F9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const K0={test:K_("#"),parse:F9,transform:Oa.transform},tc={test:K_("hsl","hue"),parse:Bk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zs.transform(dd(e))+", "+Zs.transform(dd(n))+", "+dd(kd.transform(r))+")"},zn={test:t=>Oa.test(t)||K0.test(t)||tc.test(t),parse:t=>Oa.test(t)?Oa.parse(t):tc.test(t)?tc.parse(t):K0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):tc.transform(t)},B9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(G_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(B9))===null||n===void 0?void 0:n.length)||0)>0}const zk="number",Uk="color",U9="var",$9="var(",US="${}",H9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(H9,u=>(zn.test(u)?(r.color.push(i),s.push(Uk),n.push(zn.parse(u))):u.startsWith($9)?(r.var.push(i),s.push(U9),n.push(u)):(r.number.push(i),s.push(zk),n.push(parseFloat(u))),++i,US)).split(US);return{values:n,split:l,indexes:r,types:s}}function $k(t){return Dd(t).values}function Hk(t){const{split:e,types:n}=Dd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===zk?i+=dd(s[o]):l===Uk?i+=zn.transform(s[o]):i+=s[o]}return i}}const W9=t=>typeof t=="number"?0:t;function q9(t){const e=$k(t);return Hk(t)(e.map(W9))}const Ho={test:z9,parse:$k,createTransformer:Hk,getAnimatableNone:q9},G9=new Set(["brightness","contrast","saturate","opacity"]);function K9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G_)||[];if(!r)return t;const s=n.replace(r,"");let i=G9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Q9=/\b([a-z-]*)\(.*?\)/gu,Q0={...Ho,getAnimatableNone:t=>{const e=t.match(Q9);return e?e.map(K9).join(" "):t}},Y9={...N_,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:Q0,WebkitFilter:Q0},Q_=t=>Y9[t];function Wk(t,e){let n=Q_(t);return n!==Q0&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X9=new Set(["auto","none","0"]);function Z9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!X9.has(i)&&Dd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Wk(n,s)}const $S=t=>t===Uc||t===ze,HS=(t,e)=>parseFloat(t.split(", ")[e]),WS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return HS(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?HS(i[1],t):0}},J9=new Set(["x","y","z"]),ez=zc.filter(t=>!J9.has(t));function tz(t){const e=[];return ez.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Cc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WS(4,13),y:WS(5,14)};Cc.translateX=Cc.x;Cc.translateY=Cc.y;const za=new Set;let Y0=!1,X0=!1;function qk(){if(X0){const t=Array.from(za).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=tz(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}X0=!1,Y0=!1,za.forEach(t=>t.complete()),za.clear()}function Gk(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(X0=!0)})}function nz(){Gk(),qk()}class Y_{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(za.add(this),Y0||(Y0=!0,Vt.read(Gk),Vt.resolveKeyframes(qk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),za.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,za.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Kk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sz(t){const e=rz.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Qk(t,e,n=1){const[r,s]=sz(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Kk(o)?parseFloat(o):o}return k_(s)?Qk(s,e,n+1):s}const Yk=t=>e=>e.test(t),iz={test:t=>t==="auto",parse:t=>t},Xk=[Uc,ze,Zs,_o,KB,GB,iz],qS=t=>Xk.find(Yk(t));class Zk extends Y_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),k_(d))){const f=Qk(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Pk.has(r)||e.length!==2)return;const[s,i]=e,o=qS(s),l=qS(i);if(o!==l)if($S(o)&&$S(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)M9(e[s])&&r.push(s);r.length&&Z9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Cc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const GS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ho.test(t)||t==="0")&&!t.startsWith("url("));function oz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function az(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=GS(s,e),l=GS(i,e);return!o||!l?!1:oz(t)||(n==="spring"||F_(n))&&r}const lz=t=>t!==null;function Qm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(lz),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const cz=40;class Jk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Js.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Js.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!az(e,r,s,i))if(o)this.options.duration=0;else{u&&u(Qm(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ht=(t,e,n)=>t+(e-t)*n;function wv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=wv(u,l,t+1/3),i=wv(u,l,t),o=wv(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Zp(t,e){return n=>n>0?e:t}const bv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},dz=[K0,Oa,tc],hz=t=>dz.find(e=>e.test(t));function KS(t){const e=hz(t);if(!e)return!1;let n=e.parse(t);return e===tc&&(n=uz(n)),n}const QS=(t,e)=>{const n=KS(t),r=KS(e);if(!n||!r)return Zp(t,e);const s={...n};return i=>(s.red=bv(n.red,r.red,i),s.green=bv(n.green,r.green,i),s.blue=bv(n.blue,r.blue,i),s.alpha=Ht(n.alpha,r.alpha,i),Oa.transform(s))},fz=(t,e)=>n=>e(t(n)),rh=(...t)=>t.reduce(fz),Z0=new Set(["none","hidden"]);function pz(t,e){return Z0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mz(t,e){return n=>Ht(t,e,n)}function X_(t){return typeof t=="number"?mz:typeof t=="string"?k_(t)?Zp:zn.test(t)?QS:vz:Array.isArray(t)?e2:typeof t=="object"?zn.test(t)?QS:gz:Zp}function e2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>X_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function gz(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=X_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function yz(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],u=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=u,s[o]++}return r}const vz=(t,e)=>{const n=Ho.createTransformer(e),r=Dd(t),s=Dd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Z0.has(t)&&!s.values.length||Z0.has(e)&&!r.values.length?pz(t,e):rh(e2(yz(r,s),s.values),n):Zp(t,e)};function t2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):X_(t)(t,e)}const xz=5;function n2(t,e,n){const r=Math.max(e-xz,0);return Rk(n-t(r),e-r)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tv=.001;function _z({duration:t=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:r=Kt.mass}){let s,i,o=1-e;o=Bi(Kt.minDamping,Kt.maxDamping,o),t=Bi(Kt.minDuration,Kt.maxDuration,Di(t)),o<1?(s=d=>{const f=d*o,g=f*t,v=f-n,x=J0(d,o),T=Math.exp(-g);return Tv-v/x*T},i=d=>{const g=d*o*t,v=g*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-g),b=J0(Math.pow(d,2),o);return(-s(d)+Tv>0?-1:1)*((v-x)*T)/b}):(s=d=>{const f=Math.exp(-d*t),g=(d-n)*t+1;return-Tv+f*g},i=d=>{const f=Math.exp(-d*t),g=(n-d)*(t*t);return f*g});const l=5/t,u=bz(s,i,l);if(t=Ni(t),isNaN(u))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const wz=12;function bz(t,e,n){let r=n;for(let s=1;s<wz;s++)r=r-t(r)/e(r);return r}function J0(t,e){return t*Math.sqrt(1-e*e)}const Tz=["duration","bounce"],Sz=["stiffness","damping","mass"];function YS(t,e){return e.some(n=>t[n]!==void 0)}function Ez(t){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...t};if(!YS(t,Sz)&&YS(t,Tz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Bi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Kt.mass,stiffness:s,damping:i}}else{const n=_z(t);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function r2(t=Kt.visualDuration,e=Kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:g,velocity:v,isResolvedFromDuration:x}=Ez({...n,velocity:-Di(n.velocity||0)}),T=v||0,b=d/(2*Math.sqrt(u*f)),w=o-i,R=Di(Math.sqrt(u/f)),k=Math.abs(w)<5;r||(r=k?Kt.restSpeed.granular:Kt.restSpeed.default),s||(s=k?Kt.restDelta.granular:Kt.restDelta.default);let N;if(b<1){const B=J0(R,b);N=U=>{const M=Math.exp(-b*R*U);return o-M*((T+b*R*w)/B*Math.sin(B*U)+w*Math.cos(B*U))}}else if(b===1)N=B=>o-Math.exp(-R*B)*(w+(T+R*w)*B);else{const B=R*Math.sqrt(b*b-1);N=U=>{const M=Math.exp(-b*R*U),E=Math.min(B*U,300);return o-M*((T+b*R*w)*Math.sinh(E)+B*w*Math.cosh(E))/B}}const O={calculatedDuration:x&&g||null,next:B=>{const U=N(B);if(x)l.done=B>=g;else{let M=0;b<1&&(M=B===0?Ni(T):n2(N,B,U));const E=Math.abs(M)<=r,P=Math.abs(o-U)<=s;l.done=E&&P}return l.value=l.done?o:U,l},toString:()=>{const B=Math.min(wk(O),W0),U=bk(M=>O.next(B*M).value,B,30);return B+"ms "+U}};return O}function XS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const g=t[0],v={done:!1,value:g},x=E=>l!==void 0&&E<l||u!==void 0&&E>u,T=E=>l===void 0?u:u===void 0||Math.abs(l-E)<Math.abs(u-E)?l:u;let b=n*e;const w=g+b,R=o===void 0?w:o(w);R!==w&&(b=R-g);const k=E=>-b*Math.exp(-E/r),N=E=>R+k(E),O=E=>{const P=k(E),j=N(E);v.done=Math.abs(P)<=d,v.value=v.done?R:j};let B,U;const M=E=>{x(v.value)&&(B=E,U=r2({keyframes:[v.value,T(v.value)],velocity:n2(N,E,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:f}))};return M(0),{calculatedDuration:null,next:E=>{let P=!1;return!U&&B===void 0&&(P=!0,O(E),M(E)),B!==void 0&&E>=B?U.next(E-B):(!P&&O(E),v)}}}const Cz=nh(.42,0,1,1),Az=nh(0,0,.58,1),s2=nh(.42,0,.58,1),Pz=t=>Array.isArray(t)&&typeof t[0]!="number",Rz={linear:Tr,easeIn:Cz,easeInOut:s2,easeOut:Az,circIn:q_,circInOut:Lk,circOut:Vk,backIn:W_,backInOut:Mk,backOut:jk,anticipate:Ok},ZS=t=>{if(B_(t)){tk(t.length===4);const[e,n,r,s]=t;return nh(e,n,r,s)}else if(typeof t=="string")return Rz[t];return t};function Iz(t,e,n){const r=[],s=n||t2,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Tr:e;l=rh(u,l)}r.push(l)}return r}function kz(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(tk(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Iz(e,r,s),u=l.length,d=f=>{if(o&&f<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(f<t[g+1]);g++);const v=Sc(t[g],t[g+1],f);return l[g](v)};return n?f=>d(Bi(t[0],t[i-1],f)):d}function Nz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sc(0,e,r);t.push(Ht(n,1,s))}}function Dz(t){const e=[0];return Nz(e,t.length-1),e}function jz(t,e){return t.map(n=>n*e)}function Mz(t,e){return t.map(()=>e||s2).splice(0,t.length-1)}function Jp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Pz(r)?r.map(ZS):ZS(r),i={done:!1,value:e[0]},o=jz(n&&n.length===e.length?n:Dz(e),t),l=kz(o,e,{ease:Array.isArray(s)?s:Mz(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}const Oz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Vt.update(e,!0),stop:()=>$o(e),now:()=>An.isProcessing?An.timestamp:Js.now()}},Vz={decay:XS,inertia:XS,tween:Jp,keyframes:Jp,spring:r2},Lz=t=>t/100;class Z_ extends Jk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Y_,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=F_(n)?n:Vz[n]||Jp;let u,d;l!==Jp&&typeof e[0]!="number"&&(u=rh(Lz,t2(e[0],e[1])),e=[0,100]);const f=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=wk(f));const{calculatedDuration:g}=f,v=g+s,x=v*(r+1)-s;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:g}=r;if(this.startTime===null)return i.next(0);const{delay:v,repeat:x,repeatType:T,repeatDelay:b,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-v*(this.speed>=0?1:-1),k=this.speed>=0?R<0:R>f;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let N=this.currentTime,O=i;if(x){const E=Math.min(this.currentTime,f)/g;let P=Math.floor(E),j=E%1;!j&&E>=1&&(j=1),j===1&&P--,P=Math.min(P,x+1),!!(P%2)&&(T==="reverse"?(j=1-j,b&&(j-=b/g)):T==="mirror"&&(O=o)),N=Bi(0,1,j)*g}const B=k?{done:!1,value:u[0]}:O.next(N);l&&(B.value=l(B.value));let{done:U}=B;!k&&d!==null&&(U=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return M&&s!==void 0&&(B.value=Qm(u,this.options,s)),w&&w(B.value),M&&this.finish(),B}get duration(){const{resolved:e}=this;return e?Di(e.calculatedDuration):0}get time(){return Di(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Di(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Oz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Fz=new Set(["opacity","clipPath","filter","transform"]);function Bz(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=Sk(l,s);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const zz=S_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),em=10,Uz=2e4;function $z(t){return F_(t.type)||t.type==="spring"||!Tk(t.ease)}function Hz(t,e){const n=new Z_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<Uz;)r=n.sample(i),s.push(r.value),i+=em;return{times:void 0,keyframes:s,duration:i-em,ease:"linear"}}const i2={anticipate:Ok,backInOut:Mk,circInOut:Lk};function Wz(t){return t in i2}class JS extends Jk{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Zk(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Xp()&&Wz(i)&&(i=i2[i]),$z(this.options)){const{onComplete:g,onUpdate:v,motionValue:x,element:T,...b}=this.options,w=Hz(e,b);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,s=w.times,i=w.ease,o="keyframes"}const f=Bz(l.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(VS(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:g}=this.options;l.set(Qm(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Di(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Di(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Tr;const{animation:r}=n;VS(r,e)}return Tr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:g,element:v,...x}=this.options,T=new Z_({...x,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),b=Ni(this.time);d.setWithVelocity(T.sample(b-em).value,T.sample(b).value,em)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return zz()&&r&&Fz.has(r)&&!u&&!d&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const qz={type:"spring",stiffness:500,damping:25,restSpeed:10},Gz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kz={type:"keyframes",duration:.8},Qz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yz=(t,{keyframes:e})=>e.length>2?Kz:nl.has(t)?t.startsWith("scale")?Gz(e[1]):qz:Qz;function Xz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const J_=(t,e,n,r={},s,i)=>o=>{const l=L_(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ni(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Xz(l)||(f={...f,...Yz(t,f)}),f.duration&&(f.duration=Ni(f.duration)),f.repeatDelay&&(f.repeatDelay=Ni(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),g&&!i&&e.get()!==void 0){const v=Qm(f.keyframes,l);if(v!==void 0)return Vt.update(()=>{f.onUpdate(v),f.onComplete()}),new g9([])}return!i&&JS.supports(f)?new JS(f):new Z_(f)};function Zz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function o2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,(i=t.latestValues[g])!==null&&i!==void 0?i:null),x=u[g];if(x===void 0||f&&Zz(f,g))continue;const T={delay:n,...L_(o||{},g)};let b=!1;if(window.MotionHandoffAnimation){const R=Ik(t);if(R){const k=window.MotionHandoffAnimation(R,g,Vt);k!==null&&(T.startTime=k,b=!0)}}G0(t,g),v.start(J_(g,v,x,t.shouldReduceMotion&&Pk.has(g)?{type:!1}:T,t,b));const w=v.animation;w&&d.push(w)}return l&&Promise.all(d).then(()=>{Vt.update(()=>{l&&I9(t,l)})}),d}function ex(t,e,n={}){var r;const s=Km(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(o2(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=i;return Jz(t,e,f+d,g,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function Jz(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,u=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(eU).forEach((d,f)=>{d.notify("AnimationStart",e),o.push(ex(d,e,{...i,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function eU(t,e){return t.sortNodePosition(e)}function tU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ex(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ex(t,e,n);else{const s=typeof e=="function"?Km(t,e,n.custom):e;r=Promise.all(o2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const nU=C_.length;function a2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?a2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nU;n++){const r=C_[n],s=t.props[r];(Id(s)||s===!1)&&(e[r]=s)}return e}const rU=[...E_].reverse(),sU=E_.length;function iU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tU(t,n,r)))}function oU(t){let e=iU(t),n=eE(),r=!0;const s=u=>(d,f)=>{var g;const v=Km(t,f,u==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:x,transitionEnd:T,...b}=v;d={...d,...b,...T}}return d};function i(u){e=u(t)}function o(u){const{props:d}=t,f=a2(t.parent)||{},g=[],v=new Set;let x={},T=1/0;for(let w=0;w<sU;w++){const R=rU[w],k=n[R],N=d[R]!==void 0?d[R]:f[R],O=Id(N),B=R===u?k.isActive:null;B===!1&&(T=w);let U=N===f[R]&&N!==d[R]&&O;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),k.protectedKeys={...x},!k.isActive&&B===null||!N&&!k.prevProp||qm(N)||typeof N=="boolean")continue;const M=aU(k.prevProp,N);let E=M||R===u&&k.isActive&&!U&&O||w>T&&O,P=!1;const j=Array.isArray(N)?N:[N];let F=j.reduce(s(R),{});B===!1&&(F={});const{prevResolvedValues:D={}}=k,V={...D,...F},J=Y=>{E=!0,v.has(Y)&&(P=!0,v.delete(Y)),k.needsAnimating[Y]=!0;const G=t.getValue(Y);G&&(G.liveStyle=!1)};for(const Y in V){const G=F[Y],te=D[Y];if(x.hasOwnProperty(Y))continue;let ae=!1;H0(G)&&H0(te)?ae=!_k(G,te):ae=G!==te,ae?G!=null?J(Y):v.add(Y):G!==void 0&&v.has(Y)?J(Y):k.protectedKeys[Y]=!0}k.prevProp=N,k.prevResolvedValues=F,k.isActive&&(x={...x,...F}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(U&&M)||P)&&g.push(...j.map(Y=>({animation:Y,options:{type:R}})))}if(v.size){const w={};v.forEach(R=>{const k=t.getBaseTarget(R),N=t.getValue(R);N&&(N.liveStyle=!0),w[R]=k??null}),g.push({animation:w})}let b=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(g):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(u,d)}),n[u].isActive=d;const g=o(u);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=eE(),r=!0}}}function aU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_k(e,t):!1}function Ca(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eE(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lU extends Zo{constructor(e){super(e),e.animationState||(e.animationState=oU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cU=0;class uU extends Zo{constructor(){super(...arguments),this.id=cU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const dU={animation:{Feature:lU},exit:{Feature:uU}};function jd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function sh(t){return{point:{x:t.pageX,y:t.pageY}}}const hU=t=>e=>z_(e)&&t(e,sh(e));function hd(t,e,n,r){return jd(t,e,hU(n),r)}const tE=(t,e)=>Math.abs(t-e);function fU(t,e){const n=tE(t.x,e.x),r=tE(t.y,e.y);return Math.sqrt(n**2+r**2)}class l2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ev(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=fU(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:T}=g,{timestamp:b}=An;this.history.push({...T,timestamp:b});const{onStart:w,onMove:R}=this.handlers;v||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Sv(v,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:T,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ev(g.type==="pointercancel"?this.lastMoveEventInfo:Sv(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,w),T&&T(g,w)},!z_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=sh(e),l=Sv(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=An;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Ev(l,this.history)),this.removeListeners=rh(hd(this.contextWindow,"pointermove",this.handlePointerMove),hd(this.contextWindow,"pointerup",this.handlePointerUp),hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$o(this.updatePoint)}}function Sv(t,e){return e?{point:e(t.point)}:t}function nE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ev({point:t},e){return{point:t,delta:nE(t,c2(e)),offset:nE(t,pU(e)),velocity:mU(e,.1)}}function pU(t){return t[0]}function c2(t){return t[t.length-1]}function mU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=c2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ni(e)));)n--;if(!r)return{x:0,y:0};const i=Di(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const u2=1e-4,gU=1-u2,yU=1+u2,d2=.01,vU=0-d2,xU=0+d2;function Cr(t){return t.max-t.min}function _U(t,e,n){return Math.abs(t-e)<=n}function rE(t,e,n,r=.5){t.origin=r,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=Cr(n)/Cr(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gU&&t.scale<=yU||isNaN(t.scale))&&(t.scale=1),(t.translate>=vU&&t.translate<=xU||isNaN(t.translate))&&(t.translate=0)}function fd(t,e,n,r){rE(t.x,e.x,n.x,r?r.originX:void 0),rE(t.y,e.y,n.y,r?r.originY:void 0)}function sE(t,e,n){t.min=n.min+e.min,t.max=t.min+Cr(e)}function wU(t,e,n){sE(t.x,e.x,n.x),sE(t.y,e.y,n.y)}function iE(t,e,n){t.min=e.min-n.min,t.max=t.min+Cr(e)}function pd(t,e,n){iE(t.x,e.x,n.x),iE(t.y,e.y,n.y)}function bU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ht(n,t,r.max):Math.min(t,n)),t}function oE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TU(t,{top:e,left:n,bottom:r,right:s}){return{x:oE(t.x,n,s),y:oE(t.y,e,r)}}function aE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SU(t,e){return{x:aE(t.x,e.x),y:aE(t.y,e.y)}}function EU(t,e){let n=.5;const r=Cr(t),s=Cr(e);return s>r?n=Sc(e.min,e.max-r,t.min):r>s&&(n=Sc(t.min,t.max-s,e.min)),Bi(0,1,n)}function CU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tx=.35;function AU(t=tx){return t===!1?t=0:t===!0&&(t=tx),{x:lE(t,"left","right"),y:lE(t,"top","bottom")}}function lE(t,e,n){return{min:cE(t,e),max:cE(t,n)}}function cE(t,e){return typeof t=="number"?t:t[e]||0}const uE=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:uE(),y:uE()}),dE=()=>({min:0,max:0}),Xt=()=>({x:dE(),y:dE()});function zr(t){return[t("x"),t("y")]}function h2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cv(t){return t===void 0||t===1}function nx({scale:t,scaleX:e,scaleY:n}){return!Cv(t)||!Cv(e)||!Cv(n)}function Na(t){return nx(t)||f2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function f2(t){return hE(t.x)||hE(t.y)}function hE(t){return t&&t!=="0%"}function tm(t,e,n){const r=t-n,s=e*r;return n+s}function fE(t,e,n,r,s){return s!==void 0&&(t=tm(t,s,r)),tm(t,n,r)+e}function rx(t,e=0,n=1,r,s){t.min=fE(t.min,e,n,r,s),t.max=fE(t.max,e,n,r,s)}function p2(t,{x:e,y:n}){rx(t.x,e.translate,e.scale,e.originPoint),rx(t.y,n.translate,n.scale,n.originPoint)}const pE=.999999999999,mE=1.0000000000001;function IU(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,p2(t,o)),r&&Na(i.latestValues)&&sc(t,i.latestValues))}e.x<mE&&e.x>pE&&(e.x=1),e.y<mE&&e.y>pE&&(e.y=1)}function rc(t,e){t.min=t.min+e,t.max=t.max+e}function gE(t,e,n,r,s=.5){const i=Ht(t.min,t.max,s);rx(t,e,n,i,r)}function sc(t,e){gE(t.x,e.x,e.scaleX,e.scale,e.originX),gE(t.y,e.y,e.scaleY,e.scale,e.originY)}function m2(t,e){return h2(RU(t.getBoundingClientRect(),e))}function kU(t,e,n){const r=m2(t,n),{scroll:s}=e;return s&&(rc(r.x,s.offset.x),rc(r.y,s.offset.y)),r}const g2=({current:t})=>t?t.ownerDocument.defaultView:null,NU=new WeakMap;class DU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sh(f).point)},i=(f,g)=>{const{drag:v,dragPropagation:x,onDragStart:T}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E9(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(w=>{let R=this.getAxisMotionValue(w).get()||0;if(Zs.test(R)){const{projection:k}=this.visualElement;if(k&&k.layout){const N=k.layout.layoutBox[w];N&&(R=Cr(N)*(parseFloat(R)/100))}}this.originPoint[w]=R}),T&&Vt.postRender(()=>T(f,g)),G0(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:T,onDrag:b}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=g;if(x&&this.currentDirection===null){this.currentDirection=jU(w),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,w),this.updateAxis("y",g.point,w),this.visualElement.render(),b&&b(f,g)},l=(f,g)=>this.stop(f,g),u=()=>zr(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new l2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:g2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Vt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!jf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bU(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ec(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=TU(s.layoutBox,n):this.constraints=!1,this.elastic=AU(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CU(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ec(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=kU(r,s.root,this.visualElement.getTransformPagePoint());let o=SU(s.layout.layoutBox,i);if(n){const l=n(PU(o));this.hasMutatedConstraints=!!l,l&&(o=h2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=zr(f=>{if(!jf(f,n,this.currentDirection))return;let g=u&&u[f]||{};o&&(g={min:0,max:0});const v=s?200:1e6,x=s?40:1e7,T={type:"inertia",velocity:r?e[f]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(f,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return G0(this.visualElement,e),r.start(J_(e,r,0,n,this.visualElement,!1))}stopAnimation(){zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zr(n=>{const{drag:r}=this.getProps();if(!jf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Ht(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ec(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=EU({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zr(o=>{if(!jf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Ht(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;NU.set(this.visualElement,this);const e=this.visualElement.current,n=hd(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ec(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Vt.read(r);const o=jd(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(zr(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=u[f].translate,g.set(g.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=tx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MU extends Zo{constructor(e){super(e),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new DU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const yE=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class OU extends Zo{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(e){this.session=new l2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:yE(e),onStart:yE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Vt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=vE(t,e.target.x),r=vE(t,e.target.y);return`${n}% ${r}%`}},VU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ho.parse(t);if(s.length>5)return r;const i=Ho.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const d=Ht(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class LU extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;s9(FU),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Vt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),P_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function y2(t){const[e,n]=xB(),r=A.useContext(JI);return p.jsx(LU,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(ak),isPresent:e,safeToRemove:n})}const FU={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:VU};function BU(t,e,n){const r=Hn(t)?t:Nd(t);return r.start(J_("",r,e,n)),r.animation}function zU(t){return t instanceof SVGElement&&t.tagName!=="svg"}const UU=(t,e)=>t.depth-e.depth;class $U{constructor(){this.children=[],this.isDirty=!1}add(e){U_(this.children,e),this.isDirty=!0}remove(e){$_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UU),this.isDirty=!1,this.children.forEach(e)}}function HU(t,e){const n=Js.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&($o(r),t(i-e))};return Vt.read(r,!0),()=>$o(r)}const v2=["TopLeft","TopRight","BottomLeft","BottomRight"],WU=v2.length,xE=t=>typeof t=="string"?parseFloat(t):t,_E=t=>typeof t=="number"||ze.test(t);function qU(t,e,n,r,s,i){s?(t.opacity=Ht(0,n.opacity!==void 0?n.opacity:1,GU(r)),t.opacityExit=Ht(e.opacity!==void 0?e.opacity:1,0,KU(r))):i&&(t.opacity=Ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<WU;o++){const l=`border${v2[o]}Radius`;let u=wE(e,l),d=wE(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||_E(u)===_E(d)?(t[l]=Math.max(Ht(xE(u),xE(d),r),0),(Zs.test(d)||Zs.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,r))}function wE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GU=x2(0,.5,Vk),KU=x2(.5,.95,Tr);function x2(t,e,n){return r=>r<t?0:r>e?1:n(Sc(t,e,r))}function bE(t,e){t.min=e.min,t.max=e.max}function Fr(t,e){bE(t.x,e.x),bE(t.y,e.y)}function TE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function SE(t,e,n,r,s){return t-=e,t=tm(t,1/n,r),s!==void 0&&(t=tm(t,1/s,r)),t}function QU(t,e=0,n=1,r=.5,s,i=t,o=t){if(Zs.test(e)&&(e=parseFloat(e),e=Ht(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ht(i.min,i.max,r);t===i&&(l-=e),t.min=SE(t.min,e,n,l,s),t.max=SE(t.max,e,n,l,s)}function EE(t,e,[n,r,s],i,o){QU(t,e[n],e[r],e[s],e.scale,i,o)}const YU=["x","scaleX","originX"],XU=["y","scaleY","originY"];function CE(t,e,n,r){EE(t.x,e,YU,n?n.x:void 0,r?r.x:void 0),EE(t.y,e,XU,n?n.y:void 0,r?r.y:void 0)}function AE(t){return t.translate===0&&t.scale===1}function _2(t){return AE(t.x)&&AE(t.y)}function PE(t,e){return t.min===e.min&&t.max===e.max}function ZU(t,e){return PE(t.x,e.x)&&PE(t.y,e.y)}function RE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function w2(t,e){return RE(t.x,e.x)&&RE(t.y,e.y)}function IE(t){return Cr(t.x)/Cr(t.y)}function kE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JU{constructor(){this.members=[]}add(e){U_(this.members,e),e.scheduleRender()}remove(e){if($_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:v,skewX:x,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const Da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nd=typeof window<"u"&&window.MotionDebug!==void 0,Av=["","X","Y","Z"],t8={visibility:"hidden"},NE=1e3;let n8=0;function Pv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function b2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ik(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&b2(r)}function T2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=n8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nd&&(Da.totalNodes=Da.resolvedTargetDeltas=Da.recalculatedProjection=0),this.nodes.forEach(i8),this.nodes.forEach(u8),this.nodes.forEach(d8),this.nodes.forEach(o8),nd&&window.MotionDebug.record(Da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new $U)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new H_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zU(o),this.instance=o;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=HU(v,250),yp.hasAnimatedSinceResize&&(yp.hasAnimatedSinceResize=!1,this.nodes.forEach(jE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||g8,{onLayoutAnimationStart:w,onLayoutAnimationComplete:R}=f.getProps(),k=!this.targetLayout||!w2(this.targetLayout,T)||x,N=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,N);const O={...L_(b,"layout"),onPlay:w,onComplete:R};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else v||jE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DE);return}this.isUpdating||this.nodes.forEach(l8),this.isUpdating=!1,this.nodes.forEach(c8),this.nodes.forEach(r8),this.nodes.forEach(s8),this.clearAllSnapshots();const l=Js.now();An.delta=Bi(0,1e3/60,l-An.timestamp),An.timestamp=l,An.isProcessing=!0,vv.update.process(An),vv.preRender.process(An),vv.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a8),this.sharedNodes.forEach(f8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(l||Na(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),y8(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Xt();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(v8))){const{scroll:f}=this.root;f&&(rc(u.x,f.offset.x),rc(u.y,f.offset.y))}return u}removeElementScroll(o){var l;const u=Xt();if(Fr(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Fr(u,o),rc(u.x,g.offset.x),rc(u.y,g.offset.y))}return u}applyTransform(o,l=!1){const u=Xt();Fr(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&sc(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Na(f.latestValues)&&sc(u,f.latestValues)}return Na(this.latestValues)&&sc(u,this.latestValues),u}removeTransform(o){const l=Xt();Fr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Na(d.latestValues))continue;nx(d.latestValues)&&d.updateSnapshot();const f=Xt(),g=d.measurePageBox();Fr(f,g),CE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Na(this.latestValues)&&CE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),pd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),p2(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),pd(this.relativeTargetOrigin,this.target,x.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nd&&Da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nx(this.parent.latestValues)||f2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===An.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Fr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;IU(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TE(this.prevProjectionDelta.x,this.projectionDelta.x),TE(this.prevProjectionDelta.y,this.projectionDelta.y)),fd(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!kE(this.projectionDelta.x,this.prevProjectionDelta.x)||!kE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),nd&&Da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},g=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Xt(),x=u?u.source:void 0,T=this.layout?this.layout.source:void 0,b=x!==T,w=this.getStack(),R=!w||w.members.length<=1,k=!!(b&&!R&&this.options.crossfade===!0&&!this.path.some(m8));this.animationProgress=0;let N;this.mixTargetDelta=O=>{const B=O/1e3;ME(g.x,o.x,B),ME(g.y,o.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p8(this.relativeTarget,this.relativeTargetOrigin,v,B),N&&ZU(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Xt()),Fr(N,this.relativeTarget)),b&&(this.animationValues=f,qU(f,d,this.latestValues,B,k,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{yp.hasAnimatedSinceResize=!0,this.currentAnimation=BU(0,NE,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&S2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Xt();const g=Cr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const v=Cr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}Fr(l,u),sc(l,f),fd(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JU),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Pv("z",o,d,this.animationValues);for(let f=0;f<Av.length;f++)Pv(`rotate${Av[f]}`,o,d,this.animationValues),Pv(`skew${Av[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return t8;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=mp(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=mp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=e8(this.projectionDeltaWithTransform,this.treeScale,v),f&&(d.transform=f(v,d.transform));const{x,y:T}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const b in Yp){if(v[b]===void 0)continue;const{correct:w,applyTo:R}=Yp[b],k=d.transform==="none"?v[b]:w(v[b],g);if(R){const N=R.length;for(let O=0;O<N;O++)d[R[O]]=k}else d[b]=k}return this.options.layoutId&&(d.pointerEvents=g===this?mp(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(DE),this.root.sharedNodes.clear()}}}function r8(t){t.updateLayout()}function s8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?zr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],x=Cr(v);v.min=r[g].min,v.max=v.min+x}):S2(i,n.layoutBox,r)&&zr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],x=Cr(r[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const l=nc();fd(l,r,n.layoutBox);const u=nc();o?fd(u,t.applyTransform(s,!0),n.measuredBox):fd(u,r,n.layoutBox);const d=!_2(l);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const T=Xt();pd(T,n.layoutBox,v.layoutBox);const b=Xt();pd(b,r,x.layoutBox),w2(T,b)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function i8(t){nd&&Da.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function a8(t){t.clearSnapshot()}function DE(t){t.clearMeasurements()}function l8(t){t.isLayoutDirty=!1}function c8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u8(t){t.resolveTargetDelta()}function d8(t){t.calcProjection()}function h8(t){t.resetSkewAndRotation()}function f8(t){t.removeLeadSnapshot()}function ME(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OE(t,e,n,r){t.min=Ht(e.min,n.min,r),t.max=Ht(e.max,n.max,r)}function p8(t,e,n,r){OE(t.x,e.x,n.x,r),OE(t.y,e.y,n.y,r)}function m8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const g8={duration:.45,ease:[.4,0,.1,1]},VE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),LE=VE("applewebkit/")&&!VE("chrome/")?Math.round:Tr;function FE(t){t.min=LE(t.min),t.max=LE(t.max)}function y8(t){FE(t.x),FE(t.y)}function S2(t,e,n){return t==="position"||t==="preserve-aspect"&&!_U(IE(e),IE(n),.2)}function v8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const x8=T2({attachResizeListener:(t,e)=>jd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rv={current:void 0},E2=T2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rv.current){const t=new x8({});t.mount(window),t.setOptions({layoutScroll:!0}),Rv.current=t}return Rv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_8={pan:{Feature:OU},drag:{Feature:MU,ProjectionNode:E2,MeasureLayout:y2}};function BE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Vt.postRender(()=>i(e,sh(e)))}class w8 extends Zo{mount(){const{current:e}=this.node;e&&(this.unmount=_9(e,n=>(BE(this.node,n,"Start"),r=>BE(this.node,r,"End"))))}unmount(){}}class b8 extends Zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rh(jd(this.node.current,"focus",()=>this.onFocus()),jd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zE(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Vt.postRender(()=>i(e,sh(e)))}class T8 extends Zo{mount(){const{current:e}=this.node;e&&(this.unmount=S9(e,n=>(zE(this.node,n,"Start"),(r,{success:s})=>zE(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sx=new WeakMap,Iv=new WeakMap,S8=t=>{const e=sx.get(t.target);e&&e(t)},E8=t=>{t.forEach(S8)};function C8({root:t,...e}){const n=t||document;Iv.has(n)||Iv.set(n,{});const r=Iv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(E8,{root:t,...e})),r[s]}function A8(t,e,n){const r=C8(e);return sx.set(t,n),r.observe(t),()=>{sx.delete(t),r.unobserve(t)}}const P8={some:0,all:1};class R8 extends Zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:P8[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),v=d?f:g;v&&v(u)};return A8(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I8(e,n))&&this.startObserver()}unmount(){}}function I8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k8={inView:{Feature:R8},tap:{Feature:T8},focus:{Feature:b8},hover:{Feature:w8}},N8={layout:{ProjectionNode:E2,MeasureLayout:y2}},ix={current:null},C2={current:!1};function D8(){if(C2.current=!0,!!T_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ix.current=t.matches;t.addListener(e),e()}else ix.current=!1}const j8=[...Xk,zn,Ho],M8=t=>j8.find(Yk(t)),UE=new WeakMap;function O8(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Hn(s))t.addValue(r,s);else if(Hn(i))t.addValue(r,Nd(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Nd(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $E=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Js.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Vt.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:f}=o;this.onUpdate=f,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Gm(n),this.isVariantNode=ik(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const T=v[x];u[x]!==void 0&&Hn(T)&&T.set(u[x],!1)}}mount(e){this.current=e,UE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),C2.current||D8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ix.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UE.delete(this.current),this.projection&&this.projection.unmount(),$o(this.notifyUpdate),$o(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nl.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ec){const n=Ec[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$E.length;r++){const s=$E[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=O8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Kk(s)||Fk(s))?s=parseFloat(s):!M8(s)&&Ho.test(n)&&(s=Wk(e,n)),this.setBaseTarget(e,Hn(s)?s.get():s)),Hn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=I_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Hn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new H_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class A2 extends V8{constructor(){super(...arguments),this.KeyframeResolver=Zk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function L8(t){return window.getComputedStyle(t)}class F8 extends A2{constructor(){super(...arguments),this.type="html",this.renderInstance=pk}readValueFromInstance(e,n){if(nl.has(n)){const r=Q_(n);return r&&r.default||0}else{const r=L8(e),s=(dk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return m2(e,n)}build(e,n,r){D_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return V_(e,n,r)}}class B8 extends A2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nl.has(n)){const r=Q_(n);return r&&r.default||0}return n=mk.has(n)?n:A_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vk(e,n,r)}build(e,n,r){j_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){gk(e,n,r,s)}mount(e){this.isSVGTag=O_(e.tagName),super.mount(e)}}const z8=(t,e)=>R_(t)?new B8(e):new F8(e,{allowProjection:t!==A.Fragment}),U8=f9({...dU,...k8,..._8,...N8},z8),De=PB(U8),$8=Hm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=Ue.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Q3:"button";return p.jsx(o,{className:Xe($8({variant:e,size:n,className:t})),ref:i,...s})});Ce.displayName="Button";const xt=Ue.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));xt.displayName="Input";var H8="Label",P2=A.forwardRef((t,e)=>p.jsx(We.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));P2.displayName=H8;var R2=P2;const W8=Hm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=Ue.forwardRef(({className:t,...e},n)=>p.jsx(R2,{ref:n,className:Xe(W8(),t),...e}));pt.displayName=R2.displayName;const gt=Ue.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));gt.displayName="Card";const Et=Ue.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",t),...e}));Et.displayName="CardHeader";const Ct=Ue.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ct.displayName="CardTitle";const zi=Ue.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));zi.displayName="CardDescription";const yt=Ue.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Xe("p-6 pt-0",t),...e}));yt.displayName="CardContent";const $c=Ue.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",t),...e}));$c.displayName="CardFooter";const q8=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),[o,l]=A.useState(!1),{login:u}=Rs(),{toast:d}=Ar(),f=async v=>{v.preventDefault(),l(!0);try{const x=await u(t,n);x.success?d({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${x.user.nome}!`}):d({title:"Erro no login",description:x.error,variant:"destructive"})}catch{d({title:"Erro no login",description:"Ocorreu um erro inesperado. Tente novamente.",variant:"destructive"})}finally{l(!1)}},g=v=>{v==="admin"?(e("admin@empresa.com"),r("123456")):(e("joao@empresa.com"),r("123456"))};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsxs(Et,{className:"text-center space-y-4",children:[p.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:p.jsx(Ba,{className:"w-8 h-8 text-white"})}),p.jsxs("div",{children:[p.jsx(Ct,{className:"text-2xl font-bold text-white",children:"Central de Treinamento NTW"}),p.jsx(zi,{className:"text-slate-300",children:"Faa login para acessar sua conta"})]})]}),p.jsxs(yt,{className:"space-y-6",children:[p.jsxs("form",{onSubmit:f,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"email",className:"text-slate-200",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(zI,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:v=>e(v.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"senha",className:"text-slate-200",children:"Senha"}),p.jsxs("div",{className:"relative",children:[p.jsx(BI,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{id:"senha",type:s?"text":"password",placeholder:"Sua senha",value:n,onChange:v=>r(v.target.value),className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0}),p.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-200",children:s?p.jsx(G6,{className:"h-4 w-4"}):p.jsx(K6,{className:"h-4 w-4"})})]})]}),p.jsx(Ce,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:o,children:o?"Entrando...":"Entrar"})]}),p.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Acesso de demonstrao:"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>g("admin"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Admin"}),p.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>g("funcionario"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Funcionrio"})]})]})]})]})})})},G8=({activeTab:t,setActiveTab:e,onLogout:n})=>{var u;const{user:r,isAdmin:s}=Rs(),i=[{id:"dashboard",label:"Dashboard",icon:J6},{id:"usuarios",label:"Usurios",icon:w_},{id:"treinamentos",label:"Treinamentos",icon:Ba},{id:"trilhas",label:"Trilhas",icon:U0},{id:"simulados",label:"Simulados (Admin)",icon:Kp},{id:"categorias",label:"Categorias",icon:Z6},{id:"departamentos",label:"Departamentos",icon:v_},{id:"relatorios",label:"Relatrios",icon:RS},{id:"base-de-conhecimento",label:"Conhecimento",icon:Gp},{id:"gerenciar-conhecimento",label:"Gerenciar Conhecimento",icon:Q6},{id:"configuracoes",label:"Configuraes",icon:sB}],o=[{id:"meus-treinamentos",label:"Meus Treinamentos",icon:Ba},{id:"meus-simulados",label:"Meus Simulados",icon:Kp},{id:"minhas-trilhas",label:"Minhas Trilhas",icon:U0},{id:"progresso",label:"Meu Progresso",icon:RS},{id:"ranking",label:"Ranking",icon:$0},{id:"base-de-conhecimento",label:"Conhecimento",icon:Gp}],l=s()?i:o;return p.jsxs(De.div,{initial:{x:-300},animate:{x:0},className:"w-64 bg-slate-800/50 backdrop-blur-lg border-r border-slate-700 h-screen flex flex-col",children:[p.jsx("div",{className:"p-6 border-b border-slate-700",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:p.jsx(Ba,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("span",{className:"text-lg font-bold text-white",children:"Central de"}),p.jsx("p",{className:"text-sm text-slate-300",children:"Treinamento"})]})]})}),p.jsx("div",{className:"p-4 border-b border-slate-700",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-semibold text-white",children:((u=r==null?void 0:r.nome)==null?void 0:u.charAt(0))||"U"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:r==null?void 0:r.nome}),p.jsx("p",{className:"text-xs text-slate-400 truncate",children:(r==null?void 0:r.tipo)==="admin"?"Administrador":"Funcionrio"})]})]})}),p.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:l.map(d=>{const f=d.icon,g=t===d.id;return p.jsxs(De.button,{onClick:()=>e(d.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${g?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(f,{className:"w-5 h-5"}),p.jsx("span",{className:"font-medium",children:d.label})]},d.id)})}),p.jsx("div",{className:"p-4 border-t border-slate-700 mt-auto",children:p.jsxs(Ce,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-white hover:bg-red-500/20",children:[p.jsx(tB,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},ox=10,bn=async t=>{try{const e=await mn(pn(_t,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},Hc=async(t,e)=>{const n=e||{},{lastVisible:r=null,orderByField:s="dataCriacao",orderDirection:i="desc"}=n;try{const o=br(pn(_t,t),D0(s,i),j0(ox)),l=r?br(o,M0(r)):o,u=await mn(l),d=[];u.forEach(g=>{d.push({id:g.id,...g.data()})});const f=u.docs.length>0?u.docs[u.docs.length-1]:null;return{data:d,lastVisible:f}}catch(o){return console.error(`Erro ao buscar dados paginados de ${t}:`,o),{data:[],lastVisible:null}}},K8=async(t,e={})=>{const{lastVisibleDept:n=null,lastVisibleTodos:r=null}=e;try{const s=pn(_t,"treinamentos"),i=br(s,$r("ativo","==",!0),$r("departamento","==",t),D0("dataPublicacao","desc"),j0(ox)),o=n?br(i,M0(n)):i,l=br(s,$r("ativo","==",!0),$r("departamento","==","Todos"),D0("dataPublicacao","desc"),j0(ox)),u=r?br(l,M0(r)):l,[d,f]=await Promise.all([mn(o),mn(u)]),g=[];d.forEach(T=>g.push({id:T.id,...T.data()})),f.forEach(T=>g.push({id:T.id,...T.data()}));const v=d.docs.length>0?d.docs[d.docs.length-1]:null,x=f.docs.length>0?f.docs[f.docs.length-1]:null;return{data:g,lastVisibleDept:v,lastVisibleTodos:x}}catch(s){return console.error("Erro ao buscar treinamentos paginados:",s),{data:[],lastVisibleDept:null,lastVisibleTodos:null}}},li=async(t,e)=>{try{return(await M5(pn(_t,t),e)).id}catch(n){return console.error(`Erro ao adicionar documento em ${t}:`,n),null}},ri=async(t,e,n)=>{try{const r=Vi(_t,t,String(e));await Hp(r,n,{merge:!0})}catch(r){console.error(`Erro ao atualizar documento em ${t}:`,r)}},Q8=async t=>{try{const e=String(t),n=br(pn(_t,"resultadosSimulados"),$r("usuarioId","==",t)),r=await mn(n);for(const l of r.docs)await O0(l.ref);const s=br(pn(_t,"historico"),$r("usuarioId","==",t)),i=await mn(s);for(const l of i.docs)await O0(l.ref);const o=Vi(_t,"usuarios",e);await KR(o,{titulo:"Iniciante",medalhas:[]})}catch(e){throw console.error(`Erro ao zerar dados do usurio ${t}:`,e),new Error("No foi possvel zerar o desempenho do usurio.")}},rl=async(t,e)=>{try{await O0(Vi(_t,t,String(e)))}catch(n){console.error(`Erro ao deletar documento em ${t}:`,n)}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ih(t){return t+.5|0}const To=(t,e,n)=>Math.max(Math.min(t,n),e);function rd(t){return To(ih(t*2.55),0,255)}function Io(t){return To(ih(t*255),0,255)}function Ii(t){return To(ih(t/2.55)/100,0,1)}function HE(t){return To(ih(t*100),0,100)}const Br={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ax=[..."0123456789ABCDEF"],Y8=t=>ax[t&15],X8=t=>ax[(t&240)>>4]+ax[t&15],Mf=t=>(t&240)>>4===(t&15),Z8=t=>Mf(t.r)&&Mf(t.g)&&Mf(t.b)&&Mf(t.a);function J8(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Br[t[1]]*17,g:255&Br[t[2]]*17,b:255&Br[t[3]]*17,a:e===5?Br[t[4]]*17:255}:(e===7||e===9)&&(n={r:Br[t[1]]<<4|Br[t[2]],g:Br[t[3]]<<4|Br[t[4]],b:Br[t[5]]<<4|Br[t[6]],a:e===9?Br[t[7]]<<4|Br[t[8]]:255})),n}const e$=(t,e)=>t<255?e(t):"";function t$(t){var e=Z8(t)?Y8:X8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+e$(t.a,e):void 0}const n$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function I2(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function r$(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function s$(t,e,n){const r=I2(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function i$(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function ew(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),l=(i+o)/2;let u,d,f;return i!==o&&(f=i-o,d=l>.5?f/(2-i-o):f/(i+o),u=i$(n,r,s,f,i),u=u*60+.5),[u|0,d||0,l]}function tw(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Io)}function nw(t,e,n){return tw(I2,t,e,n)}function o$(t,e,n){return tw(s$,t,e,n)}function a$(t,e,n){return tw(r$,t,e,n)}function k2(t){return(t%360+360)%360}function l$(t){const e=n$.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?rd(+e[5]):Io(+e[5]));const s=k2(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=o$(s,i,o):e[1]==="hsv"?r=a$(s,i,o):r=nw(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function c$(t,e){var n=ew(t);n[0]=k2(n[0]+e),n=nw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function u$(t){if(!t)return;const e=ew(t),n=e[0],r=HE(e[1]),s=HE(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ii(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const WE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function d$(){const t={},e=Object.keys(qE),n=Object.keys(WE);let r,s,i,o,l;for(r=0;r<e.length;r++){for(o=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,WE[i]);i=parseInt(qE[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Of;function h$(t){Of||(Of=d$(),Of.transparent=[0,0,0,0]);const e=Of[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const f$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p$(t){const e=f$.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?rd(o):To(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?rd(r):To(r,0,255)),s=255&(e[4]?rd(s):To(s,0,255)),i=255&(e[6]?rd(i):To(i,0,255)),{r,g:s,b:i,a:n}}}function m$(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ii(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const kv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ql=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function g$(t,e,n){const r=ql(Ii(t.r)),s=ql(Ii(t.g)),i=ql(Ii(t.b));return{r:Io(kv(r+n*(ql(Ii(e.r))-r))),g:Io(kv(s+n*(ql(Ii(e.g))-s))),b:Io(kv(i+n*(ql(Ii(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Vf(t,e,n){if(t){let r=ew(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=nw(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function N2(t,e){return t&&Object.assign(e||{},t)}function GE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Io(t[3]))):(e=N2(t,{r:0,g:0,b:0,a:1}),e.a=Io(e.a)),e}function y$(t){return t.charAt(0)==="r"?p$(t):l$(t)}class Md{constructor(e){if(e instanceof Md)return e;const n=typeof e;let r;n==="object"?r=GE(e):n==="string"&&(r=J8(e)||h$(e)||y$(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=N2(this._rgb);return e&&(e.a=Ii(e.a)),e}set rgb(e){this._rgb=GE(e)}rgbString(){return this._valid?m$(this._rgb):void 0}hexString(){return this._valid?t$(this._rgb):void 0}hslString(){return this._valid?u$(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,l=2*o-1,u=r.a-s.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;i=1-d,r.r=255&d*r.r+i*s.r+.5,r.g=255&d*r.g+i*s.g+.5,r.b=255&d*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=g$(this._rgb,e._rgb,n)),this}clone(){return new Md(this.rgb)}alpha(e){return this._rgb.a=Io(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ih(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vf(this._rgb,2,e),this}darken(e){return Vf(this._rgb,2,-e),this}saturate(e){return Vf(this._rgb,1,e),this}desaturate(e){return Vf(this._rgb,1,-e),this}rotate(e){return c$(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ai(){}const v$=(()=>{let t=0;return()=>t++})();function Rt(t){return t==null}function hn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ft(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Gr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Us(t,e){return Gr(t)?t:e}function mt(t,e){return typeof t>"u"?e:t}const x$=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Mt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function St(t,e,n,r){let s,i,o;if(hn(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ft(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function nm(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function rm(t){if(hn(t))return t.map(rm);if(ft(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=rm(t[n[s]]);return e}return t}function D2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _$(t,e,n,r){if(!D2(t))return;const s=e[t],i=n[t];ft(s)&&ft(i)?Od(s,i,r):e[t]=rm(i)}function Od(t,e,n){const r=hn(e)?e:[e],s=r.length;if(!ft(t))return t;n=n||{};const i=n.merger||_$;let o;for(let l=0;l<s;++l){if(o=r[l],!ft(o))continue;const u=Object.keys(o);for(let d=0,f=u.length;d<f;++d)i(u[d],t,o,n)}return t}function md(t,e){return Od(t,e,{merger:w$})}function w$(t,e,n){if(!D2(t))return;const r=e[t],s=n[t];ft(r)&&ft(s)?md(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=rm(s))}const KE={"":t=>t,x:t=>t.x,y:t=>t.y};function b$(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function T$(t){const e=b$(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ac(t,e){return(KE[e]||(KE[e]=T$(e)))(t)}function rw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vd=t=>typeof t<"u",Wo=t=>typeof t=="function",QE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function S$(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const qn=Math.PI,ko=2*qn,sm=Number.POSITIVE_INFINITY,E$=qn/180,xs=qn/2,Aa=qn/4,YE=qn*2/3,j2=Math.log10,No=Math.sign;function vp(t,e,n){return Math.abs(t-e)<n}function XE(t){const e=Math.round(t);t=vp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(j2(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function C$(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function A$(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function im(t){return!A$(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function P$(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function R$(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Va(t){return t*(qn/180)}function I$(t){return t*(180/qn)}function ZE(t){if(!Gr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function k$(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*qn&&(i+=ko),{angle:i,distance:s}}function N$(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Pa(t){return(t%ko+ko)%ko}function D$(t,e,n,r){const s=Pa(t),i=Pa(e),o=Pa(n),l=Pa(i-s),u=Pa(o-s),d=Pa(s-i),f=Pa(s-o);return s===i||s===o||r||l>u&&d<f}function _s(t,e,n){return Math.max(e,Math.min(n,t))}function j$(t){return _s(t,-32768,32767)}function ic(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function sw(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const lx=(t,e,n,r)=>sw(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),M$=(t,e,n)=>sw(t,n,r=>t[r][e]>=n);function O$(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const M2=["push","pop","shift","splice","unshift"];function V$(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),M2.forEach(n=>{const r="_onData"+rw(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),o}})})}function JE(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(M2.forEach(i=>{delete t[i]}),delete t._chartjs)}function O2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const V2=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function L2(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,V2.call(window,()=>{r=!1,t.apply(e,n)}))}}function L$(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const iw=t=>t==="start"?"left":t==="end"?"right":"center",Bn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,F$=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Lf=t=>t===0||t===1,eC=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ko/n)),tC=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ko/n)+1,gd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xs)+1,easeOutSine:t=>Math.sin(t*xs),easeInOutSine:t=>-.5*(Math.cos(qn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Lf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Lf(t)?t:eC(t,.075,.3),easeOutElastic:t=>Lf(t)?t:tC(t,.075,.3),easeInOutElastic(t){return Lf(t)?t:t<.5?.5*eC(t*2,.1125,.45):.5+.5*tC(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-gd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?gd.easeInBounce(t*2)*.5:gd.easeOutBounce(t*2-1)*.5+.5};function F2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function nC(t){return F2(t)?t:new Md(t)}function Nv(t){return F2(t)?t:new Md(t).saturate(.5).darken(.1).hexString()}const B$=["x","y","borderWidth","radius","tension"],z$=["color","borderColor","backgroundColor"];function U$(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:z$},numbers:{type:"number",properties:B$}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $$(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rC=new Map;function H$(t,e){e=e||{};const n=t+JSON.stringify(e);let r=rC.get(n);return r||(r=new Intl.NumberFormat(t,e),rC.set(n,r)),r}function B2(t,e,n){return H$(e,n).format(t)}const W$={values(t){return hn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=q$(t,n)}const o=j2(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),B2(t,r,u)}};function q$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var z2={formatters:W$};function G$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:z2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wa=Object.create(null),cx=Object.create(null);function yd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Dv(t,e,n){return typeof e=="string"?Od(yd(t,e),n):Od(yd(t,""),e)}class K${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Nv(s.backgroundColor),this.hoverBorderColor=(r,s)=>Nv(s.borderColor),this.hoverColor=(r,s)=>Nv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Dv(this,e,n)}get(e){return yd(this,e)}describe(e,n){return Dv(cx,e,n)}override(e,n){return Dv(Wa,e,n)}route(e,n,r,s){const i=yd(this,e),o=yd(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=o[s];return ft(u)?Object.assign({},d,u):mt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var en=new K$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[U$,$$,G$]);function Q$(t){return!t||Rt(t.size)||Rt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function sC(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Ra(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function iC(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function oC(t,e,n,r){U2(t,e,n,r,null)}function U2(t,e,n,r,s){let i,o,l,u,d,f,g,v;const x=e.pointStyle,T=e.rotation,b=e.radius;let w=(T||0)*E$;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),x){default:s?t.ellipse(n,r,s/2,b,0,0,ko):t.arc(n,r,b,0,ko),t.closePath();break;case"triangle":f=s?s/2:b,t.moveTo(n+Math.sin(w)*f,r-Math.cos(w)*b),w+=YE,t.lineTo(n+Math.sin(w)*f,r-Math.cos(w)*b),w+=YE,t.lineTo(n+Math.sin(w)*f,r-Math.cos(w)*b),t.closePath();break;case"rectRounded":d=b*.516,u=b-d,o=Math.cos(w+Aa)*u,g=Math.cos(w+Aa)*(s?s/2-d:u),l=Math.sin(w+Aa)*u,v=Math.sin(w+Aa)*(s?s/2-d:u),t.arc(n-g,r-l,d,w-qn,w-xs),t.arc(n+v,r-o,d,w-xs,w),t.arc(n+g,r+l,d,w,w+xs),t.arc(n-v,r+o,d,w+xs,w+qn),t.closePath();break;case"rect":if(!T){u=Math.SQRT1_2*b,f=s?s/2:u,t.rect(n-f,r-u,2*f,2*u);break}w+=Aa;case"rectRot":g=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,v=Math.sin(w)*(s?s/2:b),t.moveTo(n-g,r-l),t.lineTo(n+v,r-o),t.lineTo(n+g,r+l),t.lineTo(n-v,r+o),t.closePath();break;case"crossRot":w+=Aa;case"cross":g=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,v=Math.sin(w)*(s?s/2:b),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+v,r-o),t.lineTo(n-v,r+o);break;case"star":g=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,v=Math.sin(w)*(s?s/2:b),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+v,r-o),t.lineTo(n-v,r+o),w+=Aa,g=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,v=Math.sin(w)*(s?s/2:b),t.moveTo(n-g,r-l),t.lineTo(n+g,r+l),t.moveTo(n+v,r-o),t.lineTo(n-v,r+o);break;case"line":o=s?s/2:Math.cos(w)*b,l=Math.sin(w)*b,t.moveTo(n-o,r-l),t.lineTo(n+o,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(s?s/2:b),r+Math.sin(w)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function $2(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ow(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function aw(t){t.restore()}function Y$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Rt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function X$(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,u=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,f=s.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,f),t.lineTo(l,f),t.stroke()}}function Z$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ld(t,e,n,r,s,i={}){const o=hn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let u,d;for(t.save(),t.font=s.string,Y$(t,i),u=0;u<o.length;++u)d=o[u],i.backdrop&&Z$(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Rt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,r,i.maxWidth)),t.fillText(d,n,r,i.maxWidth),X$(t,n,r,d,i),r+=Number(s.lineHeight);t.restore()}function om(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*qn,qn,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,qn,xs,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,xs,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-xs,!0),t.lineTo(n+o.topLeft,r)}const J$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,e7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t7(t,e){const n=(""+t).match(J$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const n7=t=>+t||0;function H2(t,e){const n={},r=ft(e),s=r?Object.keys(e):e,i=ft(t)?r?o=>mt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=n7(i(o));return n}function W2(t){return H2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function dc(t){return H2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kr(t){const e=W2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wn(t,e){t=t||{},e=e||en.font;let n=mt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=mt(t.style,e.style);r&&!(""+r).match(e7)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:mt(t.family,e.family),lineHeight:t7(mt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:mt(t.weight,e.weight),string:""};return s.string=Q$(s),s}function Ff(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function r7(t,e,n){const{min:r,max:s}=t,i=x$(e,(s-r)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Wc(t,e){return Object.assign(Object.create(t),e)}function lw(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=Q2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>lw([l,...t],e,i,r)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return G2(l,u,()=>d7(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return lC(l).includes(u)},ownKeys(l){return lC(l)},set(l,u,d){const f=l._storage||(l._storage=s());return l[u]=f[u]=d,delete l._keys,!0}})}function Pc(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:q2(t,r),setContext:i=>Pc(t,i,n,r),override:i=>Pc(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return G2(i,o,()=>i7(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function q2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Wo(n)?n:()=>n,isIndexable:Wo(r)?r:()=>r}}const s7=(t,e)=>t?t+rw(e):e,cw=(t,e)=>ft(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function G2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function i7(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let l=r[e];return Wo(l)&&o.isScriptable(e)&&(l=o7(e,l,t,n)),hn(l)&&l.length&&(l=a7(e,l,t,o.isIndexable)),cw(e,l)&&(l=Pc(l,s,i&&i[e],o)),l}function o7(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(i,o||r);return l.delete(t),cw(t,u)&&(u=uw(s._scopes,s,t,u)),u}function a7(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ft(e[0])){const u=e,d=s._scopes.filter(f=>f!==u);e=[];for(const f of u){const g=uw(d,s,t,f);e.push(Pc(g,i,o&&o[t],l))}}return e}function K2(t,e,n){return Wo(t)?t(e,n):t}const l7=(t,e)=>t===!0?e:typeof t=="string"?Ac(e,t):void 0;function c7(t,e,n,r,s){for(const i of e){const o=l7(n,i);if(o){t.add(o);const l=K2(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function uw(t,e,n,r){const s=e._rootScopes,i=K2(e._fallback,n,r),o=[...t,...s],l=new Set;l.add(r);let u=aC(l,o,n,i||n,r);return u===null||typeof i<"u"&&i!==n&&(u=aC(l,o,i,u,r),u===null)?!1:lw(Array.from(l),[""],s,i,()=>u7(e,n,r))}function aC(t,e,n,r,s){for(;n;)n=c7(t,e,n,r,s);return n}function u7(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return hn(s)&&ft(n)?n:s||{}}function d7(t,e,n,r){let s;for(const i of e)if(s=Q2(s7(i,t),n),typeof s<"u")return cw(t,s)?uw(n,r,t,s):s}function Q2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function lC(t){let e=t._keys;return e||(e=t._keys=h7(t._scopes)),e}function h7(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function dw(){return typeof window<"u"&&typeof document<"u"}function hw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function am(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Ym=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function f7(t,e){return Ym(t).getPropertyValue(e)}const p7=["top","right","bottom","left"];function Ua(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=p7[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const m7=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function g7(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,l,u;if(m7(s,i,t.target))l=s,u=i;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,o=!0}return{x:l,y:u,box:o}}function ja(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Ym(n),i=s.boxSizing==="border-box",o=Ua(s,"padding"),l=Ua(s,"border","width"),{x:u,y:d,box:f}=g7(t,n),g=o.left+(f&&l.left),v=o.top+(f&&l.top);let{width:x,height:T}=e;return i&&(x-=o.width+l.width,T-=o.height+l.height),{x:Math.round((u-g)/x*n.width/r),y:Math.round((d-v)/T*n.height/r)}}function y7(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&hw(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),l=Ym(i),u=Ua(l,"border","width"),d=Ua(l,"padding");e=o.width-d.width-u.width,n=o.height-d.height-u.height,r=am(l.maxWidth,i,"clientWidth"),s=am(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||sm,maxHeight:s||sm}}const Bf=t=>Math.round(t*10)/10;function v7(t,e,n,r){const s=Ym(t),i=Ua(s,"margin"),o=am(s.maxWidth,t,"clientWidth")||sm,l=am(s.maxHeight,t,"clientHeight")||sm,u=y7(t,e,n);let{width:d,height:f}=u;if(s.boxSizing==="content-box"){const v=Ua(s,"border","width"),x=Ua(s,"padding");d-=x.width+v.width,f-=x.height+v.height}return d=Math.max(0,d-i.width),f=Math.max(0,r?d/r:f-i.height),d=Bf(Math.min(d,o,u.maxWidth)),f=Bf(Math.min(f,l,u.maxHeight)),d&&!f&&(f=Bf(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,d=Bf(Math.floor(f*r))),{width:d,height:f}}function cC(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const x7=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};dw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function uC(t,e){const n=f7(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const _7=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},w7=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function hc(t,e,n){return t?_7(e,n):w7()}function Y2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function X2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function zf(t,e,n){return t.options.clip?t[n]:e[n]}function b7(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:zf(n,e,"left"),right:zf(n,e,"right"),top:zf(r,e,"top"),bottom:zf(r,e,"bottom")}:e}function T7(t,e){const n=e._clip;if(n.disabled)return!1;const r=b7(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class S7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=V2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,l=!1,u;for(;o>=0;--o)u=i[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pi=new S7;const dC="transparent",E7={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=nC(t||dC),s=r.valid&&nC(e||dC);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class C7{constructor(e,n,r,s){const i=n[r];s=Ff([e.to,s,i,e.from]);const o=Ff([e.from,i,s]);this._active=!0,this._fn=e.fn||E7[e.type||typeof o],this._easing=gd[e.easing]||gd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ff([e.to,n,s,e.from]),this._from=Ff([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,l=this._to;let u;if(this._active=i!==l&&(o||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(i,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Z2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ft(e))return;const n=Object.keys(en.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ft(i))return;const o={};for(const l of n)o[l]=i[l];(hn(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,o)})})}_animateOptions(e,n){const r=n.options,s=P7(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&A7(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const f=n[d];let g=i[d];const v=r.get(d);if(g)if(v&&g.active()){g.update(v,f,l);continue}else g.cancel();if(!v||!v.duration){e[d]=f;continue}i[d]=g=new C7(v,e,d,f),s.push(g)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Pi.add(this._chart,r),!0}}function A7(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function P7(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function hC(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function R7(t,e,n){if(n===!1)return!1;const r=hC(t,n),s=hC(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function I7(t){let e,n,r,s;return ft(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function J2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function fC(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,l,u,d;if(e===null)return;let f=!1;for(o=0,l=s.length;o<l;++o){if(u=+s[o],u===n){if(f=!0,r.all)continue;break}d=t.values[u],Gr(d)&&(i||e===0||No(e)===No(d))&&(e+=d)}return!f&&!r.all?0:e}function k7(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,d,f;for(u=0,d=o.length;u<d;++u)f=o[u],l[u]={[s]:f,[i]:t[f]};return l}function jv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function N7(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function D7(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function j7(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function pC(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function mC(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=r,u=i.axis,d=o.axis,f=N7(i,o,r),g=e.length;let v;for(let x=0;x<g;++x){const T=e[x],{[u]:b,[d]:w}=T,R=T._stacks||(T._stacks={});v=R[d]=j7(s,f,b),v[l]=w,v._top=pC(v,o,!0,r.type),v._bottom=pC(v,o,!1,r.type);const k=v._visualValues||(v._visualValues={});k[l]=w}}function Mv(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function M7(t,e){return Wc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function O7(t,e,n){return Wc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Ov=t=>t==="reset"||t==="none",gC=(t,e)=>e?t:Object.assign({},t),V7=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:J2(n,!0),values:null};class vd{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=jv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(g,v,x,T)=>g==="x"?v:g==="r"?T:x,i=n.xAxisID=mt(r.xAxisID,Mv(e,"x")),o=n.yAxisID=mt(r.yAxisID,Mv(e,"y")),l=n.rAxisID=mt(r.rAxisID,Mv(e,"r")),u=n.indexAxis,d=n.iAxisID=s(u,i,o,l),f=n.vAxisID=s(u,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&JE(this._data,this),e._stacked&&Wu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ft(n)){const s=this._cachedMeta;this._data=k7(n,s)}else if(r!==n){if(r){JE(r,this);const s=this._cachedMeta;Wu(s),s._parsed=[]}n&&Object.isExtensible(n)&&V$(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=jv(n.vScale,n),n.stack!==r.stack&&(s=!0,Wu(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(mC(this,n._parsed),n._stacked=jv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,l=i.axis;let u=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,g,v;if(this._parsing===!1)r._parsed=s,r._sorted=!0,v=s;else{hn(s[e])?v=this.parseArrayData(r,s,e,n):ft(s[e])?v=this.parseObjectData(r,s,e,n):v=this.parsePrimitiveData(r,s,e,n);const x=()=>g[l]===null||d&&g[l]<d[l];for(f=0;f<n;++f)r._parsed[f+e]=g=v[f],u&&(x()&&(u=!1),d=g);r._sorted=u}o&&mC(this,v)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,l=i.axis,u=o.axis,d=i.getLabels(),f=i===o,g=new Array(s);let v,x,T;for(v=0,x=s;v<x;++v)T=v+r,g[v]={[l]:f||i.parse(d[T],T),[u]:o.parse(n[T],T)};return g}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,l=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+r,g=n[f],l[u]={x:i.parse(g[0],f),y:o.parse(g[1],f)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let f,g,v,x;for(f=0,g=s;f<g;++f)v=f+r,x=n[v],d[f]={x:i.parse(Ac(x,l),v),y:o.parse(Ac(x,u),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],l={keys:J2(s,!0),values:n._stacks[e.axis]._visualValues};return fC(l,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,o=fC(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,l=this._getOtherScale(e),u=V7(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=D7(l);let v,x;function T(){x=s[v];const b=x[l.axis];return!Gr(x[e.axis])||f>b||g<b}for(v=0;v<o&&!(!T()&&(this.updateRangeFromParsed(d,e,x,u),i));++v);if(i){for(v=o-1;v>=0;--v)if(!T()){this.updateRangeFromParsed(d,e,x,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],Gr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=I7(mt(this.options.clip,R7(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,i,l,u),f=l;f<l+u;++f){const g=s[f];g.hidden||(g.active&&d?o.push(g):g.draw(e,i))}for(f=0;f<o.length;++f)o[f].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=O7(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=M7(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,l=i[o],u=this.enableOptionSharing&&Vd(r);if(l)return gC(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),f),x=Object.keys(en.elements[e]),T=()=>this.getContext(r,s,n),b=d.resolveNamedOptions(v,x,T,g);return b.$shared&&(b.$shared=u,i[o]=Object.freeze(gC(b,u))),b}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let u;if(s.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),v=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(v,this.getContext(e,r,n))}const d=new Z2(s,u&&u.animations);return u&&u._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ov(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Ov(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Ov(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(u(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Wu(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ut(vd,"defaults",{}),ut(vd,"datasetElementType",null),ut(vd,"dataElementType",null);function L7(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=O2(r.sort((s,i)=>s-i))}return t._cache.$bar}function F7(t){const e=t.iScale,n=L7(e,t.type);let r=e._length,s,i,o,l;const u=()=>{o===32767||o===-32768||(Vd(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),u();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),u();return r}function B7(t,e,n,r){const s=n.barThickness;let i,o;return Rt(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function z7(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const u=n.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/r,ratio:n.barPercentage,start:d}}function U7(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),l=Math.max(s,i);let u=o,d=l;Math.abs(o)>Math.abs(l)&&(u=l,d=o),e[n.axis]=d,e._custom={barStart:u,barEnd:d,start:s,end:i,min:o,max:l}}function eN(t,e,n,r){return hn(t)?U7(t,e,n,r):e[n.axis]=n.parse(t,r),e}function yC(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),l=s===i,u=[];let d,f,g,v;for(d=n,f=n+r;d<f;++d)v=e[d],g={},g[s.axis]=l||s.parse(o[d],d),u.push(eN(v,g,i,d));return u}function Vv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function $7(t,e,n){return t!==0?No(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function H7(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function W7(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:d,bottom:f}=H7(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=d:(n._bottom||0)===r?s=f:(i[vC(f,o,l,u)]=!0,s=d)),i[vC(s,o,l,u)]=!0,t.borderSkipped=i}function vC(t,e,n,r){return r?(t=q7(t,e,n),t=xC(t,n,e)):t=xC(t,e,n),t}function q7(t,e,n){return t===e?n:t===n?e:t}function xC(t,e,n){return t==="start"?e:t==="end"?n:t}function G7(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class xp extends vd{parsePrimitiveData(e,n,r,s){return yC(e,n,r,s)}parseArrayData(e,n,r,s){return yC(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=i.axis==="x"?l:u,f=o.axis==="x"?l:u,g=[];let v,x,T,b;for(v=r,x=r+s;v<x;++v)b=n[v],T={},T[i.axis]=i.parse(Ac(b,d),v),g.push(eN(Ac(b,f),T,o,v));return g}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,l=Vv(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,s);for(let x=n;x<n+r;x++){const T=this.getParsed(x),b=i||Rt(T[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),w=this._calculateBarIndexPixels(x,f),R=(T._stacks||{})[l.axis],k={horizontal:d,base:b.base,enableBorderRadius:!R||Vv(T._custom)||o===R._top||o===R._bottom,x:d?b.head:w.center,y:d?w.center:b.head,height:d?w.size:Math.abs(b.size),width:d?Math.abs(b.size):w.size};v&&(k.options=g||this.resolveDataElementOptions(x,e[x].active?"active":s));const N=k.options||e[x].options;W7(k,N,R,o),G7(k,N,f.ratio),this.updateElement(e[x],x,k,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),i=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[r.axis],d=f=>{const g=f._parsed.find(x=>x[r.axis]===u),v=g&&g[f.vScale.axis];if(Rt(v)||isNaN(v))return!0};for(const f of s)if(!(n!==void 0&&d(f))&&((i===!1||o.indexOf(f.stack)===-1||i===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[mt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||F7(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,l=i||0,u=this.getParsed(e),d=u._custom,f=Vv(d);let g=u[n.axis],v=0,x=r?this.applyStack(n,u,r):g,T,b;x!==g&&(v=x-g,x=g),f&&(g=d.barStart,x=d.barEnd-d.barStart,g!==0&&No(g)!==No(d.barEnd)&&(v=0),v+=g);const w=!Rt(i)&&!f?i:v;let R=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?T=n.getPixelForValue(v+x):T=R,b=T-R,Math.abs(b)<o){b=$7(b,n,l)*o,g===l&&(R-=b/2);const k=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),O=Math.min(k,N),B=Math.max(k,N);R=Math.max(Math.min(R,B),O),T=R+b,r&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(T)-n.getValueForPixel(R))}if(R===n.getPixelForValue(l)){const k=No(b)*n.getLineWidthForValue(l)/2;R+=k,b-=k}return{size:b,base:R,head:T,center:T+b/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=mt(s.maxBarThickness,1/0);let l,u;const d=this._getAxisCount();if(n.grouped){const f=i?this._getStackCount(e):n.stackCount,g=s.barThickness==="flex"?z7(e,n,s,f*d):B7(e,n,s,f*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(mt(v,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+x;l=g.start+g.chunk*T+g.chunk/2,u=Math.min(o,g.chunk*g.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}ut(xp,"id","bar"),ut(xp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ut(xp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fw{constructor(e){ut(this,"options");this.options=e||{}}static override(e){Object.assign(fw.prototype,e)}init(){}formats(){return Ia()}parse(){return Ia()}format(){return Ia()}add(){return Ia()}diff(){return Ia()}startOf(){return Ia()}endOf(){return Ia()}}var K7={_date:fw};function Q7(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,l=s._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?M$:lx;if(r){if(s._sharedOptions){const f=i[0],g=typeof f.getRange=="function"&&f.getRange(e);if(g){const v=d(i,e,n-g),x=d(i,e,n+g);return{lo:v.lo,hi:x.hi}}}}else{const f=d(i,e,n);if(u){const{vScale:g}=s._cachedMeta,{_parsed:v}=t,x=v.slice(0,f.lo+1).reverse().findIndex(b=>!Rt(b[g.axis]));f.lo-=Math.max(0,x);const T=v.slice(f.hi).findIndex(b=>!Rt(b[g.axis]));f.hi+=Math.max(0,T)}return f}}return{lo:0,hi:i.length-1}}function Xm(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=i.length;l<u;++l){const{index:d,data:f}=i[l],{lo:g,hi:v}=Q7(i[l],e,o,s);for(let x=g;x<=v;++x){const T=f[x];T.skip||r(T,d,x)}}}function Y7(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Lv(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Xm(t,n,e,function(l,u,d){!s&&!$2(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:u,index:d})},!0),i}function X7(t,e,n,r){let s=[];function i(o,l,u){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:g}=k$(o,{x:e.x,y:e.y});D$(g,d,f)&&s.push({element:o,datasetIndex:l,index:u})}return Xm(t,n,e,i),s}function Z7(t,e,n,r,s,i){let o=[];const l=Y7(n);let u=Number.POSITIVE_INFINITY;function d(f,g,v){const x=f.inRange(e.x,e.y,s);if(r&&!x)return;const T=f.getCenterPoint(s);if(!(!!i||t.isPointInArea(T))&&!x)return;const w=l(e,T);w<u?(o=[{element:f,datasetIndex:g,index:v}],u=w):w===u&&o.push({element:f,datasetIndex:g,index:v})}return Xm(t,n,e,d),o}function Fv(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?X7(t,e,n,s):Z7(t,e,n,r,s,i)}function _C(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Xm(t,n,e,(u,d,f)=>{u[o]&&u[o](e[n],s)&&(i.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(e.x,e.y,s))}),r&&!l?[]:i}var J7={modes:{index(t,e,n,r){const s=ja(e,t),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?Lv(t,s,i,r,o):Fv(t,s,i,!1,r,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(t,e,n,r){const s=ja(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?Lv(t,s,i,r,o):Fv(t,s,i,!1,r,o);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(t,e,n,r){const s=ja(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Lv(t,s,i,r,o)},nearest(t,e,n,r){const s=ja(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Fv(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=ja(e,t);return _C(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ja(e,t);return _C(t,s,"y",n.intersect,r)}}};const tN=["left","top","right","bottom"];function qu(t,e){return t.filter(n=>n.pos===e)}function wC(t,e){return t.filter(n=>tN.indexOf(n.pos)===-1&&n.box.axis===e)}function Gu(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function eH(t){const e=[];let n,r,s,i,o,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:l});return e}function tH(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!tN.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function nH(t,e){const n=tH(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:u}=l.box,d=n[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*r:u&&e.availableWidth,l.height=s):(l.width=r,l.height=f?f*s:u&&e.availableHeight)}return n}function rH(t){const e=eH(t),n=Gu(e.filter(d=>d.box.fullSize),!0),r=Gu(qu(e,"left"),!0),s=Gu(qu(e,"right")),i=Gu(qu(e,"top"),!0),o=Gu(qu(e,"bottom")),l=wC(e,"x"),u=wC(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(u).concat(o).concat(l),chartArea:qu(e,"chartArea"),vertical:r.concat(s).concat(u),horizontal:i.concat(o).concat(l)}}function bC(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function nN(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sH(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!ft(s)){n.size&&(t[s]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,t[s]+=n.size}i.getPadding&&nN(o,i.getPadding());const l=Math.max(0,e.outerWidth-bC(o,t,"left","right")),u=Math.max(0,e.outerHeight-bC(o,t,"top","bottom")),d=l!==t.w,f=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function iH(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function oH(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function sd(t,e,n,r){const s=[];let i,o,l,u,d,f;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],u=l.box,u.update(l.width||e.w,l.height||e.h,oH(l.horizontal,e));const{same:g,other:v}=sH(e,n,l,r);d|=g&&s.length,f=f||v,u.fullSize||s.push(l)}return d&&sd(s,e,n,r)||f}function Uf(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function TC(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const g=e.w*f,v=d.size||u.height;Vd(d.start)&&(o=d.start),u.fullSize?Uf(u,s.left,o,n.outerWidth-s.right-s.left,v):Uf(u,e.left+d.placed,o,g,v),d.start=o,d.placed+=g,o=u.bottom}else{const g=e.h*f,v=d.size||u.width;Vd(d.start)&&(i=d.start),u.fullSize?Uf(u,i,s.top,v,n.outerHeight-s.bottom-s.top):Uf(u,i,e.top+d.placed,v,g),d.start=i,d.placed+=g,i=u.right}}e.x=i,e.y=o}var Hr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Kr(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),l=rH(t.boxes),u=l.vertical,d=l.horizontal;St(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/f,hBoxMaxHeight:o/2}),v=Object.assign({},s);nN(v,Kr(r));const x=Object.assign({maxPadding:v,w:i,h:o,x:s.left,y:s.top},s),T=nH(u.concat(d),g);sd(l.fullSize,x,g,T),sd(u,x,g,T),sd(d,x,g,T)&&sd(u,x,g,T),iH(x),TC(l.leftAndTop,x,g,T),x.x+=x.w,x.y+=x.h,TC(l.rightAndBottom,x,g,T),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},St(l.chartArea,b=>{const w=b.box;Object.assign(w,t.chartArea),w.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class rN{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class aH extends rN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _p="$chartjs",lH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SC=t=>t===null||t==="";function cH(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[_p]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",SC(s)){const i=uC(t,"width");i!==void 0&&(t.width=i)}if(SC(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=uC(t,"height");i!==void 0&&(t.height=i)}return t}const sN=x7?{passive:!0}:!1;function uH(t,e,n){t&&t.addEventListener(e,n,sN)}function dH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,sN)}function hH(t,e){const n=lH[t.type]||t.type,{x:r,y:s}=ja(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function lm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function fH(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||lm(l.addedNodes,r),o=o&&!lm(l.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function pH(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||lm(l.removedNodes,r),o=o&&!lm(l.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Fd=new Map;let EC=0;function iN(){const t=window.devicePixelRatio;t!==EC&&(EC=t,Fd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function mH(t,e){Fd.size||window.addEventListener("resize",iN),Fd.set(t,e)}function gH(t){Fd.delete(t),Fd.size||window.removeEventListener("resize",iN)}function yH(t,e,n){const r=t.canvas,s=r&&hw(r);if(!s)return;const i=L2((l,u)=>{const d=s.clientWidth;n(l,u),d<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||i(d,f)});return o.observe(s),mH(t,i),o}function Bv(t,e,n){n&&n.disconnect(),e==="resize"&&gH(t)}function vH(t,e,n){const r=t.canvas,s=L2(i=>{t.ctx!==null&&n(hH(i,t))},t);return uH(r,e,s),s}class xH extends rN{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(cH(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[_p])return!1;const r=n[_p].initial;["height","width"].forEach(i=>{const o=r[i];Rt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[_p],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:fH,detach:pH,resize:yH}[n]||vH;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Bv,detach:Bv,resize:Bv}[n]||dH)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return v7(e,n,r,s)}isAttached(e){const n=e&&hw(e);return!!(n&&n.isConnected)}}function _H(t){return!dw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aH:xH}var lp;let qc=(lp=class{constructor(){ut(this,"x");ut(this,"y");ut(this,"active",!1);ut(this,"options");ut(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return im(this.x)&&im(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},ut(lp,"defaults",{}),ut(lp,"defaultRoutes"),lp);function wH(t,e){const n=t.options.ticks,r=bH(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?SH(e):[],o=i.length,l=i[0],u=i[o-1],d=[];if(o>s)return EH(e,d,i,o/s),d;const f=TH(i,e,s);if(o>0){let g,v;const x=o>1?Math.round((u-l)/(o-1)):null;for($f(e,d,f,Rt(x)?0:l-x,l),g=0,v=o-1;g<v;g++)$f(e,d,f,i[g],i[g+1]);return $f(e,d,f,u,Rt(x)?e.length:u+x),d}return $f(e,d,f),d}function bH(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function TH(t,e,n){const r=CH(t),s=e.length/n;if(!r)return Math.max(s,1);const i=C$(r);for(let o=0,l=i.length-1;o<l;o++){const u=i[o];if(u>s)return u}return Math.max(s,1)}function SH(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function EH(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function $f(t,e,n,r,s){const i=mt(r,0),o=Math.min(mt(s,t.length),t.length);let l=0,u,d,f;for(n=Math.ceil(n),s&&(u=s-r,n=u/Math.floor(u/n)),f=i;f<0;)l++,f=Math.round(i+l*n);for(d=Math.max(i,0);d<o;d++)d===f&&(e.push(t[d]),l++,f=Math.round(i+l*n))}function CH(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const AH=t=>t==="left"?"right":t==="right"?"left":t,CC=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,AC=(t,e)=>Math.min(e||t,t);function PC(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function PH(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(s),d;if(!(n&&(r===1?d=Math.max(u-i,o-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(s-1))/2,u+=s<e?d:-d,u<i-l||u>o+l)))return u}function RH(t,e){St(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Ku(t){return t.drawTicks?t.tickLength:0}function RC(t,e){if(!t.display)return 0;const n=Wn(t.font,e),r=Kr(t.padding);return(hn(t.text)?t.text.length:1)*n.lineHeight+r.height}function IH(t,e){return Wc(t,{scale:e,type:"scale"})}function kH(t,e,n){return Wc(t,{tick:n,index:e,type:"tick"})}function NH(t,e,n){let r=iw(t);return(n&&e!=="right"||!n&&e==="right")&&(r=AH(r)),r}function DH(t,e,n,r){const{top:s,left:i,bottom:o,right:l,chart:u}=t,{chartArea:d,scales:f}=u;let g=0,v,x,T;const b=o-s,w=l-i;if(t.isHorizontal()){if(x=Bn(r,i,l),ft(n)){const R=Object.keys(n)[0],k=n[R];T=f[R].getPixelForValue(k)+b-e}else n==="center"?T=(d.bottom+d.top)/2+b-e:T=CC(t,n,e);v=l-i}else{if(ft(n)){const R=Object.keys(n)[0],k=n[R];x=f[R].getPixelForValue(k)-w+e}else n==="center"?x=(d.left+d.right)/2-w+e:x=CC(t,n,e);T=Bn(r,o,s),g=n==="left"?-xs:xs}return{titleX:x,titleY:T,maxWidth:v,rotation:g}}class Gc extends qc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Us(e,Number.POSITIVE_INFINITY),n=Us(n,Number.NEGATIVE_INFINITY),r=Us(r,Number.POSITIVE_INFINITY),s=Us(s,Number.NEGATIVE_INFINITY),{min:Us(e,r),max:Us(n,s),minDefined:Gr(e),maxDefined:Gr(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)o=l[u].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Us(n,Us(r,n)),max:Us(r,Us(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=r7(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?PC(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=wH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Mt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=AC(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,l,u,d;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),g=f.widest.width,v=f.highest.height,x=_s(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/r:x/(r-1),g+6>l&&(l=x/(r-(e.offset?.5:1)),u=this.maxHeight-Ku(e.grid)-n.padding-RC(e.title,this.chart.options.font),d=Math.sqrt(g*g+v*v),o=I$(Math.min(Math.asin(_s((f.highest.height+6)/l,-1,1)),Math.asin(_s(u/d,-1,1))-Math.asin(_s(v/d,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=RC(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Ku(i)+u):(e.height=this.maxHeight,e.width=Ku(i)+u),r.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:v}=this._getLabelSizes(),x=r.padding*2,T=Va(this.labelRotation),b=Math.cos(T),w=Math.sin(T);if(l){const R=r.mirror?0:w*g.width+b*v.height;e.height=Math.min(this.maxHeight,e.height+R+x)}else{const R=r.mirror?0:b*g.width+w*v.height;e.width=Math.min(this.maxWidth,e.width+R+x)}this._calculatePadding(d,f,w,b)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;u?d?(v=s*e.width,x=r*n.height):(v=r*e.height,x=s*n.width):i==="start"?x=n.width:i==="end"?v=e.width:i!=="inner"&&(v=e.width/2,x=n.width/2),this.paddingLeft=Math.max((v-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((x-g+o)*this.width/(this.width-g),0)}else{let f=n.height/2,g=e.height/2;i==="start"?(f=0,g=e.height):i==="end"&&(f=n.height,g=0),this.paddingTop=f+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Rt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=PC(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],l=[],u=Math.floor(n/AC(n,r));let d=0,f=0,g,v,x,T,b,w,R,k,N,O,B;for(g=0;g<n;g+=u){if(T=e[g].label,b=this._resolveTickFontOptions(g),s.font=w=b.string,R=i[w]=i[w]||{data:{},gc:[]},k=b.lineHeight,N=O=0,!Rt(T)&&!hn(T))N=sC(s,R.data,R.gc,N,T),O=k;else if(hn(T))for(v=0,x=T.length;v<x;++v)B=T[v],!Rt(B)&&!hn(B)&&(N=sC(s,R.data,R.gc,N,B),O+=k);o.push(N),l.push(O),d=Math.max(N,d),f=Math.max(O,f)}RH(i,n);const U=o.indexOf(d),M=l.indexOf(f),E=P=>({width:o[P]||0,height:l[P]||0});return{first:E(0),last:E(n-1),widest:E(U),highest:E(M),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return j$(this._alignToPixels?Ra(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=kH(this.getContext(),e,r))}return this.$context||(this.$context=IH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Va(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,u=i?i.highest.height+o:0;return this.isHorizontal()?u*r>l*s?l/r:u/s:u*s<l*r?u/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:l}=s,u=i.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),v=Ku(i),x=[],T=l.setContext(this.getContext()),b=T.display?T.width:0,w=b/2,R=function(W){return Ra(r,W,b)};let k,N,O,B,U,M,E,P,j,F,D,V;if(o==="top")k=R(this.bottom),M=this.bottom-v,P=k-w,F=R(e.top)+w,V=e.bottom;else if(o==="bottom")k=R(this.top),F=e.top,V=R(e.bottom)-w,M=k+w,P=this.top+v;else if(o==="left")k=R(this.right),U=this.right-v,E=k-w,j=R(e.left)+w,D=e.right;else if(o==="right")k=R(this.left),j=e.left,D=R(e.right)-w,U=k+w,E=this.left+v;else if(n==="x"){if(o==="center")k=R((e.top+e.bottom)/2+.5);else if(ft(o)){const W=Object.keys(o)[0],Y=o[W];k=R(this.chart.scales[W].getPixelForValue(Y))}F=e.top,V=e.bottom,M=k+w,P=M+v}else if(n==="y"){if(o==="center")k=R((e.left+e.right)/2);else if(ft(o)){const W=Object.keys(o)[0],Y=o[W];k=R(this.chart.scales[W].getPixelForValue(Y))}U=k-w,E=U-v,j=e.left,D=e.right}const J=mt(s.ticks.maxTicksLimit,g),K=Math.max(1,Math.ceil(g/J));for(N=0;N<g;N+=K){const W=this.getContext(N),Y=i.setContext(W),G=l.setContext(W),te=Y.lineWidth,ae=Y.color,H=G.dash||[],Z=G.dashOffset,oe=Y.tickWidth,xe=Y.tickColor,be=Y.tickBorderDash||[],Te=Y.tickBorderDashOffset;O=PH(this,N,u),O!==void 0&&(B=Ra(r,O,te),d?U=E=j=D=B:M=P=F=V=B,x.push({tx1:U,ty1:M,tx2:E,ty2:P,x1:j,y1:F,x2:D,y2:V,width:te,color:ae,borderDash:H,borderDashOffset:Z,tickWidth:oe,tickColor:xe,tickBorderDash:be,tickBorderDashOffset:Te}))}return this._ticksLength=g,this._borderValue=k,x}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=i,v=Ku(r.grid),x=v+f,T=g?-f:x,b=-Va(this.labelRotation),w=[];let R,k,N,O,B,U,M,E,P,j,F,D,V="middle";if(s==="top")U=this.bottom-T,M=this._getXAxisLabelAlignment();else if(s==="bottom")U=this.top+T,M=this._getXAxisLabelAlignment();else if(s==="left"){const K=this._getYAxisLabelAlignment(v);M=K.textAlign,B=K.x}else if(s==="right"){const K=this._getYAxisLabelAlignment(v);M=K.textAlign,B=K.x}else if(n==="x"){if(s==="center")U=(e.top+e.bottom)/2+x;else if(ft(s)){const K=Object.keys(s)[0],W=s[K];U=this.chart.scales[K].getPixelForValue(W)+x}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")B=(e.left+e.right)/2-x;else if(ft(s)){const K=Object.keys(s)[0],W=s[K];B=this.chart.scales[K].getPixelForValue(W)}M=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(u==="start"?V="top":u==="end"&&(V="bottom"));const J=this._getLabelSizes();for(R=0,k=l.length;R<k;++R){N=l[R],O=N.label;const K=i.setContext(this.getContext(R));E=this.getPixelForTick(R)+i.labelOffset,P=this._resolveTickFontOptions(R),j=P.lineHeight,F=hn(O)?O.length:1;const W=F/2,Y=K.color,G=K.textStrokeColor,te=K.textStrokeWidth;let ae=M;o?(B=E,M==="inner"&&(R===k-1?ae=this.options.reverse?"left":"right":R===0?ae=this.options.reverse?"right":"left":ae="center"),s==="top"?d==="near"||b!==0?D=-F*j+j/2:d==="center"?D=-J.highest.height/2-W*j+j:D=-J.highest.height+j/2:d==="near"||b!==0?D=j/2:d==="center"?D=J.highest.height/2-W*j:D=J.highest.height-F*j,g&&(D*=-1),b!==0&&!K.showLabelBackdrop&&(B+=j/2*Math.sin(b))):(U=E,D=(1-F)*j/2);let H;if(K.showLabelBackdrop){const Z=Kr(K.backdropPadding),oe=J.heights[R],xe=J.widths[R];let be=D-Z.top,Te=0-Z.left;switch(V){case"middle":be-=oe/2;break;case"bottom":be-=oe;break}switch(M){case"center":Te-=xe/2;break;case"right":Te-=xe;break;case"inner":R===k-1?Te-=xe:R>0&&(Te-=xe/2);break}H={left:Te,top:be,width:xe+Z.width,height:oe+Z.height,color:K.backdropColor}}w.push({label:O,font:P,textOffset:D,options:{rotation:b,color:Y,strokeColor:G,strokeWidth:te,textAlign:ae,textBaseline:V,translation:[B,U],backdrop:H}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Va(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,u=o.widest.width;let d,f;return n==="left"?s?(f=this.right+i,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?s?(f=this.left+i,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(u,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const u=s[i];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,v;this.isHorizontal()?(d=Ra(e,this.left,o)-o/2,f=Ra(e,this.right,l)+l/2,g=v=u):(g=Ra(e,this.top,o)-o/2,v=Ra(e,this.bottom,l)+l/2,d=f=u),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,v),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&ow(r,s);const i=this.getLabelItems(e);for(const o of i){const l=o.options,u=o.font,d=o.label,f=o.textOffset;Ld(r,d,0,f,u,l)}s&&aw(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Wn(r.font),o=Kr(r.padding),l=r.align;let u=i.lineHeight/2;n==="bottom"||n==="center"||ft(n)?(u+=o.bottom,hn(r.text)&&(u+=i.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:d,titleY:f,maxWidth:g,rotation:v}=DH(this,u,n,l);Ld(e,r.text,0,0,i,{color:r.color,maxWidth:g,rotation:v,textAlign:NH(l,n,s),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=mt(e.grid&&e.grid.z,-1),s=mt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Wn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;OH(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,jH(e,o,r),this.override&&en.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in en[s]&&(delete en[s][r],this.override&&delete Wa[r])}}function jH(t,e,n){const r=Od(Object.create(null),[n?en.get(n):{},en.get(e),t.defaults]);en.set(e,r),t.defaultRoutes&&MH(e,t.defaultRoutes),t.descriptors&&en.describe(e,t.descriptors)}function MH(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");en.route(i,s,u,l)})}function OH(t){return"id"in t&&"defaults"in t}class VH{constructor(){this.controllers=new Hf(vd,"datasets",!0),this.elements=new Hf(qc,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(Gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):St(s,o=>{const l=r||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,r){const s=rw(e);Mt(r["before"+s],[],r),n[e](r),Mt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Hs=new VH;class LH{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,l=o[r],u=[n,s,i.options];if(Mt(l,u,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=mt(r.options&&r.options.plugins,{}),i=FH(r);return s===!1&&!n?[]:zH(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function FH(t){const e={},n=[],r=Object.keys(Hs.plugins.items);for(let i=0;i<r.length;i++)n.push(Hs.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function BH(t,e){return!e&&t===!1?null:t===!0?{}:t}function zH(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const l of e){const u=l.id,d=BH(r[u],s);d!==null&&i.push({plugin:l,options:UH(t.config,{plugin:l,local:n[u]},d,o)})}return i}function UH(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ux(t,e){const n=en.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $H(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function HH(t,e){return t===e?"_index_":"_value_"}function IC(t){if(t==="x"||t==="y"||t==="r")return t}function WH(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function dx(t,...e){if(IC(t))return t;for(const n of e){const r=n.axis||WH(n.position)||t.length>1&&IC(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function kC(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function qH(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return kC(t,"x",n[0])||kC(t,"y",n[0])}return{}}function GH(t,e){const n=Wa[t.type]||{scales:{}},r=e.scales||{},s=ux(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!ft(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=dx(o,l,qH(o,t),en.scales[l.type]),d=HH(u,s),f=n.scales||{};i[o]=md(Object.create(null),[{axis:u},l,f[u],f[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||ux(l,e),f=(Wa[l]||{}).scales||{};Object.keys(f).forEach(g=>{const v=$H(g,u),x=o[v+"AxisID"]||v;i[x]=i[x]||Object.create(null),md(i[x],[{axis:v},r[x],f[g]])})}),Object.keys(i).forEach(o=>{const l=i[o];md(l,[en.scales[l.type],en.scale])}),i}function oN(t){const e=t.options||(t.options={});e.plugins=mt(e.plugins,{}),e.scales=GH(t,e)}function aN(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function KH(t){return t=t||{},t.data=aN(t.data),oN(t),t}const NC=new Map,lN=new Set;function Wf(t,e){let n=NC.get(t);return n||(n=e(),NC.set(t,n),lN.add(n)),n}const Qu=(t,e,n)=>{const r=Ac(e,n);r!==void 0&&t.add(r)};class QH{constructor(e){this._config=KH(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=aN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Wf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Wf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Wf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),l=o.get(n);if(l)return l;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(g=>Qu(u,e,g))),f.forEach(g=>Qu(u,s,g)),f.forEach(g=>Qu(u,Wa[i]||{},g)),f.forEach(g=>Qu(u,en,g)),f.forEach(g=>Qu(u,cx,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),lN.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Wa[n]||{},en.datasets[n]||{},{type:n},en,cx]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=DC(this._resolverCache,e,s);let u=o;if(XH(o,n)){i.$shared=!1,r=Wo(r)?r():r;const d=this.createResolver(e,r,l);u=Pc(o,r,d)}for(const d of n)i[d]=u[d];return i}createResolver(e,n,r=[""],s){const{resolver:i}=DC(this._resolverCache,e,r);return ft(n)?Pc(i,n,void 0,s):i}}function DC(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:lw(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const YH=t=>ft(t)&&Object.getOwnPropertyNames(t).some(e=>Wo(t[e]));function XH(t,e){const{isScriptable:n,isIndexable:r}=q2(t);for(const s of e){const i=n(s),o=r(s),l=(o||i)&&t[s];if(i&&(Wo(l)||YH(l))||o&&hn(l))return!0}return!1}var ZH="4.5.0";const JH=["top","bottom","left","right","chartArea"];function jC(t,e){return t==="top"||t==="bottom"||JH.indexOf(t)===-1&&e==="x"}function MC(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function OC(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Mt(n&&n.onComplete,[t],e)}function eW(t){const e=t.chart,n=e.options.animation;Mt(n&&n.onProgress,[t],e)}function cN(t){return dw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wp={},VC=t=>{const e=cN(t);return Object.values(wp).filter(n=>n.canvas===e).pop()};function tW(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function nW(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var xo;let Zm=(xo=class{static register(...e){Hs.add(...e),LC()}static unregister(...e){Hs.remove(...e),LC()}constructor(e,n){const r=this.config=new QH(n),s=cN(e),i=VC(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||_H(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,o.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=v$(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=L$(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],wp[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Pi.listen(this,"complete",OC),Pi.listen(this,"progress",eW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Rt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iC(this.canvas,this.ctx),this}stop(){return Pi.stop(this),this}resize(e,n){Pi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,cC(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Mt(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};St(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],u=dx(o,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),St(i,o=>{const l=o.options,u=l.id,d=dx(u,l),f=mt(l.type,o.dtype);(l.position===void 0||jC(l.position,d)!==jC(o.dposition))&&(l.position=o.dposition),s[u]=!0;let g=null;if(u in r&&r[u].type===f)g=r[u];else{const v=Hs.getScale(f);g=new v({id:u,type:f,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,e)}),St(s,(o,l)=>{o||delete r[l]}),St(r,o=>{Hr.configure(this,o,o.options),Hr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(MC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=i.indexAxis||ux(l,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Hs.getController(l),{datasetElementType:d,dataElementType:f}=en.datasets[l];Object.assign(u,{dataElementType:Hs.getElement(f),datasetElementType:d&&Hs.getElement(d)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){St(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),v=!s&&i.indexOf(g)===-1;g.buildOrUpdateElements(v),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||St(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(MC("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){St(this.scales,e=>{Hr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!QE(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;tW(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!QE(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Hr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],St(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Wo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pi.has(this)?this.attached&&!Pi.running(this)&&Pi.start(this):(this.draw(),OC({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=T7(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&ow(n,s),e.controller.draw(),s&&aw(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return $2(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=J7.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Wc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Vd(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iC(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete wp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};St(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},s=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},i=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){St(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},St(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,l,u;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!nm(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),o=i(n,e),l=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,l=this._getActiveElements(e,s,r,o),u=S$(e),d=nW(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Mt(i.onHover,[e,l,this],this),u&&Mt(i.onClick,[e,l,this],this));const f=!nm(l,s);return(f||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,f}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},ut(xo,"defaults",en),ut(xo,"instances",wp),ut(xo,"overrides",Wa),ut(xo,"registry",Hs),ut(xo,"version",ZH),ut(xo,"getChart",VC),xo);function LC(){return St(Zm.instances,t=>t._plugins.invalidate())}function uN(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,u,d,f,g;return t.horizontal?(g=o/2,l=Math.min(n,s),u=Math.max(n,s),d=r-g,f=r+g):(g=i/2,l=n-g,u=n+g,d=Math.min(r,s),f=Math.max(r,s)),{left:l,top:d,right:u,bottom:f}}function So(t,e,n,r){return t?0:_s(e,n,r)}function rW(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=W2(r);return{t:So(s.top,i.top,0,n),r:So(s.right,i.right,0,e),b:So(s.bottom,i.bottom,0,n),l:So(s.left,i.left,0,e)}}function sW(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=dc(s),o=Math.min(e,n),l=t.borderSkipped,u=r||ft(s);return{topLeft:So(!u||l.top||l.left,i.topLeft,0,o),topRight:So(!u||l.top||l.right,i.topRight,0,o),bottomLeft:So(!u||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:So(!u||l.bottom||l.right,i.bottomRight,0,o)}}function iW(t){const e=uN(t),n=e.right-e.left,r=e.bottom-e.top,s=rW(t,n/2,r/2),i=sW(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function zv(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&uN(t,r);return l&&(s||ic(e,l.left,l.right))&&(i||ic(n,l.top,l.bottom))}function oW(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function aW(t,e){t.rect(e.x,e.y,e.w,e.h)}function Uv(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class bp extends qc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=iW(this),l=oW(o.radius)?om:aW;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,Uv(o,n,i)),e.clip(),l(e,Uv(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,Uv(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return zv(this,e,n,r)}inXRange(e,n){return zv(this,e,null,n)}inYRange(e,n){return zv(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ut(bp,"id","bar"),ut(bp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ut(bp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const FC=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},lW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class BC extends qc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Mt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Wn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=FC(r,i);let d,f;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,i,l,u)+10):(f=this.maxHeight,d=this._fitCols(o,s,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+l;let g=e;i.textAlign="left",i.textBaseline="middle";let v=-1,x=-f;return this.legendItems.forEach((T,b)=>{const w=r+n/2+i.measureText(T.text).width;(b===0||d[d.length-1]+w+2*l>o)&&(g+=f,d[d.length-(b>0?0:1)]=0,x+=f,v++),u[b]={left:0,top:x,row:v,width:w,height:s},d[d.length-1]+=w+l}),g}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-e;let g=l,v=0,x=0,T=0,b=0;return this.legendItems.forEach((w,R)=>{const{itemWidth:k,itemHeight:N}=cW(r,n,i,w,s);R>0&&x+N+2*l>f&&(g+=v+l,d.push({width:v,height:x}),T+=v+l,b++,v=x=0),u[R]={left:T,top:x,col:b,width:k,height:N},v=Math.max(v,k),x+=N+l}),g+=v,d.push({width:v,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=hc(i,this.left,this.width);if(this.isHorizontal()){let l=0,u=Bn(r,this.left+s,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=Bn(r,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+s}else{let l=0,u=Bn(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=Bn(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ow(e,this),this._draw(),aw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,l=en.color,u=hc(e.rtl,this.left,this.width),d=Wn(o.font),{padding:f}=o,g=d.size,v=g/2;let x;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:T,boxHeight:b,itemHeight:w}=FC(o,g),R=function(U,M,E){if(isNaN(T)||T<=0||isNaN(b)||b<0)return;s.save();const P=mt(E.lineWidth,1);if(s.fillStyle=mt(E.fillStyle,l),s.lineCap=mt(E.lineCap,"butt"),s.lineDashOffset=mt(E.lineDashOffset,0),s.lineJoin=mt(E.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=mt(E.strokeStyle,l),s.setLineDash(mt(E.lineDash,[])),o.usePointStyle){const j={radius:b*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:P},F=u.xPlus(U,T/2),D=M+v;U2(s,j,F,D,o.pointStyleWidth&&T)}else{const j=M+Math.max((g-b)/2,0),F=u.leftForLtr(U,T),D=dc(E.borderRadius);s.beginPath(),Object.values(D).some(V=>V!==0)?om(s,{x:F,y:j,w:T,h:b,radius:D}):s.rect(F,j,T,b),s.fill(),P!==0&&s.stroke()}s.restore()},k=function(U,M,E){Ld(s,E.text,U,M+w/2,d,{strikethrough:E.hidden,textAlign:u.textAlign(E.textAlign)})},N=this.isHorizontal(),O=this._computeTitleHeight();N?x={x:Bn(i,this.left+f,this.right-r[0]),y:this.top+f+O,line:0}:x={x:this.left+f,y:Bn(i,this.top+O+f,this.bottom-n[0].height),line:0},Y2(this.ctx,e.textDirection);const B=w+f;this.legendItems.forEach((U,M)=>{s.strokeStyle=U.fontColor,s.fillStyle=U.fontColor;const E=s.measureText(U.text).width,P=u.textAlign(U.textAlign||(U.textAlign=o.textAlign)),j=T+v+E;let F=x.x,D=x.y;u.setWidth(this.width),N?M>0&&F+j+f>this.right&&(D=x.y+=B,x.line++,F=x.x=Bn(i,this.left+f,this.right-r[x.line])):M>0&&D+B>this.bottom&&(F=x.x=F+n[x.line].width+f,x.line++,D=x.y=Bn(i,this.top+O+f,this.bottom-n[x.line].height));const V=u.x(F);if(R(V,D,U),F=F$(P,F+T+v,N?F+j:this.right,e.rtl),k(u.x(F),D,U),N)x.x+=j+f;else if(typeof U.text!="string"){const J=d.lineHeight;x.y+=dN(U,J)+f}else x.y+=B}),X2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Wn(n.font),s=Kr(n.padding);if(!n.display)return;const i=hc(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=r.size/2,d=s.top+u;let f,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),f=this.top+d,g=Bn(e.align,g,this.right-v);else{const T=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);f=d+Bn(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const x=Bn(l,g,g+v);o.textAlign=i.textAlign(iw(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ld(o,n.text,x,f,r)}_computeTitleHeight(){const e=this.options.title,n=Wn(e.font),r=Kr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ic(e,this.left,this.right)&&ic(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ic(e,s.left,s.left+s.width)&&ic(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!hW(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=lW(s,r);s&&!i&&Mt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Mt(n.onHover,[e,r,this],this)}else r&&Mt(n.onClick,[e,r,this],this)}}function cW(t,e,n,r,s){const i=uW(r,t,e,n),o=dW(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function uW(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function dW(t,e,n){let r=t;return typeof e.text!="string"&&(r=dN(e,n)),r}function dN(t,e){const n=t.text?t.text.length:0;return e*n}function hW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fW={id:"legend",_element:BC,start(t,e,n){const r=t.legend=new BC({ctx:t.ctx,options:n,chart:t});Hr.configure(t,r,n),Hr.addBox(t,r)},stop(t){Hr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Hr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=Kr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let hN=class extends qc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=hn(r.text)?r.text.length:1;this._padding=Kr(r.padding);const i=s*Wn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,l=o.align;let u=0,d,f,g;return this.isHorizontal()?(f=Bn(l,r,i),g=n+e,d=i-r):(o.position==="left"?(f=r+e,g=Bn(l,s,n),u=qn*-.5):(f=i-e,g=Bn(l,n,s),u=qn*.5),d=s-n),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Wn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(i);Ld(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:iw(n.align),textBaseline:"middle",translation:[o,l]})}};function pW(t,e){const n=new hN({ctx:t.ctx,options:e,chart:t});Hr.configure(t,n,e),Hr.addBox(t,n),t.titleBlock=n}var mW={id:"title",_element:hN,start(t,e,n){pW(t,n)},stop(t){const e=t.titleBlock;Hr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Hr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const id={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),s+=u.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const u=t[i].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=N$(e,d);f<s&&(s=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function $s(t,e){return e&&(hn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ri(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function gW(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:l}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function zC(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:l}=e,u=Wn(e.bodyFont),d=Wn(e.titleFont),f=Wn(e.footerFont),g=i.length,v=s.length,x=r.length,T=Kr(e.padding);let b=T.height,w=0,R=r.reduce((O,B)=>O+B.before.length+B.lines.length+B.after.length,0);if(R+=t.beforeBody.length+t.afterBody.length,g&&(b+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),R){const O=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;b+=x*O+(R-x)*u.lineHeight+(R-1)*e.bodySpacing}v&&(b+=e.footerMarginTop+v*f.lineHeight+(v-1)*e.footerSpacing);let k=0;const N=function(O){w=Math.max(w,n.measureText(O).width+k)};return n.save(),n.font=d.string,St(t.title,N),n.font=u.string,St(t.beforeBody.concat(t.afterBody),N),k=e.displayColors?o+2+e.boxPadding:0,St(r,O=>{St(O.before,N),St(O.lines,N),St(O.after,N)}),k=0,n.font=f.string,St(t.footer,N),n.restore(),w+=T.width,{width:w,height:b}}function yW(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function vW(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function xW(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=s<=(l+u)/2?"left":"right":s<=i/2?d="left":s>=o-i/2&&(d="right"),vW(d,t,e,n)&&(d="center"),d}function UC(t,e,n){const r=n.yAlign||e.yAlign||yW(t,n);return{xAlign:n.xAlign||e.xAlign||xW(t,e,n,r),yAlign:r}}function _W(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function wW(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function $C(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,d=s+i,{topLeft:f,topRight:g,bottomLeft:v,bottomRight:x}=dc(o);let T=_W(e,l);const b=wW(e,u,d);return u==="center"?l==="left"?T+=d:l==="right"&&(T-=d):l==="left"?T-=Math.max(f,v)+s:l==="right"&&(T+=Math.max(g,x)+s),{x:_s(T,0,r.width-e.width),y:_s(b,0,r.height-e.height)}}function qf(t,e,n){const r=Kr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function HC(t){return $s([],Ri(t))}function bW(t,e,n){return Wc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function WC(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const fN={beforeTitle:Ai,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ai,beforeBody:Ai,beforeLabel:Ai,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Rt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ai,afterBody:Ai,beforeFooter:Ai,footer:Ai,afterFooter:Ai};function lr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?fN[e].call(n,r):s}var o0;let qC=(o0=class extends qc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Z2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=bW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=lr(r,"beforeTitle",this,e),i=lr(r,"title",this,e),o=lr(r,"afterTitle",this,e);let l=[];return l=$s(l,Ri(s)),l=$s(l,Ri(i)),l=$s(l,Ri(o)),l}getBeforeBody(e,n){return HC(lr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return St(e,i=>{const o={before:[],lines:[],after:[]},l=WC(r,i);$s(o.before,Ri(lr(l,"beforeLabel",this,i))),$s(o.lines,lr(l,"label",this,i)),$s(o.after,Ri(lr(l,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return HC(lr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=lr(r,"beforeFooter",this,e),i=lr(r,"footer",this,e),o=lr(r,"afterFooter",this,e);let l=[];return l=$s(l,Ri(s)),l=$s(l,Ri(i)),l=$s(l,Ri(o)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(gW(this.chart,n[u]));return e.filter&&(l=l.filter((f,g,v)=>e.filter(f,g,v,r))),e.itemSort&&(l=l.sort((f,g)=>e.itemSort(f,g,r))),St(l,f=>{const g=WC(e.callbacks,f);s.push(lr(g,"labelColor",this,f)),i.push(lr(g,"labelPointStyle",this,f)),o.push(lr(g,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=id[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=zC(this,r),d=Object.assign({},l,u),f=UC(this.chart,r,d),g=$C(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=dc(l),{x:v,y:x}=e,{width:T,height:b}=n;let w,R,k,N,O,B;return i==="center"?(O=x+b/2,s==="left"?(w=v,R=w-o,N=O+o,B=O-o):(w=v+T,R=w+o,N=O-o,B=O+o),k=w):(s==="left"?R=v+Math.max(u,f)+o:s==="right"?R=v+T-Math.max(d,g)-o:R=this.caretX,i==="top"?(N=x,O=N-o,w=R-o,k=R+o):(N=x+b,O=N+o,w=R+o,k=R-o),B=N),{x1:w,x2:R,x3:k,y1:N,y2:O,y3:B}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,l,u;if(i){const d=hc(r.rtl,this.x,this.width);for(e.x=qf(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=Wn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<i;++u)n.fillText(s[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=i,f=Wn(i.bodyFont),g=qf(this,"left",i),v=s.x(g),x=u<f.lineHeight?(f.lineHeight-u)/2:0,T=n.y+x;if(i.usePointStyle){const b={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=s.leftForLtr(v,d)+d/2,R=T+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,oC(e,b,w,R),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,oC(e,b,w,R)}else{e.lineWidth=ft(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(v,d),w=s.leftForLtr(s.xPlus(v,1),d-2),R=dc(o.borderRadius);Object.values(R).some(k=>k!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,om(e,{x:b,y:T,w:d,h:u,radius:R}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),om(e,{x:w,y:T+1,w:d-2,h:u-2,radius:R}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,T,d,u),e.strokeRect(b,T,d,u),e.fillStyle=o.backgroundColor,e.fillRect(w,T+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=r,g=Wn(r.bodyFont);let v=g.lineHeight,x=0;const T=hc(r.rtl,this.x,this.width),b=function(E){n.fillText(E,T.x(e.x+x),e.y+v/2),e.y+=v+i},w=T.textAlign(o);let R,k,N,O,B,U,M;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,e.x=qf(this,w,r),n.fillStyle=r.bodyColor,St(this.beforeBody,b),x=l&&w!=="right"?o==="center"?d/2+f:d+2+f:0,O=0,U=s.length;O<U;++O){for(R=s[O],k=this.labelTextColors[O],n.fillStyle=k,St(R.before,b),N=R.lines,l&&N.length&&(this._drawColorBox(n,e,O,T,r),v=Math.max(g.lineHeight,u)),B=0,M=N.length;B<M;++B)b(N[B]),v=g.lineHeight;St(R.after,b)}x=0,v=g.lineHeight,St(this.afterBody,b),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,l;if(i){const u=hc(r.rtl,this.x,this.width);for(e.x=qf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=Wn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:l,y:u}=e,{width:d,height:f}=r,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:T}=dc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+g,u),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+d-v,u),n.quadraticCurveTo(l+d,u,l+d,u+v),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+d,u+f-T),n.quadraticCurveTo(l+d,u+f,l+d-T,u+f),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+x,u+f),n.quadraticCurveTo(l,u+f,l,u+f-x),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=id[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=zC(this,e),u=Object.assign({},o,this._size),d=UC(n,e,u),f=$C(e,u,d,n);(s._to!==f.x||i._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Kr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),Y2(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),X2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),i=!nm(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),l=this._positionChanged(o,e),u=n||!nm(o,i)||l;return u&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=id[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}},ut(o0,"positioners",id),o0);var TW={id:"tooltip",_element:qC,positioners:id,afterInit(t,e,n){n&&(t.tooltip=new qC({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SW=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function EW(t,e,n,r){const s=t.indexOf(e);if(s===-1)return SW(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const CW=(t,e)=>t===null?null:_s(Math.round(t),0,e);function GC(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class hx extends Gc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Rt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:EW(r,e,mt(n,e),this._addedLabels),CW(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return GC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ut(hx,"id","category"),ut(hx,"defaults",{ticks:{callback:GC}});function AW(t,e){const n=[],{bounds:s,step:i,min:o,max:l,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:v}=t,x=i||1,T=f-1,{min:b,max:w}=e,R=!Rt(o),k=!Rt(l),N=!Rt(d),O=(w-b)/(g+1);let B=XE((w-b)/T/x)*x,U,M,E,P;if(B<1e-14&&!R&&!k)return[{value:b},{value:w}];P=Math.ceil(w/B)-Math.floor(b/B),P>T&&(B=XE(P*B/T/x)*x),Rt(u)||(U=Math.pow(10,u),B=Math.ceil(B*U)/U),s==="ticks"?(M=Math.floor(b/B)*B,E=Math.ceil(w/B)*B):(M=b,E=w),R&&k&&i&&P$((l-o)/i,B/1e3)?(P=Math.round(Math.min((l-o)/B,f)),B=(l-o)/P,M=o,E=l):N?(M=R?o:M,E=k?l:E,P=d-1,B=(E-M)/P):(P=(E-M)/B,vp(P,Math.round(P),B/1e3)?P=Math.round(P):P=Math.ceil(P));const j=Math.max(ZE(B),ZE(M));U=Math.pow(10,Rt(u)?j:u),M=Math.round(M*U)/U,E=Math.round(E*U)/U;let F=0;for(R&&(v&&M!==o?(n.push({value:o}),M<o&&F++,vp(Math.round((M+F*B)*U)/U,o,KC(o,O,t))&&F++):M<o&&F++);F<P;++F){const D=Math.round((M+F*B)*U)/U;if(k&&D>l)break;n.push({value:D})}return k&&v&&E!==l?n.length&&vp(n[n.length-1].value,l,KC(l,O,t))?n[n.length-1].value=l:n.push({value:l}):(!k||E===l)&&n.push({value:E}),n}function KC(t,e,{horizontal:n,minRotation:r}){const s=Va(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class PW extends Gc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Rt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=u=>s=n?s:u,l=u=>i=r?i:u;if(e){const u=No(s),d=No(i);u<0&&d<0?l(0):u>0&&d>0&&o(0)}if(s===i){let u=i===0?1:Math.abs(i*.05);l(i+u),e||o(s-u)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=AW(s,i);return e.bounds==="ticks"&&R$(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return B2(e,this.chart.options.locale,this.options.ticks.format)}}class fx extends PW{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Gr(e)?e:0,this.max=Gr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Va(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ut(fx,"id","linear"),ut(fx,"defaults",{ticks:{callback:z2.formatters.numeric}});const Jm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hr=Object.keys(Jm);function QC(t,e){return t-e}function YC(t,e){if(Rt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Gr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(im(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function XC(t,e,n,r){const s=hr.length;for(let i=hr.indexOf(t);i<s-1;++i){const o=Jm[hr[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=r)return hr[i]}return hr[s-1]}function RW(t,e,n,r,s){for(let i=hr.length-1;i>=hr.indexOf(n);i--){const o=hr[i];if(Jm[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return hr[n?hr.indexOf(n):0]}function IW(t){for(let e=hr.indexOf(t)+1,n=hr.length;e<n;++e)if(Jm[hr[e]].common)return hr[e]}function ZC(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=sw(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function kW(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let l,u;for(l=i;l<=o;l=+s.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function JC(t,e,n){const r=[],s={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],s[l]=o,r.push({value:l,major:!1});return i===0||!n?r:kW(t,r,s,n)}class cm extends Gc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new K7._date(e.adapters.date);s.init(n),md(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:YC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=Gr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Gr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,l=O$(s,i,o);return this._unit=n.unit||(r.autoSkip?XC(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):RW(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:IW(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),JC(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=_s(n,0,o),r=_s(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||XC(i.minUnit,n,r,this._getLabelCapacity(n)),l=mt(s.ticks.stepSize,1),u=o==="week"?i.isoWeekday:!1,d=im(u)||u===!0,f={};let g=n,v,x;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":o),e.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(v=g,x=0;v<r;v=+e.add(v,l,o),x++)ZC(f,v,T);return(v===r||s.bounds==="ticks"||x===1)&&ZC(f,v,T),Object.keys(f).sort(QC).map(b=>+b)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Mt(o,[e,n,r],this);const l=i.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],g=d&&l[d],v=r[n],x=d&&g&&v&&v.major;return this._adapter.format(e,s||(x?g:f))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Va(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*o,h:r*o+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,JC(this,[e],this._majorUnit),s),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(YC(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return O2(e.sort(QC))}}ut(cm,"id","time"),ut(cm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gf(t,e,n){let r=0,s=t.length-1,i,o,l,u;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=lx(t,"pos",e)),{pos:i,time:l}=t[r],{pos:o,time:u}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=lx(t,"time",e)),{time:i,pos:l}=t[r],{time:o,pos:u}=t[s]);const d=o-i;return d?l+(u-l)*(e-i)/d:l}class eA extends cm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gf(n,this.min),this._tableRange=Gf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,l,u,d,f;for(o=0,l=e.length;o<l;++o)d=e[o],d>=n&&d<=r&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=s.length;o<l;++o)f=s[o+1],u=s[o-1],d=s[o],Math.round((f+u)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gf(this._table,r*this._tableRange+this._minPos,!0)}}ut(eA,"id","timeseries"),ut(eA,"defaults",cm.defaults);const pN="label";function tA(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function NW(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function mN(t,e){t.labels=e}function gN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pN;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function DW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pN;const n={labels:[],datasets:[]};return mN(n,t.labels),gN(n,t.datasets,e),n}function jW(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:u,plugins:d=[],fallbackContent:f,updateMode:g,...v}=t,x=A.useRef(null),T=A.useRef(null),b=()=>{x.current&&(T.current=new Zm(x.current,{type:o,data:DW(l,i),options:u&&{...u},plugins:d}),tA(e,T.current))},w=()=>{tA(e,null),T.current&&(T.current.destroy(),T.current=null)};return A.useEffect(()=>{!s&&T.current&&u&&NW(T.current,u)},[s,u]),A.useEffect(()=>{!s&&T.current&&mN(T.current.config.data,l.labels)},[s,l.labels]),A.useEffect(()=>{!s&&T.current&&l.datasets&&gN(T.current.config.data,l.datasets,i)},[s,l.datasets]),A.useEffect(()=>{T.current&&(s?(w(),setTimeout(b)):T.current.update(g))},[s,u,l.labels,l.datasets,g]),A.useEffect(()=>{T.current&&(w(),setTimeout(b))},[o]),A.useEffect(()=>(b(),()=>w()),[]),Ue.createElement("canvas",{ref:x,role:"img",height:n,width:r,...v},f)}const MW=A.forwardRef(jW);function OW(t,e){return Zm.register(e),A.forwardRef((n,r)=>Ue.createElement(MW,{...n,ref:r,type:t}))}const VW=OW("bar",xp);Zm.register(hx,fx,bp,mW,TW,fW);const nA=({setActiveTab:t})=>{const[e,n]=A.useState(null),[r,s]=A.useState([]),[i,o]=A.useState(null),[l,u]=A.useState(!0);if(A.useEffect(()=>{(async()=>{u(!0);try{const[g,v,x,T,b,w]=await Promise.all([bn("usuarios"),bn("treinamentos"),bn("historico"),bn("simulados"),bn("resultadosSimulados"),bn("trilhas")]),R=g.filter(j=>j.tipo==="funcionario").length,k=v.length,N=x.filter(j=>j.concluido).length;let O=0,B={title:"N/A",score:101},U={title:"N/A",score:-1};const M={};b.length>0&&(O=b.reduce((j,F)=>j+F.pontuacao,0)/b.length,b.forEach(j=>{M[j.simuladoId]||(M[j.simuladoId]={total:0,count:0,title:j.simuladoTitulo}),M[j.simuladoId].total+=j.pontuacao,M[j.simuladoId].count+=1}),Object.values(M).forEach(j=>{const F=j.total/j.count;F<B.score&&(B={title:j.title,score:F}),F>U.score&&(U={title:j.title,score:F})})),n({totalUsuarios:R,totalTreinamentos:k,totalConclusoes:N,totalSimulados:T.length,totalTrilhas:w.length,averageScore:O.toFixed(1),hardestSimulado:B.title,easiestSimulado:U.title});const E={Iniciante:0,Aprendiz:0,Conhecedor:0,Especialista:0,"Mestre do Conhecimento":0};g.forEach(j=>{j.titulo&&E.hasOwnProperty(j.titulo)?E[j.titulo]++:j.tipo==="funcionario"&&E.Iniciante++}),o({labels:Object.keys(E),datasets:[{label:"N de Funcionrios",data:Object.values(E),backgroundColor:"rgba(79, 70, 229, 0.8)"}]});const P=x.filter(j=>j.concluido).sort((j,F)=>new Date(F.dataConclusao)-new Date(j.dataConclusao)).slice(0,5).map(j=>{const F=g.find(V=>V.id===j.usuarioId),D=v.find(V=>V.id===j.treinamentoId);return{...j,nomeUsuario:(F==null?void 0:F.nome)||"Usurio desconhecido",tituloTreinamento:(D==null?void 0:D.titulo)||"Treinamento desconhecido"}});s(P)}catch(g){console.error("Erro ao carregar dados do dashboard:",g)}finally{u(!1)}})()},[]),l)return p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})});if(!e)return p.jsx("div",{className:"text-center text-slate-400",children:"No foi possvel carregar os dados do dashboard."});const d=[{title:"Total de Usurios",value:e.totalUsuarios,icon:w_,tab:"usuarios"},{title:"Treinamentos",value:e.totalTreinamentos,icon:Ba,tab:"treinamentos"},{title:"Trilhas",value:e.totalTrilhas,icon:uB,tab:"trilhas"},{title:"Simulados",value:e.totalSimulados,icon:Kp,tab:"simulados"}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard Administrativo"}),p.jsx("p",{className:"text-slate-400",children:"Viso geral da Central de Treinamento"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((f,g)=>{const v=f.icon;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:p.jsxs(gt,{onClick:()=>t(f.tab),className:"glass-effect border-slate-700 card-hover cursor-pointer",children:[p.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:f.title}),p.jsx(v,{className:"h-5 w-5 text-slate-400"})]}),p.jsx(yt,{children:p.jsx("div",{className:"text-3xl font-bold text-white",children:f.value})})]})},f.title)})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-3",children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white h-full",children:[p.jsxs(Et,{children:[p.jsx(Ct,{children:"Distribuio de Ttulos"}),p.jsx(zi,{children:"N de funcionrios por cada nvel de conhecimento."})]}),p.jsx(yt,{children:i&&p.jsx(VW,{data:i,options:{responsive:!0,maintainAspectRatio:!1}})})]})}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2",children:p.jsxs(gt,{className:"glass-effect border-slate-700 h-full",children:[p.jsxs(Et,{children:[p.jsxs(Ct,{className:"text-white flex items-center",children:[p.jsx(Fc,{className:"w-5 h-5 mr-2 text-green-500"}),"Atividade Recente"]}),p.jsx(zi,{className:"text-slate-400",children:"ltimos treinamentos concludos"})]}),p.jsx(yt,{className:"space-y-3",children:r.length>0?r.map((f,g)=>p.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-slate-800/50",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:p.jsx(Lc,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:f.nomeUsuario}),p.jsx("p",{className:"text-xs text-slate-400 truncate",children:f.tituloTreinamento})]})]},`${f.id}-${g}`)):p.jsx("p",{className:"text-slate-400 text-center py-4",children:"Nenhuma atividade recente"})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Et,{children:p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:"Desempenho Mdio Geral"})}),p.jsx(yt,{children:p.jsxs("p",{className:"text-3xl font-bold",children:[e.averageScore,"%"]})})]})}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Et,{children:p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:"Simulado Mais Difcil"})}),p.jsx(yt,{children:p.jsx("p",{className:"text-lg font-bold truncate",children:e.hardestSimulado})})]})}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Et,{children:p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:"Simulado Mais Fcil"})}),p.jsx(yt,{children:p.jsx("p",{className:"text-lg font-bold truncate",children:e.easiestSimulado})})]})})]})]})},LW=Hm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Do({className:t,variant:e,...n}){return p.jsx("div",{className:Xe(LW({variant:e}),t),...n})}var FW=qA[" useId ".trim().toString()]||(()=>{}),BW=0;function jo(t){const[e,n]=A.useState(FW());return kn(()=>{n(r=>r??String(BW++))},[t]),e?`radix-${e}`:""}var $v="focusScope.autoFocusOnMount",Hv="focusScope.autoFocusOnUnmount",rA={bubbles:!1,cancelable:!0},zW="FocusScope",pw=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,u]=A.useState(null),d=qr(s),f=qr(i),g=A.useRef(null),v=dt(e,b=>u(b)),x=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let b=function(N){if(x.paused||!l)return;const O=N.target;l.contains(O)?g.current=O:wo(g.current,{select:!0})},w=function(N){if(x.paused||!l)return;const O=N.relatedTarget;O!==null&&(l.contains(O)||wo(g.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const B of N)B.removedNodes.length>0&&wo(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const k=new MutationObserver(R);return l&&k.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),k.disconnect()}}},[r,l,x.paused]),A.useEffect(()=>{if(l){iA.add(x);const b=document.activeElement;if(!l.contains(b)){const R=new CustomEvent($v,rA);l.addEventListener($v,d),l.dispatchEvent(R),R.defaultPrevented||(UW(GW(yN(l)),{select:!0}),document.activeElement===b&&wo(l))}return()=>{l.removeEventListener($v,d),setTimeout(()=>{const R=new CustomEvent(Hv,rA);l.addEventListener(Hv,f),l.dispatchEvent(R),R.defaultPrevented||wo(b??document.body,{select:!0}),l.removeEventListener(Hv,f),iA.remove(x)},0)}}},[l,d,f,x]);const T=A.useCallback(b=>{if(!n&&!r||x.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,R=document.activeElement;if(w&&R){const k=b.currentTarget,[N,O]=$W(k);N&&O?!b.shiftKey&&R===O?(b.preventDefault(),n&&wo(N,{select:!0})):b.shiftKey&&R===N&&(b.preventDefault(),n&&wo(O,{select:!0})):R===k&&b.preventDefault()}},[n,r,x.paused]);return p.jsx(We.div,{tabIndex:-1,...o,ref:v,onKeyDown:T})});pw.displayName=zW;function UW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wo(r,{select:e}),document.activeElement!==n)return}function $W(t){const e=yN(t),n=sA(e,t),r=sA(e.reverse(),t);return[n,r]}function yN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sA(t,e){for(const n of t)if(!HW(n,{upTo:e}))return n}function HW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function WW(t){return t instanceof HTMLInputElement&&"select"in t}function wo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&WW(t)&&e&&t.select()}}var iA=qW();function qW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=oA(t,e),t.unshift(e)},remove(e){var n;t=oA(t,e),(n=t[0])==null||n.resume()}}}function oA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function GW(t){return t.filter(e=>e.tagName!=="A")}var Wv=0;function vN(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aA()),document.body.insertAdjacentElement("beforeend",t[1]??aA()),Wv++,()=>{Wv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wv--}},[])}function aA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qs=function(){return qs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qs.apply(this,arguments)};function xN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function KW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Tp="right-scroll-bar-position",Sp="width-before-scroll-bar",QW="with-scroll-bars-hidden",YW="--removed-body-scroll-bar-size";function qv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XW(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ZW=typeof window<"u"?A.useLayoutEffect:A.useEffect,lA=new WeakMap;function JW(t,e){var n=XW(null,function(r){return t.forEach(function(s){return qv(s,r)})});return ZW(function(){var r=lA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||qv(l,null)}),i.forEach(function(l){s.has(l)||qv(l,o)})}lA.set(n,t)},[t]),n}function eq(t){return t}function tq(t,e){e===void 0&&(e=eq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function nq(t){t===void 0&&(t={});var e=tq(null);return e.options=qs({async:!0,ssr:!1},t),e}var _N=function(t){var e=t.sideCar,n=xN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,qs({},n))};_N.isSideCarExport=!0;function rq(t,e){return t.useMedium(e),_N}var wN=nq(),Gv=function(){},eg=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:Gv,onWheelCapture:Gv,onTouchMoveCapture:Gv}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,g=t.shards,v=t.sideCar,x=t.noRelative,T=t.noIsolation,b=t.inert,w=t.allowPinchZoom,R=t.as,k=R===void 0?"div":R,N=t.gapMode,O=xN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,U=JW([n,e]),M=qs(qs({},O),s);return A.createElement(A.Fragment,null,f&&A.createElement(B,{sideCar:wN,removeScrollBar:d,shards:g,noRelative:x,noIsolation:T,inert:b,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:N}),o?A.cloneElement(A.Children.only(l),qs(qs({},M),{ref:U})):A.createElement(k,qs({},M,{className:u,ref:U}),l))});eg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eg.classNames={fullWidth:Sp,zeroRight:Tp};var sq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sq();return e&&t.setAttribute("nonce",e),t}function oq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iq())&&(oq(e,n),aq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cq=function(){var t=lq();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bN=function(){var t=cq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},uq={left:0,top:0,right:0,gap:0},Kv=function(t){return parseInt(t||"",10)||0},dq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Kv(n),Kv(r),Kv(s)]},hq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uq;var e=dq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fq=bN(),fc="data-scroll-locked",pq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(QW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tp," .").concat(Tp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sp," .").concat(Sp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(YW,": ").concat(l,`px;
  }
`)},cA=function(){var t=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(t)?t:0},mq=function(){A.useEffect(function(){return document.body.setAttribute(fc,(cA()+1).toString()),function(){var t=cA()-1;t<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,t.toString())}},[])},gq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;mq();var i=A.useMemo(function(){return hq(s)},[s]);return A.createElement(fq,{styles:pq(i,!e,s,n?"":"!important")})},px=!1;if(typeof window<"u")try{var Kf=Object.defineProperty({},"passive",{get:function(){return px=!0,!0}});window.addEventListener("test",Kf,Kf),window.removeEventListener("test",Kf,Kf)}catch{px=!1}var Gl=px?{passive:!1}:!1,yq=function(t){return t.tagName==="TEXTAREA"},TN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yq(t)&&n[e]==="visible")},vq=function(t){return TN(t,"overflowY")},xq=function(t){return TN(t,"overflowX")},uA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SN(t,r);if(s){var i=EN(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_q=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},wq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},SN=function(t,e){return t==="v"?vq(e):xq(e)},EN=function(t,e){return t==="v"?_q(e):wq(e)},bq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Tq=function(t,e,n,r,s){var i=bq(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,u=e.contains(l),d=!1,f=o>0,g=0,v=0;do{if(!l)break;var x=EN(t,l),T=x[0],b=x[1],w=x[2],R=b-w-i*T;(T||R)&&SN(t,l)&&(g+=R,v+=T);var k=l.parentNode;l=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(f&&Math.abs(g)<1||!f&&Math.abs(v)<1)&&(d=!0),d},Qf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dA=function(t){return[t.deltaX,t.deltaY]},hA=function(t){return t&&"current"in t?t.current:t},Sq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Eq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Cq=0,Kl=[];function Aq(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),s=A.useState(Cq++)[0],i=A.useState(bN)[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=KW([t.lockRef.current],(t.shards||[]).map(hA),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=A.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var R=Qf(b),k=n.current,N="deltaX"in b?b.deltaX:k[0]-R[0],O="deltaY"in b?b.deltaY:k[1]-R[1],B,U=b.target,M=Math.abs(N)>Math.abs(O)?"h":"v";if("touches"in b&&M==="h"&&U.type==="range")return!1;var E=uA(M,U);if(!E)return!0;if(E?B=M:(B=M==="v"?"h":"v",E=uA(M,U)),!E)return!1;if(!r.current&&"changedTouches"in b&&(N||O)&&(r.current=B),!B)return!0;var P=r.current||B;return Tq(P,w,b,P==="h"?N:O)},[]),u=A.useCallback(function(b){var w=b;if(!(!Kl.length||Kl[Kl.length-1]!==i)){var R="deltaY"in w?dA(w):Qf(w),k=e.current.filter(function(B){return B.name===w.type&&(B.target===w.target||w.target===B.shadowParent)&&Sq(B.delta,R)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var N=(o.current.shards||[]).map(hA).filter(Boolean).filter(function(B){return B.contains(w.target)}),O=N.length>0?l(w,N[0]):!o.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),d=A.useCallback(function(b,w,R,k){var N={name:b,delta:w,target:R,should:k,shadowParent:Pq(R)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(O){return O!==N})},1)},[]),f=A.useCallback(function(b){n.current=Qf(b),r.current=void 0},[]),g=A.useCallback(function(b){d(b.type,dA(b),b.target,l(b,t.lockRef.current))},[]),v=A.useCallback(function(b){d(b.type,Qf(b),b.target,l(b,t.lockRef.current))},[]);A.useEffect(function(){return Kl.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Gl),document.addEventListener("touchmove",u,Gl),document.addEventListener("touchstart",f,Gl),function(){Kl=Kl.filter(function(b){return b!==i}),document.removeEventListener("wheel",u,Gl),document.removeEventListener("touchmove",u,Gl),document.removeEventListener("touchstart",f,Gl)}},[]);var x=t.removeScrollBar,T=t.inert;return A.createElement(A.Fragment,null,T?A.createElement(i,{styles:Eq(s)}):null,x?A.createElement(gq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Pq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Rq=rq(wN,Aq);var mw=A.forwardRef(function(t,e){return A.createElement(eg,qs({},t,{ref:e,sideCar:Rq}))});mw.classNames=eg.classNames;var Iq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ql=new WeakMap,Yf=new WeakMap,Xf={},Qv=0,CN=function(t){return t&&(t.host||CN(t.parentNode))},kq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=CN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Nq=function(t,e,n,r){var s=kq(e,Array.isArray(t)?t:[t]);Xf[n]||(Xf[n]=new WeakMap);var i=Xf[n],o=[],l=new Set,u=new Set(s),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};s.forEach(d);var f=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(v){if(l.has(v))f(v);else try{var x=v.getAttribute(r),T=x!==null&&x!=="false",b=(Ql.get(v)||0)+1,w=(i.get(v)||0)+1;Ql.set(v,b),i.set(v,w),o.push(v),b===1&&T&&Yf.set(v,!0),w===1&&v.setAttribute(n,"true"),T||v.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return f(e),l.clear(),Qv++,function(){o.forEach(function(g){var v=Ql.get(g)-1,x=i.get(g)-1;Ql.set(g,v),i.set(g,x),v||(Yf.has(g)||g.removeAttribute(r),Yf.delete(g)),x||g.removeAttribute(n)}),Qv--,Qv||(Ql=new WeakMap,Ql=new WeakMap,Yf=new WeakMap,Xf={})}},AN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Iq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Nq(r,s,n,"aria-hidden")):function(){return null}},tg="Dialog",[PN,hX]=Xr(tg),[Dq,Is]=PN(tg),RN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=A.useRef(null),u=A.useRef(null),[d,f]=Li({prop:r,defaultProp:s??!1,onChange:i,caller:tg});return p.jsx(Dq,{scope:e,triggerRef:l,contentRef:u,contentId:jo(),titleId:jo(),descriptionId:jo(),open:d,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(g=>!g),[f]),modal:o,children:n})};RN.displayName=tg;var IN="DialogTrigger",kN=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(IN,n),i=dt(e,s.triggerRef);return p.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vw(s.open),...r,ref:i,onClick:Le(t.onClick,s.onOpenToggle)})});kN.displayName=IN;var gw="DialogPortal",[jq,NN]=PN(gw,{forceMount:void 0}),DN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Is(gw,e);return p.jsx(jq,{scope:e,forceMount:n,children:A.Children.map(r,o=>p.jsx(Xo,{present:n||i.open,children:p.jsx(zm,{asChild:!0,container:s,children:o})}))})};DN.displayName=gw;var um="DialogOverlay",jN=A.forwardRef((t,e)=>{const n=NN(um,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Is(um,t.__scopeDialog);return i.modal?p.jsx(Xo,{present:r||i.open,children:p.jsx(Oq,{...s,ref:e})}):null});jN.displayName=um;var Mq=Tc("DialogOverlay.RemoveScroll"),Oq=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(um,n);return p.jsx(mw,{as:Mq,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(We.div,{"data-state":vw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qa="DialogContent",MN=A.forwardRef((t,e)=>{const n=NN(qa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Is(qa,t.__scopeDialog);return p.jsx(Xo,{present:r||i.open,children:i.modal?p.jsx(Vq,{...s,ref:e}):p.jsx(Lq,{...s,ref:e})})});MN.displayName=qa;var Vq=A.forwardRef((t,e)=>{const n=Is(qa,t.__scopeDialog),r=A.useRef(null),s=dt(e,n.contentRef,r);return A.useEffect(()=>{const i=r.current;if(i)return AN(i)},[]),p.jsx(ON,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,i=>i.preventDefault())})}),Lq=A.forwardRef((t,e)=>{const n=Is(qa,t.__scopeDialog),r=A.useRef(!1),s=A.useRef(!1);return p.jsx(ON,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ON=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Is(qa,n),u=A.useRef(null),d=dt(e,u);return vN(),p.jsxs(p.Fragment,{children:[p.jsx(pw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(Jd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Fq,{titleId:l.titleId}),p.jsx(zq,{contentRef:u,descriptionId:l.descriptionId})]})]})}),yw="DialogTitle",VN=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(yw,n);return p.jsx(We.h2,{id:s.titleId,...r,ref:e})});VN.displayName=yw;var LN="DialogDescription",FN=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(LN,n);return p.jsx(We.p,{id:s.descriptionId,...r,ref:e})});FN.displayName=LN;var BN="DialogClose",zN=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(BN,n);return p.jsx(We.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>s.onOpenChange(!1))})});zN.displayName=BN;function vw(t){return t?"open":"closed"}var UN="DialogTitleWarning",[fX,$N]=G3(UN,{contentName:qa,titleName:yw,docsSlug:"dialog"}),Fq=({titleId:t})=>{const e=$N(UN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Bq="DialogDescriptionWarning",zq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$N(Bq).contentName}}.`;return A.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Uq=RN,$q=kN,Hq=DN,HN=jN,WN=MN,qN=VN,GN=FN,Wq=zN;const si=Uq,Kc=$q,qq=Hq,KN=Ue.forwardRef(({className:t,...e},n)=>p.jsx(HN,{ref:n,className:Xe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KN.displayName=HN.displayName;const bs=Ue.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(qq,{children:[p.jsx(KN,{}),p.jsxs(WN,{ref:r,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(Wq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(GI,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bs.displayName=WN.displayName;const Ts=({className:t,...e})=>p.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ts.displayName="DialogHeader";const Ui=({className:t,...e})=>p.jsx("div",{className:Xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ui.displayName="DialogFooter";const Ss=Ue.forwardRef(({className:t,...e},n)=>p.jsx(qN,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",t),...e}));Ss.displayName=qN.displayName;const Bd=Ue.forwardRef(({className:t,...e},n)=>p.jsx(GN,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Bd.displayName=GN.displayName;function fA(t,[e,n]){return Math.min(n,Math.max(e,t))}var Gq=A.createContext(void 0);function xw(t){const e=A.useContext(Gq);return t||e||"ltr"}const Kq=["top","right","bottom","left"],qo=Math.min,_r=Math.max,dm=Math.round,Zf=Math.floor,ei=t=>({x:t,y:t}),Qq={left:"right",right:"left",bottom:"top",top:"bottom"},Yq={start:"end",end:"start"};function mx(t,e,n){return _r(t,qo(e,n))}function $i(t,e){return typeof t=="function"?t(e):t}function Hi(t){return t.split("-")[0]}function Qc(t){return t.split("-")[1]}function _w(t){return t==="x"?"y":"x"}function ww(t){return t==="y"?"height":"width"}const Xq=new Set(["top","bottom"]);function Gs(t){return Xq.has(Hi(t))?"y":"x"}function bw(t){return _w(Gs(t))}function Zq(t,e,n){n===void 0&&(n=!1);const r=Qc(t),s=bw(t),i=ww(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=hm(o)),[o,hm(o)]}function Jq(t){const e=hm(t);return[gx(t),e,gx(e)]}function gx(t){return t.replace(/start|end/g,e=>Yq[e])}const pA=["left","right"],mA=["right","left"],eG=["top","bottom"],tG=["bottom","top"];function nG(t,e,n){switch(t){case"top":case"bottom":return n?e?mA:pA:e?pA:mA;case"left":case"right":return e?eG:tG;default:return[]}}function rG(t,e,n,r){const s=Qc(t);let i=nG(Hi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(gx)))),i}function hm(t){return t.replace(/left|right|bottom|top/g,e=>Qq[e])}function sG(t){return{top:0,right:0,bottom:0,left:0,...t}}function QN(t){return typeof t!="number"?sG(t):{top:t,right:t,bottom:t,left:t}}function fm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function gA(t,e,n){let{reference:r,floating:s}=t;const i=Gs(e),o=bw(e),l=ww(o),u=Hi(e),d=i==="y",f=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[l]/2-s[l]/2;let x;switch(u){case"top":x={x:f,y:r.y-s.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-s.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Qc(e)){case"start":x[o]-=v*(n&&d?-1:1);break;case"end":x[o]+=v*(n&&d?-1:1);break}return x}const iG=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:g}=gA(d,r,u),v=r,x={},T=0;for(let b=0;b<l.length;b++){const{name:w,fn:R}=l[b],{x:k,y:N,data:O,reset:B}=await R({x:f,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=k??f,g=N??g,x={...x,[w]:{...x[w],...O}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:f,y:g}=gA(d,v,u)),b=-1)}return{x:f,y:g,placement:v,strategy:s,middlewareData:x}};async function zd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:v=!1,padding:x=0}=$i(e,t),T=QN(x),w=l[v?g==="floating"?"reference":"floating":g],R=fm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),k=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},B=fm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:N,strategy:u}):k);return{top:(R.top-B.top+T.top)/O.y,bottom:(B.bottom-R.bottom+T.bottom)/O.y,left:(R.left-B.left+T.left)/O.x,right:(B.right-R.right+T.right)/O.x}}const oG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=$i(t,e)||{};if(d==null)return{};const g=QN(f),v={x:n,y:r},x=bw(s),T=ww(x),b=await o.getDimensions(d),w=x==="y",R=w?"top":"left",k=w?"bottom":"right",N=w?"clientHeight":"clientWidth",O=i.reference[T]+i.reference[x]-v[x]-i.floating[T],B=v[x]-i.reference[x],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=U?U[N]:0;(!M||!await(o.isElement==null?void 0:o.isElement(U)))&&(M=l.floating[N]||i.floating[T]);const E=O/2-B/2,P=M/2-b[T]/2-1,j=qo(g[R],P),F=qo(g[k],P),D=j,V=M-b[T]-F,J=M/2-b[T]/2+E,K=mx(D,J,V),W=!u.arrow&&Qc(s)!=null&&J!==K&&i.reference[T]/2-(J<D?j:F)-b[T]/2<0,Y=W?J<D?J-D:J-V:0;return{[x]:v[x]+Y,data:{[x]:K,centerOffset:J-K-Y,...W&&{alignmentOffset:Y}},reset:W}}}),aG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:b=!0,...w}=$i(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const R=Hi(s),k=Gs(l),N=Hi(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),B=v||(N||!b?[hm(l)]:Jq(l)),U=T!=="none";!v&&U&&B.push(...rG(l,b,T,O));const M=[l,...B],E=await zd(e,w),P=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&P.push(E[R]),g){const J=Zq(s,o,O);P.push(E[J[0]],E[J[1]])}if(j=[...j,{placement:s,overflows:P}],!P.every(J=>J<=0)){var F,D;const J=(((F=i.flip)==null?void 0:F.index)||0)+1,K=M[J];if(K&&(!(g==="alignment"?k!==Gs(K):!1)||j.every(G=>Gs(G.placement)===k?G.overflows[0]>0:!0)))return{data:{index:J,overflows:j},reset:{placement:K}};let W=(D=j.filter(Y=>Y.overflows[0]<=0).sort((Y,G)=>Y.overflows[1]-G.overflows[1])[0])==null?void 0:D.placement;if(!W)switch(x){case"bestFit":{var V;const Y=(V=j.filter(G=>{if(U){const te=Gs(G.placement);return te===k||te==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(te=>te>0).reduce((te,ae)=>te+ae,0)]).sort((G,te)=>G[1]-te[1])[0])==null?void 0:V[0];Y&&(W=Y);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function yA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vA(t){return Kq.some(e=>t[e]>=0)}const lG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=$i(t,e);switch(r){case"referenceHidden":{const i=await zd(e,{...s,elementContext:"reference"}),o=yA(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vA(o)}}}case"escaped":{const i=await zd(e,{...s,altBoundary:!0}),o=yA(i,n.floating);return{data:{escapedOffsets:o,escaped:vA(o)}}}default:return{}}}}},YN=new Set(["left","top"]);async function cG(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Hi(n),l=Qc(n),u=Gs(n)==="y",d=YN.has(o)?-1:1,f=i&&u?-1:1,g=$i(e,t);let{mainAxis:v,crossAxis:x,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof T=="number"&&(x=l==="end"?T*-1:T),u?{x:x*f,y:v*d}:{x:v*d,y:x*f}}const uG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await cG(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},dG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:R,y:k}=w;return{x:R,y:k}}},...u}=$i(t,e),d={x:n,y:r},f=await zd(e,u),g=Gs(Hi(s)),v=_w(g);let x=d[v],T=d[g];if(i){const w=v==="y"?"top":"left",R=v==="y"?"bottom":"right",k=x+f[w],N=x-f[R];x=mx(k,x,N)}if(o){const w=g==="y"?"top":"left",R=g==="y"?"bottom":"right",k=T+f[w],N=T-f[R];T=mx(k,T,N)}const b=l.fn({...e,[v]:x,[g]:T});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:i,[g]:o}}}}}},hG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=$i(t,e),f={x:n,y:r},g=Gs(s),v=_w(g);let x=f[v],T=f[g];const b=$i(l,e),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const N=v==="y"?"height":"width",O=i.reference[v]-i.floating[N]+w.mainAxis,B=i.reference[v]+i.reference[N]-w.mainAxis;x<O?x=O:x>B&&(x=B)}if(d){var R,k;const N=v==="y"?"width":"height",O=YN.has(Hi(s)),B=i.reference[g]-i.floating[N]+(O&&((R=o.offset)==null?void 0:R[g])||0)+(O?0:w.crossAxis),U=i.reference[g]+i.reference[N]+(O?0:((k=o.offset)==null?void 0:k[g])||0)-(O?w.crossAxis:0);T<B?T=B:T>U&&(T=U)}return{[v]:x,[g]:T}}}},fG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=$i(t,e),f=await zd(e,d),g=Hi(s),v=Qc(s),x=Gs(s)==="y",{width:T,height:b}=i.floating;let w,R;g==="top"||g==="bottom"?(w=g,R=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(R=g,w=v==="end"?"top":"bottom");const k=b-f.top-f.bottom,N=T-f.left-f.right,O=qo(b-f[w],k),B=qo(T-f[R],N),U=!e.middlewareData.shift;let M=O,E=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=k),U&&!v){const j=_r(f.left,0),F=_r(f.right,0),D=_r(f.top,0),V=_r(f.bottom,0);x?E=T-2*(j!==0||F!==0?j+F:_r(f.left,f.right)):M=b-2*(D!==0||V!==0?D+V:_r(f.top,f.bottom))}await u({...e,availableWidth:E,availableHeight:M});const P=await o.getDimensions(l.floating);return T!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function ng(){return typeof window<"u"}function Yc(t){return XN(t)?(t.nodeName||"").toLowerCase():"#document"}function Sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ci(t){var e;return(e=(XN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XN(t){return ng()?t instanceof Node||t instanceof Sr(t).Node:!1}function Es(t){return ng()?t instanceof Element||t instanceof Sr(t).Element:!1}function ii(t){return ng()?t instanceof HTMLElement||t instanceof Sr(t).HTMLElement:!1}function xA(t){return!ng()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sr(t).ShadowRoot}const pG=new Set(["inline","contents"]);function oh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pG.has(s)}const mG=new Set(["table","td","th"]);function gG(t){return mG.has(Yc(t))}const yG=[":popover-open",":modal"];function rg(t){return yG.some(e=>{try{return t.matches(e)}catch{return!1}})}const vG=["transform","translate","scale","rotate","perspective"],xG=["transform","translate","scale","rotate","perspective","filter"],_G=["paint","layout","strict","content"];function Tw(t){const e=Sw(),n=Es(t)?Cs(t):t;return vG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xG.some(r=>(n.willChange||"").includes(r))||_G.some(r=>(n.contain||"").includes(r))}function wG(t){let e=Go(t);for(;ii(e)&&!Rc(e);){if(Tw(e))return e;if(rg(e))return null;e=Go(e)}return null}function Sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bG=new Set(["html","body","#document"]);function Rc(t){return bG.has(Yc(t))}function Cs(t){return Sr(t).getComputedStyle(t)}function sg(t){return Es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Go(t){if(Yc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xA(t)&&t.host||ci(t);return xA(e)?e.host:e}function ZN(t){const e=Go(t);return Rc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ii(e)&&oh(e)?e:ZN(e)}function Ud(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ZN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sr(s);if(i){const l=yx(o);return e.concat(o,o.visualViewport||[],oh(s)?s:[],l&&n?Ud(l):[])}return e.concat(s,Ud(s,[],n))}function yx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JN(t){const e=Cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ii(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=dm(n)!==i||dm(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Ew(t){return Es(t)?t:t.contextElement}function pc(t){const e=Ew(t);if(!ii(e))return ei(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=JN(e);let o=(i?dm(n.width):n.width)/r,l=(i?dm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TG=ei(0);function eD(t){const e=Sr(t);return!Sw()||!e.visualViewport?TG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sr(t)?!1:e}function Ga(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ew(t);let o=ei(1);e&&(r?Es(r)&&(o=pc(r)):o=pc(t));const l=SG(i,n,r)?eD(i):ei(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,g=s.height/o.y;if(i){const v=Sr(i),x=r&&Es(r)?Sr(r):r;let T=v,b=yx(T);for(;b&&r&&x!==T;){const w=pc(b),R=b.getBoundingClientRect(),k=Cs(b),N=R.left+(b.clientLeft+parseFloat(k.paddingLeft))*w.x,O=R.top+(b.clientTop+parseFloat(k.paddingTop))*w.y;u*=w.x,d*=w.y,f*=w.x,g*=w.y,u+=N,d+=O,T=Sr(b),b=yx(T)}}return fm({width:f,height:g,x:u,y:d})}function Cw(t,e){const n=sg(t).scrollLeft;return e?e.left+n:Ga(ci(t)).left+n}function tD(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Cw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function EG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ci(r),l=e?rg(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=ei(1);const f=ei(0),g=ii(r);if((g||!g&&!i)&&((Yc(r)!=="body"||oh(o))&&(u=sg(r)),ii(r))){const x=Ga(r);d=pc(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const v=o&&!g&&!i?tD(o,u,!0):ei(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+v.x,y:n.y*d.y-u.scrollTop*d.y+f.y+v.y}}function CG(t){return Array.from(t.getClientRects())}function AG(t){const e=ci(t),n=sg(t),r=t.ownerDocument.body,s=_r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Cw(t);const l=-n.scrollTop;return Cs(r).direction==="rtl"&&(o+=_r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function PG(t,e){const n=Sr(t),r=ci(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=Sw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const RG=new Set(["absolute","fixed"]);function IG(t,e){const n=Ga(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ii(t)?pc(t):ei(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function _A(t,e,n){let r;if(e==="viewport")r=PG(t,n);else if(e==="document")r=AG(ci(t));else if(Es(e))r=IG(e,n);else{const s=eD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return fm(r)}function nD(t,e){const n=Go(t);return n===e||!Es(n)||Rc(n)?!1:Cs(n).position==="fixed"||nD(n,e)}function kG(t,e){const n=e.get(t);if(n)return n;let r=Ud(t,[],!1).filter(l=>Es(l)&&Yc(l)!=="body"),s=null;const i=Cs(t).position==="fixed";let o=i?Go(t):t;for(;Es(o)&&!Rc(o);){const l=Cs(o),u=Tw(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&RG.has(s.position)||oh(o)&&!u&&nD(t,o))?r=r.filter(f=>f!==o):s=l,o=Go(o)}return e.set(t,r),r}function NG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rg(e)?[]:kG(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,f)=>{const g=_A(e,f,s);return d.top=_r(g.top,d.top),d.right=qo(g.right,d.right),d.bottom=qo(g.bottom,d.bottom),d.left=_r(g.left,d.left),d},_A(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function DG(t){const{width:e,height:n}=JN(t);return{width:e,height:n}}function jG(t,e,n){const r=ii(e),s=ci(e),i=n==="fixed",o=Ga(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=ei(0);function d(){u.x=Cw(s)}if(r||!r&&!i)if((Yc(e)!=="body"||oh(s))&&(l=sg(e)),r){const x=Ga(e,!0,i,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else s&&d();i&&!r&&s&&d();const f=s&&!r&&!i?tD(s,l):ei(0),g=o.left+l.scrollLeft-u.x-f.x,v=o.top+l.scrollTop-u.y-f.y;return{x:g,y:v,width:o.width,height:o.height}}function Yv(t){return Cs(t).position==="static"}function wA(t,e){if(!ii(t)||Cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ci(t)===n&&(n=n.ownerDocument.body),n}function rD(t,e){const n=Sr(t);if(rg(t))return n;if(!ii(t)){let s=Go(t);for(;s&&!Rc(s);){if(Es(s)&&!Yv(s))return s;s=Go(s)}return n}let r=wA(t,e);for(;r&&gG(r)&&Yv(r);)r=wA(r,e);return r&&Rc(r)&&Yv(r)&&!Tw(r)?n:r||wG(t)||n}const MG=async function(t){const e=this.getOffsetParent||rD,n=this.getDimensions,r=await n(t.floating);return{reference:jG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OG(t){return Cs(t).direction==="rtl"}const VG={convertOffsetParentRelativeRectToViewportRelativeRect:EG,getDocumentElement:ci,getClippingRect:NG,getOffsetParent:rD,getElementRects:MG,getClientRects:CG,getDimensions:DG,getScale:pc,isElement:Es,isRTL:OG};function sD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LG(t,e){let n=null,r;const s=ci(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:f,top:g,width:v,height:x}=d;if(l||e(),!v||!x)return;const T=Zf(g),b=Zf(s.clientWidth-(f+v)),w=Zf(s.clientHeight-(g+x)),R=Zf(f),N={rootMargin:-T+"px "+-b+"px "+-w+"px "+-R+"px",threshold:_r(0,qo(1,u))||1};let O=!0;function B(U){const M=U[0].intersectionRatio;if(M!==u){if(!O)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!sD(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(B,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,N)}n.observe(t)}return o(!0),i}function FG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Ew(t),f=s||i?[...d?Ud(d):[],...Ud(e)]:[];f.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),i&&R.addEventListener("resize",n)});const g=d&&l?LG(d,n):null;let v=-1,x=null;o&&(x=new ResizeObserver(R=>{let[k]=R;k&&k.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=x)==null||N.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let T,b=u?Ga(t):null;u&&w();function w(){const R=Ga(t);b&&!sD(b,R)&&n(),b=R,T=requestAnimationFrame(w)}return n(),()=>{var R;f.forEach(k=>{s&&k.removeEventListener("scroll",n),i&&k.removeEventListener("resize",n)}),g==null||g(),(R=x)==null||R.disconnect(),x=null,u&&cancelAnimationFrame(T)}}const BG=uG,zG=dG,UG=aG,$G=fG,HG=lG,bA=oG,WG=hG,qG=(t,e,n)=>{const r=new Map,s={platform:VG,...n},i={...s.platform,_c:r};return iG(t,e,{...s,platform:i})};var GG=typeof document<"u",KG=function(){},Ep=GG?A.useLayoutEffect:KG;function pm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!pm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function iD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TA(t,e){const n=iD(t);return Math.round(e*n)/n}function Xv(t){const e=A.useRef(t);return Ep(()=>{e.current=t}),e}function QG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,g]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,x]=A.useState(r);pm(v,r)||x(r);const[T,b]=A.useState(null),[w,R]=A.useState(null),k=A.useCallback(G=>{G!==U.current&&(U.current=G,b(G))},[]),N=A.useCallback(G=>{G!==M.current&&(M.current=G,R(G))},[]),O=i||T,B=o||w,U=A.useRef(null),M=A.useRef(null),E=A.useRef(f),P=u!=null,j=Xv(u),F=Xv(s),D=Xv(d),V=A.useCallback(()=>{if(!U.current||!M.current)return;const G={placement:e,strategy:n,middleware:v};F.current&&(G.platform=F.current),qG(U.current,M.current,G).then(te=>{const ae={...te,isPositioned:D.current!==!1};J.current&&!pm(E.current,ae)&&(E.current=ae,Vc.flushSync(()=>{g(ae)}))})},[v,e,n,F,D]);Ep(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[d]);const J=A.useRef(!1);Ep(()=>(J.current=!0,()=>{J.current=!1}),[]),Ep(()=>{if(O&&(U.current=O),B&&(M.current=B),O&&B){if(j.current)return j.current(O,B,V);V()}},[O,B,V,j,P]);const K=A.useMemo(()=>({reference:U,floating:M,setReference:k,setFloating:N}),[k,N]),W=A.useMemo(()=>({reference:O,floating:B}),[O,B]),Y=A.useMemo(()=>{const G={position:n,left:0,top:0};if(!W.floating)return G;const te=TA(W.floating,f.x),ae=TA(W.floating,f.y);return l?{...G,transform:"translate("+te+"px, "+ae+"px)",...iD(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ae}},[n,l,W.floating,f.x,f.y]);return A.useMemo(()=>({...f,update:V,refs:K,elements:W,floatingStyles:Y}),[f,V,K,W,Y])}const YG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?bA({element:r.current,padding:s}).fn(n):{}:r?bA({element:r,padding:s}).fn(n):{}}}},XG=(t,e)=>({...BG(t),options:[t,e]}),ZG=(t,e)=>({...zG(t),options:[t,e]}),JG=(t,e)=>({...WG(t),options:[t,e]}),eK=(t,e)=>({...UG(t),options:[t,e]}),tK=(t,e)=>({...$G(t),options:[t,e]}),nK=(t,e)=>({...HG(t),options:[t,e]}),rK=(t,e)=>({...YG(t),options:[t,e]});var sK="Arrow",oD=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(We.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});oD.displayName=sK;var iK=oD;function ig(t){const[e,n]=A.useState(void 0);return kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Aw="Popper",[aD,og]=Xr(Aw),[oK,lD]=aD(Aw),cD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=A.useState(null);return p.jsx(oK,{scope:e,anchor:r,onAnchorChange:s,children:n})};cD.displayName=Aw;var uD="PopperAnchor",dD=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=lD(uD,n),o=A.useRef(null),l=dt(e,o),u=A.useRef(null);return A.useEffect(()=>{const d=u.current;u.current=(r==null?void 0:r.current)||o.current,d!==u.current&&i.onAnchorChange(u.current)}),r?null:p.jsx(We.div,{...s,ref:l})});dD.displayName=uD;var Pw="PopperContent",[aK,lK]=aD(Pw),hD=A.forwardRef((t,e)=>{var pe,fe,we,Se,_e,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:T,...b}=t,w=lD(Pw,n),[R,k]=A.useState(null),N=dt(e,ye=>k(ye)),[O,B]=A.useState(null),U=ig(O),M=(U==null?void 0:U.width)??0,E=(U==null?void 0:U.height)??0,P=r+(i!=="center"?"-"+i:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(d)?d:[d],D=F.length>0,V={padding:j,boundary:F.filter(uK),altBoundary:D},{refs:J,floatingStyles:K,placement:W,isPositioned:Y,middlewareData:G}=QG({strategy:"fixed",placement:P,whileElementsMounted:(...ye)=>FG(...ye,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[XG({mainAxis:s+E,alignmentAxis:o}),u&&ZG({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?JG():void 0,...V}),u&&eK({...V}),tK({...V,apply:({elements:ye,rects:Pe,availableWidth:Me,availableHeight:Oe})=>{const{width:vt,height:et}=Pe.reference,tt=ye.floating.style;tt.setProperty("--radix-popper-available-width",`${Me}px`),tt.setProperty("--radix-popper-available-height",`${Oe}px`),tt.setProperty("--radix-popper-anchor-width",`${vt}px`),tt.setProperty("--radix-popper-anchor-height",`${et}px`)}}),O&&rK({element:O,padding:l}),dK({arrowWidth:M,arrowHeight:E}),v&&nK({strategy:"referenceHidden",...V})]}),[te,ae]=mD(W),H=qr(T);kn(()=>{Y&&(H==null||H())},[Y,H]);const Z=(pe=G.arrow)==null?void 0:pe.x,oe=(fe=G.arrow)==null?void 0:fe.y,xe=((we=G.arrow)==null?void 0:we.centerOffset)!==0,[be,Te]=A.useState();return kn(()=>{R&&Te(window.getComputedStyle(R).zIndex)},[R]),p.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:Y?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Se=G.transformOrigin)==null?void 0:Se.x,(_e=G.transformOrigin)==null?void 0:_e.y].join(" "),...((se=G.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(aK,{scope:n,placedSide:te,onArrowChange:B,arrowX:Z,arrowY:oe,shouldHideArrow:xe,children:p.jsx(We.div,{"data-side":te,"data-align":ae,...b,ref:N,style:{...b.style,animation:Y?void 0:"none"}})})})});hD.displayName=Pw;var fD="PopperArrow",cK={top:"bottom",right:"left",bottom:"top",left:"right"},pD=A.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=lK(fD,r),o=cK[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(iK,{...s,ref:n,style:{...s.style,display:"block"}})})});pD.displayName=fD;function uK(t){return t!==null}var dK=t=>({name:"transformOrigin",options:t,fn(e){var w,R,k;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,f]=mD(n),g={start:"0%",center:"50%",end:"100%"}[f],v=(((R=s.arrow)==null?void 0:R.x)??0)+l/2,x=(((k=s.arrow)==null?void 0:k.y)??0)+u/2;let T="",b="";return d==="bottom"?(T=o?g:`${v}px`,b=`${-u}px`):d==="top"?(T=o?g:`${v}px`,b=`${r.floating.height+u}px`):d==="right"?(T=`${-u}px`,b=o?g:`${x}px`):d==="left"&&(T=`${r.floating.width+u}px`,b=o?g:`${x}px`),{data:{x:T,y:b}}}});function mD(t){const[e,n="center"]=t.split("-");return[e,n]}var gD=cD,yD=dD,vD=hD,xD=pD;function ag(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hK=[" ","Enter","ArrowUp","ArrowDown"],fK=[" ","Enter"],Ka="Select",[lg,cg,pK]=p_(Ka),[Xc,pX]=Xr(Ka,[pK,og]),ug=og(),[mK,Jo]=Xc(Ka),[gK,yK]=Xc(Ka),_D=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:g,disabled:v,required:x,form:T}=t,b=ug(e),[w,R]=A.useState(null),[k,N]=A.useState(null),[O,B]=A.useState(!1),U=xw(d),[M,E]=Li({prop:r,defaultProp:s??!1,onChange:i,caller:Ka}),[P,j]=Li({prop:o,defaultProp:l,onChange:u,caller:Ka}),F=A.useRef(null),D=w?T||!!w.closest("form"):!0,[V,J]=A.useState(new Set),K=Array.from(V).map(W=>W.props.value).join(";");return p.jsx(gD,{...b,children:p.jsxs(mK,{required:x,scope:e,trigger:w,onTriggerChange:R,valueNode:k,onValueNodeChange:N,valueNodeHasChildren:O,onValueNodeHasChildrenChange:B,contentId:jo(),value:P,onValueChange:j,open:M,onOpenChange:E,dir:U,triggerPointerDownPosRef:F,disabled:v,children:[p.jsx(lg.Provider,{scope:e,children:p.jsx(gK,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(W=>{J(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:A.useCallback(W=>{J(Y=>{const G=new Set(Y);return G.delete(W),G})},[]),children:n})}),D?p.jsxs(HD,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:g,value:P,onChange:W=>j(W.target.value),disabled:v,form:T,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(V)]},K):null]})})};_D.displayName=Ka;var wD="SelectTrigger",bD=A.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ug(n),o=Jo(wD,n),l=o.disabled||r,u=dt(e,o.onTriggerChange),d=cg(n),f=A.useRef("touch"),[g,v,x]=qD(b=>{const w=d().filter(N=>!N.disabled),R=w.find(N=>N.value===o.value),k=GD(w,b,R);k!==void 0&&o.onValueChange(k.value)}),T=b=>{l||(o.onOpenChange(!0),x()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return p.jsx(yD,{asChild:!0,...i,children:p.jsx(We.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":WD(o.value)?"":void 0,...s,ref:u,onClick:Le(s.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&T(b)}),onPointerDown:Le(s.onPointerDown,b=>{f.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(T(b),b.preventDefault())}),onKeyDown:Le(s.onKeyDown,b=>{const w=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(w&&b.key===" ")&&hK.includes(b.key)&&(T(),b.preventDefault())})})})});bD.displayName=wD;var TD="SelectValue",SD=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,u=Jo(TD,n),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,g=dt(e,u.onValueNodeChange);return kn(()=>{d(f)},[d,f]),p.jsx(We.span,{...l,ref:g,style:{pointerEvents:"none"},children:WD(u.value)?p.jsx(p.Fragment,{children:o}):i})});SD.displayName=TD;var vK="SelectIcon",ED=A.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(We.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ED.displayName=vK;var xK="SelectPortal",CD=t=>p.jsx(zm,{asChild:!0,...t});CD.displayName=xK;var Qa="SelectContent",AD=A.forwardRef((t,e)=>{const n=Jo(Qa,t.__scopeSelect),[r,s]=A.useState();if(kn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Vc.createPortal(p.jsx(PD,{scope:t.__scopeSelect,children:p.jsx(lg.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx(RD,{...t,ref:e})});AD.displayName=Qa;var gs=10,[PD,ea]=Xc(Qa),_K="SelectContentImpl",wK=Tc("SelectContent.RemoveScroll"),RD=A.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:g,collisionBoundary:v,collisionPadding:x,sticky:T,hideWhenDetached:b,avoidCollisions:w,...R}=t,k=Jo(Qa,n),[N,O]=A.useState(null),[B,U]=A.useState(null),M=dt(e,pe=>O(pe)),[E,P]=A.useState(null),[j,F]=A.useState(null),D=cg(n),[V,J]=A.useState(!1),K=A.useRef(!1);A.useEffect(()=>{if(N)return AN(N)},[N]),vN();const W=A.useCallback(pe=>{const[fe,...we]=D().map(se=>se.ref.current),[Se]=we.slice(-1),_e=document.activeElement;for(const se of pe)if(se===_e||(se==null||se.scrollIntoView({block:"nearest"}),se===fe&&B&&(B.scrollTop=0),se===Se&&B&&(B.scrollTop=B.scrollHeight),se==null||se.focus(),document.activeElement!==_e))return},[D,B]),Y=A.useCallback(()=>W([E,N]),[W,E,N]);A.useEffect(()=>{V&&Y()},[V,Y]);const{onOpenChange:G,triggerPointerDownPosRef:te}=k;A.useEffect(()=>{if(N){let pe={x:0,y:0};const fe=Se=>{var _e,se;pe={x:Math.abs(Math.round(Se.pageX)-(((_e=te.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((se=te.current)==null?void 0:se.y)??0))}},we=Se=>{pe.x<=10&&pe.y<=10?Se.preventDefault():N.contains(Se.target)||G(!1),document.removeEventListener("pointermove",fe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",we,{capture:!0})}}},[N,G,te]),A.useEffect(()=>{const pe=()=>G(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[G]);const[ae,H]=qD(pe=>{const fe=D().filter(_e=>!_e.disabled),we=fe.find(_e=>_e.ref.current===document.activeElement),Se=GD(fe,pe,we);Se&&setTimeout(()=>Se.ref.current.focus())}),Z=A.useCallback((pe,fe,we)=>{const Se=!K.current&&!we;(k.value!==void 0&&k.value===fe||Se)&&(P(pe),Se&&(K.current=!0))},[k.value]),oe=A.useCallback(()=>N==null?void 0:N.focus(),[N]),xe=A.useCallback((pe,fe,we)=>{const Se=!K.current&&!we;(k.value!==void 0&&k.value===fe||Se)&&F(pe)},[k.value]),be=r==="popper"?vx:ID,Te=be===vx?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:g,collisionBoundary:v,collisionPadding:x,sticky:T,hideWhenDetached:b,avoidCollisions:w}:{};return p.jsx(PD,{scope:n,content:N,viewport:B,onViewportChange:U,itemRefCallback:Z,selectedItem:E,onItemLeave:oe,itemTextRefCallback:xe,focusSelectedItem:Y,selectedItemText:j,position:r,isPositioned:V,searchRef:ae,children:p.jsx(mw,{as:wK,allowPinchZoom:!0,children:p.jsx(pw,{asChild:!0,trapped:k.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Le(s,pe=>{var fe;(fe=k.trigger)==null||fe.focus({preventScroll:!0}),pe.preventDefault()}),children:p.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:p.jsx(be,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:pe=>pe.preventDefault(),...R,...Te,onPlaced:()=>J(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Le(R.onKeyDown,pe=>{const fe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!fe&&pe.key.length===1&&H(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Se=D().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const _e=pe.target,se=Se.indexOf(_e);Se=Se.slice(se+1)}setTimeout(()=>W(Se)),pe.preventDefault()}})})})})})})});RD.displayName=_K;var bK="SelectItemAlignedPosition",ID=A.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Jo(Qa,n),o=ea(Qa,n),[l,u]=A.useState(null),[d,f]=A.useState(null),g=dt(e,M=>f(M)),v=cg(n),x=A.useRef(!1),T=A.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:R,focusSelectedItem:k}=o,N=A.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&b&&w&&R){const M=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),j=R.getBoundingClientRect();if(i.dir!=="rtl"){const _e=j.left-E.left,se=P.left-_e,ye=M.left-se,Pe=M.width+ye,Me=Math.max(Pe,E.width),Oe=window.innerWidth-gs,vt=fA(se,[gs,Math.max(gs,Oe-Me)]);l.style.minWidth=Pe+"px",l.style.left=vt+"px"}else{const _e=E.right-j.right,se=window.innerWidth-P.right-_e,ye=window.innerWidth-M.right-se,Pe=M.width+ye,Me=Math.max(Pe,E.width),Oe=window.innerWidth-gs,vt=fA(se,[gs,Math.max(gs,Oe-Me)]);l.style.minWidth=Pe+"px",l.style.right=vt+"px"}const F=v(),D=window.innerHeight-gs*2,V=b.scrollHeight,J=window.getComputedStyle(d),K=parseInt(J.borderTopWidth,10),W=parseInt(J.paddingTop,10),Y=parseInt(J.borderBottomWidth,10),G=parseInt(J.paddingBottom,10),te=K+W+V+G+Y,ae=Math.min(w.offsetHeight*5,te),H=window.getComputedStyle(b),Z=parseInt(H.paddingTop,10),oe=parseInt(H.paddingBottom,10),xe=M.top+M.height/2-gs,be=D-xe,Te=w.offsetHeight/2,pe=w.offsetTop+Te,fe=K+W+pe,we=te-fe;if(fe<=xe){const _e=F.length>0&&w===F[F.length-1].ref.current;l.style.bottom="0px";const se=d.clientHeight-b.offsetTop-b.offsetHeight,ye=Math.max(be,Te+(_e?oe:0)+se+Y),Pe=fe+ye;l.style.height=Pe+"px"}else{const _e=F.length>0&&w===F[0].ref.current;l.style.top="0px";const ye=Math.max(xe,K+b.offsetTop+(_e?Z:0)+Te)+we;l.style.height=ye+"px",b.scrollTop=fe-xe+b.offsetTop}l.style.margin=`${gs}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[v,i.trigger,i.valueNode,l,d,b,w,R,i.dir,r]);kn(()=>N(),[N]);const[O,B]=A.useState();kn(()=>{d&&B(window.getComputedStyle(d).zIndex)},[d]);const U=A.useCallback(M=>{M&&T.current===!0&&(N(),k==null||k(),T.current=!1)},[N,k]);return p.jsx(SK,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:U,children:p.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:p.jsx(We.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ID.displayName=bK;var TK="SelectPopperPosition",vx=A.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=gs,...i}=t,o=ug(n);return p.jsx(vD,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vx.displayName=TK;var[SK,Rw]=Xc(Qa,{}),xx="SelectViewport",kD=A.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ea(xx,n),o=Rw(xx,n),l=dt(e,i.onViewportChange),u=A.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(lg.Slot,{scope:n,children:p.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=o;if(v!=null&&v.current&&g){const x=Math.abs(u.current-f.scrollTop);if(x>0){const T=window.innerHeight-gs*2,b=parseFloat(g.style.minHeight),w=parseFloat(g.style.height),R=Math.max(b,w);if(R<T){const k=R+x,N=Math.min(T,k),O=k-N;g.style.height=N+"px",g.style.bottom==="0px"&&(f.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});kD.displayName=xx;var ND="SelectGroup",[EK,CK]=Xc(ND),AK=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jo();return p.jsx(EK,{scope:n,id:s,children:p.jsx(We.div,{role:"group","aria-labelledby":s,...r,ref:e})})});AK.displayName=ND;var DD="SelectLabel",jD=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=CK(DD,n);return p.jsx(We.div,{id:s.id,...r,ref:e})});jD.displayName=DD;var mm="SelectItem",[PK,MD]=Xc(mm),OD=A.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Jo(mm,n),u=ea(mm,n),d=l.value===r,[f,g]=A.useState(i??""),[v,x]=A.useState(!1),T=dt(e,k=>{var N;return(N=u.itemRefCallback)==null?void 0:N.call(u,k,r,s)}),b=jo(),w=A.useRef("touch"),R=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(PK,{scope:n,value:r,disabled:s,textId:b,isSelected:d,onItemTextChange:A.useCallback(k=>{g(N=>N||((k==null?void 0:k.textContent)??"").trim())},[]),children:p.jsx(lg.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:p.jsx(We.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:Le(o.onFocus,()=>x(!0)),onBlur:Le(o.onBlur,()=>x(!1)),onClick:Le(o.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:Le(o.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:Le(o.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:Le(o.onPointerMove,k=>{var N;w.current=k.pointerType,s?(N=u.onItemLeave)==null||N.call(u):w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,k=>{var N;k.currentTarget===document.activeElement&&((N=u.onItemLeave)==null||N.call(u))}),onKeyDown:Le(o.onKeyDown,k=>{var O;((O=u.searchRef)==null?void 0:O.current)!==""&&k.key===" "||(fK.includes(k.key)&&R(),k.key===" "&&k.preventDefault())})})})})});OD.displayName=mm;var od="SelectItemText",VD=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Jo(od,n),l=ea(od,n),u=MD(od,n),d=yK(od,n),[f,g]=A.useState(null),v=dt(e,R=>g(R),u.onItemTextChange,R=>{var k;return(k=l.itemTextRefCallback)==null?void 0:k.call(l,R,u.value,u.disabled)}),x=f==null?void 0:f.textContent,T=A.useMemo(()=>p.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=d;return kn(()=>(b(T),()=>w(T)),[b,w,T]),p.jsxs(p.Fragment,{children:[p.jsx(We.span,{id:u.textId,...i,ref:v}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vc.createPortal(i.children,o.valueNode):null]})});VD.displayName=od;var LD="SelectItemIndicator",FD=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return MD(LD,n).isSelected?p.jsx(We.span,{"aria-hidden":!0,...r,ref:e}):null});FD.displayName=LD;var _x="SelectScrollUpButton",BD=A.forwardRef((t,e)=>{const n=ea(_x,t.__scopeSelect),r=Rw(_x,t.__scopeSelect),[s,i]=A.useState(!1),o=dt(e,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?p.jsx(UD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});BD.displayName=_x;var wx="SelectScrollDownButton",zD=A.forwardRef((t,e)=>{const n=ea(wx,t.__scopeSelect),r=Rw(wx,t.__scopeSelect),[s,i]=A.useState(!1),o=dt(e,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?p.jsx(UD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});zD.displayName=wx;var UD=A.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ea("SelectScrollButton",n),o=A.useRef(null),l=cg(n),u=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>u(),[u]),kn(()=>{var f;const d=l().find(g=>g.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),p.jsx(We.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{u()})})}),RK="SelectSeparator",$D=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(We.div,{"aria-hidden":!0,...r,ref:e})});$D.displayName=RK;var bx="SelectArrow",IK=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ug(n),i=Jo(bx,n),o=ea(bx,n);return i.open&&o.position==="popper"?p.jsx(xD,{...s,...r,ref:e}):null});IK.displayName=bx;var kK="SelectBubbleInput",HD=A.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=A.useRef(null),i=dt(r,s),o=ag(e);return A.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&f){const g=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(g)}},[o,e]),p.jsx(We.select,{...n,style:{...pI,...n.style},ref:i,defaultValue:e})});HD.displayName=kK;function WD(t){return t===""||t===void 0}function qD(t){const e=qr(t),n=A.useRef(""),r=A.useRef(0),s=A.useCallback(o=>{const l=n.current+o;e(l),(function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),i=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function GD(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=NK(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function NK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DK=_D,KD=bD,jK=SD,MK=ED,OK=CD,QD=AD,VK=kD,YD=jD,XD=OD,LK=VD,FK=FD,ZD=BD,JD=zD,ej=$D;const As=DK,Ps=jK,Qr=Ue.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(KD,{ref:r,className:Xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(MK,{asChild:!0,children:p.jsx(MI,{className:"h-4 w-4 opacity-50"})})]}));Qr.displayName=KD.displayName;const tj=Ue.forwardRef(({className:t,...e},n)=>p.jsx(ZD,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(U6,{className:"h-4 w-4"})}));tj.displayName=ZD.displayName;const nj=Ue.forwardRef(({className:t,...e},n)=>p.jsx(JD,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(MI,{className:"h-4 w-4"})}));nj.displayName=JD.displayName;const Yr=Ue.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(OK,{children:p.jsxs(QD,{ref:s,className:Xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(tj,{}),p.jsx(VK,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(nj,{})]})}));Yr.displayName=QD.displayName;const BK=Ue.forwardRef(({className:t,...e},n)=>p.jsx(YD,{ref:n,className:Xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));BK.displayName=YD.displayName;const on=Ue.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(XD,{ref:r,className:Xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(FK,{children:p.jsx(x_,{className:"h-4 w-4"})})}),p.jsx(LK,{children:e})]}));on.displayName=XD.displayName;const zK=Ue.forwardRef(({className:t,...e},n)=>p.jsx(ej,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));zK.displayName=ej.displayName;const UK=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState(""),[u,d]=A.useState(!1),[f,g]=A.useState(null),[v,x]=A.useState({}),{toast:T}=Ar(),[b,w]=A.useState(null),[R,k]=A.useState(!0),[N,O]=A.useState(!1),[B,U]=A.useState(!0),M={nome:"",email:"",senha:"",tipo:"funcionario",departamento:"",ativo:!0},E=K=>{const W=K.length>0?K[0].nome:"";x({...M,departamento:W}),g(null)},P=async(K=!1)=>{if(N)return;O(!0);const W=await Hc("usuarios",{lastVisible:K?b:null});W.data.length>0&&(e(Y=>K?[...Y,...W.data]:W.data),w(W.lastVisible)),W.data.length<15&&k(!1),O(!1)};A.useEffect(()=>{(async()=>{U(!0);const W=await bn("departamentos");i(W),E(W),await P(),U(!1)})()},[]),A.useEffect(()=>{const K=t.filter(W=>W.nome.toLowerCase().includes(o.toLowerCase())||W.email.toLowerCase().includes(o.toLowerCase())||W.departamento&&W.departamento.toLowerCase().includes(o.toLowerCase()));r(K)},[t,o]);const j=async K=>{if(K.preventDefault(),f){const W={...v};W.senha||delete W.senha,await ri("usuarios",f.id,W),T({title:"Usurio atualizado!"})}else{const W={...v,dataCriacao:new Date().toISOString()};await li("usuarios",W),T({title:"Usurio criado!"})}d(!1),await P()},F=K=>{g(K),x({nome:K.nome,email:K.email,senha:"",tipo:K.tipo,departamento:K.departamento,ativo:K.ativo}),d(!0)},D=async K=>{window.confirm("Tem certeza que deseja remover este usurio?")&&(await rl("usuarios",K),T({title:"Usurio removido!"}),e(W=>W.filter(Y=>Y.id!==K)))},V=async K=>{const W=!K.ativo;await ri("usuarios",K.id,{ativo:W}),T({title:"Status atualizado!"}),e(Y=>Y.map(G=>G.id===K.id?{...G,ativo:W}:G))},J=async K=>{if(window.confirm(`Tem certeza que deseja ZERAR TODO O DESEMPENHO do usurio "${K.nome}"? Esta ao no pode ser desfeita.`))try{await Q8(K.id),T({title:"Desempenho zerado!",description:`Todos os dados de progresso de ${K.nome} foram removidos.`})}catch(W){T({title:"Erro",description:W.message,variant:"destructive"})}};return B?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Usurios"}),p.jsx("p",{className:"text-slate-400",children:"Gerencie usurios do sistema"})]}),p.jsxs(si,{open:u,onOpenChange:d,children:[p.jsx(Kc,{asChild:!0,children:p.jsxs(Ce,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:()=>E(s),children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Novo Usurio"]})}),p.jsxs(bs,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Ts,{children:p.jsxs(Ss,{children:[f?"Editar":"Novo"," Usurio"]})}),p.jsxs("form",{id:"userForm",onSubmit:j,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"nome",children:"Nome"}),p.jsx(xt,{id:"nome",value:v.nome,onChange:K=>x({...v,nome:K.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"email",children:"Email"}),p.jsx(xt,{id:"email",type:"email",value:v.email,onChange:K=>x({...v,email:K.target.value}),className:"bg-slate-800/50",required:!0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"senha",children:"Senha"}),p.jsx(xt,{id:"senha",type:"password",placeholder:f?"Deixe em branco para no alterar":"",onChange:K=>x({...v,senha:K.target.value}),className:"bg-slate-800/50",required:!f})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"tipo",children:"Tipo"}),p.jsxs(As,{value:v.tipo,onValueChange:K=>x({...v,tipo:K}),children:[p.jsx(Qr,{className:"bg-slate-800/50",children:p.jsx(Ps,{})}),p.jsxs(Yr,{children:[p.jsx(on,{value:"admin",children:"Administrador"}),p.jsx(on,{value:"funcionario",children:"Funcionrio"})]})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"departamento",children:"Departamento"}),p.jsxs(As,{value:v.departamento,onValueChange:K=>x({...v,departamento:K}),children:[p.jsx(Qr,{className:"bg-slate-800/50",children:p.jsx(Ps,{placeholder:"Selecione..."})}),p.jsx(Yr,{children:s.map(K=>p.jsx(on,{value:K.nome,children:K.nome},K.id))})]})]})]}),p.jsxs(Ui,{children:[p.jsx(Ce,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ce,{type:"submit",form:"userForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:f?"Atualizar":"Criar"})]})]})]})]}),p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[p.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{placeholder:"Buscar nos usurios carregados...",value:o,onChange:K=>l(K.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((K,W)=>p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:W*.1},children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover",children:[p.jsx(Et,{className:"pb-3",children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-semibold text-white",children:K.nome.charAt(0)})}),p.jsxs("div",{children:[p.jsx(Ct,{className:"text-lg text-white",children:K.nome}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx(Do,{variant:K.tipo==="admin"?"default":"secondary",children:K.tipo==="admin"?"Admin":"Funcionrio"}),p.jsx(Do,{variant:K.ativo?"default":"destructive",children:K.ativo?"Ativo":"Inativo"})]})]})]})})}),p.jsxs(yt,{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[p.jsx(zI,{className:"w-4 h-4"}),p.jsx("span",{children:K.email})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[p.jsx(v_,{className:"w-4 h-4"}),p.jsx("span",{children:K.departamento})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[p.jsx(z6,{className:"w-4 h-4"}),p.jsxs("span",{children:["Criado em ",new Date(K.dataCriacao).toLocaleDateString("pt-BR")]})]}),p.jsxs("div",{className:"flex justify-between pt-3 border-t border-slate-700",children:[p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>F(K),className:"border-slate-600 hover:bg-slate-700",children:p.jsx(tl,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>V(K),className:`border-slate-600 ${K.ativo?"hover:bg-red-500/20 hover:border-red-500":"hover:bg-green-500/20 hover:border-green-500"}`,children:K.ativo?p.jsx(cB,{className:"w-4 h-4"}):p.jsx(lB,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>J(K),className:"border-slate-600 hover:bg-yellow-500/20 hover:border-yellow-500",title:"Zerar Desempenho",children:p.jsx(rB,{className:"w-4 h-4"})})]}),p.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>D(K.id),className:"border-slate-600 hover:bg-red-500/20 hover:border-red-500",children:p.jsx(Fi,{className:"w-4 h-4"})})]})]})]})},K.id))}),R&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>P(!0),disabled:N,children:N?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Usurios"})})]})},Ya=Ue.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ya.displayName="Textarea";var dg="Switch",[$K,mX]=Xr(dg),[HK,WK]=$K(dg),rj=A.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:d,form:f,...g}=t,[v,x]=A.useState(null),T=dt(e,N=>x(N)),b=A.useRef(!1),w=v?f||!!v.closest("form"):!0,[R,k]=Li({prop:s,defaultProp:i??!1,onChange:d,caller:dg});return p.jsxs(HK,{scope:n,checked:R,disabled:l,children:[p.jsx(We.button,{type:"button",role:"switch","aria-checked":R,"aria-required":o,"data-state":aj(R),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:T,onClick:Le(t.onClick,N=>{k(O=>!O),w&&(b.current=N.isPropagationStopped(),b.current||N.stopPropagation())})}),w&&p.jsx(oj,{control:v,bubbles:!b.current,name:r,value:u,checked:R,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});rj.displayName=dg;var sj="SwitchThumb",ij=A.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=WK(sj,n);return p.jsx(We.span,{"data-state":aj(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});ij.displayName=sj;var qK="SwitchBubbleInput",oj=A.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=A.useRef(null),l=dt(o,i),u=ag(n),d=ig(e);return A.useEffect(()=>{const f=o.current;if(!f)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==n&&x){const T=new Event("click",{bubbles:r});x.call(f,n),f.dispatchEvent(T)}},[u,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oj.displayName=qK;function aj(t){return t?"checked":"unchecked"}var lj=rj,GK=ij;const $d=Ue.forwardRef(({className:t,...e},n)=>p.jsx(lj,{className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:p.jsx(GK,{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$d.displayName=lj.displayName;var Zv="rovingFocusGroup.onEntryFocus",KK={bubbles:!1,cancelable:!0},ah="RovingFocusGroup",[Tx,cj,QK]=p_(ah),[YK,uj]=Xr(ah,[QK]),[XK,ZK]=YK(ah),dj=A.forwardRef((t,e)=>p.jsx(Tx.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Tx.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(JK,{...t,ref:e})})}));dj.displayName=ah;var JK=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...g}=t,v=A.useRef(null),x=dt(e,v),T=xw(i),[b,w]=Li({prop:o,defaultProp:l??null,onChange:u,caller:ah}),[R,k]=A.useState(!1),N=qr(d),O=cj(n),B=A.useRef(!1),[U,M]=A.useState(0);return A.useEffect(()=>{const E=v.current;if(E)return E.addEventListener(Zv,N),()=>E.removeEventListener(Zv,N)},[N]),p.jsx(XK,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:b,onItemFocus:A.useCallback(E=>w(E),[w]),onItemShiftTab:A.useCallback(()=>k(!0),[]),onFocusableItemAdd:A.useCallback(()=>M(E=>E+1),[]),onFocusableItemRemove:A.useCallback(()=>M(E=>E-1),[]),children:p.jsx(We.div,{tabIndex:R||U===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{B.current=!0}),onFocus:Le(t.onFocus,E=>{const P=!B.current;if(E.target===E.currentTarget&&P&&!R){const j=new CustomEvent(Zv,KK);if(E.currentTarget.dispatchEvent(j),!j.defaultPrevented){const F=O().filter(W=>W.focusable),D=F.find(W=>W.active),V=F.find(W=>W.id===b),K=[D,V,...F].filter(Boolean).map(W=>W.ref.current);pj(K,f)}}B.current=!1}),onBlur:Le(t.onBlur,()=>k(!1))})})}),hj="RovingFocusGroupItem",fj=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,u=jo(),d=i||u,f=ZK(hj,n),g=f.currentTabStopId===d,v=cj(n),{onFocusableItemAdd:x,onFocusableItemRemove:T,currentTabStopId:b}=f;return A.useEffect(()=>{if(r)return x(),()=>T()},[r,x,T]),p.jsx(Tx.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:p.jsx(We.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Le(t.onMouseDown,w=>{r?f.onItemFocus(d):w.preventDefault()}),onFocus:Le(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Le(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const R=nQ(w,f.orientation,f.dir);if(R!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let N=v().filter(O=>O.focusable).map(O=>O.ref.current);if(R==="last")N.reverse();else if(R==="prev"||R==="next"){R==="prev"&&N.reverse();const O=N.indexOf(w.currentTarget);N=f.loop?rQ(N,O+1):N.slice(O+1)}setTimeout(()=>pj(N))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:b!=null}):o})})});fj.displayName=hj;var eQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nQ(t,e,n){const r=tQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return eQ[r]}function pj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function rQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sQ=dj,iQ=fj,Iw="Radio",[oQ,mj]=Xr(Iw),[aQ,lQ]=oQ(Iw),gj=A.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:u,form:d,...f}=t,[g,v]=A.useState(null),x=dt(e,w=>v(w)),T=A.useRef(!1),b=g?d||!!g.closest("form"):!0;return p.jsxs(aQ,{scope:n,checked:s,disabled:o,children:[p.jsx(We.button,{type:"button",role:"radio","aria-checked":s,"data-state":_j(s),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:Le(t.onClick,w=>{s||u==null||u(),b&&(T.current=w.isPropagationStopped(),T.current||w.stopPropagation())})}),b&&p.jsx(xj,{control:g,bubbles:!T.current,name:r,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});gj.displayName=Iw;var yj="RadioIndicator",vj=A.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=lQ(yj,n);return p.jsx(Xo,{present:r||i.checked,children:p.jsx(We.span,{"data-state":_j(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});vj.displayName=yj;var cQ="RadioBubbleInput",xj=A.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=A.useRef(null),l=dt(o,i),u=ag(n),d=ig(e);return A.useEffect(()=>{const f=o.current;if(!f)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==n&&x){const T=new Event("click",{bubbles:r});x.call(f,n),f.dispatchEvent(T)}},[u,n,r]),p.jsx(We.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xj.displayName=cQ;function _j(t){return t?"checked":"unchecked"}var uQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hg="RadioGroup",[dQ,gX]=Xr(hg,[uj,mj]),wj=uj(),bj=mj(),[hQ,fQ]=dQ(hg),Tj=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:u,dir:d,loop:f=!0,onValueChange:g,...v}=t,x=wj(n),T=xw(d),[b,w]=Li({prop:i,defaultProp:s??null,onChange:g,caller:hg});return p.jsx(hQ,{scope:n,name:r,required:o,disabled:l,value:b,onValueChange:w,children:p.jsx(sQ,{asChild:!0,...x,orientation:u,dir:T,loop:f,children:p.jsx(We.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:T,...v,ref:e})})})});Tj.displayName=hg;var Sj="RadioGroupItem",Ej=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=fQ(Sj,n),o=i.disabled||r,l=wj(n),u=bj(n),d=A.useRef(null),f=dt(e,d),g=i.value===s.value,v=A.useRef(!1);return A.useEffect(()=>{const x=b=>{uQ.includes(b.key)&&(v.current=!0)},T=()=>v.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",T)}},[]),p.jsx(iQ,{asChild:!0,...l,focusable:!o,active:g,children:p.jsx(gj,{disabled:o,required:i.required,checked:g,...u,...s,name:i.name,ref:f,onCheck:()=>i.onValueChange(s.value),onKeyDown:Le(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Le(s.onFocus,()=>{var x;v.current&&((x=d.current)==null||x.click())})})})});Ej.displayName=Sj;var pQ="RadioGroupIndicator",Cj=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=bj(n);return p.jsx(vj,{...s,...r,ref:e})});Cj.displayName=pQ;var Aj=Tj,Pj=Ej,mQ=Cj;const fg=Ue.forwardRef(({className:t,...e},n)=>p.jsx(Aj,{className:Xe("grid gap-2",t),...e,ref:n}));fg.displayName=Aj.displayName;const pg=Ue.forwardRef(({className:t,...e},n)=>p.jsx(Pj,{ref:n,className:Xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(mQ,{className:"flex items-center justify-center",children:p.jsx(x_,{className:"h-3.5 w-3.5 fill-current text-current"})})}));pg.displayName=Pj.displayName;const gQ=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState([]),[u,d]=A.useState(""),[f,g]=A.useState(!1),[v,x]=A.useState(!1),[T,b]=A.useState(null),[w,R]=A.useState(null),[k,N]=A.useState(null),[O,B]=A.useState(!0),[U,M]=A.useState(!1),[E,P]=A.useState(!0),[j,F]=A.useState(""),[D,V]=A.useState(""),J={titulo:"",descricao:"",video:"",categoriaId:"",departamento:"Todos",obrigatorio:!1,ativo:!0,dataExpiracao:"",perguntas:[],arquivosComplementares:[]},[K,W]=A.useState(J),{toast:Y}=Ar(),G=async(se=!1)=>{if(U)return;M(!0);const ye=await Hc("treinamentos",{lastVisible:se?k:null,orderByField:"dataPublicacao",orderDirection:"desc"});ye.data.length>0?(e(Pe=>se?[...Pe,...ye.data]:ye.data),N(ye.lastVisible)):se||e([]),ye.data.length<15&&B(!1),M(!1)};A.useEffect(()=>{(async()=>{P(!0);const[ye,Pe]=await Promise.all([bn("categorias"),bn("departamentos")]);i(ye),l(Pe),await G(),P(!1)})()},[]),A.useEffect(()=>{const se=t.filter(ye=>ye.titulo.toLowerCase().includes(u.toLowerCase()));r(se)},[t,u]);const te=se=>{var ye;return((ye=s.find(Pe=>Pe.id===se))==null?void 0:ye.nome)||"N/A"},ae=()=>{W(J),R(null)},H=se=>{R(se),W({...J,...se,categoriaId:se.categoriaId.toString()}),g(!0)},Z=async se=>{se.preventDefault();const ye={...K,categoriaId:parseInt(K.categoriaId),dataExpiracao:K.dataExpiracao||null};if(w)await ri("treinamentos",w.id,ye),Y({title:"Treinamento atualizado!"});else{const Pe={...ye,dataPublicacao:new Date().toISOString()};await li("treinamentos",Pe),Y({title:"Treinamento criado!"})}g(!1),await G()},oe=se=>{b(se),x(!0)},xe=async()=>{T&&(await rl("treinamentos",T.id),Y({title:"Treinamento removido!"}),b(null),x(!1),await G())},be=()=>W(se=>({...se,perguntas:[...se.perguntas||[],{pergunta:"",opcoes:["","","",""],respostaCorreta:null}]})),Te=se=>W(ye=>({...ye,perguntas:ye.perguntas.filter((Pe,Me)=>Me!==se)})),pe=(se,ye)=>{const Pe=[...K.perguntas];Pe[se].pergunta=ye,W({...K,perguntas:Pe})},fe=(se,ye,Pe)=>{const Me=[...K.perguntas];Me[se].opcoes[ye]=Pe,W({...K,perguntas:Me})},we=(se,ye)=>{const Pe=[...K.perguntas];Pe[se].respostaCorreta=ye,W({...K,perguntas:Pe})},Se=()=>{!j.trim()||!D.trim()||(W(se=>({...se,arquivosComplementares:[...se.arquivosComplementares||[],{name:j,url:D}]})),F(""),V(""))},_e=se=>{W(ye=>({...ye,arquivosComplementares:ye.arquivosComplementares.filter((Pe,Me)=>Me!==se)}))};return E?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Treinamentos"}),p.jsx("p",{className:"text-slate-400",children:"Crie, edite e gerencie os treinamentos da plataforma."})]}),p.jsxs(si,{open:f,onOpenChange:g,children:[p.jsx(Kc,{asChild:!0,children:p.jsxs(Ce,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:ae,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Novo Treinamento"]})}),p.jsxs(bs,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] flex flex-col",children:[p.jsxs(Ts,{children:[p.jsxs(Ss,{children:[w?"Editar":"Novo"," Treinamento"]}),p.jsx(Bd,{children:"Preencha os detalhes do treinamento e adicione o contedo."})]}),p.jsxs("form",{id:"trainingForm",onSubmit:Z,className:"space-y-6 overflow-y-auto scrollbar-thin pr-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"titulo",children:"Ttulo"}),p.jsx(xt,{id:"titulo",value:K.titulo,onChange:se=>W({...K,titulo:se.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"video",children:"URL do Vdeo (Embed)"}),p.jsx(xt,{id:"video",value:K.video,onChange:se=>W({...K,video:se.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"categoriaId",children:"Categoria"}),p.jsxs(As,{value:K.categoriaId,onValueChange:se=>W({...K,categoriaId:se}),children:[p.jsx(Qr,{className:"bg-slate-800/50",children:p.jsx(Ps,{placeholder:"Selecione..."})}),p.jsx(Yr,{children:s.map(se=>p.jsx(on,{value:se.id.toString(),children:se.nome},se.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"departamento",children:"Departamento"}),p.jsxs(As,{value:K.departamento,onValueChange:se=>W({...K,departamento:se}),children:[p.jsx(Qr,{className:"bg-slate-800/50",children:p.jsx(Ps,{})}),p.jsx(Yr,{children:o.map(se=>p.jsx(on,{value:se.nome,children:se.nome},se.id))})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"descricao",children:"Descrio"}),p.jsx(Ya,{id:"descricao",value:K.descricao,onChange:se=>W({...K,descricao:se.target.value}),className:"bg-slate-800/50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"dataExpiracao",children:"Data de Expirao (Opcional)"}),p.jsx(xt,{type:"date",id:"dataExpiracao",value:K.dataExpiracao,onChange:se=>W({...K,dataExpiracao:se.target.value}),className:"bg-slate-800/50"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx($d,{id:"obrigatorio",checked:K.obrigatorio,onCheckedChange:se=>W({...K,obrigatorio:se})}),p.jsx(pt,{htmlFor:"obrigatorio",children:"Obrigatrio"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx($d,{id:"ativo",checked:K.ativo,onCheckedChange:se=>W({...K,ativo:se})}),p.jsx(pt,{htmlFor:"ativo",children:"Ativo"})]})]}),p.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[p.jsx("h3",{className:"text-lg font-semibold text-white",children:"Arquivos Complementares (Links)"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"linkName",children:"Nome do Arquivo"}),p.jsx(xt,{id:"linkName",placeholder:"Ex: Manual em PDF",value:j,onChange:se=>F(se.target.value),className:"bg-slate-800/50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"linkUrl",children:"Link Compartilhvel"}),p.jsx(xt,{id:"linkUrl",placeholder:"Cole o link aqui...",value:D,onChange:se=>V(se.target.value),className:"bg-slate-800/50"})]})]}),p.jsxs(Ce,{type:"button",variant:"outline",onClick:Se,children:[p.jsx(__,{className:"w-4 h-4 mr-2"})," Adicionar Link"]}),p.jsx("div",{className:"space-y-2 pt-2",children:(K.arquivosComplementares||[]).map((se,ye)=>p.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded",children:[p.jsx("span",{className:"text-sm text-slate-300",children:se.name}),p.jsx(Ce,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>_e(ye),children:p.jsx(W6,{className:"w-4 h-4 text-red-500"})})]},`${se.name}-${ye}`))})]}),p.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-semibold text-white",children:"Questionrio"}),p.jsxs(Ce,{type:"button",size:"sm",onClick:be,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Adicionar Pergunta"]})]}),(K.perguntas||[]).map((se,ye)=>{var Pe;return p.jsxs("div",{className:"p-4 border border-slate-700 rounded-lg space-y-4 bg-slate-800/30",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs(pt,{children:["Pergunta ",ye+1]}),p.jsx(Ce,{type:"button",size:"sm",variant:"destructive",onClick:()=>Te(ye),children:p.jsx(Fi,{className:"w-4 h-4"})})]}),p.jsx(Ya,{placeholder:"Digite a pergunta...",value:se.pergunta,onChange:Me=>pe(ye,Me.target.value),required:!0}),p.jsx(fg,{value:(Pe=se.respostaCorreta)==null?void 0:Pe.toString(),onValueChange:Me=>we(ye,parseInt(Me)),children:se.opcoes.map((Me,Oe)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pg,{value:Oe.toString(),id:`q${ye}o${Oe}`}),p.jsx(xt,{placeholder:`Opo ${Oe+1}`,value:Me,onChange:vt=>fe(ye,Oe,vt.target.value),required:!0})]},Oe))})]},ye)})]})]}),p.jsxs(Ui,{className:"pt-4 border-t border-slate-700",children:[p.jsx(Ce,{type:"button",variant:"outline",onClick:()=>g(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ce,{type:"submit",form:"trainingForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:w?"Salvar":"Criar"})]})]})]})]}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs("div",{className:"relative",children:[p.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{placeholder:"Buscar por ttulo...",value:u,onChange:se=>d(se.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((se,ye)=>{var Pe;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ye*.05},children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsxs(Et,{children:[p.jsx(Ct,{className:"text-lg text-white mb-1",children:se.titulo}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(Do,{style:{backgroundColor:((Pe=s.find(Me=>Me.id===se.categoriaId))==null?void 0:Pe.cor)||"#ccc"},children:te(se.categoriaId)}),p.jsx(Do,{variant:se.ativo?"default":"secondary",children:se.ativo?"Ativo":"Inativo"}),se.obrigatorio&&p.jsx(Do,{variant:"destructive",children:"Obrigatrio"})]})]}),p.jsx(yt,{className:"flex-grow space-y-3",children:p.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:se.descricao})}),p.jsxs($c,{className:"flex justify-end space-x-2",children:[p.jsx(Ce,{size:"sm",variant:"outline",className:"border-slate-600",onClick:()=>H(se),children:p.jsx(tl,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"sm",variant:"destructive",onClick:()=>oe(se),children:p.jsx(Fi,{className:"w-4 h-4"})})]})]})},se.id)})}),O&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>G(!0),disabled:U,children:U?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})}),p.jsx(si,{open:v,onOpenChange:x,children:p.jsxs(bs,{className:"glass-effect border-slate-700 text-white",children:[p.jsxs(Ts,{children:[p.jsxs(Ss,{className:"flex items-center gap-2",children:[p.jsx(qI,{className:"text-red-500"}),"Confirmar Excluso"]}),p.jsxs(Bd,{children:['Tem certeza que deseja remover o treinamento "',T==null?void 0:T.titulo,'"?']})]}),p.jsxs(Ui,{children:[p.jsx(Ce,{variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),p.jsx(Ce,{variant:"destructive",onClick:xe,children:"Sim, Excluir"})]})]})})]})},yQ=async t=>{try{const e=await mn(pn(_t,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},vQ=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[s,i]=A.useState(null),[o,l]=A.useState({nome:"",cor:"#3b82f6"}),[u,d]=A.useState(!0),{toast:f}=Ar(),g=async()=>{d(!0);const w=await yQ("categorias");e(w),d(!1)};A.useEffect(()=>{g()},[]);const v=()=>{l({nome:"",cor:"#3b82f6"}),i(null)},x=w=>{i(w),l({nome:w.nome,cor:w.cor}),r(!0)},T=async w=>{w.preventDefault(),s?(await ri("categorias",s.id,o),f({title:"Categoria atualizada com sucesso!"})):(await li("categorias",o),f({title:"Categoria criada com sucesso!"})),await g(),v(),r(!1)},b=async w=>{window.confirm("Tem certeza que deseja remover esta categoria? Isso pode afetar treinamentos existentes.")&&(await rl("categorias",w),await g(),f({title:"Categoria removida com sucesso."}))};return u?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Categorias"}),p.jsx("p",{className:"text-slate-400",children:"Organize seus treinamentos em categorias."})]}),p.jsxs(si,{open:n,onOpenChange:r,children:[p.jsx(Kc,{asChild:!0,children:p.jsxs(Ce,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:v,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Nova Categoria"]})}),p.jsxs(bs,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Ts,{children:p.jsxs(Ss,{children:[s?"Editar":"Nova"," Categoria"]})}),p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"nome",children:"Nome da Categoria"}),p.jsx(xt,{id:"nome",value:o.nome,onChange:w=>l({...o,nome:w.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"cor",children:"Cor da Categoria"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(xt,{id:"cor",type:"color",value:o.cor,onChange:w=>l({...o,cor:w.target.value}),className:"p-1 h-10 w-14 block bg-slate-800/50 border-slate-600 cursor-pointer"}),p.jsx(xt,{type:"text",value:o.cor,onChange:w=>l({...o,cor:w.target.value}),className:"bg-slate-800/50"})]})]}),p.jsxs(Ui,{children:[p.jsx(Ce,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ce,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:s?"Salvar":"Criar"})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((w,R)=>p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.05},children:p.jsx(gt,{className:"glass-effect border-slate-700 card-hover",children:p.jsxs(yt,{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:w.cor},children:p.jsx(oB,{className:"w-5 h-5 text-white"})}),p.jsx("span",{className:"font-medium text-white",children:w.nome})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ce,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>x(w),children:p.jsx(tl,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>b(w.id),children:p.jsx(Fi,{className:"w-4 h-4"})})]})]})})},w.id))})]})},xQ=async t=>{try{const e=await mn(pn(_t,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},_Q=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[s,i]=A.useState(null),[o,l]=A.useState({nome:""}),[u,d]=A.useState(!0),{toast:f}=Ar(),g=async()=>{d(!0);const w=await xQ("departamentos");e(w.filter(R=>R.nome!=="Todos")),d(!1)};A.useEffect(()=>{g()},[]);const v=()=>{l({nome:""}),i(null)},x=w=>{i(w),l({nome:w.nome}),r(!0)},T=async w=>{w.preventDefault(),s?(await ri("departamentos",s.id,o),f({title:"Departamento atualizado com sucesso!"})):(await li("departamentos",o),f({title:"Departamento criado com sucesso!"})),await g(),v(),r(!1)},b=async w=>{window.confirm("Tem certeza que deseja remover este departamento?")&&(await rl("departamentos",w),await g(),f({title:"Departamento removido com sucesso."}))};return u?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Departamentos"}),p.jsx("p",{className:"text-slate-400",children:"Adicione, edite ou remova os departamentos da empresa."})]}),p.jsxs(si,{open:n,onOpenChange:r,children:[p.jsx(Kc,{asChild:!0,children:p.jsxs(Ce,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:v,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Novo Departamento"]})}),p.jsxs(bs,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Ts,{children:p.jsxs(Ss,{children:[s?"Editar":"Novo"," Departamento"]})}),p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{htmlFor:"nome",children:"Nome do Departamento"}),p.jsx(xt,{id:"nome",value:o.nome,onChange:w=>l({nome:w.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs(Ui,{children:[p.jsx(Ce,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ce,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:s?"Salvar":"Criar"})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((w,R)=>p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.05},children:p.jsx(gt,{className:"glass-effect border-slate-700 card-hover",children:p.jsxs(yt,{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-slate-700",children:p.jsx(v_,{className:"w-5 h-5 text-slate-300"})}),p.jsx("span",{className:"font-medium text-white",children:w.nome})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ce,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>x(w),children:p.jsx(tl,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>b(w.id),children:p.jsx(Fi,{className:"w-4 h-4"})})]})]})})},w.id))})]})};var mg="Checkbox",[wQ,yX]=Xr(mg),[bQ,kw]=wQ(mg);function TQ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:g}=t,[v,x]=Li({prop:n,defaultProp:s??!1,onChange:u,caller:mg}),[T,b]=A.useState(null),[w,R]=A.useState(null),k=A.useRef(!1),N=T?!!o||!!T.closest("form"):!0,O={checked:v,disabled:i,setChecked:x,control:T,setControl:b,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:k,required:d,defaultChecked:Mo(s)?!1:s,isFormControl:N,bubbleInput:w,setBubbleInput:R};return p.jsx(bQ,{scope:e,...O,children:SQ(g)?g(O):r})}var Rj="CheckboxTrigger",Ij=A.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:u,required:d,setControl:f,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:x,bubbleInput:T}=kw(Rj,t),b=dt(s,f),w=A.useRef(u);return A.useEffect(()=>{const R=i==null?void 0:i.form;if(R){const k=()=>g(w.current);return R.addEventListener("reset",k),()=>R.removeEventListener("reset",k)}},[i,g]),p.jsx(We.button,{type:"button",role:"checkbox","aria-checked":Mo(u)?"mixed":u,"aria-required":d,"data-state":Mj(u),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:b,onKeyDown:Le(e,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Le(n,R=>{g(k=>Mo(k)?!0:!k),T&&x&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})})});Ij.displayName=Rj;var Nw=A.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:u,onCheckedChange:d,form:f,...g}=t;return p.jsx(TQ,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:v})=>p.jsxs(p.Fragment,{children:[p.jsx(Ij,{...g,ref:e,__scopeCheckbox:n}),v&&p.jsx(jj,{__scopeCheckbox:n})]})})});Nw.displayName=mg;var kj="CheckboxIndicator",Nj=A.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=kw(kj,n);return p.jsx(Xo,{present:r||Mo(i.checked)||i.checked===!0,children:p.jsx(We.span,{"data-state":Mj(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Nj.displayName=kj;var Dj="CheckboxBubbleInput",jj=A.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:u,name:d,value:f,form:g,bubbleInput:v,setBubbleInput:x}=kw(Dj,t),T=dt(n,x),b=ag(i),w=ig(r);A.useEffect(()=>{const k=v;if(!k)return;const N=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(N,"checked").set,U=!s.current;if(b!==i&&B){const M=new Event("click",{bubbles:U});k.indeterminate=Mo(i),B.call(k,Mo(i)?!1:i),k.dispatchEvent(M)}},[v,b,i,s]);const R=A.useRef(Mo(i)?!1:i);return p.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??R.current,required:l,disabled:u,name:d,value:f,form:g,...e,tabIndex:-1,ref:T,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jj.displayName=Dj;function SQ(t){return typeof t=="function"}function Mo(t){return t==="indeterminate"}function Mj(t){return Mo(t)?"indeterminate":t?"checked":"unchecked"}const Oj=Ue.forwardRef(({className:t,...e},n)=>p.jsx(Nw,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(Nj,{className:Xe("flex items-center justify-center text-current"),children:p.jsx(x_,{className:"h-4 w-4"})})}));Oj.displayName=Nw.displayName;const Jv=async t=>{try{const e=await mn(pn(_t,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},EQ=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState(!1),[u,d]=A.useState(null),[f,g]=A.useState(!0),v={titulo:"",descricao:"",departamento:"Todos",ativo:!0,treinamentos:[]},[x,T]=A.useState(v),{toast:b}=Ar(),w=async()=>{g(!0);const U=await Jv("trilhas"),M=await Jv("treinamentos"),E=await Jv("departamentos");e(U),r(M),i(E),g(!1)};A.useEffect(()=>{w()},[]);const R=()=>{T(v),d(null)},k=U=>{d(U),T({...v,...U,treinamentos:U.treinamentos||[]}),l(!0)},N=async U=>{U.preventDefault(),u?(await ri("trilhas",u.id,x),b({title:"Trilha atualizada com sucesso!"})):(await li("trilhas",x),b({title:"Trilha criada com sucesso!"})),await w(),R(),l(!1)},O=async U=>{window.confirm("Tem certeza que deseja remover esta trilha?")&&(await rl("trilhas",U),await w(),b({title:"Trilha removida com sucesso."}))},B=U=>{T(M=>{const E=M.treinamentos.includes(U)?M.treinamentos.filter(P=>P!==U):[...M.treinamentos,U];return{...M,treinamentos:E}})};return f?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Trilhas de Aprendizagem"}),p.jsx("p",{className:"text-slate-400",children:"Crie e organize sequncias de treinamentos."})]}),p.jsxs(si,{open:o,onOpenChange:l,children:[p.jsx(Kc,{asChild:!0,children:p.jsxs(Ce,{className:"bg-gradient-to-r from-green-500 to-teal-600",onClick:R,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Nova Trilha"]})}),p.jsxs(bs,{className:"glass-effect border-slate-700 text-white max-w-2xl",children:[p.jsxs(Ts,{children:[p.jsxs(Ss,{children:[u?"Editar":"Nova"," Trilha de Aprendizagem"]}),p.jsx(Bd,{children:"Defina os detalhes e selecione os treinamentos para a trilha."})]}),p.jsxs("form",{onSubmit:N,className:"space-y-4",children:[p.jsx(xt,{placeholder:"Ttulo da Trilha",value:x.titulo,onChange:U=>T({...x,titulo:U.target.value}),required:!0,className:"bg-slate-800/50"}),p.jsx(Ya,{placeholder:"Descrio da Trilha",value:x.descricao,onChange:U=>T({...x,descricao:U.target.value}),className:"bg-slate-800/50"}),p.jsxs(As,{value:x.departamento,onValueChange:U=>T({...x,departamento:U}),children:[p.jsx(Qr,{className:"bg-slate-800/50",children:p.jsx(Ps,{})}),p.jsx(Yr,{children:s.map(U=>p.jsx(on,{value:U.nome,children:U.nome},U.id))})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx($d,{id:"ativo",checked:x.ativo,onCheckedChange:U=>T({...x,ativo:U})}),p.jsx(pt,{htmlFor:"ativo",children:"Ativa"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{children:"Treinamentos (selecione na ordem desejada)"}),p.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 p-2 border border-slate-700 rounded-md",children:n.map(U=>p.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-800/50 rounded",children:[p.jsx(Oj,{id:`training-${U.id}`,checked:x.treinamentos.includes(U.id),onCheckedChange:()=>B(U.id)}),p.jsx("label",{htmlFor:`training-${U.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:U.titulo})]},U.id))})]}),p.jsxs(Ui,{children:[p.jsx(Ce,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),p.jsx(Ce,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:u?"Salvar":"Criar Trilha"})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((U,M)=>p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsxs(Et,{children:[p.jsx(Ct,{className:"text-lg text-white",children:U.titulo}),p.jsx("p",{className:"text-sm text-slate-400",children:U.departamento})]}),p.jsxs(yt,{className:"flex-grow",children:[p.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:U.descricao}),p.jsxs("div",{className:"text-xs text-slate-400 mt-4 pt-2 border-t border-slate-700 flex items-center gap-2",children:[p.jsx(eB,{className:"w-4 h-4"}),p.jsxs("span",{children:[(U.treinamentos||[]).length," Treinamento(s)"]})]})]}),p.jsxs($c,{className:"flex justify-end space-x-2",children:[p.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>k(U),children:p.jsx(tl,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"sm",variant:"destructive",onClick:()=>O(U.id),children:p.jsx(Fi,{className:"w-4 h-4"})})]})]})},U.id))})]})},e0=async t=>{try{const e=await mn(pn(_t,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},CQ=()=>{const[t,e]=A.useState({trainings:[],users:[],history:[]}),[n,r]=A.useState(!0),[s,i]=A.useState("all");A.useEffect(()=>{(async()=>{r(!0);const u=await e0("treinamentos"),d=await e0("usuarios"),f=await e0("historico");e({trainings:u,users:d.filter(g=>g.tipo==="funcionario"),history:f}),r(!1)})()},[]);const o=A.useMemo(()=>{const{trainings:l,users:u,history:d}=t;if(u.length===0)return null;const f=s==="all"?l:l.filter(w=>w.id===parseInt(s)),g=d.filter(w=>w.concluido&&(s==="all"||w.treinamentoId===parseInt(s))).length,v=u.length*f.length,x=v>0?g/v*100:0,T=u.map(w=>{const R=d.filter(O=>O.usuarioId===w.id&&(s==="all"||O.treinamentoId===parseInt(s))),k=R.filter(O=>O.concluido).length,N=R.reduce((O,B)=>O+(B.notaQuestionario||0),0)/(R.length||1);return{...w,completedCount:k,progress:f.length>0?k/f.length*100:0,avgScore:N}}).sort((w,R)=>R.completedCount-w.completedCount),b=l.map(w=>{const R=d.filter(N=>N.treinamentoId===w.id&&N.concluido).length,k=new Set(d.filter(N=>N.treinamentoId===w.id).map(N=>N.usuarioId)).size;return{...w,completions:R,completionRate:u.length>0?R/u.length*100:0,participants:k}}).sort((w,R)=>R.completions-w.completions);return{totalCompletions:g,completionRate:x,userProgress:T,trainingStats:b,totalUsers:u.length}},[t,s]);return n?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):o?p.jsxs("div",{className:"space-y-6",children:[p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Relatrios"}),p.jsx("p",{className:"text-slate-400",children:"Analise o desempenho e progresso dos treinamentos."})]}),p.jsx("div",{className:"w-full sm:w-64",children:p.jsxs(As,{value:s,onValueChange:i,children:[p.jsxs(Qr,{className:"bg-slate-800/50 border-slate-600",children:[p.jsx(FI,{className:"w-4 h-4 mr-2"}),p.jsx(Ps,{placeholder:"Filtrar por treinamento"})]}),p.jsxs(Yr,{children:[p.jsx(on,{value:"all",children:"Todos os Treinamentos"}),t.trainings.map(l=>p.jsx(on,{value:l.id.toString(),children:l.titulo},l.id))]})]})})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsxs(Et,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:"Total de Concluses"}),p.jsx(Fc,{className:"h-5 w-5 text-green-500"})]}),p.jsx(yt,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:o.totalCompletions})})]})}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsxs(Et,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:"Taxa de Concluso Geral"}),p.jsx(nB,{className:"h-5 w-5 text-blue-500"})]}),p.jsx(yt,{children:p.jsxs("div",{className:"text-2xl font-bold text-white",children:[o.completionRate.toFixed(1),"%"]})})]})}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsxs(Et,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:"Total de Funcionrios"}),p.jsx(w_,{className:"h-5 w-5 text-purple-500"})]}),p.jsx(yt,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:o.totalUsers})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsx(Et,{children:p.jsx(Ct,{className:"text-white",children:"Progresso por Usurio"})}),p.jsx(yt,{className:"space-y-2 max-h-96 overflow-y-auto scrollbar-thin",children:o.userProgress.map(l=>p.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"text-sm font-medium text-white",children:l.nome}),p.jsxs("span",{className:"text-sm font-semibold text-blue-400",children:[l.progress.toFixed(0),"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5",children:p.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${l.progress}%`}})}),p.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[p.jsxs("span",{children:[l.completedCount," concludo(s)"]}),p.jsxs("span",{children:["Nota Mdia: ",l.avgScore.toFixed(1)]})]})]},l.id))})]})}),p.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsx(Et,{children:p.jsx(Ct,{className:"text-white",children:"Desempenho por Treinamento"})}),p.jsx(yt,{className:"space-y-2 max-h-96 overflow-y-auto scrollbar-thin",children:o.trainingStats.map(l=>p.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:l.titulo}),p.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 mt-1",children:[p.jsxs("span",{children:[l.completions," concluses"]}),p.jsxs("span",{children:[l.participants," participantes"]}),p.jsxs("span",{className:"font-semibold text-green-400",children:[l.completionRate.toFixed(0),"%"]})]})]},l.id))})]})})]})]}):p.jsx("div",{className:"text-center text-slate-400",children:"No h dados suficientes para gerar relatrios."})};var Cp={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var AQ=Cp.exports,SA;function PQ(){return SA||(SA=1,(function(t,e){((n,r)=>{t.exports=r()})(AQ,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},u=0,d={};function f(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var j=B(P);j.chunkSize=parseInt(j.chunkSize),P.step||P.chunk||(j.chunkSize=null),this._handle=new b(j),(this._handle.streamer=this)._config=j}).call(this,E),this.parseChunk=function(P,j){var F=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<F){let V=this._config.newline;V||(D=this._config.quoteChar||'"',V=this._handle.guessLineEndings(P,D)),P=[...P.split(V).slice(F)].join(V)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(P))!==void 0&&(P=D),this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+P,D=(this._partialLine="",this._handle.parse(F,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=D.meta.cursor,F=(this._finished||(this._partialLine=F.substring(P-this._baseIndex),this._baseIndex=P),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:D,workerId:d.WORKER_ID,finished:F});else if(M(this._config.chunk)&&!j){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!F||!M(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(P){M(this._config.error)?this._config.error(P):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:P,finished:!1})}}function g(E){var P;(E=E||{}).chunkSize||(E.chunkSize=d.RemoteChunkSize),f.call(this,E),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),i||(P.onload=U(this._chunkLoaded,this),P.onerror=U(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var j,F=this._config.downloadRequestHeaders;for(j in F)P.setRequestHeader(j,F[j])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+D));try{P.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}i&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(j){j=P.statusText||j,this._sendError(new Error(j))}}function v(E){(E=E||{}).chunkSize||(E.chunkSize=d.LocalChunkSize),f.call(this,E);var P,j,F=typeof FileReader<"u";this.stream=function(D){this._input=D,j=D.slice||D.webkitSlice||D.mozSlice,F?((P=new FileReader).onload=U(this._chunkLoaded,this),P.onerror=U(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),D=j.call(D,this._start,V)),P.readAsText(D,this._config.encoding));F||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(P.error)}}function x(E){var P;f.call(this,E=E||{}),this.stream=function(j){return P=j,this._nextChunk()},this._nextChunk=function(){var j,F;if(!this._finished)return j=this._config.chunkSize,P=j?(F=P.substring(0,j),P.substring(j)):(F=P,""),this._finished=!P,this.parseChunk(F)}}function T(E){f.call(this,E=E||{});var P=[],j=!0,F=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):j=!0},this._streamData=U(function(D){try{P.push(typeof D=="string"?D:D.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(V){this._streamError(V)}},this),this._streamError=U(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=U(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(E){var P,j,F,D,V=Math.pow(2,53),J=-V,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,G=0,te=0,ae=!1,H=!1,Z=[],oe={data:[],errors:[],meta:{}};function xe(fe){return E.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function be(){if(oe&&F&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),F=!1),E.skipEmptyLines&&(oe.data=oe.data.filter(function(se){return!xe(se)})),Te()){let se=function(ye,Pe){M(E.transformHeader)&&(ye=E.transformHeader(ye,Pe)),Z.push(ye)};var _e=se;if(oe)if(Array.isArray(oe.data[0])){for(var fe=0;Te()&&fe<oe.data.length;fe++)oe.data[fe].forEach(se);oe.data.splice(0,1)}else oe.data.forEach(se)}function we(se,ye){for(var Pe=E.header?{}:[],Me=0;Me<se.length;Me++){var Oe=Me,vt=se[Me],vt=((et,tt)=>(bt=>(E.dynamicTypingFunction&&E.dynamicTyping[bt]===void 0&&(E.dynamicTyping[bt]=E.dynamicTypingFunction(bt)),(E.dynamicTyping[bt]||E.dynamicTyping)===!0))(et)?tt==="true"||tt==="TRUE"||tt!=="false"&&tt!=="FALSE"&&((bt=>{if(K.test(bt)&&(bt=parseFloat(bt),J<bt&&bt<V))return 1})(tt)?parseFloat(tt):W.test(tt)?new Date(tt):tt===""?null:tt):tt)(Oe=E.header?Me>=Z.length?"__parsed_extra":Z[Me]:Oe,vt=E.transform?E.transform(vt,Oe):vt);Oe==="__parsed_extra"?(Pe[Oe]=Pe[Oe]||[],Pe[Oe].push(vt)):Pe[Oe]=vt}return E.header&&(Me>Z.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+Me,te+ye):Me<Z.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+Me,te+ye)),Pe}var Se;oe&&(E.header||E.dynamicTyping||E.transform)&&(Se=1,!oe.data.length||Array.isArray(oe.data[0])?(oe.data=oe.data.map(we),Se=oe.data.length):oe.data=we(oe.data,0),E.header&&oe.meta&&(oe.meta.fields=Z),te+=Se)}function Te(){return E.header&&Z.length===0}function pe(fe,we,Se,_e){fe={type:fe,code:we,message:Se},_e!==void 0&&(fe.row=_e),oe.errors.push(fe)}M(E.step)&&(D=E.step,E.step=function(fe){oe=fe,Te()?be():(be(),oe.data.length!==0&&(G+=fe.data.length,E.preview&&G>E.preview?j.abort():(oe.data=oe.data[0],D(oe,Y))))}),this.parse=function(fe,we,Se){var _e=E.quoteChar||'"',_e=(E.newline||(E.newline=this.guessLineEndings(fe,_e)),F=!1,E.delimiter?M(E.delimiter)&&(E.delimiter=E.delimiter(fe),oe.meta.delimiter=E.delimiter):((_e=((se,ye,Pe,Me,Oe)=>{var vt,et,tt,bt;Oe=Oe||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Nn=0;Nn<Oe.length;Nn++){for(var Dn,Pr=Oe[Nn],zt=0,jn=0,Ze=0,it=(tt=void 0,new R({comments:Me,delimiter:Pr,newline:ye,preview:10}).parse(se)),ln=0;ln<it.data.length;ln++)Pe&&xe(it.data[ln])?Ze++:(Dn=it.data[ln].length,jn+=Dn,tt===void 0?tt=Dn:0<Dn&&(zt+=Math.abs(Dn-tt),tt=Dn));0<it.data.length&&(jn/=it.data.length-Ze),(et===void 0||zt<=et)&&(bt===void 0||bt<jn)&&1.99<jn&&(et=zt,vt=Pr,bt=jn)}return{successful:!!(E.delimiter=vt),bestDelimiter:vt}})(fe,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=_e.bestDelimiter:(F=!0,E.delimiter=d.DefaultDelimiter),oe.meta.delimiter=E.delimiter),B(E));return E.preview&&E.header&&_e.preview++,P=fe,j=new R(_e),oe=j.parse(P,we,Se),be(),ae?{meta:{paused:!0}}:oe||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,j.abort(),P=M(E.chunk)?"":P.substring(j.getCharIndex())},this.resume=function(){Y.streamer._halted?(ae=!1,Y.streamer.parseChunk(P,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,j.abort(),oe.meta.aborted=!0,M(E.complete)&&E.complete(oe),P=""},this.guessLineEndings=function(se,_e){se=se.substring(0,1048576);var _e=new RegExp(w(_e)+"([^]*?)"+w(_e),"gm"),Se=(se=se.replace(_e,"")).split("\r"),_e=se.split(`
`),se=1<_e.length&&_e[0].length<Se[0].length;if(Se.length===1||se)return`
`;for(var ye=0,Pe=0;Pe<Se.length;Pe++)Se[Pe][0]===`
`&&ye++;return ye>=Se.length/2?`\r
`:"\r"}}function w(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(E){var P=(E=E||{}).delimiter,j=E.newline,F=E.comments,D=E.step,V=E.preview,J=E.fastMode,K=null,W=!1,Y=E.quoteChar==null?'"':E.quoteChar,G=Y;if(E.escapeChar!==void 0&&(G=E.escapeChar),(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=","),F===P)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<d.BAD_DELIMITERS.indexOf(F))&&(F=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var te=0,ae=!1;this.parse=function(H,Z,oe){if(typeof H!="string")throw new Error("Input must be a string");var xe=H.length,be=P.length,Te=j.length,pe=F.length,fe=M(D),we=[],Se=[],_e=[],se=te=0;if(!H)return zt();if(J||J!==!1&&H.indexOf(Y)===-1){for(var ye=H.split(j),Pe=0;Pe<ye.length;Pe++){if(_e=ye[Pe],te+=_e.length,Pe!==ye.length-1)te+=j.length;else if(oe)return zt();if(!F||_e.substring(0,pe)!==F){if(fe){if(we=[],bt(_e.split(P)),jn(),ae)return zt()}else bt(_e.split(P));if(V&&V<=Pe)return we=we.slice(0,V),zt(!0)}}return zt()}for(var Me=H.indexOf(P,te),Oe=H.indexOf(j,te),vt=new RegExp(w(G)+w(Y),"g"),et=H.indexOf(Y,te);;)if(H[te]===Y)for(et=te,te++;;){if((et=H.indexOf(Y,et+1))===-1)return oe||Se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:we.length,index:te}),Dn();if(et===xe-1)return Dn(H.substring(te,et).replace(vt,Y));if(Y===G&&H[et+1]===G)et++;else if(Y===G||et===0||H[et-1]!==G){Me!==-1&&Me<et+1&&(Me=H.indexOf(P,et+1));var tt=Nn((Oe=Oe!==-1&&Oe<et+1?H.indexOf(j,et+1):Oe)===-1?Me:Math.min(Me,Oe));if(H.substr(et+1+tt,be)===P){_e.push(H.substring(te,et).replace(vt,Y)),H[te=et+1+tt+be]!==Y&&(et=H.indexOf(Y,te)),Me=H.indexOf(P,te),Oe=H.indexOf(j,te);break}if(tt=Nn(Oe),H.substring(et+1+tt,et+1+tt+Te)===j){if(_e.push(H.substring(te,et).replace(vt,Y)),Pr(et+1+tt+Te),Me=H.indexOf(P,te),et=H.indexOf(Y,te),fe&&(jn(),ae))return zt();if(V&&we.length>=V)return zt(!0);break}Se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:we.length,index:te}),et++}}else if(F&&_e.length===0&&H.substring(te,te+pe)===F){if(Oe===-1)return zt();te=Oe+Te,Oe=H.indexOf(j,te),Me=H.indexOf(P,te)}else if(Me!==-1&&(Me<Oe||Oe===-1))_e.push(H.substring(te,Me)),te=Me+be,Me=H.indexOf(P,te);else{if(Oe===-1)break;if(_e.push(H.substring(te,Oe)),Pr(Oe+Te),fe&&(jn(),ae))return zt();if(V&&we.length>=V)return zt(!0)}return Dn();function bt(Ze){we.push(Ze),se=te}function Nn(Ze){var it=0;return it=Ze!==-1&&(Ze=H.substring(et+1,Ze))&&Ze.trim()===""?Ze.length:it}function Dn(Ze){return oe||(Ze===void 0&&(Ze=H.substring(te)),_e.push(Ze),te=xe,bt(_e),fe&&jn()),zt()}function Pr(Ze){te=Ze,bt(_e),_e=[],Oe=H.indexOf(j,te)}function zt(Ze){if(E.header&&!Z&&we.length&&!W){var it=we[0],ln=Object.create(null),ui=new Set(it);let Zr=!1;for(let Jn=0;Jn<it.length;Jn++){let gn=it[Jn];if(ln[gn=M(E.transformHeader)?E.transformHeader(gn,Jn):gn]){let Jr,qi=ln[gn];for(;Jr=gn+"_"+qi,qi++,ui.has(Jr););ui.add(Jr),it[Jn]=Jr,ln[gn]++,Zr=!0,(K=K===null?{}:K)[Jr]=gn}else ln[gn]=1,it[Jn]=gn;ui.add(gn)}Zr&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:we,errors:Se,meta:{delimiter:P,linebreak:j,aborted:ae,truncated:!!Ze,cursor:se+(Z||0),renamedHeaders:K}}}function jn(){D(zt()),we=[],Se=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return te}}function k(E){var P=E.data,j=l[P.workerId],F=!1;if(P.error)j.userError(P.error,P.file);else if(P.results&&P.results.data){var D={abort:function(){F=!0,N(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(M(j.userStep)){for(var V=0;V<P.results.data.length&&(j.userStep({data:P.results.data[V],errors:P.results.errors,meta:P.results.meta},D),!F);V++);delete P.results}else M(j.userChunk)&&(j.userChunk(P.results,D,P.file),delete P.results)}P.finished&&!F&&N(P.workerId,P.results)}function N(E,P){var j=l[E];M(j.userComplete)&&j.userComplete(P),j.terminate(),delete l[E]}function O(){throw new Error("Not implemented.")}function B(E){if(typeof E!="object"||E===null)return E;var P,j=Array.isArray(E)?[]:{};for(P in E)j[P]=B(E[P]);return j}function U(E,P){return function(){E.apply(P,arguments)}}function M(E){return typeof E=="function"}return d.parse=function(E,P){var j=(P=P||{}).dynamicTyping||!1;if(M(j)&&(P.dynamicTypingFunction=j,j={}),P.dynamicTyping=j,P.transform=!!M(P.transform)&&P.transform,!P.worker||!d.WORKERS_SUPPORTED)return j=null,d.NODE_STREAM_INPUT,typeof E=="string"?(E=(F=>F.charCodeAt(0)!==65279?F:F.slice(1))(E),j=new(P.download?g:x)(P)):E.readable===!0&&M(E.read)&&M(E.on)?j=new T(P):(r.File&&E instanceof File||E instanceof Object)&&(j=new v(P)),j.stream(E);(j=(()=>{var F;return!!d.WORKERS_SUPPORTED&&(F=(()=>{var D=r.URL||r.webkitURL||null,V=n.toString();return d.BLOB_URL||(d.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(F=new r.Worker(F)).onmessage=k,F.id=u++,l[F.id]=F)})()).userStep=P.step,j.userChunk=P.chunk,j.userComplete=P.complete,j.userError=P.error,P.step=M(P.step),P.chunk=M(P.chunk),P.complete=M(P.complete),P.error=M(P.error),delete P.worker,j.postMessage({input:E,config:P,workerId:j.id})},d.unparse=function(E,P){var j=!1,F=!0,D=",",V=`\r
`,J='"',K=J+J,W=!1,Y=null,G=!1,te=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||d.BAD_DELIMITERS.filter(function(Z){return P.delimiter.indexOf(Z)!==-1}).length||(D=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(j=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(W=P.skipEmptyLines),typeof P.newline=="string"&&(V=P.newline),typeof P.quoteChar=="string"&&(J=P.quoteChar),typeof P.header=="boolean"&&(F=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");Y=P.columns}P.escapeChar!==void 0&&(K=P.escapeChar+J),P.escapeFormulae instanceof RegExp?G=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(J),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return ae(null,E,W);if(typeof E[0]=="object")return ae(Y||Object.keys(E[0]),E,W)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||Y),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),ae(E.fields||[],E.data||[],W);throw new Error("Unable to serialize unrecognized input");function ae(Z,oe,xe){var be="",Te=(typeof Z=="string"&&(Z=JSON.parse(Z)),typeof oe=="string"&&(oe=JSON.parse(oe)),Array.isArray(Z)&&0<Z.length),pe=!Array.isArray(oe[0]);if(Te&&F){for(var fe=0;fe<Z.length;fe++)0<fe&&(be+=D),be+=H(Z[fe],fe);0<oe.length&&(be+=V)}for(var we=0;we<oe.length;we++){var Se=(Te?Z:oe[we]).length,_e=!1,se=Te?Object.keys(oe[we]).length===0:oe[we].length===0;if(xe&&!Te&&(_e=xe==="greedy"?oe[we].join("").trim()==="":oe[we].length===1&&oe[we][0].length===0),xe==="greedy"&&Te){for(var ye=[],Pe=0;Pe<Se;Pe++){var Me=pe?Z[Pe]:Pe;ye.push(oe[we][Me])}_e=ye.join("").trim()===""}if(!_e){for(var Oe=0;Oe<Se;Oe++){0<Oe&&!se&&(be+=D);var vt=Te&&pe?Z[Oe]:Oe;be+=H(oe[we][vt],Oe)}we<oe.length-1&&(!xe||0<Se&&!se)&&(be+=V)}}return be}function H(Z,oe){var xe,be;return Z==null?"":Z.constructor===Date?JSON.stringify(Z).slice(1,25):(be=!1,G&&typeof Z=="string"&&G.test(Z)&&(Z="'"+Z,be=!0),xe=Z.toString().replace(te,K),(be=be||j===!0||typeof j=="function"&&j(Z,oe)||Array.isArray(j)&&j[oe]||((Te,pe)=>{for(var fe=0;fe<pe.length;fe++)if(-1<Te.indexOf(pe[fe]))return!0;return!1})(xe,d.BAD_DELIMITERS)||-1<xe.indexOf(D)||xe.charAt(0)===" "||xe.charAt(xe.length-1)===" ")?J+xe+J:xe)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=R,d.ParserHandle=b,d.NetworkStreamer=g,d.FileStreamer=v,d.StringStreamer=x,d.ReadableStreamStreamer=T,r.jQuery&&((s=r.jQuery).fn.parse=function(E){var P=E.config||{},j=[];return this.each(function(V){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var J=0;J<this.files.length;J++)j.push({file:this.files[J],inputElem:this,instanceConfig:s.extend({},P)})}),F(),this;function F(){if(j.length===0)M(E.complete)&&E.complete();else{var V,J,K,W,Y=j[0];if(M(E.before)){var G=E.before(Y.file,Y.inputElem);if(typeof G=="object"){if(G.action==="abort")return V="AbortError",J=Y.file,K=Y.inputElem,W=G.reason,void(M(E.error)&&E.error({name:V},J,K,W));if(G.action==="skip")return void D();typeof G.config=="object"&&(Y.instanceConfig=s.extend(Y.instanceConfig,G.config))}else if(G==="skip")return void D()}var te=Y.instanceConfig.complete;Y.instanceConfig.complete=function(ae){M(te)&&te(ae,Y.file,Y.inputElem),D()},d.parse(Y.file,Y.instanceConfig)}}function D(){j.splice(0,1),F()}}),o&&(r.onmessage=function(E){E=E.data,d.WORKER_ID===void 0&&E&&(d.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=d.parse(E.input,E.config))&&r.postMessage({workerId:d.WORKER_ID,results:E,finished:!0})}),(g.prototype=Object.create(f.prototype)).constructor=g,(v.prototype=Object.create(f.prototype)).constructor=v,(x.prototype=Object.create(x.prototype)).constructor=x,(T.prototype=Object.create(f.prototype)).constructor=T,d})})(Cp)),Cp.exports}var RQ=PQ();const IQ=oi(RQ),t0=["usuarios","treinamentos","categorias","departamentos","historico","trilhas","knowledgeBase"],EA={blue:{gradient:"from-blue-500 to-blue-600",bg:"bg-blue-600",hoverBg:"hover:bg-blue-700"},green:{gradient:"from-green-500 to-green-600",bg:"bg-green-600",hoverBg:"hover:bg-green-700"},purple:{gradient:"from-purple-500 to-purple-600",bg:"bg-purple-600",hoverBg:"hover:bg-purple-700"},red:{gradient:"from-red-500 to-orange-600",bg:"bg-red-600",hoverBg:"hover:bg-red-700"}},kQ=()=>{const{toast:t}=Ar(),e=A.useRef(null),n=A.useRef(null),[r,s]=A.useState(null),i=async()=>{s("backup");try{const v={};for(const R of t0){const k=await mn(pn(_t,R)),N=[];k.forEach(O=>N.push({id:O.id,...O.data()})),v[R]=N}const x=JSON.stringify(v,null,2),T="data:application/json;charset=utf-8,"+encodeURIComponent(x),b="backup_completo.json",w=document.createElement("a");w.setAttribute("href",T),w.setAttribute("download",b),w.click(),t({title:"Backup Realizado",description:"O arquivo de backup foi baixado."})}catch{t({title:"Erro no Backup",description:"No foi possvel gerar o backup.",variant:"destructive"})}finally{s(null)}},o=v=>{var b;const x=(b=v.target.files)==null?void 0:b[0];if(!x)return;const T=new FileReader;T.onload=async w=>{var R;s("importJson");try{const k=JSON.parse((R=w.target)==null?void 0:R.result);if(!window.confirm("ATENO: A importao ir sobrescrever TODOS os dados existentes. Deseja continuar?")){s(null);return}const N=mS(_t);for(const O of t0)(await mn(pn(_t,O))).forEach(U=>N.delete(U.ref)),k[O]&&k[O].forEach(U=>{const M=doc(_t,O,U.id);N.set(M,U)});await N.commit(),t({title:" Importao Concluda",description:"Os dados foram restaurados com sucesso."}),setTimeout(()=>window.location.reload(),1500)}catch{t({title:" Erro na Importao",description:"O arquivo JSON  invlido ou a operao falhou.",variant:"destructive"})}finally{s(null)}},T.readAsText(x),v.target.value=""},l=v=>{var T;const x=(T=v.target.files)==null?void 0:T[0];x&&(s("importCsv"),IQ.parse(x,{header:!0,skipEmptyLines:!0,complete:async b=>{try{const w=b.data;for(const R of w){const k={...R,ativo:R.ativo?R.ativo.toLowerCase()==="true":!0,dataCriacao:new Date().toISOString()};await li("usuarios",k)}t({title:" Importao de Usurios Concluda",description:`${w.length} usurios foram importados.`})}catch{t({title:" Erro na Importao do CSV",description:"No foi possvel processar os dados.",variant:"destructive"})}finally{s(null)}},error:b=>{t({title:" Erro ao ler o arquivo CSV",description:b.message,variant:"destructive"}),s(null)}}),v.target.value="")},g=[{id:"backup",title:"Backup dos Dados",description:"Faa o download de um backup completo dos dados.",icon:VI,action:i,buttonText:"Fazer Backup",color:"blue"},{id:"importJson",title:"Importar Dados (JSON)",description:"Importe dados de um arquivo de backup para restaurar o sistema.",icon:X6,action:()=>{var v;return(v=e.current)==null?void 0:v.click()},buttonText:"Importar JSON",color:"green"},{id:"importCsv",title:"Importar Usurios (CSV)",description:"Importe uma lista de usurios a partir de um arquivo CSV.",icon:Y6,action:()=>{var v;return(v=n.current)==null?void 0:v.click()},buttonText:"Importar CSV",color:"purple"},{id:"reset",title:"Resetar Dados da Aplicao",description:"Ateno: Esta ao apaga todos os dados do banco de dados.",icon:qI,action:async()=>{if(window.confirm("ATENO: Esta ao ir apagar TODOS os dados do Firestore (usurios, treinamentos, etc.). Esta ao  irreversvel. Deseja continuar?")&&window.confirm("CONFIRMAO FINAL: Tem certeza absoluta que deseja resetar todos os dados?")){s("reset");try{const v=mS(_t);for(const x of t0)(await mn(pn(_t,x))).forEach(b=>v.delete(b.ref));await v.commit(),t({title:"Dados Resetados!",description:"A aplicao ser recarregada."}),setTimeout(()=>window.location.reload(),1500)}catch{t({title:"Erro ao Resetar",description:"No foi possvel limpar o banco de dados.",variant:"destructive"})}finally{s(null)}}},buttonText:"Resetar Dados",color:"red"}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Configuraes"}),p.jsx("p",{className:"text-slate-400",children:"Gerencie as configuraes gerais da plataforma."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((v,x)=>{const T=v.icon,b=EA[v.color]||EA.blue,w=r===v.id;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*(x+1)},children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsx(Et,{children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${b.gradient}`,children:p.jsx(T,{className:"h-6 w-6 text-white"})}),p.jsx("div",{children:p.jsx(Ct,{className:"text-lg text-white",children:v.title})})]})}),p.jsxs(yt,{className:"flex-grow flex flex-col justify-between",children:[p.jsx(zi,{className:"text-slate-300 mb-4",children:v.description}),p.jsxs(Ce,{onClick:v.action,className:`w-full ${b.bg} ${b.hoverBg}`,disabled:w,children:[w?p.jsx(qt,{className:"w-4 h-4 mr-2 animate-spin"}):null,w?"Processando...":v.buttonText]})]})]})},v.title)})}),p.jsx("input",{type:"file",ref:e,onChange:o,accept:"application/json",style:{display:"none"}}),p.jsx("input",{type:"file",ref:n,onChange:l,accept:".csv",style:{display:"none"}})]})},NQ=({training:t,userProgress:e,categories:n,onStartTraining:r,index:s})=>{const{user:i}=Rs(),{toast:o}=Ar(),l=(x,T)=>{const b=n.find(w=>w.id===x);return T==="nome"?(b==null?void 0:b.nome)||"N/A":T==="cor"?(b==null?void 0:b.cor)||"#3b82f6":null},d=e?e.concluido?"completed":"in-progress":"not-started",f=async x=>{if(x.stopPropagation(),!(!i||!t||!e))try{const T={concluido:!1,dataConclucao:null,notaQuestionario:null,tempoAssistido:0};await ri("historico",e.id,T),o({title:"Progresso resetado!",description:`Voc pode refazer o treinamento "${t.titulo}" agora.`})}catch(T){console.error("Erro ao tentar refazer o treinamento:",T),o({title:"Erro",description:"No foi possvel resetar o progresso.",variant:"destructive"})}},v=d==="completed"?100:d==="in-progress"&&(e!=null&&e.tempoAssistido)&&(t!=null&&t.duracao)?Math.min(99,Math.round(e.tempoAssistido/t.duracao*100)):0;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsx(Et,{className:"pb-3",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx(Ct,{className:"text-lg text-white mb-2",children:t.titulo}),p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(Do,{style:{backgroundColor:l(t.categoriaId,"cor")},className:"text-white",children:l(t.categoriaId,"nome")}),t.obrigatorio&&p.jsx(Do,{variant:"destructive",children:"Obrigatrio"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[d==="completed"&&p.jsx(Fc,{className:"w-6 h-6 text-green-500"}),d==="in-progress"&&p.jsx(OI,{className:"w-6 h-6 text-yellow-500"}),d==="not-started"&&t.obrigatorio&&p.jsx($6,{className:"w-6 h-6 text-red-500"})]})]})}),p.jsxs(yt,{className:"space-y-4 flex-grow flex flex-col justify-end",children:[p.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:t.descricao}),(d==="in-progress"||d==="completed")&&e&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-slate-400",children:"Progresso"}),p.jsxs("span",{className:"text-white",children:[v,"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${v}%`}})}),d==="completed"&&e.notaQuestionario!==null&&p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-slate-400",children:"Nota:"}),p.jsxs("span",{className:"text-green-400 font-semibold",children:[e.notaQuestionario,"/10"]})]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-700 flex items-center space-x-2",children:[p.jsxs(Ce,{onClick:r,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[p.jsx($I,{className:"w-4 h-4 mr-2"}),d==="completed"?"Ver Novamente":d==="in-progress"?"Continuar":"Iniciar"]}),d==="completed"&&p.jsx(Ce,{onClick:f,variant:"outline",className:"border-slate-600 hover:bg-slate-700",title:"Refazer Treinamento",children:p.jsx(HI,{className:"w-4 h-4"})})]})]})]})})};var n0,CA;function DQ(){return CA||(CA=1,n0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),n0}var jQ=DQ();const MQ=oi(jQ);var Jf={exports:{}},r0,AA;function OQ(){if(AA)return r0;AA=1;var t;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return t=function(){var e={},n={};return e.on=function(r,s){var i={name:r,handler:s};return n[r]=n[r]||[],n[r].unshift(i),i},e.off=function(r){var s=n[r.name].indexOf(r);s!==-1&&n[r.name].splice(s,1)},e.trigger=function(r,s){var i=n[r],o;if(i)for(o=i.length;o--;)i[o].handler(s)},e},r0=t,r0}var ep={exports:{}},s0,PA;function VQ(){if(PA)return s0;PA=1,s0=function(s,i,o){var l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof i=="function"&&(o=i,i={}),i=i||{},o=o||function(){},u.type=i.type||"text/javascript",u.charset=i.charset||"utf8",u.async="async"in i?!!i.async:!0,u.src=s,i.attrs&&t(u,i.attrs),i.text&&(u.text=""+i.text);var d="onload"in u?e:n;d(u,o),u.onload||e(u,o),l.appendChild(u)};function t(r,s){for(var i in s)r.setAttribute(i,s[i])}function e(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return s0}var RA;function LQ(){return RA||(RA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=VQ(),r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}e.default=function(i){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(f){f&&i.trigger("error",f)})}var d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){d&&d(),l(window.YT)}});return o},t.exports=e.default})(ep,ep.exports)),ep.exports}var tp={exports:{}},np={exports:{}},rp={exports:{}},i0,IA;function FQ(){if(IA)return i0;IA=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*365.25;i0=function(d,f){f=f||{};var g=typeof d;if(g==="string"&&d.length>0)return i(d);if(g==="number"&&isNaN(d)===!1)return f.long?l(d):o(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function i(d){if(d=String(d),!(d.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(d);if(f){var g=parseFloat(f[1]),v=(f[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"days":case"day":case"d":return g*r;case"hours":case"hour":case"hrs":case"hr":case"h":return g*n;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function o(d){return d>=r?Math.round(d/r)+"d":d>=n?Math.round(d/n)+"h":d>=e?Math.round(d/e)+"m":d>=t?Math.round(d/t)+"s":d+"ms"}function l(d){return u(d,r,"day")||u(d,n,"hour")||u(d,e,"minute")||u(d,t,"second")||d+" ms"}function u(d,f,g){if(!(d<f))return d<f*1.5?Math.floor(d/f)+" "+g:Math.ceil(d/f)+" "+g+"s"}return i0}var kA;function BQ(){return kA||(kA=1,(function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=u,e.disable=o,e.enable=i,e.enabled=l,e.humanize=FQ(),e.names=[],e.skips=[],e.formatters={};var n;function r(d){var f=0,g;for(g in d)f=(f<<5)-f+d.charCodeAt(g),f|=0;return e.colors[Math.abs(f)%e.colors.length]}function s(d){function f(){if(f.enabled){var g=f,v=+new Date,x=v-(n||v);g.diff=x,g.prev=n,g.curr=v,n=v;for(var T=new Array(arguments.length),b=0;b<T.length;b++)T[b]=arguments[b];T[0]=e.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");var w=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,function(k,N){if(k==="%%")return k;w++;var O=e.formatters[N];if(typeof O=="function"){var B=T[w];k=O.call(g,B),T.splice(w,1),w--}return k}),e.formatArgs.call(g,T);var R=f.log||e.log||console.log.bind(console);R.apply(g,T)}}return f.namespace=d,f.enabled=e.enabled(d),f.useColors=e.useColors(),f.color=r(d),typeof e.init=="function"&&e.init(f),f}function i(d){e.save(d),e.names=[],e.skips=[];for(var f=(typeof d=="string"?d:"").split(/[\s,]+/),g=f.length,v=0;v<g;v++)f[v]&&(d=f[v].replace(/\*/g,".*?"),d[0]==="-"?e.skips.push(new RegExp("^"+d.substr(1)+"$")):e.names.push(new RegExp("^"+d+"$")))}function o(){e.enable("")}function l(d){var f,g;for(f=0,g=e.skips.length;f<g;f++)if(e.skips[f].test(d))return!1;for(f=0,g=e.names.length;f<g;f++)if(e.names[f].test(d))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}})(rp,rp.exports)),rp.exports}var NA;function zQ(){return NA||(NA=1,(function(t,e){var n={};e=t.exports=BQ(),e.log=i,e.formatArgs=s,e.save=o,e.load=l,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function s(d){var f=this.useColors;if(d[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+d[0]+(f?"%c ":" ")+"+"+e.humanize(this.diff),!!f){var g="color: "+this.color;d.splice(1,0,g,"color: inherit");var v=0,x=0;d[0].replace(/%[a-zA-Z%]/g,function(T){T!=="%%"&&(v++,T==="%c"&&(x=v))}),d.splice(x,0,g)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(d){try{d==null?e.storage.removeItem("debug"):e.storage.debug=d}catch{}}function l(){var d;try{d=e.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}e.enable(l());function u(){try{return window.localStorage}catch{}}})(np,np.exports)),np.exports}var sp={exports:{}},DA;function UQ(){return DA||(DA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(sp,sp.exports)),sp.exports}var ip={exports:{}},jA;function $Q(){return jA||(jA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(ip,ip.exports)),ip.exports}var op={exports:{}},ap={exports:{}},MA;function HQ(){return MA||(MA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(ap,ap.exports)),ap.exports}var OA;function WQ(){return OA||(OA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=HQ(),r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(op,op.exports)),op.exports}var VA;function qQ(){return VA||(VA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=zQ(),r=f(n),s=UQ(),i=f(s),o=$Q(),l=f(o),u=WQ(),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}var g=(0,r.default)("youtube-player"),v={};v.proxyEvents=function(x){var T={},b=function(M){var E="on"+M.slice(0,1).toUpperCase()+M.slice(1);T[E]=function(P){g('event "%s"',E,P),x.trigger(M,P)}},w=!0,R=!1,k=void 0;try{for(var N=l.default[Symbol.iterator](),O;!(w=(O=N.next()).done);w=!0){var B=O.value;b(B)}}catch(U){R=!0,k=U}finally{try{!w&&N.return&&N.return()}finally{if(R)throw k}}return T},v.promisifyPlayer=function(x){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b={},w=function(E){T&&d.default[E]?b[E]=function(){for(var P=arguments.length,j=Array(P),F=0;F<P;F++)j[F]=arguments[F];return x.then(function(D){var V=d.default[E],J=D.getPlayerState(),K=D[E].apply(D,j);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(J)===-1?new Promise(function(W){var Y=function G(){var te=D.getPlayerState(),ae=void 0;typeof V.timeout=="number"&&(ae=setTimeout(function(){D.removeEventListener("onStateChange",G),W()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(te)!==-1&&(D.removeEventListener("onStateChange",G),clearTimeout(ae),W())};D.addEventListener("onStateChange",Y)}).then(function(){return K}):K})}:b[E]=function(){for(var P=arguments.length,j=Array(P),F=0;F<P;F++)j[F]=arguments[F];return x.then(function(D){return D[E].apply(D,j)})}},R=!0,k=!1,N=void 0;try{for(var O=i.default[Symbol.iterator](),B;!(R=(B=O.next()).done);R=!0){var U=B.value;w(U)}}catch(M){k=!0,N=M}finally{try{!R&&O.return&&O.return()}finally{if(k)throw N}}return b},e.default=v,t.exports=e.default})(tp,tp.exports)),tp.exports}var LA;function GQ(){return LA||(LA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},r=OQ(),s=d(r),i=LQ(),o=d(i),l=qQ(),u=d(l);function d(g){return g&&g.__esModule?g:{default:g}}var f=void 0;e.default=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=(0,s.default)();if(f||(f=(0,o.default)(T)),v.events)throw new Error("Event handlers cannot be overwritten.");if(typeof g=="string"&&!document.getElementById(g))throw new Error('Element "'+g+'" does not exist.');v.events=u.default.proxyEvents(T);var b=new Promise(function(R){if((typeof g>"u"?"undefined":n(g))==="object"&&g.playVideo instanceof Function){var k=g;R(k)}else f.then(function(N){var O=new N.Player(g,v);return T.on("ready",function(){R(O)}),null})}),w=u.default.promisifyPlayer(b,x);return w.on=T.on,w.off=T.off,w},t.exports=e.default})(Jf,Jf.exports)),Jf.exports}var KQ=GQ();const QQ=oi(KQ);var YQ=Object.defineProperty,XQ=Object.defineProperties,ZQ=Object.getOwnPropertyDescriptors,FA=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,eY=Object.prototype.propertyIsEnumerable,BA=(t,e,n)=>e in t?YQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sx=(t,e)=>{for(var n in e||(e={}))JQ.call(e,n)&&BA(t,n,e[n]);if(FA)for(var n of FA(e))eY.call(e,n)&&BA(t,n,e[n]);return t},Ex=(t,e)=>XQ(t,ZQ(e)),tY=(t,e,n)=>new Promise((r,s)=>{var i=u=>{try{l(n.next(u))}catch(d){s(d)}},o=u=>{try{l(n.throw(u))}catch(d){s(d)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,o);l((n=n.apply(t,e)).next())});function nY(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const s=((n=t.opts)==null?void 0:n.playerVars)||{},i=((r=e.opts)==null?void 0:r.playerVars)||{};return s.start!==i.start||s.end!==i.end}function zA(t={}){return Ex(Sx({},t),{height:0,width:0,playerVars:Ex(Sx({},t.playerVars),{autoplay:0,start:0,end:0})})}function rY(t,e){return t.videoId!==e.videoId||!MQ(zA(t.opts),zA(e.opts))}function sY(t,e){var n,r,s,i;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((s=t.opts)==null?void 0:s.height)!==((i=e.opts)==null?void 0:i.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var iY={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},oY={videoId:Ye.string,id:Ye.string,className:Ye.string,iframeClassName:Ye.string,style:Ye.object,title:Ye.string,loading:Ye.oneOf(["lazy","eager"]),opts:Ye.objectOf(Ye.any),onReady:Ye.func,onError:Ye.func,onPlay:Ye.func,onPause:Ye.func,onEnd:Ye.func,onStateChange:Ye.func,onPlaybackRateChange:Ye.func,onPlaybackQualityChange:Ye.func},Ap=class extends Ue.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,s,i,o,l,u,d;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case Ap.PlayerState.ENDED:(i=(s=this.props).onEnd)==null||i.call(s,e);break;case Ap.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,e);break;case Ap.PlayerState.PAUSED:(d=(u=this.props).onPause)==null||d.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Ex(Sx({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=QQ(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let i=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(i=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(s=this.internalPlayer)==null||s.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return tY(this,null,function*(){sY(t,this.props)&&this.updatePlayer(),rY(t,this.props)&&(yield this.resetPlayer()),nY(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Ue.createElement("div",{className:this.props.className,style:this.props.style},Ue.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},gg=Ap;gg.propTypes=oY;gg.defaultProps=iY;gg.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var aY=gg;const lY=({training:t,onQuizComplete:e})=>{const[n,r]=A.useState(0),[s,i]=A.useState([]),o=u=>{const d=[...s,u];if(i(d),n<t.perguntas.length-1)r(n+1);else{let f=0;t.perguntas.forEach((v,x)=>{d[x]===v.respostaCorreta&&f++});const g=Math.round(f/t.perguntas.length*10);e(g)}},l=t.perguntas[n];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Questionrio - Pergunta ",n+1," de ",t.perguntas.length]}),p.jsx("div",{className:"w-32 bg-slate-700 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(n+1)/t.perguntas.length*100}%`}})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-xl text-white",children:l.pergunta}),p.jsx("div",{className:"space-y-3",children:l.opcoes.map((u,d)=>p.jsxs(Ce,{variant:"outline",onClick:()=>o(d),className:"w-full text-left justify-start p-4 h-auto border-slate-600 hover:bg-slate-700",children:[p.jsx("span",{className:"mr-3 w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center text-sm",children:String.fromCharCode(65+d)}),u]},d))})]})]})},Vj=({training:t,isOpen:e,onClose:n,onComplete:r})=>{const[s,i]=A.useState(!1),[o,l]=A.useState(!1);A.useRef(null);const{toast:u}=Ar(),{user:d}=Rs(),g=(O=>{if(!O)return null;try{const B=new URL(O);if(B.hostname==="youtu.be")return B.pathname.slice(1);if(B.hostname.includes("youtube.com"))return B.searchParams.get("v")}catch{return null}return null})(t==null?void 0:t.video),v=!!g,x=async()=>{const O=br(pn(_t,"historico"),$r("usuarioId","==",d.id),$r("treinamentoId","==",t.id)),B=await mn(O);if(!B.empty){const U=B.docs[0];return{id:U.id,...U.data()}}return null},T=O=>{O.data===0&&l(!0)},b=async O=>{const B=await x(),U={concluido:!0,dataConclusao:new Date().toISOString(),notaQuestionario:O,pontosGanhos:O};if(B)await ri("historico",B.id,U);else{const M={usuarioId:d.id,treinamentoId:t.id,...U};await li("historico",M)}u({title:"Treinamento concludo!",description:O!==null?`Parabns! Voc ganhou ${O} pontos.`:"Voc concluiu o treinamento."}),i(!1),r()},w=()=>{if(!(t!=null&&t.perguntas)||t.perguntas.length===0){b(5);return}i(!0)},R=O=>{O&&O.url?window.open(O.url,"_blank"):u({title:"Erro",description:"No foi possvel encontrar o URL do arquivo.",variant:"destructive"})},k=()=>{i(!1),n()},N=(t==null?void 0:t.perguntas)&&t.perguntas.length>0;return p.jsx(si,{open:e,onOpenChange:k,children:p.jsxs(bs,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto scrollbar-thin",children:[p.jsx(Ts,{children:p.jsx(Ss,{className:"text-xl",children:t==null?void 0:t.titulo})}),s?p.jsx(lY,{training:t,onQuizComplete:b}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"relative pt-[56.25%] bg-slate-800 rounded-lg overflow-hidden",children:e&&(t!=null&&t.video)?v?p.jsx(aY,{videoId:g,className:"absolute top-0 left-0 w-full h-full",opts:{width:"100%",height:"100%"},onStateChange:T}):p.jsx("iframe",{src:t.video,title:t.titulo,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):p.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:p.jsx("p",{children:"URL de vdeo invlida."})})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:t==null?void 0:t.descricao}),((t==null?void 0:t.arquivosComplementares)||[]).length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Arquivos Complementares"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.arquivosComplementares.map((O,B)=>p.jsxs(Ce,{variant:"outline",onClick:()=>R(O),className:"justify-start border-slate-600 hover:bg-slate-700",children:[p.jsx(VI,{className:"w-4 h-4 mr-2"})," ",O.name]},B))})]}),p.jsx("div",{className:"flex justify-end",children:N?p.jsxs(Ce,{onClick:w,disabled:v&&!o,className:"bg-gradient-to-r from-green-500 to-blue-500 disabled:opacity-50",children:[p.jsx(Lc,{className:"w-4 h-4 mr-2"})," Fazer Questionrio"]}):p.jsxs(Ce,{onClick:()=>b(5),disabled:v&&!o,className:"bg-gradient-to-r from-green-500 to-blue-500 disabled:opacity-50",children:[p.jsx(Fc,{className:"w-4 h-4 mr-2"})," Concluir Treinamento"]})})]})]})]})})},UA=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState({}),[u,d]=A.useState(""),[f,g]=A.useState("all"),[v,x]=A.useState(null),{user:T}=Rs(),[b,w]=A.useState(null),[R,k]=A.useState(null),[N,O]=A.useState(!0),[B,U]=A.useState(!1),[M,E]=A.useState(!0),P=async(D=!1)=>{if(B||!T)return;U(!0);const V=await K8(T.departamento,{lastVisibleDept:D?b:null,lastVisibleTodos:D?R:null});if(V.data.length>0){const J=new Map(D?t.map(W=>[W.id,W]):[]);V.data.forEach(W=>J.set(W.id,W));const K=Array.from(J.values()).sort((W,Y)=>new Date(Y.dataPublicacao)-new Date(W.dataPublicacao));e(K),w(V.lastVisibleDept),k(V.lastVisibleTodos)}!V.lastVisibleDept&&!V.lastVisibleTodos&&O(!1),U(!1)},j=async()=>{if(T){E(!0);try{const[D,V]=await Promise.all([bn("categorias"),mn(br(pn(_t,"historico"),$r("usuarioId","==",T.id)))]);i(D);const J={};V.forEach(K=>{J[K.data().treinamentoId.toString()]={id:K.id,...K.data()}}),l(J),await P(!1)}catch(D){console.error("Erro ao carregar dados iniciais:",D)}finally{E(!1)}}};A.useEffect(()=>{T&&j()},[T]),A.useEffect(()=>{let D=t;u&&(D=D.filter(V=>V.titulo.toLowerCase().includes(u.toLowerCase()))),f!=="all"&&(D=D.filter(V=>V.categoriaId.toString()===f)),r(D)},[t,u,f]);const F=async()=>{x(null);const D=await mn(br(pn(_t,"historico"),$r("usuarioId","==",T.id))),V={};D.forEach(J=>{V[J.data().treinamentoId.toString()]={id:J.id,...J.data()}}),l(J=>({...J,...V}))};return M?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meus Treinamentos"}),p.jsx("p",{className:"text-slate-400",children:"Acesse os seus treinamentos disponveis."})]}),p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col sm:flex-row gap-4",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{placeholder:"Buscar nos treinamentos carregados...",value:u,onChange:D=>d(D.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white"})]}),p.jsxs(As,{value:f,onValueChange:g,children:[p.jsxs(Qr,{className:"w-full sm:w-48 bg-slate-800/50 border-slate-600",children:[p.jsx(FI,{className:"w-4 h-4 mr-2"}),p.jsx(Ps,{placeholder:"Categoria"})]}),p.jsxs(Yr,{children:[p.jsx(on,{value:"all",children:"Todas as categorias"}),s.map(D=>p.jsx(on,{value:D.id.toString(),children:D.nome},D.id))]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((D,V)=>p.jsx(NQ,{training:D,userProgress:o[D.id.toString()],categories:s,onStartTraining:()=>x(D),index:V},D.id))}),n.length===0&&!B&&p.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[p.jsx(Gp,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhum treinamento encontrado."})]}),N&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>P(!0),disabled:B,children:B?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Treinamentos"})}),v&&p.jsx(Vj,{training:v,isOpen:!!v,onClose:()=>x(null),onComplete:F})]})},$A=async t=>{try{const e=await mn(pn(_t,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},cY=()=>{const[t,e]=A.useState([]),[n,r]=A.useState({}),[s,i]=A.useState({}),[o,l]=A.useState(null),[u,d]=A.useState(!0),{user:f}=Rs();A.useEffect(()=>{(async()=>{if(f){d(!0);try{const T=(await $A("trilhas")||[]).filter(O=>O&&O.ativo&&(O.departamento==="Todos"||O.departamento===(f==null?void 0:f.departamento)));e(T);const w=(await $A("treinamentos")||[]).reduce((O,B)=>(B&&B.id&&(O[B.id]=B),O),{});r(w);const R=br(pn(_t,"historico"),$r("usuarioId","==",f.id)),k=await mn(R),N={};k.forEach(O=>{const B=O.data();B.treinamentoId&&(N[B.treinamentoId]={id:O.id,...B})}),i(N)}catch(x){console.error("Error loading data in LearningPathList:",x)}finally{d(!1)}}})()},[f]);const g=()=>{l(null)};return u?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Minhas Trilhas de Aprendizagem"}),p.jsx("p",{className:"text-slate-400",children:"Siga as sequncias de treinamento para aprimorar suas habilidades."})]}),t.length>0?t.map((v,x)=>{const T=Array.isArray(v.treinamentos)?v.treinamentos:[],b=T.filter(N=>{var O;return(O=s[N])==null?void 0:O.concluido}).length,w=T.length,R=w>0?b/w*100:0;let k=!1;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(x+1)*.1},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsxs(Et,{children:[p.jsx(Ct,{className:"text-white",children:v.titulo||"Trilha sem ttulo"}),p.jsx("p",{className:"text-sm text-slate-300",children:v.descricao||""}),p.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:p.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${R}%`}})}),p.jsxs("span",{className:"text-sm font-semibold text-white",children:[Math.round(R),"%"]})]})]}),p.jsx(yt,{className:"space-y-3",children:T.length>0?T.map(N=>{const O=n[N];if(!O)return null;const B=s[N],U=B==null?void 0:B.concluido,M=k;return U||(k=!0),p.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${M?"bg-slate-800/30 opacity-60":"bg-slate-800/60"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[U?p.jsx(Fc,{className:"w-5 h-5 text-green-500"}):M?p.jsx(BI,{className:"w-5 h-5 text-slate-500"}):p.jsx(OI,{className:"w-5 h-5 text-blue-400"}),p.jsxs("div",{children:[p.jsx("p",{className:`font-medium ${M?"text-slate-400":"text-white"}`,children:O.titulo}),p.jsxs("p",{className:"text-xs text-slate-400",children:[(O.descricao||"").substring(0,50),"..."]})]})]}),!M&&!U&&p.jsxs(Ce,{size:"sm",onClick:()=>l(O),className:"bg-blue-600 hover:bg-blue-700",children:[p.jsx($I,{className:"w-4 h-4 mr-2"})," Iniciar"]})]},N)}):p.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Nenhum treinamento foi adicionado a esta trilha ainda."})})]})},v.id||x)}):p.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[p.jsx(U0,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhuma trilha de aprendizagem foi encontrada para voc no momento."})]}),o&&p.jsx(Vj,{training:o,isOpen:!!o,onClose:()=>l(null),onComplete:g})]})};var[yg,vX]=Xr("Tooltip",[og]),vg=og(),Lj="TooltipProvider",uY=700,Cx="tooltip.open",[dY,Dw]=yg(Lj),Fj=t=>{const{__scopeTooltip:e,delayDuration:n=uY,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=A.useRef(!0),l=A.useRef(!1),u=A.useRef(0);return A.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),p.jsx(dY,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:A.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};Fj.displayName=Lj;var Hd="Tooltip",[hY,xg]=yg(Hd),Bj=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,u=Dw(Hd,t.__scopeTooltip),d=vg(e),[f,g]=A.useState(null),v=jo(),x=A.useRef(0),T=o??u.disableHoverableContent,b=l??u.delayDuration,w=A.useRef(!1),[R,k]=Li({prop:r,defaultProp:s??!1,onChange:M=>{M?(u.onOpen(),document.dispatchEvent(new CustomEvent(Cx))):u.onClose(),i==null||i(M)},caller:Hd}),N=A.useMemo(()=>R?w.current?"delayed-open":"instant-open":"closed",[R]),O=A.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,k(!0)},[k]),B=A.useCallback(()=>{window.clearTimeout(x.current),x.current=0,k(!1)},[k]),U=A.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,k(!0),x.current=0},b)},[b,k]);return A.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),p.jsx(gD,{...d,children:p.jsx(hY,{scope:e,contentId:v,open:R,stateAttribute:N,trigger:f,onTriggerChange:g,onTriggerEnter:A.useCallback(()=>{u.isOpenDelayedRef.current?U():O()},[u.isOpenDelayedRef,U,O]),onTriggerLeave:A.useCallback(()=>{T?B():(window.clearTimeout(x.current),x.current=0)},[B,T]),onOpen:O,onClose:B,disableHoverableContent:T,children:n})})};Bj.displayName=Hd;var Ax="TooltipTrigger",zj=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=xg(Ax,n),i=Dw(Ax,n),o=vg(n),l=A.useRef(null),u=dt(e,l,s.onTriggerChange),d=A.useRef(!1),f=A.useRef(!1),g=A.useCallback(()=>d.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),p.jsx(yD,{asChild:!0,...o,children:p.jsx(We.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Le(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Le(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Le(t.onBlur,s.onClose),onClick:Le(t.onClick,s.onClose)})})});zj.displayName=Ax;var fY="TooltipPortal",[xX,pY]=yg(fY,{forceMount:void 0}),Ic="TooltipContent",Uj=A.forwardRef((t,e)=>{const n=pY(Ic,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=xg(Ic,t.__scopeTooltip);return p.jsx(Xo,{present:r||o.open,children:o.disableHoverableContent?p.jsx($j,{side:s,...i,ref:e}):p.jsx(mY,{side:s,...i,ref:e})})}),mY=A.forwardRef((t,e)=>{const n=xg(Ic,t.__scopeTooltip),r=Dw(Ic,t.__scopeTooltip),s=A.useRef(null),i=dt(e,s),[o,l]=A.useState(null),{trigger:u,onClose:d}=n,f=s.current,{onPointerInTransitChange:g}=r,v=A.useCallback(()=>{l(null),g(!1)},[g]),x=A.useCallback((T,b)=>{const w=T.currentTarget,R={x:T.clientX,y:T.clientY},k=_Y(R,w.getBoundingClientRect()),N=wY(R,k),O=bY(b.getBoundingClientRect()),B=SY([...N,...O]);l(B),g(!0)},[g]);return A.useEffect(()=>()=>v(),[v]),A.useEffect(()=>{if(u&&f){const T=w=>x(w,f),b=w=>x(w,u);return u.addEventListener("pointerleave",T),f.addEventListener("pointerleave",b),()=>{u.removeEventListener("pointerleave",T),f.removeEventListener("pointerleave",b)}}},[u,f,x,v]),A.useEffect(()=>{if(o){const T=b=>{const w=b.target,R={x:b.clientX,y:b.clientY},k=(u==null?void 0:u.contains(w))||(f==null?void 0:f.contains(w)),N=!TY(R,o);k?v():N&&(v(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,f,o,d,v]),p.jsx($j,{...t,ref:i})}),[gY,yY]=yg(Hd,{isInside:!1}),vY=X3("TooltipContent"),$j=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=xg(Ic,n),d=vg(n),{onClose:f}=u;return A.useEffect(()=>(document.addEventListener(Cx,f),()=>document.removeEventListener(Cx,f)),[f]),A.useEffect(()=>{if(u.trigger){const g=v=>{const x=v.target;x!=null&&x.contains(u.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,f]),p.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:p.jsxs(vD,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(vY,{children:r}),p.jsx(gY,{scope:n,isInside:!0,children:p.jsx(x6,{id:u.contentId,role:"tooltip",children:s||r})})]})})});Uj.displayName=Ic;var Hj="TooltipArrow",xY=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vg(n);return yY(Hj,n).isInside?null:p.jsx(xD,{...s,...r,ref:e})});xY.displayName=Hj;function _Y(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wY(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function bY(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function TY(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],d=l.x,f=l.y,g=u.x,v=u.y;f>r!=v>r&&n<(g-d)*(r-f)/(v-f)+d&&(s=!s)}return s}function SY(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EY(e)}function EY(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var CY=Fj,AY=Bj,PY=zj,Wj=Uj;const RY=CY,IY=AY,kY=PY,qj=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(Wj,{ref:r,sideOffset:e,className:Xe("z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qj.displayName=Wj.displayName;const NY={"Primeiro Simulado":{icon:iB,description:"Concluiu o seu primeiro simulado."},Perfeccionista:{icon:WI,description:"Obteve 100% de acertos num simulado."},Maratonista:{icon:UI,description:"Concluiu 5 simulados."},Dedicado:{icon:Lc,description:"Concluiu 10 simulados."}},DY=()=>{const{user:t}=Rs(),[e,n]=A.useState(null),[r,s]=A.useState(null),[i,o]=A.useState(!0),[l,u]=A.useState(!1),d=A.useCallback(async()=>{if(!t||!t.id){o(!1);return}l||o(!0);const[x,T,b,w]=await Promise.all([bn("treinamentos"),bn("historico"),Bm(Vi(_t,"usuarios",String(t.id))),bn("resultadosSimulados")]);b.exists()&&n(b.data());const R=T.filter(D=>D.usuarioId===t.id),k=w.filter(D=>D.usuarioId===t.id),N=x.filter(D=>D.ativo&&(D.departamento==="Todos"||D.departamento===t.departamento)),O=R.filter(D=>D.concluido),B=O.reduce((D,V)=>D+(V.pontosGanhos||V.notaQuestionario||0),0),U=k.reduce((D,V)=>D+Math.round(V.pontuacao/10),0),M=B+U,E=O.length,P=N.length>0?E/N.length*100:0,j=O.length>0?O.reduce((D,V)=>D+(V.notaQuestionario||0),0)/O.length:0,F=O.sort((D,V)=>new Date(V.dataConclusao)-new Date(D.dataConclusao)).slice(0,5).map(D=>{const V=x.find(J=>J.id===D.treinamentoId);return{...D,trainingTitle:(V==null?void 0:V.titulo)||"Treinamento desconhecido"}});s({totalTrainings:N.length,completedCount:E,completionRate:P,totalPoints:M,avgScore:j,recentCompletions:F}),o(!1),u(!1)},[t,l]);A.useEffect(()=>{d()},[d]);const f=()=>{u(!0)};if(i)return p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})});if(!r)return p.jsx("div",{className:"text-center text-slate-400",children:"No foi possvel carregar o seu progresso."});const g=[{title:"Treinamentos Concludos",value:r.completedCount,icon:Fc,color:"green"},{title:"Progresso Geral",value:`${r.completionRate.toFixed(0)}%`,icon:aB,color:"blue"},{title:"Pontos Acumulados",value:r.totalPoints,icon:q6,color:"purple"},{title:"Nota Mdia",value:r.avgScore.toFixed(1),icon:Lc,color:"yellow"}],v=(e==null?void 0:e.medalhas)||[];return p.jsxs("div",{className:"space-y-8",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meu Progresso"}),p.jsx("p",{className:"text-slate-400",children:"A sua jornada de conhecimento e conquistas."})]}),p.jsxs(Ce,{onClick:f,disabled:l,variant:"outline",className:"bg-slate-800/50 border-slate-600 hover:bg-slate-700",children:[p.jsx(HI,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Atualizar"]})]}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs(gt,{className:"glass-effect border-purple-500/50 bg-slate-800/50 text-white",children:[p.jsxs(Et,{className:"text-center",children:[p.jsx("p",{className:"text-sm font-medium text-slate-400",children:"O SEU TTULO ATUAL"}),p.jsx(Ct,{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 mt-2",children:(e==null?void 0:e.titulo)||"Iniciante"})]}),p.jsx(yt,{children:p.jsx(RY,{children:p.jsx("div",{className:"flex justify-center flex-wrap gap-4",children:Object.entries(NY).map(([x,{icon:T,description:b}])=>{const w=v.includes(x);return p.jsxs(IY,{children:[p.jsx(kY,{asChild:!0,children:p.jsxs("div",{className:`p-3 border rounded-lg flex flex-col items-center justify-center w-28 h-28 transition-all ${w?"border-yellow-400/50 bg-yellow-500/10 text-yellow-300":"border-slate-700 bg-slate-800/50 text-slate-500"}`,children:[p.jsx(T,{className:`w-8 h-8 mb-2 ${w?"":"opacity-50"}`}),p.jsx("p",{className:"font-semibold text-center text-xs",children:x})]})}),p.jsx(qj,{children:p.jsx("p",{children:b})})]},x)})})})})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((x,T)=>{const b=x.icon;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*T},children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover h-full",children:[p.jsxs(Et,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Ct,{className:"text-sm font-medium text-slate-200",children:x.title}),p.jsx(b,{className:`h-5 w-5 text-${x.color}-400`})]}),p.jsx(yt,{children:p.jsx("div",{className:"text-3xl font-bold text-white",children:x.value})})]})},x.title)})}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:p.jsxs(gt,{className:"glass-effect border-slate-700",children:[p.jsxs(Et,{children:[p.jsx(Ct,{className:"text-white",children:"ltimos Treinamentos Concludos"}),p.jsx(zi,{children:"A sua atividade mais recente na plataforma."})]}),p.jsx(yt,{children:r.recentCompletions.length>0?p.jsx("ul",{className:"space-y-3",children:r.recentCompletions.map((x,T)=>p.jsxs(De.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*T},className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:p.jsx(Gp,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-white",children:x.trainingTitle}),p.jsxs("p",{className:"text-xs text-slate-400",children:["Concludo em: ",new Date(x.dataConclusao).toLocaleDateString("pt-BR")]})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"text-sm font-semibold text-green-400",children:["Nota: ",x.notaQuestionario,"/10"]})})]},`${x.id}-${T}`))}):p.jsx("p",{className:"text-center text-slate-400 py-8",children:"Voc ainda no concluiu nenhum treinamento."})})]})})]})},jY=()=>{const{user:t}=Rs(),[e,n]=A.useState({usuarios:[],resultadosSimulados:[],departamentos:[]}),[r,s]=A.useState(!0),[i,o]=A.useState("all"),[l,u]=A.useState("all");A.useEffect(()=>{(async()=>{s(!0);const[T,b,w]=await Promise.all([bn("usuarios"),bn("resultadosSimulados"),bn("departamentos")]);n({usuarios:T,resultadosSimulados:b,departamentos:w}),s(!1)})()},[]);const d=A.useMemo(()=>{const{usuarios:x,resultadosSimulados:T}=e;if(!x.length)return[];let b=T;if(l!=="all"){const N=new Date,O=new Date;l==="month"?O.setMonth(N.getMonth()-1):l==="quarter"&&O.setMonth(N.getMonth()-3),b=b.filter(B=>B.dataConclusao&&new Date(B.dataConclusao)>=O)}const w={};b.forEach(N=>{w[N.usuarioId]||(w[N.usuarioId]={totalScore:0,count:0}),w[N.usuarioId].totalScore+=N.pontuacao,w[N.usuarioId].count+=1});let R=x.filter(N=>N.tipo==="funcionario"&&N.ativo);return i!=="all"&&(R=R.filter(N=>N.departamento===i)),R.map(N=>{const O=w[N.id],B=O?O.totalScore/O.count:0;return{id:N.id,nome:N.nome,departamento:N.departamento,pontuacao:Math.round(B),simuladosFeitos:O?O.count:0}}).filter(N=>N.simuladosFeitos>0).sort((N,O)=>O.pontuacao-N.pontuacao||N.nome.localeCompare(O.nome))},[e,i,l]),f=A.useMemo(()=>{const x=d.findIndex(T=>T.id===t.id);return x!==-1?x+1:null},[d,t]),g=x=>x===1?p.jsx($0,{className:"w-6 h-6 text-yellow-400"}):x===2?p.jsx(UI,{className:"w-6 h-6 text-gray-300"}):x===3?p.jsx(Lc,{className:"w-6 h-6 text-yellow-600"}):p.jsxs("span",{className:"text-slate-400 font-bold",children:[x,""]}),v=x=>x===1?"border-yellow-400/50 bg-yellow-500/10":x===2?"border-gray-300/50 bg-gray-500/10":x===3?"border-yellow-600/50 bg-yellow-700/10":"border-slate-700";return r?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Ranking de Desempenho"}),p.jsx("p",{className:"text-slate-400",children:"Veja quem est a destacar-se nos simulados de conhecimento."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-center",children:[p.jsxs(As,{value:i,onValueChange:o,children:[p.jsx(Qr,{className:"bg-slate-800/50 border-slate-600",children:p.jsx(Ps,{placeholder:"Filtrar por Departamento"})}),p.jsxs(Yr,{children:[p.jsx(on,{value:"all",children:"Todos os Departamentos"}),e.departamentos.filter(x=>x.nome!=="Todos").map(x=>p.jsx(on,{value:x.nome,children:x.nome},x.id))]})]}),p.jsxs(As,{value:l,onValueChange:u,children:[p.jsx(Qr,{className:"bg-slate-800/50 border-slate-600",children:p.jsx(Ps,{placeholder:"Filtrar por Perodo"})}),p.jsxs(Yr,{children:[p.jsx(on,{value:"all",children:"Desde o incio"}),p.jsx(on,{value:"month",children:"ltimo Ms"}),p.jsx(on,{value:"quarter",children:"ltimo Trimestre"})]})]}),f&&p.jsx(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"sm:col-span-1",children:p.jsx(gt,{className:"glass-effect border-blue-500/50 bg-slate-800/50",children:p.jsxs(yt,{className:"p-3 text-center",children:[p.jsx("p",{className:"text-sm font-medium text-slate-300",children:"A sua Posio"}),p.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[f,""]})]})})})]}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Et,{children:p.jsx(Ct,{children:"Classificao Geral"})}),p.jsx(yt,{children:p.jsx("ul",{className:"space-y-3",children:d.length>0?d.map((x,T)=>{const b=T+1;return p.jsxs(De.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*T},className:`flex items-center justify-between p-3 bg-slate-800/50 rounded-lg border-l-4 ${v(b)} ${x.id===t.id?"border-r-4 border-r-blue-500":""}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-lg font-bold",children:g(b)}),p.jsxs("div",{children:[p.jsx("p",{className:`font-medium ${x.id===t.id?"text-blue-400":"text-white"}`,children:x.nome}),p.jsx("p",{className:"text-xs text-slate-400",children:x.departamento})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-lg font-bold text-white",children:[x.pontuacao," pts"]}),p.jsxs("p",{className:"text-xs text-slate-400",children:[x.simuladosFeitos," ",x.simuladosFeitos===1?"simulado":"simulados"]})]})]},x.id)}):p.jsxs("div",{className:"text-center py-10 text-slate-500",children:[p.jsx($0,{className:"mx-auto h-10 w-10"}),p.jsx("p",{className:"mt-2 font-semibold",children:"Nenhum resultado para os filtros selecionados."}),p.jsx("p",{className:"text-sm",children:"Tente alargar a sua pesquisa ou complete alguns simulados!"})]})})})]})})]})},MY=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(null),[s,i]=A.useState(!0),[o,l]=A.useState(!1),[u,d]=A.useState(!0),[f,g]=A.useState(""),[v,x]=A.useState(null),T=async(k=!1)=>{if(o)return;l(!0);const O=await Hc("knowledgeBase",{lastVisible:k?n:null,orderByField:"dataCriacao",orderDirection:"desc"});O.data.length>0&&(e(B=>k?[...B,...O.data]:O.data),r(O.lastVisible)),O.data.length<15&&i(!1),l(!1),u&&d(!1)};A.useEffect(()=>{T()},[]);const b=t.filter(k=>{const N=f.toLowerCase();return k.titulo.toLowerCase().includes(N)||k.conteudo.toLowerCase().includes(N)||k.categoria.toLowerCase().includes(N)||k.tags&&k.tags.some(O=>O.toLowerCase().includes(N))}),w=k=>k==="link_externo"?p.jsx(__,{className:"h-5 w-5 text-purple-400"}):k==="link_treinamento"?p.jsx(Ba,{className:"h-5 w-5 text-blue-400"}):p.jsx(LI,{className:"h-5 w-5 text-green-400"}),R=k=>k.type==="link_externo"?p.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Acessar Link Externo"}):k.type==="link_treinamento"?p.jsx("span",{className:"text-blue-400 cursor-pointer hover:underline",children:"Ver Treinamento"}):p.jsx("button",{onClick:()=>x(k),className:"text-blue-400 hover:underline",children:"Ler Artigo Completo"});return u?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Central de Conhecimento"}),p.jsxs("div",{className:"relative",children:[p.jsx(Bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),p.jsx(xt,{placeholder:"Pesquisar nos artigos carregados...",className:"pl-10 bg-slate-800/50 border-slate-600",value:f,onChange:k=>g(k.target.value)})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((k,N)=>{var O;return p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},children:p.jsxs(gt,{className:"glass-effect h-full flex flex-col border-slate-700",children:[p.jsxs(Et,{children:[p.jsxs("div",{className:"flex items-center gap-3",children:[w(k.type),p.jsx(Ct,{className:"text-white text-lg",children:k.titulo})]}),p.jsx(zi,{children:k.categoria})]}),p.jsx(yt,{className:"flex-grow",children:p.jsx("p",{className:"text-slate-300 text-sm line-clamp-3",children:k.conteudo})}),p.jsxs($c,{className:"flex-col items-start gap-4",children:[p.jsx("div",{className:"flex flex-wrap gap-2 h-6",children:(O=k.tags)==null?void 0:O.map(B=>p.jsx(Do,{variant:"secondary",children:B},B))}),p.jsxs("div",{className:"w-full flex justify-between items-center text-xs text-slate-500 pt-2",children:[p.jsx("span",{children:R(k)}),p.jsxs("span",{children:[new Date(k.dataCriacao).toLocaleDateString()," por ",k.autorNome]})]})]})]})},k.id)})}),b.length===0&&!o&&p.jsx("div",{className:"text-center py-12 text-slate-500",children:p.jsx("p",{children:"Nenhum artigo encontrado."})}),s&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>T(!0),disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})}),p.jsx(si,{open:!!v,onOpenChange:()=>x(null),children:p.jsxs(bs,{className:"bg-slate-900 border-slate-700 text-white",children:[p.jsxs(Ts,{children:[p.jsx(Ss,{className:"text-2xl",children:v==null?void 0:v.titulo}),p.jsx(Bd,{children:v==null?void 0:v.categoria})]}),p.jsx("div",{className:"py-4 text-slate-300 whitespace-pre-wrap",children:v==null?void 0:v.conteudo})]})})]})},OY=()=>{var j,F;const{user:t}=Rs(),[e,n]=A.useState([]),[r,s]=A.useState([]),[i,o]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState("artigo"),{toast:g}=Ar(),[v,x]=A.useState(null),[T,b]=A.useState(!0),[w,R]=A.useState(!1),[k,N]=A.useState(!0),O=async(D=!1)=>{if(w||!D&&!k)return;R(!0);const V=await Hc("knowledgeBase",{lastVisible:D?v:null,orderByField:"dataCriacao",orderDirection:"desc"});V.data.length>0&&(n(J=>D?[...J,...V.data]:V.data),x(V.lastVisible)),(!V.lastVisible||V.data.length<15)&&b(!1),R(!1),k&&N(!1)},B=async()=>{N(!0);const D=await bn("treinamentos");s(D),await O(),N(!1)};A.useEffect(()=>{B()},[]);const U=(D=null)=>{u(D),f(D?D.type:"artigo"),o(!0)},M=async D=>{var K;D.preventDefault();const V=new FormData(D.target),J={type:d,titulo:V.get("titulo"),categoria:V.get("categoria"),conteudo:V.get("conteudo"),tags:((K=V.get("tags"))==null?void 0:K.split(",").map(W=>W.trim()).filter(W=>W))||[],autorNome:t.nome,dataCriacao:(l==null?void 0:l.dataCriacao)||new Date().toISOString()};d==="link_externo"?J.url=V.get("url"):d==="link_treinamento"&&(J.treinamentoId=V.get("treinamentoId")),l?(await ri("knowledgeBase",l.id,J),g({title:"Sucesso!",description:"Postagem atualizada."})):(await li("knowledgeBase",J),g({title:"Sucesso!",description:"Postagem criada."})),o(!1),await O()},E=async D=>{window.confirm("Tem certeza que deseja excluir esta postagem?")&&(await rl("knowledgeBase",D),g({title:"Sucesso!",description:"Postagem excluda."}),n(V=>V.filter(J=>J.id!==D)))},P=D=>D==="link_externo"?p.jsx(__,{className:"h-4 w-4 text-purple-400"}):D==="link_treinamento"?p.jsx(Ba,{className:"h-4 w-4 text-blue-400"}):p.jsx(LI,{className:"h-4 w-4 text-green-400"});return k?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciar Conhecimento"}),p.jsxs(Ce,{onClick:()=>U(),children:[p.jsx(H6,{className:"mr-2 h-4 w-4"})," Nova Postagem"]})]}),p.jsx(si,{open:i,onOpenChange:o,children:p.jsxs(bs,{className:"bg-slate-900 border-slate-700 text-white",children:[p.jsx(Ts,{children:p.jsx(Ss,{children:l?"Editar Postagem":"Nova Postagem"})}),p.jsxs("form",{onSubmit:M,className:"space-y-4",children:[p.jsx(pt,{children:"Tipo de Postagem"}),p.jsxs(As,{value:d,onValueChange:f,children:[p.jsx(Qr,{children:p.jsx(Ps,{})}),p.jsxs(Yr,{children:[p.jsx(on,{value:"artigo",children:"Artigo de Texto"}),p.jsx(on,{value:"link_externo",children:"Link Externo"}),p.jsx(on,{value:"link_treinamento",children:"Atalho para Treinamento"})]})]}),p.jsx(xt,{name:"titulo",placeholder:"Ttulo da postagem",defaultValue:l==null?void 0:l.titulo,required:!0}),p.jsx(xt,{name:"categoria",placeholder:"Categoria (Ex: Fiscal, Legislao)",defaultValue:l==null?void 0:l.categoria,required:!0}),d==="link_externo"&&p.jsx(xt,{name:"url",placeholder:"URL do link externo",defaultValue:l==null?void 0:l.url,required:!0}),d==="link_treinamento"&&p.jsxs(As,{name:"treinamentoId",defaultValue:(j=l==null?void 0:l.treinamentoId)==null?void 0:j.toString(),children:[p.jsx(Qr,{children:p.jsx(Ps,{placeholder:"Selecione um treinamento"})}),p.jsx(Yr,{children:r.map(D=>p.jsx(on,{value:D.id.toString(),children:D.titulo},D.id))})]}),p.jsx(Ya,{name:"conteudo",placeholder:"Descrio ou contedo do artigo...",defaultValue:l==null?void 0:l.conteudo,required:!0}),p.jsx(xt,{name:"tags",placeholder:"Tags separadas por vrgula (Ex: eSocial, prazo, guia)",defaultValue:(F=l==null?void 0:l.tags)==null?void 0:F.join(", ")}),p.jsxs(Ui,{children:[p.jsx(Ce,{type:"button",variant:"ghost",onClick:()=>o(!1),children:"Cancelar"}),p.jsx(Ce,{type:"submit",children:"Salvar"})]})]})]})}),p.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg",children:e.map(D=>p.jsxs("div",{className:"grid grid-cols-5 items-center p-4 border-b border-slate-700/50 last:border-b-0",children:[p.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[P(D.type),p.jsx("span",{className:"text-white font-medium truncate pr-2",children:D.titulo})]}),p.jsx("div",{className:"text-slate-400 truncate pr-2",children:D.categoria}),p.jsx("div",{className:"text-slate-500 text-xs",children:new Date(D.dataCriacao).toLocaleDateString()}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>U(D),children:p.jsx(tl,{className:"h-4 w-4"})}),p.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>E(D.id),children:p.jsx(Fi,{className:"h-4 w-4 text-red-500"})})]})]},D.id))}),T&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>O(!0),disabled:w,children:w?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Artigos"})})]})},VY=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState(""),[o,l]=A.useState(!1),[u,d]=A.useState(null),[f,g]=A.useState(null),[v,x]=A.useState(!0),[T,b]=A.useState(!1),[w,R]=A.useState(!0),k={titulo:"",descricao:"",categoria:"",ativo:!0,perguntas:[]},[N,O]=A.useState(k),{toast:B}=Ar(),U=async(W=!1)=>{if(T)return;b(!0);const Y=await Hc("simulados",{lastVisible:W?f:null,orderByField:"dataCriacao",orderDirection:"desc"});Y.data.length>0&&(e(G=>W?[...G,...Y.data]:Y.data),g(Y.lastVisible)),Y.data.length<15&&x(!1),b(!1)};A.useEffect(()=>{R(!0),U().then(()=>R(!1))},[]),A.useEffect(()=>{r(t.filter(W=>W.titulo.toLowerCase().includes(s.toLowerCase())))},[t,s]);const M=()=>{O(k),d(null)},E=W=>{d(W),O({...k,...W}),l(!0)},P=async W=>{if(W.preventDefault(),N.perguntas.length===0){B({title:"Erro",description:"O simulado precisa ter pelo menos uma pergunta.",variant:"destructive"});return}if(u)await ri("simulados",u.id,N),B({title:"Simulado atualizado com sucesso!"});else{const Y={...N,dataCriacao:new Date().toISOString()};await li("simulados",Y),B({title:"Simulado criado com sucesso!"})}l(!1),await U()},j=async W=>{window.confirm("Tem certeza que deseja remover este simulado? A ao no pode ser desfeita.")&&(await rl("simulados",W),B({title:"Simulado removido!"}),e(Y=>Y.filter(G=>G.id!==W)))},F=()=>O(W=>({...W,perguntas:[...W.perguntas||[],{pergunta:"",opcoes:["","","",""],respostaCorreta:null}]})),D=W=>O(Y=>({...Y,perguntas:Y.perguntas.filter((G,te)=>te!==W)})),V=(W,Y)=>{const G=[...N.perguntas];G[W].pergunta=Y,O({...N,perguntas:G})},J=(W,Y,G)=>{const te=[...N.perguntas];te[W].opcoes[Y]=G,O({...N,perguntas:te})},K=(W,Y)=>{const G=[...N.perguntas];G[W].respostaCorreta=Y,O({...N,perguntas:G})};return w?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciamento de Simulados"}),p.jsx("p",{className:"text-slate-500",children:"Crie e edite avaliaes de conhecimento."})]}),p.jsxs(si,{open:o,onOpenChange:l,children:[p.jsx(Kc,{asChild:!0,children:p.jsxs(Ce,{onClick:M,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Novo Simulado"]})}),p.jsxs(bs,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[p.jsx(Ts,{children:p.jsxs(Ss,{children:[u?"Editar":"Novo"," Simulado"]})}),p.jsxs("form",{id:"simuladoForm",onSubmit:P,className:"space-y-4 overflow-y-auto scrollbar-thin pr-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{children:"Ttulo do Simulado"}),p.jsx(xt,{value:N.titulo,onChange:W=>O({...N,titulo:W.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{children:"Categoria"}),p.jsx(xt,{value:N.categoria,onChange:W=>O({...N,categoria:W.target.value}),placeholder:"Ex: Sistemas Internos, Segurana",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pt,{children:"Descrio"}),p.jsx(Ya,{value:N.descricao,onChange:W=>O({...N,descricao:W.target.value})})]}),p.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[p.jsx($d,{id:"ativo",checked:N.ativo,onCheckedChange:W=>O({...N,ativo:W})}),p.jsx(pt,{htmlFor:"ativo",children:"Ativo (visvel para funcionrios)"})]}),p.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Questionrio"}),p.jsxs(Ce,{type:"button",size:"sm",variant:"outline",onClick:F,children:[p.jsx(Uo,{className:"w-4 h-4 mr-2"})," Adicionar Pergunta"]})]}),(N.perguntas||[]).map((W,Y)=>{var G;return p.jsxs("div",{className:"p-4 border rounded-lg space-y-3 bg-slate-50",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs(pt,{children:["Pergunta ",Y+1]}),p.jsx(Ce,{type:"button",size:"sm",variant:"destructive",onClick:()=>D(Y),children:p.jsx(Fi,{className:"w-4 h-4"})})]}),p.jsx(Ya,{placeholder:"Digite a pergunta...",value:W.pergunta,onChange:te=>V(Y,te.target.value),required:!0}),p.jsx(fg,{value:(G=W.respostaCorreta)==null?void 0:G.toString(),onValueChange:te=>K(Y,parseInt(te)),children:W.opcoes.map((te,ae)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pg,{value:ae.toString(),id:`q${Y}o${ae}`}),p.jsx(xt,{placeholder:`Opo ${ae+1}`,value:te,onChange:H=>J(Y,ae,H.target.value),required:!0})]},ae))})]},Y)})]})]}),p.jsxs(Ui,{className:"pt-4 border-t",children:[p.jsx(Ce,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),p.jsx(Ce,{type:"submit",form:"simuladoForm",children:u?"Salvar Alteraes":"Criar Simulado"})]})]})]})]}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs("div",{className:"relative",children:[p.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{placeholder:"Buscar por ttulo...",value:s,onChange:W=>i(W.target.value),className:"pl-10"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(W=>p.jsx(De.div,{children:p.jsxs(gt,{className:"h-full flex flex-col",children:[p.jsxs(Et,{children:[p.jsx(Ct,{className:"mb-1",children:W.titulo}),p.jsx("p",{className:"text-sm text-slate-500",children:W.categoria})]}),p.jsx(yt,{className:"flex-grow",children:p.jsx("p",{className:"text-sm text-slate-600 line-clamp-3",children:W.descricao})}),p.jsxs($c,{className:"flex justify-end space-x-2",children:[p.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>E(W),children:p.jsx(tl,{className:"w-4 h-4"})}),p.jsx(Ce,{size:"sm",variant:"destructive",onClick:()=>j(W.id),children:p.jsx(Fi,{className:"w-4 h-4"})})]})]})},W.id))}),v&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>U(!0),disabled:T,children:T?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})})]})},LY=({onStartSimulado:t})=>{const[e,n]=A.useState([]),[r,s]=A.useState([]),[i,o]=A.useState(""),[l,u]=A.useState(null),[d,f]=A.useState(!0),[g,v]=A.useState(!1),[x,T]=A.useState(!0),b=async(w=!1)=>{if(g)return;v(!0);const R=await Hc("simulados",{lastVisible:w?l:null,orderByField:"dataCriacao",orderDirection:"desc"}),k=R.data.filter(N=>N.ativo);k.length>0&&(n(N=>w?[...N,...k]:k),u(R.lastVisible)),R.data.length<15&&f(!1),v(!1)};return A.useEffect(()=>{T(!0),b().then(()=>T(!1))},[]),A.useEffect(()=>{s(e.filter(w=>w.titulo.toLowerCase().includes(i.toLowerCase())))},[e,i]),x?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(qt,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Simulados Disponveis"}),p.jsx("p",{className:"text-slate-400",children:"Teste os seus conhecimentos e ganhe pontos."})]}),p.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs("div",{className:"relative",children:[p.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(xt,{placeholder:"Buscar por ttulo do simulado...",value:i,onChange:w=>o(w.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),r.length===0&&!g?p.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[p.jsx(Kp,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhum simulado encontrado no momento."})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(w=>p.jsx(De.div,{children:p.jsxs(gt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsxs(Et,{children:[p.jsx(Ct,{className:"text-lg text-white mb-1",children:w.titulo}),p.jsx("p",{className:"text-sm text-slate-400",children:w.categoria})]}),p.jsx(yt,{className:"flex-grow",children:p.jsx("p",{className:"text-sm text-slate-300 line-clamp-3",children:w.descricao})}),p.jsx($c,{className:"flex justify-end",children:p.jsx(Ce,{onClick:()=>t(w),className:"bg-gradient-to-r from-blue-500 to-purple-600",children:"Iniciar Simulado"})})]})},w.id))}),d&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ce,{onClick:()=>b(!0),disabled:g,children:g?p.jsxs(p.Fragment,{children:[p.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})})]})};var jw="Progress",Mw=100,[FY,_X]=Xr(jw),[BY,zY]=FY(jw),Gj=A.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=UY,...o}=t;(s||s===0)&&!HA(s)&&console.error($Y(`${s}`,"Progress"));const l=HA(s)?s:Mw;r!==null&&!WA(r,l)&&console.error(HY(`${r}`,"Progress"));const u=WA(r,l)?r:null,d=gm(u)?i(u,l):void 0;return p.jsx(BY,{scope:n,value:u,max:l,children:p.jsx(We.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gm(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":Yj(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});Gj.displayName=jw;var Kj="ProgressIndicator",Qj=A.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=zY(Kj,n);return p.jsx(We.div,{"data-state":Yj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Qj.displayName=Kj;function UY(t,e){return`${Math.round(t/e*100)}%`}function Yj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gm(t){return typeof t=="number"}function HA(t){return gm(t)&&!isNaN(t)&&t>0}function WA(t,e){return gm(t)&&!isNaN(t)&&t<=e&&t>=0}function $Y(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Mw}\`.`}function HY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Mw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Xj=Gj,WY=Qj;const Zj=A.forwardRef(({className:t,value:e,...n},r)=>p.jsx(Xj,{ref:r,className:Xe("relative h-4 w-full overflow-hidden rounded-full bg-slate-800",t),...n,children:p.jsx(WY,{className:"h-full w-full flex-1 bg-gradient-to-r from-blue-500 to-purple-600 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Zj.displayName=Xj.displayName;const qY=t=>t>=95?"Mestre do Conhecimento":t>=85?"Especialista":t>=70?"Conhecedor":t>=50?"Aprendiz":"Iniciante",GY=({simulado:t,onFinish:e})=>{var k;const{user:n}=Rs(),{toast:r}=Ar(),[s,i]=A.useState(0),[o,l]=A.useState({}),[u,d]=A.useState(!1),[f,g]=A.useState(0),v=t.perguntas[s],x=(s+1)/t.perguntas.length*100,T=(N,O)=>{l(B=>({...B,[N]:O}))},b=()=>{s<t.perguntas.length-1?i(N=>N+1):(w(),d(!0))},w=async()=>{let N=0;t.perguntas.forEach((U,M)=>{o[M]===U.respostaCorreta&&N++});const O=N/t.perguntas.length*100;g(O);const B={usuarioId:n.id,usuarioNome:n.nome,simuladoId:t.id,simuladoTitulo:t.titulo,pontuacao:O,acertos:N,totalPerguntas:t.perguntas.length,dataConclusao:new Date().toISOString()};await li("resultadosSimulados",B),await R(O)},R=async N=>{try{if(!n||!n.id)return;const O=Vi(_t,"usuarios",String(n.id)),B=await Bm(O);if(!B.exists())return;const U=B.data(),E=(await bn("resultadosSimulados")).filter(V=>V.usuarioId===n.id),P=new Set(U.medalhas||[]);E.length>0&&!P.has("Primeiro Simulado")&&P.add("Primeiro Simulado"),N===100&&!P.has("Perfeccionista")&&(r({title:"Nova Conquista!",description:"Voc ganhou a medalha 'Perfeccionista'!"}),P.add("Perfeccionista")),E.length>=5&&!P.has("Maratonista")&&(r({title:"Nova Conquista!",description:"Voc ganhou a medalha 'Maratonista'!"}),P.add("Maratonista")),E.length>=10&&!P.has("Dedicado")&&(r({title:"Nova Conquista!",description:"Voc ganhou a medalha 'Dedicado'!"}),P.add("Dedicado"));const F=E.reduce((V,J)=>V+J.pontuacao,0)/E.length,D=qY(F);U.titulo!==D&&r({title:"Promoo!",description:`O seu ttulo foi atualizado para '${D}'!`}),await KR(O,{medalhas:Array.from(P),titulo:D})}catch(O){console.error("Erro ao atualizar conquistas:",O)}};return u?p.jsx(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white w-full max-w-3xl mx-auto",children:[p.jsxs(Et,{className:"text-center",children:[p.jsx(Lc,{className:"w-16 h-16 mx-auto text-yellow-400"}),p.jsx(Ct,{className:"text-3xl mt-4",children:"Simulado Concludo!"}),p.jsx(zi,{className:"text-slate-400",children:t.titulo})]}),p.jsxs(yt,{className:"space-y-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-lg text-slate-300",children:"A sua pontuao final foi:"}),p.jsxs("p",{className:"text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:[f.toFixed(0),"%"]}),p.jsxs("p",{className:"text-slate-400 mt-2",children:["Voc acertou ",Object.values(o).reduce((N,O,B)=>N+(O===t.perguntas[B].respostaCorreta?1:0),0)," de ",t.perguntas.length," perguntas."]})]}),p.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:t.perguntas.map((N,O)=>p.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[p.jsxs("p",{className:"font-semibold",children:[O+1,". ",N.pergunta]}),p.jsxs("p",{className:`text-sm mt-1 ${o[O]===N.respostaCorreta?"text-green-400":"text-red-400"}`,children:["Sua resposta: ",N.opcoes[o[O]],o[O]!==N.respostaCorreta&&p.jsxs("span",{className:"text-slate-400",children:[" | Correta: ",N.opcoes[N.respostaCorreta]]})]})]},O))}),p.jsx(Ce,{onClick:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600",children:"Voltar para a Lista de Simulados"})]})]})}):p.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},children:p.jsxs(gt,{className:"glass-effect border-slate-700 text-white w-full max-w-3xl mx-auto",children:[p.jsxs(Et,{children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx(Ct,{className:"text-2xl",children:t.titulo}),p.jsxs(zi,{className:"text-slate-400",children:["Pergunta ",s+1," de ",t.perguntas.length]})]}),p.jsx(WI,{className:"w-8 h-8 text-blue-400"})]}),p.jsx(Zj,{value:x,className:"mt-4"})]}),p.jsxs(yt,{className:"space-y-6",children:[p.jsx("p",{className:"text-lg font-semibold text-slate-200",children:v.pergunta}),p.jsx(fg,{value:(k=o[s])==null?void 0:k.toString(),onValueChange:N=>T(s,parseInt(N)),className:"space-y-3",children:v.opcoes.map((N,O)=>p.jsxs(pt,{className:"flex items-center p-4 rounded-lg border border-slate-700 hover:bg-slate-800/50 transition-colors cursor-pointer has-[:checked]:bg-blue-500/20 has-[:checked]:border-blue-500",children:[p.jsx(pg,{value:O.toString(),id:`q${s}o${O}`,className:"mr-3"}),N]},O))}),p.jsx(Ce,{onClick:b,disabled:o[s]===void 0,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600",children:s<t.perguntas.length-1?"Prxima Pergunta":"Finalizar e Ver Resultado"})]})]})})},KY="database",QY="main",ym={usuarios:[{id:1,nome:"Admin Sistema",email:"admin@empresa.com",senha:"123456",tipo:"admin",departamento:"Todos",ativo:!0,dataCriacao:"2025-01-01"},{id:2,nome:"Joo Silva",email:"joao@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-01-15"},{id:3,nome:"Maria Oliveira",email:"maria@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Fiscal",ativo:!0,dataCriacao:"2025-02-01"},{id:4,nome:"Pedro Martins",email:"pedro@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-03-10"}],categorias:[{id:1,nome:"Gestta",cor:"#3b82f6"},{id:2,nome:"Domnio",cor:"#8b5cf6"}],departamentos:[{id:1,nome:"Contabilidade"},{id:2,nome:"Fiscal"},{id:3,nome:"Recursos Humanos"},{id:4,nome:"Todos"}],treinamentos:[{id:1,titulo:"Onboarding de Novos Colaboradores",descricao:"Tudo o que voc precisa saber para comear na NTW.",categoriaId:1,conteudos:[{type:"video",title:"Vdeo de Boas-vindas",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],questionario:[{pergunta:"Qual o principal valor da empresa?",opcoes:["Inovao","Cliente em primeiro lugar","Trabalho em equipe","Todos acima"],respostaCorreta:"Todos acima"}]},{id:2,titulo:"Introduo ao Simples Nacional",descricao:"Entenda os conceitos bsicos.",categoriaId:2,conteudos:[{type:"video",title:"Vdeo Aula",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],questionario:[{pergunta:"Qual o limite de faturamento?",opcoes:["R$ 4.8 milhes","R$ 3.6 milhes"],respostaCorreta:"R$ 4.8 milhes"}]}],historico:[{id:1,usuarioId:2,treinamentoId:1,concluido:!0,notaQuestionario:100,dataConclusao:"2025-06-18T10:00:00Z"},{id:2,usuarioId:3,treinamentoId:1,concluido:!0,notaQuestionario:90,dataConclusao:new Date().toISOString()},{id:3,usuarioId:3,treinamentoId:2,concluido:!0,notaQuestionario:95,dataConclusao:new Date().toISOString()},{id:4,usuarioId:4,treinamentoId:1,concluido:!0,notaQuestionario:80,dataConclusao:"2025-01-20T15:00:00Z"}],trilhas:[],knowledgeBase:[{id:1,type:"artigo",categoria:"Processos Fiscais",titulo:"Como emitir uma Certido Negativa de Dbitos (CND)?",conteudo:"O processo para emitir a CND envolve acessar o site da Receita Federal ou do rgo estadual/municipal correspondente, preencher com o CNPJ da empresa e seguir os passos indicados na tela. Geralmente, a emisso  instantnea se no houver pendncias.  crucial verificar a validade do documento aps a emisso.",tags:["CND","Fiscal","Certido"],autorNome:"Admin Sistema",dataCriacao:"2025-08-15T10:00:00Z"},{id:2,type:"link_externo",categoria:"Legislao",titulo:"Portal do eSocial - Acesso Direto",url:"https://www.gov.br/esocial/pt-br",conteudo:"Link direto para o portal oficial do eSocial. Use para consultas e downloads de manuais atualizados.",tags:["eSocial","Governo","Link"],autorNome:"Admin Sistema",dataCriacao:"2025-08-16T11:30:00Z"},{id:3,type:"link_treinamento",categoria:"Treinamento Relacionado",titulo:"Relembre: Introduo ao Simples Nacional",treinamentoId:2,conteudo:"Este  um atalho rpido para o treinamento sobre o Simples Nacional. Ideal para rever conceitos chave antes de atender um cliente.",tags:["Simples Nacional","Reviso","Treinamento"],autorNome:"Admin Sistema",dataCriacao:"2025-08-17T14:00:00Z"}]};let xd=null;const YY=async()=>{const t=Vi(_t,QY,KY),e=await Bm(t);return e.exists()?(console.log("Banco de dados carregado do Firestore."),xd=e.data()):(console.log("Nenhum banco de dados encontrado. Criando um novo no Firestore."),await Hp(t,ym),xd=ym),xd},XY=()=>xd||(console.warn("A base de dados ainda no foi inicializada. Usando dados mock temporariamente."),{...ym,knowledgeBase:ym.knowledgeBase||[]}),ZY=()=>{const{user:t,logout:e,isAdmin:n,loading:r}=Rs(),[s,i]=A.useState(""),[o,l]=A.useState(null);A.useEffect(()=>{t&&i(n()?"dashboard":"meus-treinamentos")},[t,n]);const u=()=>{e(),i("")},d=v=>{l(v),i("fazendo-simulado")},f=()=>{l(null),i("meus-simulados")},g=()=>{if(s==="fazendo-simulado"&&o)return p.jsx(GY,{simulado:o,onFinish:f});switch(s){case"dashboard":return p.jsx(nA,{setActiveTab:i});case"usuarios":return p.jsx(UK,{});case"treinamentos":return p.jsx(gQ,{});case"trilhas":return p.jsx(EQ,{});case"categorias":return p.jsx(vQ,{});case"departamentos":return p.jsx(_Q,{});case"relatorios":return p.jsx(CQ,{});case"gerenciar-conhecimento":return p.jsx(OY,{});case"configuracoes":return p.jsx(kQ,{});case"simulados":return p.jsx(VY,{});case"meus-treinamentos":return p.jsx(UA,{});case"minhas-trilhas":return p.jsx(cY,{});case"meus-simulados":return p.jsx(LY,{onStartSimulado:d});case"progresso":return p.jsx(DY,{});case"ranking":return p.jsx(jY,{});case"base-de-conhecimento":return p.jsx(MY,{});default:return n()?p.jsx(nA,{setActiveTab:i}):p.jsx(UA,{})}};return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:p.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):t?p.jsxs("div",{className:"flex h-screen bg-slate-900",children:[p.jsx(G8,{activeTab:s,setActiveTab:i,onLogout:u}),p.jsx("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:g()})]}):p.jsx(q8,{})},JY=async()=>{const t=Vi(_t,"internal","migrationStatus"),e=await Bm(t);if(e.exists()&&e.data().migrated)return;console.log("--- INICIANDO MIGRAO DE DADOS ---");const n=XY(),r=["usuarios","categorias","departamentos","treinamentos","historico","trilhas","knowledgeBase"];for(const s of r)if(n[s]&&Array.isArray(n[s]))for(const i of n[s])i&&i.id&&await Hp(Vi(_t,s,i.id.toString()),i);await Hp(t,{migrated:!0,date:new Date().toISOString()}),console.log("--- MIGRAO CONCLUDA COM SUCESSO ---")};function eX(){const[t,e]=A.useState(!1);return A.useEffect(()=>{(async()=>{await YY(),await JY(),e(!0)})()},[]),t?p.jsxs(eI,{children:[p.jsx(u0,{children:p.jsx("title",{children:"Central de Treinamento"})}),p.jsx(ZY,{}),p.jsx(yB,{})]}):p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:[p.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"}),p.jsx("p",{className:"text-white ml-4",children:"Inicializando..."})]})}fO.createRoot(document.getElementById("root")).render(p.jsx(Ue.StrictMode,{children:p.jsx(eI,{children:p.jsx(eX,{})})}));
