var OO=Object.defineProperty;var VO=(t,e,n)=>e in t?OO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vt=(t,e,n)=>VO(t,typeof e!="symbol"?e+"":e,n);function LO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nv={exports:{}},Hu={},rv={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function FO(){if(i1)return st;i1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function _($,J,se){this.props=$,this.context=J,this.refs=w,this.updater=se||x}_.prototype.isReactComponent={},_.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function R(){}R.prototype=_.prototype;function I($,J,se){this.props=$,this.context=J,this.refs=w,this.updater=se||x}var k=I.prototype=new R;k.constructor=I,T(k,_.prototype),k.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E($,J,se){var ve,be={},Ee=null,he=null;if(J!=null)for(ve in J.ref!==void 0&&(he=J.ref),J.key!==void 0&&(Ee=""+J.key),J)B.call(J,ve)&&!M.hasOwnProperty(ve)&&(be[ve]=J[ve]);var de=arguments.length-2;if(de===1)be.children=se;else if(1<de){for(var Te=Array(de),Ce=0;Ce<de;Ce++)Te[Ce]=arguments[Ce+2];be.children=Te}if($&&$.defaultProps)for(ve in de=$.defaultProps,de)be[ve]===void 0&&(be[ve]=de[ve]);return{$$typeof:t,type:$,key:Ee,ref:he,props:be,_owner:U.current}}function P($,J){return{$$typeof:t,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function L($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(se){return J[se]})}var D=/\/+/g;function V($,J){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):J.toString(36)}function X($,J,se,ve,be){var Ee=typeof $;(Ee==="undefined"||Ee==="boolean")&&($=null);var he=!1;if($===null)he=!0;else switch(Ee){case"string":case"number":he=!0;break;case"object":switch($.$$typeof){case t:case e:he=!0}}if(he)return he=$,be=be(he),$=ve===""?"."+V(he,0):ve,O(be)?(se="",$!=null&&(se=$.replace(D,"$&/")+"/"),X(be,J,se,"",function(Ce){return Ce})):be!=null&&(N(be)&&(be=P(be,se+(!be.key||he&&he.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+$)),J.push(be)),1;if(he=0,ve=ve===""?".":ve+":",O($))for(var de=0;de<$.length;de++){Ee=$[de];var Te=ve+V(Ee,de);he+=X(Ee,J,se,Te,be)}else if(Te=y($),typeof Te=="function")for($=Te.call($),de=0;!(Ee=$.next()).done;)Ee=Ee.value,Te=ve+V(Ee,de++),he+=X(Ee,J,se,Te,be);else if(Ee==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return he}function q($,J,se){if($==null)return $;var ve=[],be=0;return X($,ve,"","",function(Ee){return J.call(se,Ee,be++)}),ve}function W($){if($._status===-1){var J=$._result;J=J(),J.then(function(se){($._status===0||$._status===-1)&&($._status=1,$._result=se)},function(se){($._status===0||$._status===-1)&&($._status=2,$._result=se)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var Y={current:null},K={transition:null},ee={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:K,ReactCurrentOwner:U};function oe(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:q,forEach:function($,J,se){q($,function(){J.apply(this,arguments)},se)},count:function($){var J=0;return q($,function(){J++}),J},toArray:function($){return q($,function(J){return J})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},st.Component=_,st.Fragment=n,st.Profiler=s,st.PureComponent=I,st.StrictMode=r,st.Suspense=u,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,st.act=oe,st.cloneElement=function($,J,se){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ve=T({},$.props),be=$.key,Ee=$.ref,he=$._owner;if(J!=null){if(J.ref!==void 0&&(Ee=J.ref,he=U.current),J.key!==void 0&&(be=""+J.key),$.type&&$.type.defaultProps)var de=$.type.defaultProps;for(Te in J)B.call(J,Te)&&!M.hasOwnProperty(Te)&&(ve[Te]=J[Te]===void 0&&de!==void 0?de[Te]:J[Te])}var Te=arguments.length-2;if(Te===1)ve.children=se;else if(1<Te){de=Array(Te);for(var Ce=0;Ce<Te;Ce++)de[Ce]=arguments[Ce+2];ve.children=de}return{$$typeof:t,type:$.type,key:be,ref:Ee,props:ve,_owner:he}},st.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},st.createElement=E,st.createFactory=function($){var J=E.bind(null,$);return J.type=$,J},st.createRef=function(){return{current:null}},st.forwardRef=function($){return{$$typeof:l,render:$}},st.isValidElement=N,st.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:W}},st.memo=function($,J){return{$$typeof:d,type:$,compare:J===void 0?null:J}},st.startTransition=function($){var J=K.transition;K.transition={};try{$()}finally{K.transition=J}},st.unstable_act=oe,st.useCallback=function($,J){return Y.current.useCallback($,J)},st.useContext=function($){return Y.current.useContext($)},st.useDebugValue=function(){},st.useDeferredValue=function($){return Y.current.useDeferredValue($)},st.useEffect=function($,J){return Y.current.useEffect($,J)},st.useId=function(){return Y.current.useId()},st.useImperativeHandle=function($,J,se){return Y.current.useImperativeHandle($,J,se)},st.useInsertionEffect=function($,J){return Y.current.useInsertionEffect($,J)},st.useLayoutEffect=function($,J){return Y.current.useLayoutEffect($,J)},st.useMemo=function($,J){return Y.current.useMemo($,J)},st.useReducer=function($,J,se){return Y.current.useReducer($,J,se)},st.useRef=function($){return Y.current.useRef($)},st.useState=function($){return Y.current.useState($)},st.useSyncExternalStore=function($,J,se){return Y.current.useSyncExternalStore($,J,se)},st.useTransition=function(){return Y.current.useTransition()},st.version="18.3.1",st}var o1;function Yd(){return o1||(o1=1,rv.exports=FO()),rv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function BO(){if(a1)return Hu;a1=1;var t=Yd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var p,m={},y=null,x=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(x=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(m[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:l,key:y,ref:x,props:m,_owner:s.current}}return Hu.Fragment=n,Hu.jsx=o,Hu.jsxs=o,Hu}var l1;function zO(){return l1||(l1=1,nv.exports=BO()),nv.exports}var h=zO(),S=Yd();const Fe=mi(S),dP=LO({__proto__:null,default:Fe},[S]);var If={},sv={exports:{}},mr={},iv={exports:{}},ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function UO(){return c1||(c1=1,(function(t){function e(K,ee){var oe=K.length;K.push(ee);e:for(;0<oe;){var $=oe-1>>>1,J=K[$];if(0<s(J,ee))K[$]=ee,K[oe]=J,oe=$;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],oe=K.pop();if(oe!==ee){K[0]=oe;e:for(var $=0,J=K.length,se=J>>>1;$<se;){var ve=2*($+1)-1,be=K[ve],Ee=ve+1,he=K[Ee];if(0>s(be,oe))Ee<J&&0>s(he,be)?(K[$]=he,K[Ee]=oe,$=Ee):(K[$]=be,K[ve]=oe,$=ve);else if(Ee<J&&0>s(he,oe))K[$]=he,K[Ee]=oe,$=Ee;else break e}}return ee}function s(K,ee){var oe=K.sortIndex-ee.sortIndex;return oe!==0?oe:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,m=null,y=3,x=!1,T=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=K)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function O(K){if(w=!1,k(K),!T)if(n(u)!==null)T=!0,W(B);else{var ee=n(d);ee!==null&&Y(O,ee.startTime-K)}}function B(K,ee){T=!1,w&&(w=!1,R(E),E=-1),x=!0;var oe=y;try{for(k(ee),m=n(u);m!==null&&(!(m.expirationTime>ee)||K&&!L());){var $=m.callback;if(typeof $=="function"){m.callback=null,y=m.priorityLevel;var J=$(m.expirationTime<=ee);ee=t.unstable_now(),typeof J=="function"?m.callback=J:m===n(u)&&r(u),k(ee)}else r(u);m=n(u)}if(m!==null)var se=!0;else{var ve=n(d);ve!==null&&Y(O,ve.startTime-ee),se=!1}return se}finally{m=null,y=oe,x=!1}}var U=!1,M=null,E=-1,P=5,N=-1;function L(){return!(t.unstable_now()-N<P)}function D(){if(M!==null){var K=t.unstable_now();N=K;var ee=!0;try{ee=M(!0,K)}finally{ee?V():(U=!1,M=null)}}else U=!1}var V;if(typeof I=="function")V=function(){I(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,q=X.port2;X.port1.onmessage=D,V=function(){q.postMessage(null)}}else V=function(){_(D,0)};function W(K){M=K,U||(U=!0,V())}function Y(K,ee){E=_(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,W(B))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var oe=y;y=ee;try{return K()}finally{y=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=y;y=K;try{return ee()}finally{y=oe}},t.unstable_scheduleCallback=function(K,ee,oe){var $=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,K){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,K={id:p++,callback:ee,priorityLevel:K,startTime:oe,expirationTime:J,sortIndex:-1},oe>$?(K.sortIndex=oe,e(d,K),n(u)===null&&K===n(d)&&(w?(R(E),E=-1):w=!0,Y(O,oe-$))):(K.sortIndex=J,e(u,K),T||x||(T=!0,W(B))),K},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(K){var ee=y;return function(){var oe=y;y=ee;try{return K.apply(this,arguments)}finally{y=oe}}}})(ov)),ov}var u1;function $O(){return u1||(u1=1,iv.exports=UO()),iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function HO(){if(d1)return mr;d1=1;var t=Yd(),e=$O();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(s[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(a){return u.call(m,a)?!0:u.call(p,a)?!1:d.test(a)?m[a]=!0:(p[a]=!0,!1)}function x(a,c,f,v){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,c,f,v){if(c===null||typeof c>"u"||x(a,c,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,f,v,b,A,F){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=F}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];_[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(R,I);_[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(R,I);_[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(R,I);_[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,c,f,v){var b=_.hasOwnProperty(c)?_[c]:null;(b!==null?b.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,f,b,v)&&(f=null),v||b===null?y(c)&&(f===null?a.removeAttribute(c):a.setAttribute(c,""+f)):b.mustUseProperty?a[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,v=b.attributeNamespace,f===null?a.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,v?a.setAttributeNS(v,c,f):a.setAttribute(c,f))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),U=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),K=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Object.assign,$;function J(a){if($===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);$=c&&c[1]||""}return`
`+$+a}var se=!1;function ve(a,c){if(!a||se)return"";se=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var v=ie}Reflect.construct(a,[],c)}else{try{c.call()}catch(ie){v=ie}a.call(c.prototype)}else{try{throw Error()}catch(ie){v=ie}a()}}catch(ie){if(ie&&v&&typeof ie.stack=="string"){for(var b=ie.stack.split(`
`),A=v.stack.split(`
`),F=b.length-1,H=A.length-1;1<=F&&0<=H&&b[F]!==A[H];)H--;for(;1<=F&&0<=H;F--,H--)if(b[F]!==A[H]){if(F!==1||H!==1)do if(F--,H--,0>H||b[F]!==A[H]){var G=`
`+b[F].replace(" at new "," at ");return a.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",a.displayName)),G}while(1<=F&&0<=H);break}}}finally{se=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?J(a):""}function be(a){switch(a.tag){case 5:return J(a.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function Ee(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case U:return"Portal";case P:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case N:return(a._context.displayName||"Context")+".Provider";case D:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return c=a.displayName||null,c!==null?c:Ee(a.type)||"Memo";case W:c=a._payload,a=a._init;try{return Ee(a(c))}catch{}}return null}function he(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function de(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Te(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ce(a){var c=Te(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,A=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(F){v=""+F,A.call(this,F)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function ue(a){a._valueTracker||(a._valueTracker=Ce(a))}function Z(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return a&&(v=Te(a)?a.checked?"true":"false":a.value),a=v,a!==f?(c.setValue(a),!0):!1}function me(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ge(a,c){var f=c.checked;return oe({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function Ae(a,c){var f=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;f=de(c.value!=null?c.value:f),a._wrapperState={initialChecked:v,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Re(a,c){c=c.checked,c!=null&&k(a,"checked",c,!1)}function tt(a,c){Re(a,c);var f=de(c.value),v=c.type;if(f!=null)v==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Ke(a,c.type,f):c.hasOwnProperty("defaultValue")&&Ke(a,c.type,de(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function $e(a,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,f||c===a.value||(a.value=c),a.defaultValue=c}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Ke(a,c,f){(c!=="number"||me(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Tt=Array.isArray;function Vn(a,c,f,v){if(a=a.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<a.length;f++)b=c.hasOwnProperty("$"+a[f].value),a[f].selected!==b&&(a[f].selected=b),b&&v&&(a[f].defaultSelected=!0)}else{for(f=""+de(f),c=null,b=0;b<a.length;b++){if(a[b].value===f){a[b].selected=!0,v&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function Ln(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Br(a,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(n(92));if(Tt(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),f=c}a._wrapperState={initialValue:de(f)}}function Ht(a,c){var f=de(c.value),v=de(c.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),c.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),v!=null&&(a.defaultValue=""+v)}function Fn(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function rt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?rt(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var cn,vi=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,v,b){MSApp.execUnsafeLocalFunction(function(){return a(c,f,v,b)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(cn=cn||document.createElement("div"),cn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=cn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function cs(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yn=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(a){yn.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),ar[c]=ar[a]})});function us(a,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||ar.hasOwnProperty(a)&&ar[a]?(""+c).trim():c+"px"}function to(a,c){a=a.style;for(var f in c)if(c.hasOwnProperty(f)){var v=f.indexOf("--")===0,b=us(f,c[f],v);f==="float"&&(f="cssFloat"),v?a.setProperty(f,b):a[f]=b}}var ru=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(a,c){if(c){if(ru[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function iu(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function ul(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var dl=null,zr=null,Ls=null;function hl(a){if(a=Ru(a)){if(typeof dl!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Hh(c),dl(a.stateNode,a.type,c))}}function Fs(a){zr?Ls?Ls.push(a):Ls=[a]:zr=a}function ou(){if(zr){var a=zr,c=Ls;if(Ls=zr=null,hl(a),c)for(a=0;a<c.length;a++)hl(c[a])}}function ca(a,c){return a(c)}function au(){}var xi=!1;function lu(a,c,f){if(xi)return a(c,f);xi=!0;try{return ca(a,c,f)}finally{xi=!1,(zr!==null||Ls!==null)&&(au(),ou())}}function Xt(a,c){var f=a.stateNode;if(f===null)return null;var v=Hh(f);if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var fl=!1;if(l)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){fl=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{fl=!1}function ua(a,c,f,v,b,A,F,H,G){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(f,ie)}catch(pe){this.onError(pe)}}var da=!1,pl=null,hs=!1,cu=null,Ig={onError:function(a){da=!0,pl=a}};function ml(a,c,f,v,b,A,F,H,G){da=!1,pl=null,ua.apply(Ig,arguments)}function mh(a,c,f,v,b,A,F,H,G){if(ml.apply(this,arguments),da){if(da){var ie=pl;da=!1,pl=null}else throw Error(n(198));hs||(hs=!0,cu=ie)}}function fs(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function ha(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function ps(a){if(fs(a)!==a)throw Error(n(188))}function gh(a){var c=a.alternate;if(!c){if(c=fs(a),c===null)throw Error(n(188));return c!==a?null:a}for(var f=a,v=c;;){var b=f.return;if(b===null)break;var A=b.alternate;if(A===null){if(v=b.return,v!==null){f=v;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===f)return ps(b),a;if(A===v)return ps(b),c;A=A.sibling}throw Error(n(188))}if(f.return!==v.return)f=b,v=A;else{for(var F=!1,H=b.child;H;){if(H===f){F=!0,f=b,v=A;break}if(H===v){F=!0,v=b,f=A;break}H=H.sibling}if(!F){for(H=A.child;H;){if(H===f){F=!0,f=A,v=b;break}if(H===v){F=!0,v=A,f=b;break}H=H.sibling}if(!F)throw Error(n(189))}}if(f.alternate!==v)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?a:c}function uu(a){return a=gh(a),a!==null?gl(a):null}function gl(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=gl(a);if(c!==null)return c;a=a.sibling}return null}var yl=e.unstable_scheduleCallback,du=e.unstable_cancelCallback,yh=e.unstable_shouldYield,kg=e.unstable_requestPaint,Nt=e.unstable_now,vh=e.unstable_getCurrentPriorityLevel,fa=e.unstable_ImmediatePriority,no=e.unstable_UserBlockingPriority,Ur=e.unstable_NormalPriority,hu=e.unstable_LowPriority,xh=e.unstable_IdlePriority,pa=null,_r=null;function wh(a){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(pa,a,void 0,(a.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:bh,fu=Math.log,_h=Math.LN2;function bh(a){return a>>>=0,a===0?32:31-(fu(a)/_h|0)|0}var vl=64,xl=4194304;function ro(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ma(a,c){var f=a.pendingLanes;if(f===0)return 0;var v=0,b=a.suspendedLanes,A=a.pingedLanes,F=f&268435455;if(F!==0){var H=F&~b;H!==0?v=ro(H):(A&=F,A!==0&&(v=ro(A)))}else F=f&~b,F!==0?v=ro(F):A!==0&&(v=ro(A));if(v===0)return 0;if(c!==0&&c!==v&&(c&b)===0&&(b=v&-v,A=c&-c,b>=A||b===16&&(A&4194240)!==0))return c;if((v&4)!==0&&(v|=f&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=v;0<c;)f=31-Jn(c),b=1<<f,v|=a[f],c&=~b;return v}function Ng(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(a,c){for(var f=a.suspendedLanes,v=a.pingedLanes,b=a.expirationTimes,A=a.pendingLanes;0<A;){var F=31-Jn(A),H=1<<F,G=b[F];G===-1?((H&f)===0||(H&v)!==0)&&(b[F]=Ng(H,c)):G<=c&&(a.expiredLanes|=H),A&=~H}}function br(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ga(){var a=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),a}function so(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function io(a,c,f){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Jn(c),a[c]=f}function Rt(a,c){var f=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<f;){var b=31-Jn(f),A=1<<b;c[b]=0,v[b]=-1,a[b]=-1,f&=~A}}function oo(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var v=31-Jn(f),b=1<<v;b&c|a[v]&c&&(a[v]|=c),f&=~b}}var dt=0;function ao(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Th,wl,Sh,Eh,Ch,pu=!1,Bs=[],An=null,ms=null,gs=null,lo=new Map,$r=new Map,zs=[],jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(a,c){switch(a){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":lo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(c.pointerId)}}function lr(a,c,f,v,b,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:A,targetContainers:[b]},c!==null&&(c=Ru(c),c!==null&&wl(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function Dg(a,c,f,v,b){switch(c){case"focusin":return An=lr(An,a,c,f,v,b),!0;case"dragenter":return ms=lr(ms,a,c,f,v,b),!0;case"mouseover":return gs=lr(gs,a,c,f,v,b),!0;case"pointerover":var A=b.pointerId;return lo.set(A,lr(lo.get(A)||null,a,c,f,v,b)),!0;case"gotpointercapture":return A=b.pointerId,$r.set(A,lr($r.get(A)||null,a,c,f,v,b)),!0}return!1}function Ph(a){var c=_a(a.target);if(c!==null){var f=fs(c);if(f!==null){if(c=f.tag,c===13){if(c=ha(f),c!==null){a.blockedOn=c,Ch(a.priority,function(){Sh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _i(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=_l(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);la=v,f.target.dispatchEvent(v),la=null}else return c=Ru(f),c!==null&&wl(c),a.blockedOn=f,!1;c.shift()}return!0}function ya(a,c,f){_i(a)&&f.delete(c)}function Rh(){pu=!1,An!==null&&_i(An)&&(An=null),ms!==null&&_i(ms)&&(ms=null),gs!==null&&_i(gs)&&(gs=null),lo.forEach(ya),$r.forEach(ya)}function ys(a,c){a.blockedOn===c&&(a.blockedOn=null,pu||(pu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rh)))}function vs(a){function c(b){return ys(b,a)}if(0<Bs.length){ys(Bs[0],a);for(var f=1;f<Bs.length;f++){var v=Bs[f];v.blockedOn===a&&(v.blockedOn=null)}}for(An!==null&&ys(An,a),ms!==null&&ys(ms,a),gs!==null&&ys(gs,a),lo.forEach(c),$r.forEach(c),f=0;f<zs.length;f++)v=zs[f],v.blockedOn===a&&(v.blockedOn=null);for(;0<zs.length&&(f=zs[0],f.blockedOn===null);)Ph(f),f.blockedOn===null&&zs.shift()}var bi=O.ReactCurrentBatchConfig,co=!0;function zt(a,c,f,v){var b=dt,A=bi.transition;bi.transition=null;try{dt=1,mu(a,c,f,v)}finally{dt=b,bi.transition=A}}function Mg(a,c,f,v){var b=dt,A=bi.transition;bi.transition=null;try{dt=4,mu(a,c,f,v)}finally{dt=b,bi.transition=A}}function mu(a,c,f,v){if(co){var b=_l(a,c,f,v);if(b===null)qg(a,c,v,va,f),Ah(a,v);else if(Dg(b,a,c,f,v))v.stopPropagation();else if(Ah(a,v),c&4&&-1<jg.indexOf(a)){for(;b!==null;){var A=Ru(b);if(A!==null&&Th(A),A=_l(a,c,f,v),A===null&&qg(a,c,v,va,f),A===b)break;b=A}b!==null&&v.stopPropagation()}else qg(a,c,v,null,f)}}var va=null;function _l(a,c,f,v){if(va=null,a=ul(v),a=_a(a),a!==null)if(c=fs(a),c===null)a=null;else if(f=c.tag,f===13){if(a=ha(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return va=a,null}function gu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vh()){case fa:return 1;case no:return 4;case Ur:case hu:return 16;case xh:return 536870912;default:return 16}default:return 16}}var Tr=null,bl=null,cr=null;function yu(){if(cr)return cr;var a,c=bl,f=c.length,v,b="value"in Tr?Tr.value:Tr.textContent,A=b.length;for(a=0;a<f&&c[a]===b[a];a++);var F=f-a;for(v=1;v<=F&&c[f-v]===b[A-v];v++);return cr=b.slice(a,1<v?1-v:void 0)}function Tl(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Us(){return!0}function vu(){return!1}function Pn(a){function c(f,v,b,A,F){this._reactName=f,this._targetInst=b,this.type=v,this.nativeEvent=A,this.target=F,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(f=a[H],this[H]=f?f(A):A[H]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Us:vu,this.isPropagationStopped=vu,this}return oe(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),c}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Pn(xs),$s=oe({},xs,{view:0,detail:0}),Og=Pn($s),El,Ti,uo,xa=oe({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==uo&&(uo&&a.type==="mousemove"?(El=a.screenX-uo.screenX,Ti=a.screenY-uo.screenY):Ti=El=0,uo=a),El)},movementY:function(a){return"movementY"in a?a.movementY:Ti}}),Cl=Pn(xa),xu=oe({},xa,{dataTransfer:0}),Ih=Pn(xu),Al=oe({},$s,{relatedTarget:0}),Pl=Pn(Al),kh=oe({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Si=Pn(kh),Nh=oe({},xs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),jh=Pn(Nh),Dh=oe({},xs,{data:0}),wu=Pn(Dh),Rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Mh[a])?!!c[a]:!1}function Hs(){return Oh}var g=oe({},$s,{key:function(a){if(a.key){var c=Rl[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Tl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?er[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(a){return a.type==="keypress"?Tl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Tl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),C=Pn(g),j=oe({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Pn(j),te=oe({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),ae=Pn(te),_e=oe({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ct=Pn(_e),un=oe({},xa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=Pn(un),vn=[9,13,27,32],rn=l&&"CompositionEvent"in window,Hr=null;l&&"documentMode"in document&&(Hr=document.documentMode);var Sr=l&&"TextEvent"in window&&!Hr,wa=l&&(!rn||Hr&&8<Hr&&11>=Hr),Il=" ",J_=!1;function eb(a,c){switch(a){case"keyup":return vn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var kl=!1;function jM(a,c){switch(a){case"compositionend":return tb(c);case"keypress":return c.which!==32?null:(J_=!0,Il);case"textInput":return a=c.data,a===Il&&J_?null:a;default:return null}}function DM(a,c){if(kl)return a==="compositionend"||!rn&&eb(a,c)?(a=yu(),cr=bl=Tr=null,kl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return wa&&c.locale!=="ko"?null:c.data;default:return null}}var MM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!MM[a.type]:c==="textarea"}function rb(a,c,f,v){Fs(v),c=zh(c,"onChange"),0<c.length&&(f=new Sl("onChange","change",null,f,v),a.push({event:f,listeners:c}))}var _u=null,bu=null;function OM(a){_b(a,0)}function Vh(a){var c=Ol(a);if(Z(c))return a}function VM(a,c){if(a==="change")return c}var sb=!1;if(l){var Vg;if(l){var Lg="oninput"in document;if(!Lg){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),Lg=typeof ib.oninput=="function"}Vg=Lg}else Vg=!1;sb=Vg&&(!document.documentMode||9<document.documentMode)}function ob(){_u&&(_u.detachEvent("onpropertychange",ab),bu=_u=null)}function ab(a){if(a.propertyName==="value"&&Vh(bu)){var c=[];rb(c,bu,a,ul(a)),lu(OM,c)}}function LM(a,c,f){a==="focusin"?(ob(),_u=c,bu=f,_u.attachEvent("onpropertychange",ab)):a==="focusout"&&ob()}function FM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vh(bu)}function BM(a,c){if(a==="click")return Vh(c)}function zM(a,c){if(a==="input"||a==="change")return Vh(c)}function UM(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ws=typeof Object.is=="function"?Object.is:UM;function Tu(a,c){if(ws(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var b=f[v];if(!u.call(c,b)||!ws(a[b],c[b]))return!1}return!0}function lb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cb(a,c){var f=lb(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=c&&v>=c)return{node:f,offset:c-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=lb(f)}}function ub(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?ub(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function db(){for(var a=window,c=me();c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=me(a.document)}return c}function Fg(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function $M(a){var c=db(),f=a.focusedElem,v=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&ub(f.ownerDocument.documentElement,f)){if(v!==null&&Fg(f)){if(c=v.start,a=v.end,a===void 0&&(a=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(a,f.value.length);else if(a=(c=f.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var b=f.textContent.length,A=Math.min(v.start,b);v=v.end===void 0?A:Math.min(v.end,b),!a.extend&&A>v&&(b=v,v=A,A=b),b=cb(f,A);var F=cb(f,v);b&&F&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),a.removeAllRanges(),A>v?(a.addRange(c),a.extend(F.node,F.offset)):(c.setEnd(F.node,F.offset),a.addRange(c)))}}for(c=[],a=f;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)a=c[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var HM=l&&"documentMode"in document&&11>=document.documentMode,Nl=null,Bg=null,Su=null,zg=!1;function hb(a,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;zg||Nl==null||Nl!==me(v)||(v=Nl,"selectionStart"in v&&Fg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Su&&Tu(Su,v)||(Su=v,v=zh(Bg,"onSelect"),0<v.length&&(c=new Sl("onSelect","select",null,c,f),a.push({event:c,listeners:v}),c.target=Nl)))}function Lh(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var jl={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},Ug={},fb={};l&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Fh(a){if(Ug[a])return Ug[a];if(!jl[a])return a;var c=jl[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in fb)return Ug[a]=c[f];return a}var pb=Fh("animationend"),mb=Fh("animationiteration"),gb=Fh("animationstart"),yb=Fh("transitionend"),vb=new Map,xb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(a,c){vb.set(a,c),i(c,[a])}for(var $g=0;$g<xb.length;$g++){var Hg=xb[$g],WM=Hg.toLowerCase(),qM=Hg[0].toUpperCase()+Hg.slice(1);ho(WM,"on"+qM)}ho(pb,"onAnimationEnd"),ho(mb,"onAnimationIteration"),ho(gb,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(yb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function wb(a,c,f){var v=a.type||"unknown-event";a.currentTarget=f,mh(v,c,void 0,a),a.currentTarget=null}function _b(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],b=v.event;v=v.listeners;e:{var A=void 0;if(c)for(var F=v.length-1;0<=F;F--){var H=v[F],G=H.instance,ie=H.currentTarget;if(H=H.listener,G!==A&&b.isPropagationStopped())break e;wb(b,H,ie),A=G}else for(F=0;F<v.length;F++){if(H=v[F],G=H.instance,ie=H.currentTarget,H=H.listener,G!==A&&b.isPropagationStopped())break e;wb(b,H,ie),A=G}}}if(hs)throw a=cu,hs=!1,cu=null,a}function Dt(a,c){var f=c[Zg];f===void 0&&(f=c[Zg]=new Set);var v=a+"__bubble";f.has(v)||(bb(c,a,2,!1),f.add(v))}function Wg(a,c,f){var v=0;c&&(v|=4),bb(f,a,v,c)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function Cu(a){if(!a[Bh]){a[Bh]=!0,r.forEach(function(f){f!=="selectionchange"&&(GM.has(f)||Wg(f,!1,a),Wg(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Bh]||(c[Bh]=!0,Wg("selectionchange",!1,c))}}function bb(a,c,f,v){switch(gu(c)){case 1:var b=zt;break;case 4:b=Mg;break;default:b=mu}f=b.bind(null,c,f,a),b=void 0,!fl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),v?b!==void 0?a.addEventListener(c,f,{capture:!0,passive:b}):a.addEventListener(c,f,!0):b!==void 0?a.addEventListener(c,f,{passive:b}):a.addEventListener(c,f,!1)}function qg(a,c,f,v,b){var A=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var H=v.stateNode.containerInfo;if(H===b||H.nodeType===8&&H.parentNode===b)break;if(F===4)for(F=v.return;F!==null;){var G=F.tag;if((G===3||G===4)&&(G=F.stateNode.containerInfo,G===b||G.nodeType===8&&G.parentNode===b))return;F=F.return}for(;H!==null;){if(F=_a(H),F===null)return;if(G=F.tag,G===5||G===6){v=A=F;continue e}H=H.parentNode}}v=v.return}lu(function(){var ie=A,pe=ul(f),ye=[];e:{var fe=vb.get(a);if(fe!==void 0){var Pe=Sl,Ne=a;switch(a){case"keypress":if(Tl(f)===0)break e;case"keydown":case"keyup":Pe=C;break;case"focusin":Ne="focus",Pe=Pl;break;case"focusout":Ne="blur",Pe=Pl;break;case"beforeblur":case"afterblur":Pe=Pl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=ae;break;case pb:case mb:case gb:Pe=Si;break;case yb:Pe=Ct;break;case"scroll":Pe=Og;break;case"wheel":Pe=ft;break;case"copy":case"cut":case"paste":Pe=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=z}var je=(c&4)!==0,Zt=!je&&a==="scroll",ne=je?fe!==null?fe+"Capture":null:fe;je=[];for(var Q=ie,re;Q!==null;){re=Q;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,ne!==null&&(xe=Xt(Q,ne),xe!=null&&je.push(Au(Q,xe,re)))),Zt)break;Q=Q.return}0<je.length&&(fe=new Pe(fe,Ne,null,f,pe),ye.push({event:fe,listeners:je}))}}if((c&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",fe&&f!==la&&(Ne=f.relatedTarget||f.fromElement)&&(_a(Ne)||Ne[Ei]))break e;if((Pe||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Pe?(Ne=f.relatedTarget||f.toElement,Pe=ie,Ne=Ne?_a(Ne):null,Ne!==null&&(Zt=fs(Ne),Ne!==Zt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Pe=null,Ne=ie),Pe!==Ne)){if(je=Cl,xe="onMouseLeave",ne="onMouseEnter",Q="mouse",(a==="pointerout"||a==="pointerover")&&(je=z,xe="onPointerLeave",ne="onPointerEnter",Q="pointer"),Zt=Pe==null?fe:Ol(Pe),re=Ne==null?fe:Ol(Ne),fe=new je(xe,Q+"leave",Pe,f,pe),fe.target=Zt,fe.relatedTarget=re,xe=null,_a(pe)===ie&&(je=new je(ne,Q+"enter",Ne,f,pe),je.target=re,je.relatedTarget=Zt,xe=je),Zt=xe,Pe&&Ne)t:{for(je=Pe,ne=Ne,Q=0,re=je;re;re=Dl(re))Q++;for(re=0,xe=ne;xe;xe=Dl(xe))re++;for(;0<Q-re;)je=Dl(je),Q--;for(;0<re-Q;)ne=Dl(ne),re--;for(;Q--;){if(je===ne||ne!==null&&je===ne.alternate)break t;je=Dl(je),ne=Dl(ne)}je=null}else je=null;Pe!==null&&Tb(ye,fe,Pe,je,!1),Ne!==null&&Zt!==null&&Tb(ye,Zt,Ne,je,!0)}}e:{if(fe=ie?Ol(ie):window,Pe=fe.nodeName&&fe.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&fe.type==="file")var De=VM;else if(nb(fe))if(sb)De=zM;else{De=FM;var Be=LM}else(Pe=fe.nodeName)&&Pe.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(De=BM);if(De&&(De=De(a,ie))){rb(ye,De,f,pe);break e}Be&&Be(a,fe,ie),a==="focusout"&&(Be=fe._wrapperState)&&Be.controlled&&fe.type==="number"&&Ke(fe,"number",fe.value)}switch(Be=ie?Ol(ie):window,a){case"focusin":(nb(Be)||Be.contentEditable==="true")&&(Nl=Be,Bg=ie,Su=null);break;case"focusout":Su=Bg=Nl=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,hb(ye,f,pe);break;case"selectionchange":if(HM)break;case"keydown":case"keyup":hb(ye,f,pe)}var ze;if(rn)e:{switch(a){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else kl?eb(a,f)&&(Ge="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ge="onCompositionStart");Ge&&(wa&&f.locale!=="ko"&&(kl||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&kl&&(ze=yu()):(Tr=pe,bl="value"in Tr?Tr.value:Tr.textContent,kl=!0)),Be=zh(ie,Ge),0<Be.length&&(Ge=new wu(Ge,a,null,f,pe),ye.push({event:Ge,listeners:Be}),ze?Ge.data=ze:(ze=tb(f),ze!==null&&(Ge.data=ze)))),(ze=Sr?jM(a,f):DM(a,f))&&(ie=zh(ie,"onBeforeInput"),0<ie.length&&(pe=new wu("onBeforeInput","beforeinput",null,f,pe),ye.push({event:pe,listeners:ie}),pe.data=ze))}_b(ye,c)})}function Au(a,c,f){return{instance:a,listener:c,currentTarget:f}}function zh(a,c){for(var f=c+"Capture",v=[];a!==null;){var b=a,A=b.stateNode;b.tag===5&&A!==null&&(b=A,A=Xt(a,f),A!=null&&v.unshift(Au(a,A,b)),A=Xt(a,c),A!=null&&v.push(Au(a,A,b))),a=a.return}return v}function Dl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Tb(a,c,f,v,b){for(var A=c._reactName,F=[];f!==null&&f!==v;){var H=f,G=H.alternate,ie=H.stateNode;if(G!==null&&G===v)break;H.tag===5&&ie!==null&&(H=ie,b?(G=Xt(f,A),G!=null&&F.unshift(Au(f,G,H))):b||(G=Xt(f,A),G!=null&&F.push(Au(f,G,H)))),f=f.return}F.length!==0&&a.push({event:c,listeners:F})}var KM=/\r\n?/g,QM=/\u0000|\uFFFD/g;function Sb(a){return(typeof a=="string"?a:""+a).replace(KM,`
`).replace(QM,"")}function Uh(a,c,f){if(c=Sb(c),Sb(a)!==c&&f)throw Error(n(425))}function $h(){}var Gg=null,Kg=null;function Qg(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Yg=typeof setTimeout=="function"?setTimeout:void 0,YM=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,XM=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(a){return Eb.resolve(null).then(a).catch(ZM)}:Yg;function ZM(a){setTimeout(function(){throw a})}function Xg(a,c){var f=c,v=0;do{var b=f.nextSibling;if(a.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(v===0){a.removeChild(b),vs(c);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=b}while(f);vs(c)}function fo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Cb(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Ws="__reactFiber$"+Ml,Pu="__reactProps$"+Ml,Ei="__reactContainer$"+Ml,Zg="__reactEvents$"+Ml,JM="__reactListeners$"+Ml,eO="__reactHandles$"+Ml;function _a(a){var c=a[Ws];if(c)return c;for(var f=a.parentNode;f;){if(c=f[Ei]||f[Ws]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=Cb(a);a!==null;){if(f=a[Ws])return f;a=Cb(a)}return c}a=f,f=a.parentNode}return null}function Ru(a){return a=a[Ws]||a[Ei],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ol(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Hh(a){return a[Pu]||null}var Jg=[],Vl=-1;function po(a){return{current:a}}function Mt(a){0>Vl||(a.current=Jg[Vl],Jg[Vl]=null,Vl--)}function jt(a,c){Vl++,Jg[Vl]=a.current,a.current=c}var mo={},Bn=po(mo),ur=po(!1),ba=mo;function Ll(a,c){var f=a.type.contextTypes;if(!f)return mo;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var b={},A;for(A in f)b[A]=c[A];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=b),b}function dr(a){return a=a.childContextTypes,a!=null}function Wh(){Mt(ur),Mt(Bn)}function Ab(a,c,f){if(Bn.current!==mo)throw Error(n(168));jt(Bn,c),jt(ur,f)}function Pb(a,c,f){var v=a.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var b in v)if(!(b in c))throw Error(n(108,he(a)||"Unknown",b));return oe({},f,v)}function qh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||mo,ba=Bn.current,jt(Bn,a),jt(ur,ur.current),!0}function Rb(a,c,f){var v=a.stateNode;if(!v)throw Error(n(169));f?(a=Pb(a,c,ba),v.__reactInternalMemoizedMergedChildContext=a,Mt(ur),Mt(Bn),jt(Bn,a)):Mt(ur),jt(ur,f)}var Ci=null,Gh=!1,ey=!1;function Ib(a){Ci===null?Ci=[a]:Ci.push(a)}function tO(a){Gh=!0,Ib(a)}function go(){if(!ey&&Ci!==null){ey=!0;var a=0,c=dt;try{var f=Ci;for(dt=1;a<f.length;a++){var v=f[a];do v=v(!0);while(v!==null)}Ci=null,Gh=!1}catch(b){throw Ci!==null&&(Ci=Ci.slice(a+1)),yl(fa,go),b}finally{dt=c,ey=!1}}return null}var Fl=[],Bl=0,Kh=null,Qh=0,Wr=[],qr=0,Ta=null,Ai=1,Pi="";function Sa(a,c){Fl[Bl++]=Qh,Fl[Bl++]=Kh,Kh=a,Qh=c}function kb(a,c,f){Wr[qr++]=Ai,Wr[qr++]=Pi,Wr[qr++]=Ta,Ta=a;var v=Ai;a=Pi;var b=32-Jn(v)-1;v&=~(1<<b),f+=1;var A=32-Jn(c)+b;if(30<A){var F=b-b%5;A=(v&(1<<F)-1).toString(32),v>>=F,b-=F,Ai=1<<32-Jn(c)+b|f<<b|v,Pi=A+a}else Ai=1<<A|f<<b|v,Pi=a}function ty(a){a.return!==null&&(Sa(a,1),kb(a,1,0))}function ny(a){for(;a===Kh;)Kh=Fl[--Bl],Fl[Bl]=null,Qh=Fl[--Bl],Fl[Bl]=null;for(;a===Ta;)Ta=Wr[--qr],Wr[qr]=null,Pi=Wr[--qr],Wr[qr]=null,Ai=Wr[--qr],Wr[qr]=null}var Er=null,Cr=null,Ut=!1,_s=null;function Nb(a,c){var f=Yr(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=a,c=a.deletions,c===null?(a.deletions=[f],a.flags|=16):c.push(f)}function jb(a,c){switch(a.tag){case 5:var f=a.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Er=a,Cr=fo(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Er=a,Cr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=Ta!==null?{id:Ai,overflow:Pi}:null,a.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Yr(18,null,null,0),f.stateNode=c,f.return=a,a.child=f,Er=a,Cr=null,!0):!1;default:return!1}}function ry(a){return(a.mode&1)!==0&&(a.flags&128)===0}function sy(a){if(Ut){var c=Cr;if(c){var f=c;if(!jb(a,c)){if(ry(a))throw Error(n(418));c=fo(f.nextSibling);var v=Er;c&&jb(a,c)?Nb(v,f):(a.flags=a.flags&-4097|2,Ut=!1,Er=a)}}else{if(ry(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ut=!1,Er=a}}}function Db(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Er=a}function Yh(a){if(a!==Er)return!1;if(!Ut)return Db(a),Ut=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Qg(a.type,a.memoizedProps)),c&&(c=Cr)){if(ry(a))throw Mb(),Error(n(418));for(;c;)Nb(a,c),c=fo(c.nextSibling)}if(Db(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(c===0){Cr=fo(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}a=a.nextSibling}Cr=null}}else Cr=Er?fo(a.stateNode.nextSibling):null;return!0}function Mb(){for(var a=Cr;a;)a=fo(a.nextSibling)}function zl(){Cr=Er=null,Ut=!1}function iy(a){_s===null?_s=[a]:_s.push(a)}var nO=O.ReactCurrentBatchConfig;function Iu(a,c,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var v=f.stateNode}if(!v)throw Error(n(147,a));var b=v,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(F){var H=b.refs;F===null?delete H[A]:H[A]=F},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,a))}return a}function Xh(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Ob(a){var c=a._init;return c(a._payload)}function Vb(a){function c(ne,Q){if(a){var re=ne.deletions;re===null?(ne.deletions=[Q],ne.flags|=16):re.push(Q)}}function f(ne,Q){if(!a)return null;for(;Q!==null;)c(ne,Q),Q=Q.sibling;return null}function v(ne,Q){for(ne=new Map;Q!==null;)Q.key!==null?ne.set(Q.key,Q):ne.set(Q.index,Q),Q=Q.sibling;return ne}function b(ne,Q){return ne=So(ne,Q),ne.index=0,ne.sibling=null,ne}function A(ne,Q,re){return ne.index=re,a?(re=ne.alternate,re!==null?(re=re.index,re<Q?(ne.flags|=2,Q):re):(ne.flags|=2,Q)):(ne.flags|=1048576,Q)}function F(ne){return a&&ne.alternate===null&&(ne.flags|=2),ne}function H(ne,Q,re,xe){return Q===null||Q.tag!==6?(Q=Yy(re,ne.mode,xe),Q.return=ne,Q):(Q=b(Q,re),Q.return=ne,Q)}function G(ne,Q,re,xe){var De=re.type;return De===M?pe(ne,Q,re.props.children,xe,re.key):Q!==null&&(Q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===W&&Ob(De)===Q.type)?(xe=b(Q,re.props),xe.ref=Iu(ne,Q,re),xe.return=ne,xe):(xe=bf(re.type,re.key,re.props,null,ne.mode,xe),xe.ref=Iu(ne,Q,re),xe.return=ne,xe)}function ie(ne,Q,re,xe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=Xy(re,ne.mode,xe),Q.return=ne,Q):(Q=b(Q,re.children||[]),Q.return=ne,Q)}function pe(ne,Q,re,xe,De){return Q===null||Q.tag!==7?(Q=Na(re,ne.mode,xe,De),Q.return=ne,Q):(Q=b(Q,re),Q.return=ne,Q)}function ye(ne,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Yy(""+Q,ne.mode,re),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return re=bf(Q.type,Q.key,Q.props,null,ne.mode,re),re.ref=Iu(ne,null,Q),re.return=ne,re;case U:return Q=Xy(Q,ne.mode,re),Q.return=ne,Q;case W:var xe=Q._init;return ye(ne,xe(Q._payload),re)}if(Tt(Q)||ee(Q))return Q=Na(Q,ne.mode,re,null),Q.return=ne,Q;Xh(ne,Q)}return null}function fe(ne,Q,re,xe){var De=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return De!==null?null:H(ne,Q,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case B:return re.key===De?G(ne,Q,re,xe):null;case U:return re.key===De?ie(ne,Q,re,xe):null;case W:return De=re._init,fe(ne,Q,De(re._payload),xe)}if(Tt(re)||ee(re))return De!==null?null:pe(ne,Q,re,xe,null);Xh(ne,re)}return null}function Pe(ne,Q,re,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ne=ne.get(re)||null,H(Q,ne,""+xe,De);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case B:return ne=ne.get(xe.key===null?re:xe.key)||null,G(Q,ne,xe,De);case U:return ne=ne.get(xe.key===null?re:xe.key)||null,ie(Q,ne,xe,De);case W:var Be=xe._init;return Pe(ne,Q,re,Be(xe._payload),De)}if(Tt(xe)||ee(xe))return ne=ne.get(re)||null,pe(Q,ne,xe,De,null);Xh(Q,xe)}return null}function Ne(ne,Q,re,xe){for(var De=null,Be=null,ze=Q,Ge=Q=0,_n=null;ze!==null&&Ge<re.length;Ge++){ze.index>Ge?(_n=ze,ze=null):_n=ze.sibling;var _t=fe(ne,ze,re[Ge],xe);if(_t===null){ze===null&&(ze=_n);break}a&&ze&&_t.alternate===null&&c(ne,ze),Q=A(_t,Q,Ge),Be===null?De=_t:Be.sibling=_t,Be=_t,ze=_n}if(Ge===re.length)return f(ne,ze),Ut&&Sa(ne,Ge),De;if(ze===null){for(;Ge<re.length;Ge++)ze=ye(ne,re[Ge],xe),ze!==null&&(Q=A(ze,Q,Ge),Be===null?De=ze:Be.sibling=ze,Be=ze);return Ut&&Sa(ne,Ge),De}for(ze=v(ne,ze);Ge<re.length;Ge++)_n=Pe(ze,ne,Ge,re[Ge],xe),_n!==null&&(a&&_n.alternate!==null&&ze.delete(_n.key===null?Ge:_n.key),Q=A(_n,Q,Ge),Be===null?De=_n:Be.sibling=_n,Be=_n);return a&&ze.forEach(function(Eo){return c(ne,Eo)}),Ut&&Sa(ne,Ge),De}function je(ne,Q,re,xe){var De=ee(re);if(typeof De!="function")throw Error(n(150));if(re=De.call(re),re==null)throw Error(n(151));for(var Be=De=null,ze=Q,Ge=Q=0,_n=null,_t=re.next();ze!==null&&!_t.done;Ge++,_t=re.next()){ze.index>Ge?(_n=ze,ze=null):_n=ze.sibling;var Eo=fe(ne,ze,_t.value,xe);if(Eo===null){ze===null&&(ze=_n);break}a&&ze&&Eo.alternate===null&&c(ne,ze),Q=A(Eo,Q,Ge),Be===null?De=Eo:Be.sibling=Eo,Be=Eo,ze=_n}if(_t.done)return f(ne,ze),Ut&&Sa(ne,Ge),De;if(ze===null){for(;!_t.done;Ge++,_t=re.next())_t=ye(ne,_t.value,xe),_t!==null&&(Q=A(_t,Q,Ge),Be===null?De=_t:Be.sibling=_t,Be=_t);return Ut&&Sa(ne,Ge),De}for(ze=v(ne,ze);!_t.done;Ge++,_t=re.next())_t=Pe(ze,ne,Ge,_t.value,xe),_t!==null&&(a&&_t.alternate!==null&&ze.delete(_t.key===null?Ge:_t.key),Q=A(_t,Q,Ge),Be===null?De=_t:Be.sibling=_t,Be=_t);return a&&ze.forEach(function(MO){return c(ne,MO)}),Ut&&Sa(ne,Ge),De}function Zt(ne,Q,re,xe){if(typeof re=="object"&&re!==null&&re.type===M&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case B:e:{for(var De=re.key,Be=Q;Be!==null;){if(Be.key===De){if(De=re.type,De===M){if(Be.tag===7){f(ne,Be.sibling),Q=b(Be,re.props.children),Q.return=ne,ne=Q;break e}}else if(Be.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===W&&Ob(De)===Be.type){f(ne,Be.sibling),Q=b(Be,re.props),Q.ref=Iu(ne,Be,re),Q.return=ne,ne=Q;break e}f(ne,Be);break}else c(ne,Be);Be=Be.sibling}re.type===M?(Q=Na(re.props.children,ne.mode,xe,re.key),Q.return=ne,ne=Q):(xe=bf(re.type,re.key,re.props,null,ne.mode,xe),xe.ref=Iu(ne,Q,re),xe.return=ne,ne=xe)}return F(ne);case U:e:{for(Be=re.key;Q!==null;){if(Q.key===Be)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){f(ne,Q.sibling),Q=b(Q,re.children||[]),Q.return=ne,ne=Q;break e}else{f(ne,Q);break}else c(ne,Q);Q=Q.sibling}Q=Xy(re,ne.mode,xe),Q.return=ne,ne=Q}return F(ne);case W:return Be=re._init,Zt(ne,Q,Be(re._payload),xe)}if(Tt(re))return Ne(ne,Q,re,xe);if(ee(re))return je(ne,Q,re,xe);Xh(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(f(ne,Q.sibling),Q=b(Q,re),Q.return=ne,ne=Q):(f(ne,Q),Q=Yy(re,ne.mode,xe),Q.return=ne,ne=Q),F(ne)):f(ne,Q)}return Zt}var Ul=Vb(!0),Lb=Vb(!1),Zh=po(null),Jh=null,$l=null,oy=null;function ay(){oy=$l=Jh=null}function ly(a){var c=Zh.current;Mt(Zh),a._currentValue=c}function cy(a,c,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===f)break;a=a.return}}function Hl(a,c){Jh=a,oy=$l=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(hr=!0),a.firstContext=null)}function Gr(a){var c=a._currentValue;if(oy!==a)if(a={context:a,memoizedValue:c,next:null},$l===null){if(Jh===null)throw Error(n(308));$l=a,Jh.dependencies={lanes:0,firstContext:a}}else $l=$l.next=a;return c}var Ea=null;function uy(a){Ea===null?Ea=[a]:Ea.push(a)}function Fb(a,c,f,v){var b=c.interleaved;return b===null?(f.next=f,uy(c)):(f.next=b.next,b.next=f),c.interleaved=f,Ri(a,v)}function Ri(a,c){a.lanes|=c;var f=a.alternate;for(f!==null&&(f.lanes|=c),f=a,a=a.return;a!==null;)a.childLanes|=c,f=a.alternate,f!==null&&(f.childLanes|=c),f=a,a=a.return;return f.tag===3?f.stateNode:null}var yo=!1;function dy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bb(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ii(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function vo(a,c,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(yt&2)!==0){var b=v.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),v.pending=c,Ri(a,f)}return b=v.interleaved,b===null?(c.next=c,uy(v)):(c.next=b.next,b.next=c),v.interleaved=c,Ri(a,f)}function ef(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var v=c.lanes;v&=a.pendingLanes,f|=v,c.lanes=f,oo(a,f)}}function zb(a,c){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var b=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var F={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?b=A=F:A=A.next=F,f=f.next}while(f!==null);A===null?b=A=c:A=A.next=c}else b=A=c;f={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:v.shared,effects:v.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}function tf(a,c,f,v){var b=a.updateQueue;yo=!1;var A=b.firstBaseUpdate,F=b.lastBaseUpdate,H=b.shared.pending;if(H!==null){b.shared.pending=null;var G=H,ie=G.next;G.next=null,F===null?A=ie:F.next=ie,F=G;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,H=pe.lastBaseUpdate,H!==F&&(H===null?pe.firstBaseUpdate=ie:H.next=ie,pe.lastBaseUpdate=G))}if(A!==null){var ye=b.baseState;F=0,pe=ie=G=null,H=A;do{var fe=H.lane,Pe=H.eventTime;if((v&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Ne=a,je=H;switch(fe=c,Pe=f,je.tag){case 1:if(Ne=je.payload,typeof Ne=="function"){ye=Ne.call(Pe,ye,fe);break e}ye=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=je.payload,fe=typeof Ne=="function"?Ne.call(Pe,ye,fe):Ne,fe==null)break e;ye=oe({},ye,fe);break e;case 2:yo=!0}}H.callback!==null&&H.lane!==0&&(a.flags|=64,fe=b.effects,fe===null?b.effects=[H]:fe.push(H))}else Pe={eventTime:Pe,lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},pe===null?(ie=pe=Pe,G=ye):pe=pe.next=Pe,F|=fe;if(H=H.next,H===null){if(H=b.shared.pending,H===null)break;fe=H,H=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);if(pe===null&&(G=ye),b.baseState=G,b.firstBaseUpdate=ie,b.lastBaseUpdate=pe,c=b.shared.interleaved,c!==null){b=c;do F|=b.lane,b=b.next;while(b!==c)}else A===null&&(b.shared.lanes=0);Pa|=F,a.lanes=F,a.memoizedState=ye}}function Ub(a,c,f){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var v=a[c],b=v.callback;if(b!==null){if(v.callback=null,v=f,typeof b!="function")throw Error(n(191,b));b.call(v)}}}var ku={},qs=po(ku),Nu=po(ku),ju=po(ku);function Ca(a){if(a===ku)throw Error(n(174));return a}function hy(a,c){switch(jt(ju,c),jt(Nu,a),jt(qs,ku),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ht(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=ht(c,a)}Mt(qs),jt(qs,c)}function Wl(){Mt(qs),Mt(Nu),Mt(ju)}function $b(a){Ca(ju.current);var c=Ca(qs.current),f=ht(c,a.type);c!==f&&(jt(Nu,a),jt(qs,f))}function fy(a){Nu.current===a&&(Mt(qs),Mt(Nu))}var Wt=po(0);function nf(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var py=[];function my(){for(var a=0;a<py.length;a++)py[a]._workInProgressVersionPrimary=null;py.length=0}var rf=O.ReactCurrentDispatcher,gy=O.ReactCurrentBatchConfig,Aa=0,qt=null,dn=null,xn=null,sf=!1,Du=!1,Mu=0,rO=0;function zn(){throw Error(n(321))}function yy(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!ws(a[f],c[f]))return!1;return!0}function vy(a,c,f,v,b,A){if(Aa=A,qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,rf.current=a===null||a.memoizedState===null?aO:lO,a=f(v,b),Du){A=0;do{if(Du=!1,Mu=0,25<=A)throw Error(n(301));A+=1,xn=dn=null,c.updateQueue=null,rf.current=cO,a=f(v,b)}while(Du)}if(rf.current=lf,c=dn!==null&&dn.next!==null,Aa=0,xn=dn=qt=null,sf=!1,c)throw Error(n(300));return a}function xy(){var a=Mu!==0;return Mu=0,a}function Gs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?qt.memoizedState=xn=a:xn=xn.next=a,xn}function Kr(){if(dn===null){var a=qt.alternate;a=a!==null?a.memoizedState:null}else a=dn.next;var c=xn===null?qt.memoizedState:xn.next;if(c!==null)xn=c,dn=a;else{if(a===null)throw Error(n(310));dn=a,a={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},xn===null?qt.memoizedState=xn=a:xn=xn.next=a}return xn}function Ou(a,c){return typeof c=="function"?c(a):c}function wy(a){var c=Kr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var v=dn,b=v.baseQueue,A=f.pending;if(A!==null){if(b!==null){var F=b.next;b.next=A.next,A.next=F}v.baseQueue=b=A,f.pending=null}if(b!==null){A=b.next,v=v.baseState;var H=F=null,G=null,ie=A;do{var pe=ie.lane;if((Aa&pe)===pe)G!==null&&(G=G.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),v=ie.hasEagerState?ie.eagerState:a(v,ie.action);else{var ye={lane:pe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};G===null?(H=G=ye,F=v):G=G.next=ye,qt.lanes|=pe,Pa|=pe}ie=ie.next}while(ie!==null&&ie!==A);G===null?F=v:G.next=H,ws(v,c.memoizedState)||(hr=!0),c.memoizedState=v,c.baseState=F,c.baseQueue=G,f.lastRenderedState=v}if(a=f.interleaved,a!==null){b=a;do A=b.lane,qt.lanes|=A,Pa|=A,b=b.next;while(b!==a)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function _y(a){var c=Kr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var v=f.dispatch,b=f.pending,A=c.memoizedState;if(b!==null){f.pending=null;var F=b=b.next;do A=a(A,F.action),F=F.next;while(F!==b);ws(A,c.memoizedState)||(hr=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),f.lastRenderedState=A}return[A,v]}function Hb(){}function Wb(a,c){var f=qt,v=Kr(),b=c(),A=!ws(v.memoizedState,b);if(A&&(v.memoizedState=b,hr=!0),v=v.queue,by(Kb.bind(null,f,v,a),[a]),v.getSnapshot!==c||A||xn!==null&&xn.memoizedState.tag&1){if(f.flags|=2048,Vu(9,Gb.bind(null,f,v,b,c),void 0,null),wn===null)throw Error(n(349));(Aa&30)!==0||qb(f,c,b)}return b}function qb(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=qt.updateQueue,c===null?(c={lastEffect:null,stores:null},qt.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function Gb(a,c,f,v){c.value=f,c.getSnapshot=v,Qb(c)&&Yb(a)}function Kb(a,c,f){return f(function(){Qb(c)&&Yb(a)})}function Qb(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!ws(a,f)}catch{return!0}}function Yb(a){var c=Ri(a,1);c!==null&&Es(c,a,1,-1)}function Xb(a){var c=Gs();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:a},c.queue=a,a=a.dispatch=oO.bind(null,qt,a),[c.memoizedState,a]}function Vu(a,c,f,v){return a={tag:a,create:c,destroy:f,deps:v,next:null},c=qt.updateQueue,c===null?(c={lastEffect:null,stores:null},qt.updateQueue=c,c.lastEffect=a.next=a):(f=c.lastEffect,f===null?c.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,c.lastEffect=a)),a}function Zb(){return Kr().memoizedState}function of(a,c,f,v){var b=Gs();qt.flags|=a,b.memoizedState=Vu(1|c,f,void 0,v===void 0?null:v)}function af(a,c,f,v){var b=Kr();v=v===void 0?null:v;var A=void 0;if(dn!==null){var F=dn.memoizedState;if(A=F.destroy,v!==null&&yy(v,F.deps)){b.memoizedState=Vu(c,f,A,v);return}}qt.flags|=a,b.memoizedState=Vu(1|c,f,A,v)}function Jb(a,c){return of(8390656,8,a,c)}function by(a,c){return af(2048,8,a,c)}function eT(a,c){return af(4,2,a,c)}function tT(a,c){return af(4,4,a,c)}function nT(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function rT(a,c,f){return f=f!=null?f.concat([a]):null,af(4,4,nT.bind(null,c,a),f)}function Ty(){}function sT(a,c){var f=Kr();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&yy(c,v[1])?v[0]:(f.memoizedState=[a,c],a)}function iT(a,c){var f=Kr();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&yy(c,v[1])?v[0]:(a=a(),f.memoizedState=[a,c],a)}function oT(a,c,f){return(Aa&21)===0?(a.baseState&&(a.baseState=!1,hr=!0),a.memoizedState=f):(ws(f,c)||(f=ga(),qt.lanes|=f,Pa|=f,a.baseState=!0),c)}function sO(a,c){var f=dt;dt=f!==0&&4>f?f:4,a(!0);var v=gy.transition;gy.transition={};try{a(!1),c()}finally{dt=f,gy.transition=v}}function aT(){return Kr().memoizedState}function iO(a,c,f){var v=bo(a);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},lT(a))cT(c,f);else if(f=Fb(a,c,f,v),f!==null){var b=nr();Es(f,a,v,b),uT(f,c,v)}}function oO(a,c,f){var v=bo(a),b={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(lT(a))cT(c,b);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var F=c.lastRenderedState,H=A(F,f);if(b.hasEagerState=!0,b.eagerState=H,ws(H,F)){var G=c.interleaved;G===null?(b.next=b,uy(c)):(b.next=G.next,G.next=b),c.interleaved=b;return}}catch{}finally{}f=Fb(a,c,b,v),f!==null&&(b=nr(),Es(f,a,v,b),uT(f,c,v))}}function lT(a){var c=a.alternate;return a===qt||c!==null&&c===qt}function cT(a,c){Du=sf=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function uT(a,c,f){if((f&4194240)!==0){var v=c.lanes;v&=a.pendingLanes,f|=v,c.lanes=f,oo(a,f)}}var lf={readContext:Gr,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},aO={readContext:Gr,useCallback:function(a,c){return Gs().memoizedState=[a,c===void 0?null:c],a},useContext:Gr,useEffect:Jb,useImperativeHandle:function(a,c,f){return f=f!=null?f.concat([a]):null,of(4194308,4,nT.bind(null,c,a),f)},useLayoutEffect:function(a,c){return of(4194308,4,a,c)},useInsertionEffect:function(a,c){return of(4,2,a,c)},useMemo:function(a,c){var f=Gs();return c=c===void 0?null:c,a=a(),f.memoizedState=[a,c],a},useReducer:function(a,c,f){var v=Gs();return c=f!==void 0?f(c):c,v.memoizedState=v.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},v.queue=a,a=a.dispatch=iO.bind(null,qt,a),[v.memoizedState,a]},useRef:function(a){var c=Gs();return a={current:a},c.memoizedState=a},useState:Xb,useDebugValue:Ty,useDeferredValue:function(a){return Gs().memoizedState=a},useTransition:function(){var a=Xb(!1),c=a[0];return a=sO.bind(null,a[1]),Gs().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,f){var v=qt,b=Gs();if(Ut){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),wn===null)throw Error(n(349));(Aa&30)!==0||qb(v,c,f)}b.memoizedState=f;var A={value:f,getSnapshot:c};return b.queue=A,Jb(Kb.bind(null,v,A,a),[a]),v.flags|=2048,Vu(9,Gb.bind(null,v,A,f,c),void 0,null),f},useId:function(){var a=Gs(),c=wn.identifierPrefix;if(Ut){var f=Pi,v=Ai;f=(v&~(1<<32-Jn(v)-1)).toString(32)+f,c=":"+c+"R"+f,f=Mu++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=rO++,c=":"+c+"r"+f.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},lO={readContext:Gr,useCallback:sT,useContext:Gr,useEffect:by,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:iT,useReducer:wy,useRef:Zb,useState:function(){return wy(Ou)},useDebugValue:Ty,useDeferredValue:function(a){var c=Kr();return oT(c,dn.memoizedState,a)},useTransition:function(){var a=wy(Ou)[0],c=Kr().memoizedState;return[a,c]},useMutableSource:Hb,useSyncExternalStore:Wb,useId:aT,unstable_isNewReconciler:!1},cO={readContext:Gr,useCallback:sT,useContext:Gr,useEffect:by,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:iT,useReducer:_y,useRef:Zb,useState:function(){return _y(Ou)},useDebugValue:Ty,useDeferredValue:function(a){var c=Kr();return dn===null?c.memoizedState=a:oT(c,dn.memoizedState,a)},useTransition:function(){var a=_y(Ou)[0],c=Kr().memoizedState;return[a,c]},useMutableSource:Hb,useSyncExternalStore:Wb,useId:aT,unstable_isNewReconciler:!1};function bs(a,c){if(a&&a.defaultProps){c=oe({},c),a=a.defaultProps;for(var f in a)c[f]===void 0&&(c[f]=a[f]);return c}return c}function Sy(a,c,f,v){c=a.memoizedState,f=f(v,c),f=f==null?c:oe({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var cf={isMounted:function(a){return(a=a._reactInternals)?fs(a)===a:!1},enqueueSetState:function(a,c,f){a=a._reactInternals;var v=nr(),b=bo(a),A=Ii(v,b);A.payload=c,f!=null&&(A.callback=f),c=vo(a,A,b),c!==null&&(Es(c,a,b,v),ef(c,a,b))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var v=nr(),b=bo(a),A=Ii(v,b);A.tag=1,A.payload=c,f!=null&&(A.callback=f),c=vo(a,A,b),c!==null&&(Es(c,a,b,v),ef(c,a,b))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=nr(),v=bo(a),b=Ii(f,v);b.tag=2,c!=null&&(b.callback=c),c=vo(a,b,v),c!==null&&(Es(c,a,v,f),ef(c,a,v))}};function dT(a,c,f,v,b,A,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,A,F):c.prototype&&c.prototype.isPureReactComponent?!Tu(f,v)||!Tu(b,A):!0}function hT(a,c,f){var v=!1,b=mo,A=c.contextType;return typeof A=="object"&&A!==null?A=Gr(A):(b=dr(c)?ba:Bn.current,v=c.contextTypes,A=(v=v!=null)?Ll(a,b):mo),c=new c(f,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cf,a.stateNode=c,c._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=A),c}function fT(a,c,f,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==a&&cf.enqueueReplaceState(c,c.state,null)}function Ey(a,c,f,v){var b=a.stateNode;b.props=f,b.state=a.memoizedState,b.refs={},dy(a);var A=c.contextType;typeof A=="object"&&A!==null?b.context=Gr(A):(A=dr(c)?ba:Bn.current,b.context=Ll(a,A)),b.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Sy(a,c,A,f),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&cf.enqueueReplaceState(b,b.state,null),tf(a,f,b,v),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function ql(a,c){try{var f="",v=c;do f+=be(v),v=v.return;while(v);var b=f}catch(A){b=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:b,digest:null}}function Cy(a,c,f){return{value:a,source:null,stack:f??null,digest:c??null}}function Ay(a,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var uO=typeof WeakMap=="function"?WeakMap:Map;function pT(a,c,f){f=Ii(-1,f),f.tag=3,f.payload={element:null};var v=c.value;return f.callback=function(){gf||(gf=!0,Uy=v),Ay(a,c)},f}function mT(a,c,f){f=Ii(-1,f),f.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var b=c.value;f.payload=function(){return v(b)},f.callback=function(){Ay(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){Ay(a,c),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})}),f}function gT(a,c,f){var v=a.pingCache;if(v===null){v=a.pingCache=new uO;var b=new Set;v.set(c,b)}else b=v.get(c),b===void 0&&(b=new Set,v.set(c,b));b.has(f)||(b.add(f),a=SO.bind(null,a,c,f),c.then(a,a))}function yT(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function vT(a,c,f,v,b){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Ii(-1,1),c.tag=2,vo(f,c,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var dO=O.ReactCurrentOwner,hr=!1;function tr(a,c,f,v){c.child=a===null?Lb(c,null,f,v):Ul(c,a.child,f,v)}function xT(a,c,f,v,b){f=f.render;var A=c.ref;return Hl(c,b),v=vy(a,c,f,v,A,b),f=xy(),a!==null&&!hr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,ki(a,c,b)):(Ut&&f&&ty(c),c.flags|=1,tr(a,c,v,b),c.child)}function wT(a,c,f,v,b){if(a===null){var A=f.type;return typeof A=="function"&&!Qy(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=A,_T(a,c,A,v,b)):(a=bf(f.type,null,v,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,(a.lanes&b)===0){var F=A.memoizedProps;if(f=f.compare,f=f!==null?f:Tu,f(F,v)&&a.ref===c.ref)return ki(a,c,b)}return c.flags|=1,a=So(A,v),a.ref=c.ref,a.return=c,c.child=a}function _T(a,c,f,v,b){if(a!==null){var A=a.memoizedProps;if(Tu(A,v)&&a.ref===c.ref)if(hr=!1,c.pendingProps=v=A,(a.lanes&b)!==0)(a.flags&131072)!==0&&(hr=!0);else return c.lanes=a.lanes,ki(a,c,b)}return Py(a,c,f,v,b)}function bT(a,c,f){var v=c.pendingProps,b=v.children,A=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Kl,Ar),Ar|=f;else{if((f&1073741824)===0)return a=A!==null?A.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,jt(Kl,Ar),Ar|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:f,jt(Kl,Ar),Ar|=v}else A!==null?(v=A.baseLanes|f,c.memoizedState=null):v=f,jt(Kl,Ar),Ar|=v;return tr(a,c,b,f),c.child}function TT(a,c){var f=c.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Py(a,c,f,v,b){var A=dr(f)?ba:Bn.current;return A=Ll(c,A),Hl(c,b),f=vy(a,c,f,v,A,b),v=xy(),a!==null&&!hr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,ki(a,c,b)):(Ut&&v&&ty(c),c.flags|=1,tr(a,c,f,b),c.child)}function ST(a,c,f,v,b){if(dr(f)){var A=!0;qh(c)}else A=!1;if(Hl(c,b),c.stateNode===null)df(a,c),hT(c,f,v),Ey(c,f,v,b),v=!0;else if(a===null){var F=c.stateNode,H=c.memoizedProps;F.props=H;var G=F.context,ie=f.contextType;typeof ie=="object"&&ie!==null?ie=Gr(ie):(ie=dr(f)?ba:Bn.current,ie=Ll(c,ie));var pe=f.getDerivedStateFromProps,ye=typeof pe=="function"||typeof F.getSnapshotBeforeUpdate=="function";ye||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(H!==v||G!==ie)&&fT(c,F,v,ie),yo=!1;var fe=c.memoizedState;F.state=fe,tf(c,v,F,b),G=c.memoizedState,H!==v||fe!==G||ur.current||yo?(typeof pe=="function"&&(Sy(c,f,pe,v),G=c.memoizedState),(H=yo||dT(c,f,H,v,fe,G,ie))?(ye||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(c.flags|=4194308)):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=G),F.props=v,F.state=G,F.context=ie,v=H):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{F=c.stateNode,Bb(a,c),H=c.memoizedProps,ie=c.type===c.elementType?H:bs(c.type,H),F.props=ie,ye=c.pendingProps,fe=F.context,G=f.contextType,typeof G=="object"&&G!==null?G=Gr(G):(G=dr(f)?ba:Bn.current,G=Ll(c,G));var Pe=f.getDerivedStateFromProps;(pe=typeof Pe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(H!==ye||fe!==G)&&fT(c,F,v,G),yo=!1,fe=c.memoizedState,F.state=fe,tf(c,v,F,b);var Ne=c.memoizedState;H!==ye||fe!==Ne||ur.current||yo?(typeof Pe=="function"&&(Sy(c,f,Pe,v),Ne=c.memoizedState),(ie=yo||dT(c,f,ie,v,fe,Ne,G)||!1)?(pe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Ne,G),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Ne,G)),typeof F.componentDidUpdate=="function"&&(c.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof F.componentDidUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ne),F.props=v,F.state=Ne,F.context=G,v=ie):(typeof F.componentDidUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=1024),v=!1)}return Ry(a,c,f,v,A,b)}function Ry(a,c,f,v,b,A){TT(a,c);var F=(c.flags&128)!==0;if(!v&&!F)return b&&Rb(c,f,!1),ki(a,c,A);v=c.stateNode,dO.current=c;var H=F&&typeof f.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,a!==null&&F?(c.child=Ul(c,a.child,null,A),c.child=Ul(c,null,H,A)):tr(a,c,H,A),c.memoizedState=v.state,b&&Rb(c,f,!0),c.child}function ET(a){var c=a.stateNode;c.pendingContext?Ab(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Ab(a,c.context,!1),hy(a,c.containerInfo)}function CT(a,c,f,v,b){return zl(),iy(b),c.flags|=256,tr(a,c,f,v),c.child}var Iy={dehydrated:null,treeContext:null,retryLane:0};function ky(a){return{baseLanes:a,cachePool:null,transitions:null}}function AT(a,c,f){var v=c.pendingProps,b=Wt.current,A=!1,F=(c.flags&128)!==0,H;if((H=F)||(H=a!==null&&a.memoizedState===null?!1:(b&2)!==0),H?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),jt(Wt,b&1),a===null)return sy(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(F=v.children,a=v.fallback,A?(v=c.mode,A=c.child,F={mode:"hidden",children:F},(v&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=F):A=Tf(F,v,0,null),a=Na(a,v,f,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=ky(f),c.memoizedState=Iy,a):Ny(c,F));if(b=a.memoizedState,b!==null&&(H=b.dehydrated,H!==null))return hO(a,c,F,v,H,b,f);if(A){A=v.fallback,F=c.mode,b=a.child,H=b.sibling;var G={mode:"hidden",children:v.children};return(F&1)===0&&c.child!==b?(v=c.child,v.childLanes=0,v.pendingProps=G,c.deletions=null):(v=So(b,G),v.subtreeFlags=b.subtreeFlags&14680064),H!==null?A=So(H,A):(A=Na(A,F,f,null),A.flags|=2),A.return=c,v.return=c,v.sibling=A,c.child=v,v=A,A=c.child,F=a.child.memoizedState,F=F===null?ky(f):{baseLanes:F.baseLanes|f,cachePool:null,transitions:F.transitions},A.memoizedState=F,A.childLanes=a.childLanes&~f,c.memoizedState=Iy,v}return A=a.child,a=A.sibling,v=So(A,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=f),v.return=c,v.sibling=null,a!==null&&(f=c.deletions,f===null?(c.deletions=[a],c.flags|=16):f.push(a)),c.child=v,c.memoizedState=null,v}function Ny(a,c){return c=Tf({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function uf(a,c,f,v){return v!==null&&iy(v),Ul(c,a.child,null,f),a=Ny(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function hO(a,c,f,v,b,A,F){if(f)return c.flags&256?(c.flags&=-257,v=Cy(Error(n(422))),uf(a,c,F,v)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=v.fallback,b=c.mode,v=Tf({mode:"visible",children:v.children},b,0,null),A=Na(A,b,F,null),A.flags|=2,v.return=c,A.return=c,v.sibling=A,c.child=v,(c.mode&1)!==0&&Ul(c,a.child,null,F),c.child.memoizedState=ky(F),c.memoizedState=Iy,A);if((c.mode&1)===0)return uf(a,c,F,null);if(b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var H=v.dgst;return v=H,A=Error(n(419)),v=Cy(A,v,void 0),uf(a,c,F,v)}if(H=(F&a.childLanes)!==0,hr||H){if(v=wn,v!==null){switch(F&-F){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(v.suspendedLanes|F))!==0?0:b,b!==0&&b!==A.retryLane&&(A.retryLane=b,Ri(a,b),Es(v,a,b,-1))}return Ky(),v=Cy(Error(n(421))),uf(a,c,F,v)}return b.data==="$?"?(c.flags|=128,c.child=a.child,c=EO.bind(null,a),b._reactRetry=c,null):(a=A.treeContext,Cr=fo(b.nextSibling),Er=c,Ut=!0,_s=null,a!==null&&(Wr[qr++]=Ai,Wr[qr++]=Pi,Wr[qr++]=Ta,Ai=a.id,Pi=a.overflow,Ta=c),c=Ny(c,v.children),c.flags|=4096,c)}function PT(a,c,f){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),cy(a.return,c,f)}function jy(a,c,f,v,b){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:b}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=f,A.tailMode=b)}function RT(a,c,f){var v=c.pendingProps,b=v.revealOrder,A=v.tail;if(tr(a,c,v.children,f),v=Wt.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&PT(a,f,c);else if(a.tag===19)PT(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(jt(Wt,v),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)a=f.alternate,a!==null&&nf(a)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),jy(c,!1,b,f,A);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&nf(a)===null){c.child=b;break}a=b.sibling,b.sibling=f,f=b,b=a}jy(c,!0,f,null,A);break;case"together":jy(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function df(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ki(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),Pa|=c.lanes,(f&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,f=So(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=So(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function fO(a,c,f){switch(c.tag){case 3:ET(c),zl();break;case 5:$b(c);break;case 1:dr(c.type)&&qh(c);break;case 4:hy(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,b=c.memoizedProps.value;jt(Zh,v._currentValue),v._currentValue=b;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(jt(Wt,Wt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?AT(a,c,f):(jt(Wt,Wt.current&1),a=ki(a,c,f),a!==null?a.sibling:null);jt(Wt,Wt.current&1);break;case 19:if(v=(f&c.childLanes)!==0,(a.flags&128)!==0){if(v)return RT(a,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),jt(Wt,Wt.current),v)break;return null;case 22:case 23:return c.lanes=0,bT(a,c,f)}return ki(a,c,f)}var IT,Dy,kT,NT;IT=function(a,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Dy=function(){},kT=function(a,c,f,v){var b=a.memoizedProps;if(b!==v){a=c.stateNode,Ca(qs.current);var A=null;switch(f){case"input":b=ge(a,b),v=ge(a,v),A=[];break;case"select":b=oe({},b,{value:void 0}),v=oe({},v,{value:void 0}),A=[];break;case"textarea":b=Ln(a,b),v=Ln(a,v),A=[];break;default:typeof b.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=$h)}su(f,v);var F;f=null;for(ie in b)if(!v.hasOwnProperty(ie)&&b.hasOwnProperty(ie)&&b[ie]!=null)if(ie==="style"){var H=b[ie];for(F in H)H.hasOwnProperty(F)&&(f||(f={}),f[F]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?A||(A=[]):(A=A||[]).push(ie,null));for(ie in v){var G=v[ie];if(H=b!=null?b[ie]:void 0,v.hasOwnProperty(ie)&&G!==H&&(G!=null||H!=null))if(ie==="style")if(H){for(F in H)!H.hasOwnProperty(F)||G&&G.hasOwnProperty(F)||(f||(f={}),f[F]="");for(F in G)G.hasOwnProperty(F)&&H[F]!==G[F]&&(f||(f={}),f[F]=G[F])}else f||(A||(A=[]),A.push(ie,f)),f=G;else ie==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(A=A||[]).push(ie,G)):ie==="children"?typeof G!="string"&&typeof G!="number"||(A=A||[]).push(ie,""+G):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(G!=null&&ie==="onScroll"&&Dt("scroll",a),A||H===G||(A=[])):(A=A||[]).push(ie,G))}f&&(A=A||[]).push("style",f);var ie=A;(c.updateQueue=ie)&&(c.flags|=4)}},NT=function(a,c,f,v){f!==v&&(c.flags|=4)};function Lu(a,c){if(!Ut)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Un(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(c)for(var b=a.child;b!==null;)f|=b.lanes|b.childLanes,v|=b.subtreeFlags&14680064,v|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)f|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=v,a.childLanes=f,c}function pO(a,c,f){var v=c.pendingProps;switch(ny(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(c),null;case 1:return dr(c.type)&&Wh(),Un(c),null;case 3:return v=c.stateNode,Wl(),Mt(ur),Mt(Bn),my(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(Yh(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,_s!==null&&(Wy(_s),_s=null))),Dy(a,c),Un(c),null;case 5:fy(c);var b=Ca(ju.current);if(f=c.type,a!==null&&c.stateNode!=null)kT(a,c,f,v,b),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Un(c),null}if(a=Ca(qs.current),Yh(c)){v=c.stateNode,f=c.type;var A=c.memoizedProps;switch(v[Ws]=c,v[Pu]=A,a=(c.mode&1)!==0,f){case"dialog":Dt("cancel",v),Dt("close",v);break;case"iframe":case"object":case"embed":Dt("load",v);break;case"video":case"audio":for(b=0;b<Eu.length;b++)Dt(Eu[b],v);break;case"source":Dt("error",v);break;case"img":case"image":case"link":Dt("error",v),Dt("load",v);break;case"details":Dt("toggle",v);break;case"input":Ae(v,A),Dt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!A.multiple},Dt("invalid",v);break;case"textarea":Br(v,A),Dt("invalid",v)}su(f,A),b=null;for(var F in A)if(A.hasOwnProperty(F)){var H=A[F];F==="children"?typeof H=="string"?v.textContent!==H&&(A.suppressHydrationWarning!==!0&&Uh(v.textContent,H,a),b=["children",H]):typeof H=="number"&&v.textContent!==""+H&&(A.suppressHydrationWarning!==!0&&Uh(v.textContent,H,a),b=["children",""+H]):s.hasOwnProperty(F)&&H!=null&&F==="onScroll"&&Dt("scroll",v)}switch(f){case"input":ue(v),$e(v,A,!0);break;case"textarea":ue(v),Fn(v);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(v.onclick=$h)}v=b,c.updateQueue=v,v!==null&&(c.flags|=4)}else{F=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=rt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=F.createElement(f,{is:v.is}):(a=F.createElement(f),f==="select"&&(F=a,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):a=F.createElementNS(a,f),a[Ws]=c,a[Pu]=v,IT(a,c,!1,!1),c.stateNode=a;e:{switch(F=iu(f,v),f){case"dialog":Dt("cancel",a),Dt("close",a),b=v;break;case"iframe":case"object":case"embed":Dt("load",a),b=v;break;case"video":case"audio":for(b=0;b<Eu.length;b++)Dt(Eu[b],a);b=v;break;case"source":Dt("error",a),b=v;break;case"img":case"image":case"link":Dt("error",a),Dt("load",a),b=v;break;case"details":Dt("toggle",a),b=v;break;case"input":Ae(a,v),b=ge(a,v),Dt("invalid",a);break;case"option":b=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},b=oe({},v,{value:void 0}),Dt("invalid",a);break;case"textarea":Br(a,v),b=Ln(a,v),Dt("invalid",a);break;default:b=v}su(f,b),H=b;for(A in H)if(H.hasOwnProperty(A)){var G=H[A];A==="style"?to(a,G):A==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&vi(a,G)):A==="children"?typeof G=="string"?(f!=="textarea"||G!=="")&&cs(a,G):typeof G=="number"&&cs(a,""+G):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?G!=null&&A==="onScroll"&&Dt("scroll",a):G!=null&&k(a,A,G,F))}switch(f){case"input":ue(a),$e(a,v,!1);break;case"textarea":ue(a),Fn(a);break;case"option":v.value!=null&&a.setAttribute("value",""+de(v.value));break;case"select":a.multiple=!!v.multiple,A=v.value,A!=null?Vn(a,!!v.multiple,A,!1):v.defaultValue!=null&&Vn(a,!!v.multiple,v.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=$h)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Un(c),null;case 6:if(a&&c.stateNode!=null)NT(a,c,a.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(f=Ca(ju.current),Ca(qs.current),Yh(c)){if(v=c.stateNode,f=c.memoizedProps,v[Ws]=c,(A=v.nodeValue!==f)&&(a=Er,a!==null))switch(a.tag){case 3:Uh(v.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Uh(v.nodeValue,f,(a.mode&1)!==0)}A&&(c.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Ws]=c,c.stateNode=v}return Un(c),null;case 13:if(Mt(Wt),v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ut&&Cr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Mb(),zl(),c.flags|=98560,A=!1;else if(A=Yh(c),v!==null&&v.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Ws]=c}else zl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),A=!1}else _s!==null&&(Wy(_s),_s=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Wt.current&1)!==0?hn===0&&(hn=3):Ky())),c.updateQueue!==null&&(c.flags|=4),Un(c),null);case 4:return Wl(),Dy(a,c),a===null&&Cu(c.stateNode.containerInfo),Un(c),null;case 10:return ly(c.type._context),Un(c),null;case 17:return dr(c.type)&&Wh(),Un(c),null;case 19:if(Mt(Wt),A=c.memoizedState,A===null)return Un(c),null;if(v=(c.flags&128)!==0,F=A.rendering,F===null)if(v)Lu(A,!1);else{if(hn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(F=nf(a),F!==null){for(c.flags|=128,Lu(A,!1),v=F.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=f,f=c.child;f!==null;)A=f,a=v,A.flags&=14680066,F=A.alternate,F===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=F.childLanes,A.lanes=F.lanes,A.child=F.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=F.memoizedProps,A.memoizedState=F.memoizedState,A.updateQueue=F.updateQueue,A.type=F.type,a=F.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return jt(Wt,Wt.current&1|2),c.child}a=a.sibling}A.tail!==null&&Nt()>Ql&&(c.flags|=128,v=!0,Lu(A,!1),c.lanes=4194304)}else{if(!v)if(a=nf(F),a!==null){if(c.flags|=128,v=!0,f=a.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Lu(A,!0),A.tail===null&&A.tailMode==="hidden"&&!F.alternate&&!Ut)return Un(c),null}else 2*Nt()-A.renderingStartTime>Ql&&f!==1073741824&&(c.flags|=128,v=!0,Lu(A,!1),c.lanes=4194304);A.isBackwards?(F.sibling=c.child,c.child=F):(f=A.last,f!==null?f.sibling=F:c.child=F,A.last=F)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=Nt(),c.sibling=null,f=Wt.current,jt(Wt,v?f&1|2:f&1),c):(Un(c),null);case 22:case 23:return Gy(),v=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(Ar&1073741824)!==0&&(Un(c),c.subtreeFlags&6&&(c.flags|=8192)):Un(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function mO(a,c){switch(ny(c),c.tag){case 1:return dr(c.type)&&Wh(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Wl(),Mt(ur),Mt(Bn),my(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return fy(c),null;case 13:if(Mt(Wt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));zl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Mt(Wt),null;case 4:return Wl(),null;case 10:return ly(c.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var hf=!1,$n=!1,gO=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Gl(a,c){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Qt(a,c,v)}else f.current=null}function My(a,c,f){try{f()}catch(v){Qt(a,c,v)}}var jT=!1;function yO(a,c){if(Gg=co,a=db(),Fg(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var b=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var F=0,H=-1,G=-1,ie=0,pe=0,ye=a,fe=null;t:for(;;){for(var Pe;ye!==f||b!==0&&ye.nodeType!==3||(H=F+b),ye!==A||v!==0&&ye.nodeType!==3||(G=F+v),ye.nodeType===3&&(F+=ye.nodeValue.length),(Pe=ye.firstChild)!==null;)fe=ye,ye=Pe;for(;;){if(ye===a)break t;if(fe===f&&++ie===b&&(H=F),fe===A&&++pe===v&&(G=F),(Pe=ye.nextSibling)!==null)break;ye=fe,fe=ye.parentNode}ye=Pe}f=H===-1||G===-1?null:{start:H,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(Kg={focusedElem:a,selectionRange:f},co=!1,ke=c;ke!==null;)if(c=ke,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,ke=a;else for(;ke!==null;){c=ke;try{var Ne=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var je=Ne.memoizedProps,Zt=Ne.memoizedState,ne=c.stateNode,Q=ne.getSnapshotBeforeUpdate(c.elementType===c.type?je:bs(c.type,je),Zt);ne.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=c.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Qt(c,c.return,xe)}if(a=c.sibling,a!==null){a.return=c.return,ke=a;break}ke=c.return}return Ne=jT,jT=!1,Ne}function Fu(a,c,f){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&a)===a){var A=b.destroy;b.destroy=void 0,A!==void 0&&My(c,f,A)}b=b.next}while(b!==v)}}function ff(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&a)===a){var v=f.create;f.destroy=v()}f=f.next}while(f!==c)}}function Oy(a){var c=a.ref;if(c!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof c=="function"?c(a):c.current=a}}function DT(a){var c=a.alternate;c!==null&&(a.alternate=null,DT(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Ws],delete c[Pu],delete c[Zg],delete c[JM],delete c[eO])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function MT(a){return a.tag===5||a.tag===3||a.tag===4}function OT(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||MT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vy(a,c,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(a,c):f.insertBefore(a,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(a,f)):(c=f,c.appendChild(a)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=$h));else if(v!==4&&(a=a.child,a!==null))for(Vy(a,c,f),a=a.sibling;a!==null;)Vy(a,c,f),a=a.sibling}function Ly(a,c,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(Ly(a,c,f),a=a.sibling;a!==null;)Ly(a,c,f),a=a.sibling}var Rn=null,Ts=!1;function xo(a,c,f){for(f=f.child;f!==null;)VT(a,c,f),f=f.sibling}function VT(a,c,f){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(pa,f)}catch{}switch(f.tag){case 5:$n||Gl(f,c);case 6:var v=Rn,b=Ts;Rn=null,xo(a,c,f),Rn=v,Ts=b,Rn!==null&&(Ts?(a=Rn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Rn.removeChild(f.stateNode));break;case 18:Rn!==null&&(Ts?(a=Rn,f=f.stateNode,a.nodeType===8?Xg(a.parentNode,f):a.nodeType===1&&Xg(a,f),vs(a)):Xg(Rn,f.stateNode));break;case 4:v=Rn,b=Ts,Rn=f.stateNode.containerInfo,Ts=!0,xo(a,c,f),Rn=v,Ts=b;break;case 0:case 11:case 14:case 15:if(!$n&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){b=v=v.next;do{var A=b,F=A.destroy;A=A.tag,F!==void 0&&((A&2)!==0||(A&4)!==0)&&My(f,c,F),b=b.next}while(b!==v)}xo(a,c,f);break;case 1:if(!$n&&(Gl(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(H){Qt(f,c,H)}xo(a,c,f);break;case 21:xo(a,c,f);break;case 22:f.mode&1?($n=(v=$n)||f.memoizedState!==null,xo(a,c,f),$n=v):xo(a,c,f);break;default:xo(a,c,f)}}function LT(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new gO),c.forEach(function(v){var b=CO.bind(null,a,v);f.has(v)||(f.add(v),v.then(b,b))})}}function Ss(a,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var b=f[v];try{var A=a,F=c,H=F;e:for(;H!==null;){switch(H.tag){case 5:Rn=H.stateNode,Ts=!1;break e;case 3:Rn=H.stateNode.containerInfo,Ts=!0;break e;case 4:Rn=H.stateNode.containerInfo,Ts=!0;break e}H=H.return}if(Rn===null)throw Error(n(160));VT(A,F,b),Rn=null,Ts=!1;var G=b.alternate;G!==null&&(G.return=null),b.return=null}catch(ie){Qt(b,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)FT(c,a),c=c.sibling}function FT(a,c){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ss(c,a),Ks(a),v&4){try{Fu(3,a,a.return),ff(3,a)}catch(je){Qt(a,a.return,je)}try{Fu(5,a,a.return)}catch(je){Qt(a,a.return,je)}}break;case 1:Ss(c,a),Ks(a),v&512&&f!==null&&Gl(f,f.return);break;case 5:if(Ss(c,a),Ks(a),v&512&&f!==null&&Gl(f,f.return),a.flags&32){var b=a.stateNode;try{cs(b,"")}catch(je){Qt(a,a.return,je)}}if(v&4&&(b=a.stateNode,b!=null)){var A=a.memoizedProps,F=f!==null?f.memoizedProps:A,H=a.type,G=a.updateQueue;if(a.updateQueue=null,G!==null)try{H==="input"&&A.type==="radio"&&A.name!=null&&Re(b,A),iu(H,F);var ie=iu(H,A);for(F=0;F<G.length;F+=2){var pe=G[F],ye=G[F+1];pe==="style"?to(b,ye):pe==="dangerouslySetInnerHTML"?vi(b,ye):pe==="children"?cs(b,ye):k(b,pe,ye,ie)}switch(H){case"input":tt(b,A);break;case"textarea":Ht(b,A);break;case"select":var fe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!A.multiple;var Pe=A.value;Pe!=null?Vn(b,!!A.multiple,Pe,!1):fe!==!!A.multiple&&(A.defaultValue!=null?Vn(b,!!A.multiple,A.defaultValue,!0):Vn(b,!!A.multiple,A.multiple?[]:"",!1))}b[Pu]=A}catch(je){Qt(a,a.return,je)}}break;case 6:if(Ss(c,a),Ks(a),v&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,A=a.memoizedProps;try{b.nodeValue=A}catch(je){Qt(a,a.return,je)}}break;case 3:if(Ss(c,a),Ks(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{vs(c.containerInfo)}catch(je){Qt(a,a.return,je)}break;case 4:Ss(c,a),Ks(a);break;case 13:Ss(c,a),Ks(a),b=a.child,b.flags&8192&&(A=b.memoizedState!==null,b.stateNode.isHidden=A,!A||b.alternate!==null&&b.alternate.memoizedState!==null||(zy=Nt())),v&4&&LT(a);break;case 22:if(pe=f!==null&&f.memoizedState!==null,a.mode&1?($n=(ie=$n)||pe,Ss(c,a),$n=ie):Ss(c,a),Ks(a),v&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!pe&&(a.mode&1)!==0)for(ke=a,pe=a.child;pe!==null;){for(ye=ke=pe;ke!==null;){switch(fe=ke,Pe=fe.child,fe.tag){case 0:case 11:case 14:case 15:Fu(4,fe,fe.return);break;case 1:Gl(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){v=fe,f=fe.return;try{c=v,Ne.props=c.memoizedProps,Ne.state=c.memoizedState,Ne.componentWillUnmount()}catch(je){Qt(v,f,je)}}break;case 5:Gl(fe,fe.return);break;case 22:if(fe.memoizedState!==null){UT(ye);continue}}Pe!==null?(Pe.return=fe,ke=Pe):UT(ye)}pe=pe.sibling}e:for(pe=null,ye=a;;){if(ye.tag===5){if(pe===null){pe=ye;try{b=ye.stateNode,ie?(A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(H=ye.stateNode,G=ye.memoizedProps.style,F=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=us("display",F))}catch(je){Qt(a,a.return,je)}}}else if(ye.tag===6){if(pe===null)try{ye.stateNode.nodeValue=ie?"":ye.memoizedProps}catch(je){Qt(a,a.return,je)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;pe===ye&&(pe=null),ye=ye.return}pe===ye&&(pe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ss(c,a),Ks(a),v&4&&LT(a);break;case 21:break;default:Ss(c,a),Ks(a)}}function Ks(a){var c=a.flags;if(c&2){try{e:{for(var f=a.return;f!==null;){if(MT(f)){var v=f;break e}f=f.return}throw Error(n(160))}switch(v.tag){case 5:var b=v.stateNode;v.flags&32&&(cs(b,""),v.flags&=-33);var A=OT(a);Ly(a,A,b);break;case 3:case 4:var F=v.stateNode.containerInfo,H=OT(a);Vy(a,H,F);break;default:throw Error(n(161))}}catch(G){Qt(a,a.return,G)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function vO(a,c,f){ke=a,BT(a)}function BT(a,c,f){for(var v=(a.mode&1)!==0;ke!==null;){var b=ke,A=b.child;if(b.tag===22&&v){var F=b.memoizedState!==null||hf;if(!F){var H=b.alternate,G=H!==null&&H.memoizedState!==null||$n;H=hf;var ie=$n;if(hf=F,($n=G)&&!ie)for(ke=b;ke!==null;)F=ke,G=F.child,F.tag===22&&F.memoizedState!==null?$T(b):G!==null?(G.return=F,ke=G):$T(b);for(;A!==null;)ke=A,BT(A),A=A.sibling;ke=b,hf=H,$n=ie}zT(a)}else(b.subtreeFlags&8772)!==0&&A!==null?(A.return=b,ke=A):zT(a)}}function zT(a){for(;ke!==null;){var c=ke;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:$n||ff(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!$n)if(f===null)v.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:bs(c.type,f.memoizedProps);v.componentDidUpdate(b,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Ub(c,A,v);break;case 3:var F=c.updateQueue;if(F!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Ub(c,F,f)}break;case 5:var H=c.stateNode;if(f===null&&c.flags&4){f=H;var G=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&f.focus();break;case"img":G.src&&(f.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var pe=ie.memoizedState;if(pe!==null){var ye=pe.dehydrated;ye!==null&&vs(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$n||c.flags&512&&Oy(c)}catch(fe){Qt(c,c.return,fe)}}if(c===a){ke=null;break}if(f=c.sibling,f!==null){f.return=c.return,ke=f;break}ke=c.return}}function UT(a){for(;ke!==null;){var c=ke;if(c===a){ke=null;break}var f=c.sibling;if(f!==null){f.return=c.return,ke=f;break}ke=c.return}}function $T(a){for(;ke!==null;){var c=ke;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{ff(4,c)}catch(G){Qt(c,f,G)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var b=c.return;try{v.componentDidMount()}catch(G){Qt(c,b,G)}}var A=c.return;try{Oy(c)}catch(G){Qt(c,A,G)}break;case 5:var F=c.return;try{Oy(c)}catch(G){Qt(c,F,G)}}}catch(G){Qt(c,c.return,G)}if(c===a){ke=null;break}var H=c.sibling;if(H!==null){H.return=c.return,ke=H;break}ke=c.return}}var xO=Math.ceil,pf=O.ReactCurrentDispatcher,Fy=O.ReactCurrentOwner,Qr=O.ReactCurrentBatchConfig,yt=0,wn=null,sn=null,In=0,Ar=0,Kl=po(0),hn=0,Bu=null,Pa=0,mf=0,By=0,zu=null,fr=null,zy=0,Ql=1/0,Ni=null,gf=!1,Uy=null,wo=null,yf=!1,_o=null,vf=0,Uu=0,$y=null,xf=-1,wf=0;function nr(){return(yt&6)!==0?Nt():xf!==-1?xf:xf=Nt()}function bo(a){return(a.mode&1)===0?1:(yt&2)!==0&&In!==0?In&-In:nO.transition!==null?(wf===0&&(wf=ga()),wf):(a=dt,a!==0||(a=window.event,a=a===void 0?16:gu(a.type)),a)}function Es(a,c,f,v){if(50<Uu)throw Uu=0,$y=null,Error(n(185));io(a,f,v),((yt&2)===0||a!==wn)&&(a===wn&&((yt&2)===0&&(mf|=f),hn===4&&To(a,In)),pr(a,v),f===1&&yt===0&&(c.mode&1)===0&&(Ql=Nt()+500,Gh&&go()))}function pr(a,c){var f=a.callbackNode;wi(a,c);var v=ma(a,a===wn?In:0);if(v===0)f!==null&&du(f),a.callbackNode=null,a.callbackPriority=0;else if(c=v&-v,a.callbackPriority!==c){if(f!=null&&du(f),c===1)a.tag===0?tO(WT.bind(null,a)):Ib(WT.bind(null,a)),XM(function(){(yt&6)===0&&go()}),f=null;else{switch(ao(v)){case 1:f=fa;break;case 4:f=no;break;case 16:f=Ur;break;case 536870912:f=xh;break;default:f=Ur}f=JT(f,HT.bind(null,a))}a.callbackPriority=c,a.callbackNode=f}}function HT(a,c){if(xf=-1,wf=0,(yt&6)!==0)throw Error(n(327));var f=a.callbackNode;if(Yl()&&a.callbackNode!==f)return null;var v=ma(a,a===wn?In:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||c)c=_f(a,v);else{c=v;var b=yt;yt|=2;var A=GT();(wn!==a||In!==c)&&(Ni=null,Ql=Nt()+500,Ia(a,c));do try{bO();break}catch(H){qT(a,H)}while(!0);ay(),pf.current=A,yt=b,sn!==null?c=0:(wn=null,In=0,c=hn)}if(c!==0){if(c===2&&(b=br(a),b!==0&&(v=b,c=Hy(a,b))),c===1)throw f=Bu,Ia(a,0),To(a,v),pr(a,Nt()),f;if(c===6)To(a,v);else{if(b=a.current.alternate,(v&30)===0&&!wO(b)&&(c=_f(a,v),c===2&&(A=br(a),A!==0&&(v=A,c=Hy(a,A))),c===1))throw f=Bu,Ia(a,0),To(a,v),pr(a,Nt()),f;switch(a.finishedWork=b,a.finishedLanes=v,c){case 0:case 1:throw Error(n(345));case 2:ka(a,fr,Ni);break;case 3:if(To(a,v),(v&130023424)===v&&(c=zy+500-Nt(),10<c)){if(ma(a,0)!==0)break;if(b=a.suspendedLanes,(b&v)!==v){nr(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Yg(ka.bind(null,a,fr,Ni),c);break}ka(a,fr,Ni);break;case 4:if(To(a,v),(v&4194240)===v)break;for(c=a.eventTimes,b=-1;0<v;){var F=31-Jn(v);A=1<<F,F=c[F],F>b&&(b=F),v&=~A}if(v=b,v=Nt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*xO(v/1960))-v,10<v){a.timeoutHandle=Yg(ka.bind(null,a,fr,Ni),v);break}ka(a,fr,Ni);break;case 5:ka(a,fr,Ni);break;default:throw Error(n(329))}}}return pr(a,Nt()),a.callbackNode===f?HT.bind(null,a):null}function Hy(a,c){var f=zu;return a.current.memoizedState.isDehydrated&&(Ia(a,c).flags|=256),a=_f(a,c),a!==2&&(c=fr,fr=f,c!==null&&Wy(c)),a}function Wy(a){fr===null?fr=a:fr.push.apply(fr,a)}function wO(a){for(var c=a;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var b=f[v],A=b.getSnapshot;b=b.value;try{if(!ws(A(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function To(a,c){for(c&=~By,c&=~mf,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var f=31-Jn(c),v=1<<f;a[f]=-1,c&=~v}}function WT(a){if((yt&6)!==0)throw Error(n(327));Yl();var c=ma(a,0);if((c&1)===0)return pr(a,Nt()),null;var f=_f(a,c);if(a.tag!==0&&f===2){var v=br(a);v!==0&&(c=v,f=Hy(a,v))}if(f===1)throw f=Bu,Ia(a,0),To(a,c),pr(a,Nt()),f;if(f===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ka(a,fr,Ni),pr(a,Nt()),null}function qy(a,c){var f=yt;yt|=1;try{return a(c)}finally{yt=f,yt===0&&(Ql=Nt()+500,Gh&&go())}}function Ra(a){_o!==null&&_o.tag===0&&(yt&6)===0&&Yl();var c=yt;yt|=1;var f=Qr.transition,v=dt;try{if(Qr.transition=null,dt=1,a)return a()}finally{dt=v,Qr.transition=f,yt=c,(yt&6)===0&&go()}}function Gy(){Ar=Kl.current,Mt(Kl)}function Ia(a,c){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,YM(f)),sn!==null)for(f=sn.return;f!==null;){var v=f;switch(ny(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Wh();break;case 3:Wl(),Mt(ur),Mt(Bn),my();break;case 5:fy(v);break;case 4:Wl();break;case 13:Mt(Wt);break;case 19:Mt(Wt);break;case 10:ly(v.type._context);break;case 22:case 23:Gy()}f=f.return}if(wn=a,sn=a=So(a.current,null),In=Ar=c,hn=0,Bu=null,By=mf=Pa=0,fr=zu=null,Ea!==null){for(c=0;c<Ea.length;c++)if(f=Ea[c],v=f.interleaved,v!==null){f.interleaved=null;var b=v.next,A=f.pending;if(A!==null){var F=A.next;A.next=b,v.next=F}f.pending=v}Ea=null}return a}function qT(a,c){do{var f=sn;try{if(ay(),rf.current=lf,sf){for(var v=qt.memoizedState;v!==null;){var b=v.queue;b!==null&&(b.pending=null),v=v.next}sf=!1}if(Aa=0,xn=dn=qt=null,Du=!1,Mu=0,Fy.current=null,f===null||f.return===null){hn=1,Bu=c,sn=null;break}e:{var A=a,F=f.return,H=f,G=c;if(c=In,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ie=G,pe=H,ye=pe.tag;if((pe.mode&1)===0&&(ye===0||ye===11||ye===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Pe=yT(F);if(Pe!==null){Pe.flags&=-257,vT(Pe,F,H,A,c),Pe.mode&1&&gT(A,ie,c),c=Pe,G=ie;var Ne=c.updateQueue;if(Ne===null){var je=new Set;je.add(G),c.updateQueue=je}else Ne.add(G);break e}else{if((c&1)===0){gT(A,ie,c),Ky();break e}G=Error(n(426))}}else if(Ut&&H.mode&1){var Zt=yT(F);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),vT(Zt,F,H,A,c),iy(ql(G,H));break e}}A=G=ql(G,H),hn!==4&&(hn=2),zu===null?zu=[A]:zu.push(A),A=F;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var ne=pT(A,G,c);zb(A,ne);break e;case 1:H=G;var Q=A.type,re=A.stateNode;if((A.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(wo===null||!wo.has(re)))){A.flags|=65536,c&=-c,A.lanes|=c;var xe=mT(A,H,c);zb(A,xe);break e}}A=A.return}while(A!==null)}QT(f)}catch(De){c=De,sn===f&&f!==null&&(sn=f=f.return);continue}break}while(!0)}function GT(){var a=pf.current;return pf.current=lf,a===null?lf:a}function Ky(){(hn===0||hn===3||hn===2)&&(hn=4),wn===null||(Pa&268435455)===0&&(mf&268435455)===0||To(wn,In)}function _f(a,c){var f=yt;yt|=2;var v=GT();(wn!==a||In!==c)&&(Ni=null,Ia(a,c));do try{_O();break}catch(b){qT(a,b)}while(!0);if(ay(),yt=f,pf.current=v,sn!==null)throw Error(n(261));return wn=null,In=0,hn}function _O(){for(;sn!==null;)KT(sn)}function bO(){for(;sn!==null&&!yh();)KT(sn)}function KT(a){var c=ZT(a.alternate,a,Ar);a.memoizedProps=a.pendingProps,c===null?QT(a):sn=c,Fy.current=null}function QT(a){var c=a;do{var f=c.alternate;if(a=c.return,(c.flags&32768)===0){if(f=pO(f,c,Ar),f!==null){sn=f;return}}else{if(f=mO(f,c),f!==null){f.flags&=32767,sn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{hn=6,sn=null;return}}if(c=c.sibling,c!==null){sn=c;return}sn=c=a}while(c!==null);hn===0&&(hn=5)}function ka(a,c,f){var v=dt,b=Qr.transition;try{Qr.transition=null,dt=1,TO(a,c,f,v)}finally{Qr.transition=b,dt=v}return null}function TO(a,c,f,v){do Yl();while(_o!==null);if((yt&6)!==0)throw Error(n(327));f=a.finishedWork;var b=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=f.lanes|f.childLanes;if(Rt(a,A),a===wn&&(sn=wn=null,In=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||yf||(yf=!0,JT(Ur,function(){return Yl(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=Qr.transition,Qr.transition=null;var F=dt;dt=1;var H=yt;yt|=4,Fy.current=null,yO(a,f),FT(f,a),$M(Kg),co=!!Gg,Kg=Gg=null,a.current=f,vO(f),kg(),yt=H,dt=F,Qr.transition=A}else a.current=f;if(yf&&(yf=!1,_o=a,vf=b),A=a.pendingLanes,A===0&&(wo=null),wh(f.stateNode),pr(a,Nt()),c!==null)for(v=a.onRecoverableError,f=0;f<c.length;f++)b=c[f],v(b.value,{componentStack:b.stack,digest:b.digest});if(gf)throw gf=!1,a=Uy,Uy=null,a;return(vf&1)!==0&&a.tag!==0&&Yl(),A=a.pendingLanes,(A&1)!==0?a===$y?Uu++:(Uu=0,$y=a):Uu=0,go(),null}function Yl(){if(_o!==null){var a=ao(vf),c=Qr.transition,f=dt;try{if(Qr.transition=null,dt=16>a?16:a,_o===null)var v=!1;else{if(a=_o,_o=null,vf=0,(yt&6)!==0)throw Error(n(331));var b=yt;for(yt|=4,ke=a.current;ke!==null;){var A=ke,F=A.child;if((ke.flags&16)!==0){var H=A.deletions;if(H!==null){for(var G=0;G<H.length;G++){var ie=H[G];for(ke=ie;ke!==null;){var pe=ke;switch(pe.tag){case 0:case 11:case 15:Fu(8,pe,A)}var ye=pe.child;if(ye!==null)ye.return=pe,ke=ye;else for(;ke!==null;){pe=ke;var fe=pe.sibling,Pe=pe.return;if(DT(pe),pe===ie){ke=null;break}if(fe!==null){fe.return=Pe,ke=fe;break}ke=Pe}}}var Ne=A.alternate;if(Ne!==null){var je=Ne.child;if(je!==null){Ne.child=null;do{var Zt=je.sibling;je.sibling=null,je=Zt}while(je!==null)}}ke=A}}if((A.subtreeFlags&2064)!==0&&F!==null)F.return=A,ke=F;else e:for(;ke!==null;){if(A=ke,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Fu(9,A,A.return)}var ne=A.sibling;if(ne!==null){ne.return=A.return,ke=ne;break e}ke=A.return}}var Q=a.current;for(ke=Q;ke!==null;){F=ke;var re=F.child;if((F.subtreeFlags&2064)!==0&&re!==null)re.return=F,ke=re;else e:for(F=Q;ke!==null;){if(H=ke,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:ff(9,H)}}catch(De){Qt(H,H.return,De)}if(H===F){ke=null;break e}var xe=H.sibling;if(xe!==null){xe.return=H.return,ke=xe;break e}ke=H.return}}if(yt=b,go(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(pa,a)}catch{}v=!0}return v}finally{dt=f,Qr.transition=c}}return!1}function YT(a,c,f){c=ql(f,c),c=pT(a,c,1),a=vo(a,c,1),c=nr(),a!==null&&(io(a,1,c),pr(a,c))}function Qt(a,c,f){if(a.tag===3)YT(a,a,f);else for(;c!==null;){if(c.tag===3){YT(c,a,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(wo===null||!wo.has(v))){a=ql(f,a),a=mT(c,a,1),c=vo(c,a,1),a=nr(),c!==null&&(io(c,1,a),pr(c,a));break}}c=c.return}}function SO(a,c,f){var v=a.pingCache;v!==null&&v.delete(c),c=nr(),a.pingedLanes|=a.suspendedLanes&f,wn===a&&(In&f)===f&&(hn===4||hn===3&&(In&130023424)===In&&500>Nt()-zy?Ia(a,0):By|=f),pr(a,c)}function XT(a,c){c===0&&((a.mode&1)===0?c=1:(c=xl,xl<<=1,(xl&130023424)===0&&(xl=4194304)));var f=nr();a=Ri(a,c),a!==null&&(io(a,c,f),pr(a,f))}function EO(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),XT(a,f)}function CO(a,c){var f=0;switch(a.tag){case 13:var v=a.stateNode,b=a.memoizedState;b!==null&&(f=b.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(c),XT(a,f)}var ZT;ZT=function(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps||ur.current)hr=!0;else{if((a.lanes&f)===0&&(c.flags&128)===0)return hr=!1,fO(a,c,f);hr=(a.flags&131072)!==0}else hr=!1,Ut&&(c.flags&1048576)!==0&&kb(c,Qh,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;df(a,c),a=c.pendingProps;var b=Ll(c,Bn.current);Hl(c,f),b=vy(null,c,v,a,b,f);var A=xy();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,dr(v)?(A=!0,qh(c)):A=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,dy(c),b.updater=cf,c.stateNode=b,b._reactInternals=c,Ey(c,v,a,f),c=Ry(null,c,v,!0,A,f)):(c.tag=0,Ut&&A&&ty(c),tr(null,c,b,f),c=c.child),c;case 16:v=c.elementType;e:{switch(df(a,c),a=c.pendingProps,b=v._init,v=b(v._payload),c.type=v,b=c.tag=PO(v),a=bs(v,a),b){case 0:c=Py(null,c,v,a,f);break e;case 1:c=ST(null,c,v,a,f);break e;case 11:c=xT(null,c,v,a,f);break e;case 14:c=wT(null,c,v,bs(v.type,a),f);break e}throw Error(n(306,v,""))}return c;case 0:return v=c.type,b=c.pendingProps,b=c.elementType===v?b:bs(v,b),Py(a,c,v,b,f);case 1:return v=c.type,b=c.pendingProps,b=c.elementType===v?b:bs(v,b),ST(a,c,v,b,f);case 3:e:{if(ET(c),a===null)throw Error(n(387));v=c.pendingProps,A=c.memoizedState,b=A.element,Bb(a,c),tf(c,v,null,f);var F=c.memoizedState;if(v=F.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){b=ql(Error(n(423)),c),c=CT(a,c,v,f,b);break e}else if(v!==b){b=ql(Error(n(424)),c),c=CT(a,c,v,f,b);break e}else for(Cr=fo(c.stateNode.containerInfo.firstChild),Er=c,Ut=!0,_s=null,f=Lb(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(zl(),v===b){c=ki(a,c,f);break e}tr(a,c,v,f)}c=c.child}return c;case 5:return $b(c),a===null&&sy(c),v=c.type,b=c.pendingProps,A=a!==null?a.memoizedProps:null,F=b.children,Qg(v,b)?F=null:A!==null&&Qg(v,A)&&(c.flags|=32),TT(a,c),tr(a,c,F,f),c.child;case 6:return a===null&&sy(c),null;case 13:return AT(a,c,f);case 4:return hy(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=Ul(c,null,v,f):tr(a,c,v,f),c.child;case 11:return v=c.type,b=c.pendingProps,b=c.elementType===v?b:bs(v,b),xT(a,c,v,b,f);case 7:return tr(a,c,c.pendingProps,f),c.child;case 8:return tr(a,c,c.pendingProps.children,f),c.child;case 12:return tr(a,c,c.pendingProps.children,f),c.child;case 10:e:{if(v=c.type._context,b=c.pendingProps,A=c.memoizedProps,F=b.value,jt(Zh,v._currentValue),v._currentValue=F,A!==null)if(ws(A.value,F)){if(A.children===b.children&&!ur.current){c=ki(a,c,f);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var H=A.dependencies;if(H!==null){F=A.child;for(var G=H.firstContext;G!==null;){if(G.context===v){if(A.tag===1){G=Ii(-1,f&-f),G.tag=2;var ie=A.updateQueue;if(ie!==null){ie=ie.shared;var pe=ie.pending;pe===null?G.next=G:(G.next=pe.next,pe.next=G),ie.pending=G}}A.lanes|=f,G=A.alternate,G!==null&&(G.lanes|=f),cy(A.return,f,c),H.lanes|=f;break}G=G.next}}else if(A.tag===10)F=A.type===c.type?null:A.child;else if(A.tag===18){if(F=A.return,F===null)throw Error(n(341));F.lanes|=f,H=F.alternate,H!==null&&(H.lanes|=f),cy(F,f,c),F=A.sibling}else F=A.child;if(F!==null)F.return=A;else for(F=A;F!==null;){if(F===c){F=null;break}if(A=F.sibling,A!==null){A.return=F.return,F=A;break}F=F.return}A=F}tr(a,c,b.children,f),c=c.child}return c;case 9:return b=c.type,v=c.pendingProps.children,Hl(c,f),b=Gr(b),v=v(b),c.flags|=1,tr(a,c,v,f),c.child;case 14:return v=c.type,b=bs(v,c.pendingProps),b=bs(v.type,b),wT(a,c,v,b,f);case 15:return _T(a,c,c.type,c.pendingProps,f);case 17:return v=c.type,b=c.pendingProps,b=c.elementType===v?b:bs(v,b),df(a,c),c.tag=1,dr(v)?(a=!0,qh(c)):a=!1,Hl(c,f),hT(c,v,b),Ey(c,v,b,f),Ry(null,c,v,!0,a,f);case 19:return RT(a,c,f);case 22:return bT(a,c,f)}throw Error(n(156,c.tag))};function JT(a,c){return yl(a,c)}function AO(a,c,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(a,c,f,v){return new AO(a,c,f,v)}function Qy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function PO(a){if(typeof a=="function")return Qy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===D)return 11;if(a===q)return 14}return 2}function So(a,c){var f=a.alternate;return f===null?(f=Yr(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function bf(a,c,f,v,b,A){var F=2;if(v=a,typeof a=="function")Qy(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case M:return Na(f.children,b,A,c);case E:F=8,b|=8;break;case P:return a=Yr(12,f,c,b|2),a.elementType=P,a.lanes=A,a;case V:return a=Yr(13,f,c,b),a.elementType=V,a.lanes=A,a;case X:return a=Yr(19,f,c,b),a.elementType=X,a.lanes=A,a;case Y:return Tf(f,b,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:F=10;break e;case L:F=9;break e;case D:F=11;break e;case q:F=14;break e;case W:F=16,v=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Yr(F,f,c,b),c.elementType=a,c.type=v,c.lanes=A,c}function Na(a,c,f,v){return a=Yr(7,a,v,c),a.lanes=f,a}function Tf(a,c,f,v){return a=Yr(22,a,v,c),a.elementType=Y,a.lanes=f,a.stateNode={isHidden:!1},a}function Yy(a,c,f){return a=Yr(6,a,null,c),a.lanes=f,a}function Xy(a,c,f){return c=Yr(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function RO(a,c,f,v,b){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=v,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Zy(a,c,f,v,b,A,F,H,G){return a=new RO(a,c,f,H,G),c===1?(c=1,A===!0&&(c|=8)):c=0,A=Yr(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},dy(A),a}function IO(a,c,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:v==null?null:""+v,children:a,containerInfo:c,implementation:f}}function e1(a){if(!a)return mo;a=a._reactInternals;e:{if(fs(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(dr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var f=a.type;if(dr(f))return Pb(a,f,c)}return c}function t1(a,c,f,v,b,A,F,H,G){return a=Zy(f,v,!0,a,b,A,F,H,G),a.context=e1(null),f=a.current,v=nr(),b=bo(f),A=Ii(v,b),A.callback=c??null,vo(f,A,b),a.current.lanes=b,io(a,b,v),pr(a,v),a}function Sf(a,c,f,v){var b=c.current,A=nr(),F=bo(b);return f=e1(f),c.context===null?c.context=f:c.pendingContext=f,c=Ii(A,F),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=vo(b,c,F),a!==null&&(Es(a,b,F,A),ef(a,b,F)),F}function Ef(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function n1(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function Jy(a,c){n1(a,c),(a=a.alternate)&&n1(a,c)}function kO(){return null}var r1=typeof reportError=="function"?reportError:function(a){console.error(a)};function ev(a){this._internalRoot=a}Cf.prototype.render=ev.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Sf(a,c,null,null)},Cf.prototype.unmount=ev.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Ra(function(){Sf(null,a,null,null)}),c[Ei]=null}};function Cf(a){this._internalRoot=a}Cf.prototype.unstable_scheduleHydration=function(a){if(a){var c=Eh();a={blockedOn:null,target:a,priority:c};for(var f=0;f<zs.length&&c!==0&&c<zs[f].priority;f++);zs.splice(f,0,a),f===0&&Ph(a)}};function tv(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Af(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function s1(){}function NO(a,c,f,v,b){if(b){if(typeof v=="function"){var A=v;v=function(){var ie=Ef(F);A.call(ie)}}var F=t1(c,v,a,0,null,!1,!1,"",s1);return a._reactRootContainer=F,a[Ei]=F.current,Cu(a.nodeType===8?a.parentNode:a),Ra(),F}for(;b=a.lastChild;)a.removeChild(b);if(typeof v=="function"){var H=v;v=function(){var ie=Ef(G);H.call(ie)}}var G=Zy(a,0,!1,null,null,!1,!1,"",s1);return a._reactRootContainer=G,a[Ei]=G.current,Cu(a.nodeType===8?a.parentNode:a),Ra(function(){Sf(c,G,f,v)}),G}function Pf(a,c,f,v,b){var A=f._reactRootContainer;if(A){var F=A;if(typeof b=="function"){var H=b;b=function(){var G=Ef(F);H.call(G)}}Sf(c,F,a,b)}else F=NO(f,c,a,b,v);return Ef(F)}Th=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var f=ro(c.pendingLanes);f!==0&&(oo(c,f|1),pr(c,Nt()),(yt&6)===0&&(Ql=Nt()+500,go()))}break;case 13:Ra(function(){var v=Ri(a,1);if(v!==null){var b=nr();Es(v,a,1,b)}}),Jy(a,1)}},wl=function(a){if(a.tag===13){var c=Ri(a,134217728);if(c!==null){var f=nr();Es(c,a,134217728,f)}Jy(a,134217728)}},Sh=function(a){if(a.tag===13){var c=bo(a),f=Ri(a,c);if(f!==null){var v=nr();Es(f,a,c,v)}Jy(a,c)}},Eh=function(){return dt},Ch=function(a,c){var f=dt;try{return dt=a,c()}finally{dt=f}},dl=function(a,c,f){switch(c){case"input":if(tt(a,f),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==a&&v.form===a.form){var b=Hh(v);if(!b)throw Error(n(90));Z(v),tt(v,b)}}}break;case"textarea":Ht(a,f);break;case"select":c=f.value,c!=null&&Vn(a,!!f.multiple,c,!1)}},ca=qy,au=Ra;var jO={usingClientEntryPoint:!1,Events:[Ru,Ol,Hh,Fs,ou,qy]},$u={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DO={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=uu(a),a===null?null:a.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{pa=Rf.inject(DO),_r=Rf}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO,mr.createPortal=function(a,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(c))throw Error(n(200));return IO(a,c,null,f)},mr.createRoot=function(a,c){if(!tv(a))throw Error(n(299));var f=!1,v="",b=r1;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=Zy(a,1,!1,null,null,f,!1,v,b),a[Ei]=c.current,Cu(a.nodeType===8?a.parentNode:a),new ev(c)},mr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=uu(c),a=a===null?null:a.stateNode,a},mr.flushSync=function(a){return Ra(a)},mr.hydrate=function(a,c,f){if(!Af(c))throw Error(n(200));return Pf(null,a,c,!0,f)},mr.hydrateRoot=function(a,c,f){if(!tv(a))throw Error(n(405));var v=f!=null&&f.hydratedSources||null,b=!1,A="",F=r1;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&(F=f.onRecoverableError)),c=t1(c,null,a,1,f??null,b,!1,A,F),a[Ei]=c.current,Cu(a),v)for(a=0;a<v.length;a++)f=v[a],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new Cf(c)},mr.render=function(a,c,f){if(!Af(c))throw Error(n(200));return Pf(null,a,c,!1,f)},mr.unmountComponentAtNode=function(a){if(!Af(a))throw Error(n(40));return a._reactRootContainer?(Ra(function(){Pf(null,null,a,!1,function(){a._reactRootContainer=null,a[Ei]=null})}),!0):!1},mr.unstable_batchedUpdates=qy,mr.unstable_renderSubtreeIntoContainer=function(a,c,f,v){if(!Af(f))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Pf(a,c,f,!1,v)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var h1;function hP(){if(h1)return sv.exports;h1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sv.exports=HO(),sv.exports}var f1;function WO(){if(f1)return If;f1=1;var t=hP();return If.createRoot=t.createRoot,If.hydrateRoot=t.hydrateRoot,If}var qO=WO();const GO=mi(qO);var av={exports:{}},lv,p1;function KO(){if(p1)return lv;p1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lv=t,lv}var cv,m1;function QO(){if(m1)return cv;m1=1;var t=KO();function e(){}function n(){}return n.resetWarningCache=e,cv=function(){function r(o,l,u,d,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},cv}var g1;function YO(){return g1||(g1=1,av.exports=QO()()),av.exports}var XO=YO();const et=mi(XO);var uv,y1;function ZO(){if(y1)return uv;y1=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=Yd(),n=t(e);function r(l,u,d){return u in l?Object.defineProperty(l,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[u]=d,l}function s(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var i=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,u,d){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(m){return m.displayName||m.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],T;function w(){T=l(x.map(function(R){return R.props})),_.canUseDOM?u(T):d&&(T=d(T))}var _=(function(R){s(I,R);function I(){return R.apply(this,arguments)||this}I.peek=function(){return T},I.rewind=function(){if(I.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var B=T;return T=void 0,x=[],B};var k=I.prototype;return k.UNSAFE_componentWillMount=function(){x.push(this),w()},k.componentDidUpdate=function(){w()},k.componentWillUnmount=function(){var B=x.indexOf(this);x.splice(B,1),w()},k.render=function(){return n.createElement(y,this.props)},I})(e.PureComponent);return r(_,"displayName","SideEffect("+p(y)+")"),r(_,"canUseDOM",i),_}}return uv=o,uv}var JO=ZO();const eV=mi(JO);var dv,v1;function tV(){if(v1)return dv;v1=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,u,d;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(u=l;u--!==0;)if(!s(i[u],o[u]))return!1;return!0}var p;if(e&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(p=i.entries();!(u=p.next()).done;)if(!o.has(u.value[0]))return!1;for(p=i.entries();!(u=p.next()).done;)if(!s(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(p=i.entries();!(u=p.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(u=l;u--!==0;)if(i[u]!==o[u])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),l=d.length,l!==Object.keys(o).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[u]))return!1;if(t&&i instanceof Element)return!1;for(u=l;u--!==0;)if(!((d[u]==="_owner"||d[u]==="__v"||d[u]==="__o")&&i.$$typeof)&&!s(i[d[u]],o[d[u]]))return!1;return!0}return i!==i&&o!==o}return dv=function(o,l){try{return s(o,l)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},dv}var nV=tV();const rV=mi(nV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var hv,x1;function sV(){if(x1)return hv;x1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var u=Object.getOwnPropertyNames(o).map(function(p){return o[p]});if(u.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(p){d[p]=p}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return hv=s()?Object.assign:function(i,o){for(var l,u=r(i),d,p=1;p<arguments.length;p++){l=Object(arguments[p]);for(var m in l)e.call(l,m)&&(u[m]=l[m]);if(t){d=t(l);for(var y=0;y<d.length;y++)n.call(l,d[y])&&(u[d[y]]=l[d[y]])}}return u},hv}var iV=sV();const oV=mi(iV);var Ga={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ze={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ze).map(function(t){return Ze[t]});var $t={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Op={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ed={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},aV=Object.keys(Op).reduce(function(t,e){return t[Op[e]]=e,t},{}),lV=[Ze.NOSCRIPT,Ze.SCRIPT,Ze.STYLE],Ps="data-react-helmet",cV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uV=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},dV=(function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),yr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hV=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},w1=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},fV=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},g0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},pV=function(e){var n=hc(e,Ze.TITLE),r=hc(e,Ed.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=hc(e,Ed.DEFAULT_TITLE);return n||s||void 0},mV=function(e){return hc(e,Ed.ON_CHANGE_CLIENT_STATE)||function(){}},fv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return yr({},r,s)},{})},gV=function(e,n){return n.filter(function(r){return typeof r[Ze.BASE]<"u"}).map(function(r){return r[Ze.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],u=l.toLowerCase();if(e.indexOf(u)!==-1&&s[u])return r.concat(s)}return r},[])},Wu=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&wV("Helmet: "+e+' should be of type "Array". Instead found type "'+cV(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(y){for(var x=void 0,T=Object.keys(y),w=0;w<T.length;w++){var _=T[w],R=_.toLowerCase();n.indexOf(R)!==-1&&!(x===$t.REL&&y[x].toLowerCase()==="canonical")&&!(R===$t.REL&&y[R].toLowerCase()==="stylesheet")&&(x=R),n.indexOf(_)!==-1&&(_===$t.INNER_HTML||_===$t.CSS_TEXT||_===$t.ITEM_PROP)&&(x=_)}if(!x||!y[x])return!1;var I=y[x].toLowerCase();return s[x]||(s[x]={}),l[x]||(l[x]={}),s[x][I]?!1:(l[x][I]=!0,!0)}).reverse().forEach(function(y){return i.push(y)});for(var u=Object.keys(l),d=0;d<u.length;d++){var p=u[d],m=oV({},s[p],l[p]);s[p]=m}return i},[]).reverse()},hc=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},yV=function(e){return{baseTag:gV([$t.HREF,$t.TARGET],e),bodyAttributes:fv(Ga.BODY,e),defer:hc(e,Ed.DEFER),encode:hc(e,Ed.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:fv(Ga.HTML,e),linkTags:Wu(Ze.LINK,[$t.REL,$t.HREF],e),metaTags:Wu(Ze.META,[$t.NAME,$t.CHARSET,$t.HTTPEQUIV,$t.PROPERTY,$t.ITEM_PROP],e),noscriptTags:Wu(Ze.NOSCRIPT,[$t.INNER_HTML],e),onChangeClientState:mV(e),scriptTags:Wu(Ze.SCRIPT,[$t.SRC,$t.INNER_HTML],e),styleTags:Wu(Ze.STYLE,[$t.CSS_TEXT],e),title:pV(e),titleAttributes:fv(Ga.TITLE,e)}},y0=(function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){y0(e)},0)}})(),_1=function(e){return clearTimeout(e)},vV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||y0:global.requestAnimationFrame||y0,xV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||_1:global.cancelAnimationFrame||_1,wV=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},qu=null,_V=function(e){qu&&xV(qu),e.defer?qu=vV(function(){b1(e,function(){qu=null})}):(b1(e),qu=null)},b1=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,u=e.noscriptTags,d=e.onChangeClientState,p=e.scriptTags,m=e.styleTags,y=e.title,x=e.titleAttributes;v0(Ze.BODY,s),v0(Ze.HTML,i),bV(y,x);var T={baseTag:Xl(Ze.BASE,r),linkTags:Xl(Ze.LINK,o),metaTags:Xl(Ze.META,l),noscriptTags:Xl(Ze.NOSCRIPT,u),scriptTags:Xl(Ze.SCRIPT,p),styleTags:Xl(Ze.STYLE,m)},w={},_={};Object.keys(T).forEach(function(R){var I=T[R],k=I.newTags,O=I.oldTags;k.length&&(w[R]=k),O.length&&(_[R]=T[R].oldTags)}),n&&n(),d(e,w,_)},fP=function(e){return Array.isArray(e)?e.join(""):e},bV=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=fP(e)),v0(Ze.TITLE,n)},v0=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Ps),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),u=0;u<l.length;u++){var d=l[u],p=n[d]||"";r.getAttribute(d)!==p&&r.setAttribute(d,p),i.indexOf(d)===-1&&i.push(d);var m=o.indexOf(d);m!==-1&&o.splice(m,1)}for(var y=o.length-1;y>=0;y--)r.removeAttribute(o[y]);i.length===o.length?r.removeAttribute(Ps):r.getAttribute(Ps)!==l.join(",")&&r.setAttribute(Ps,l.join(","))}},Xl=function(e,n){var r=document.head||document.querySelector(Ze.HEAD),s=r.querySelectorAll(e+"["+Ps+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(u){var d=document.createElement(e);for(var p in u)if(u.hasOwnProperty(p))if(p===$t.INNER_HTML)d.innerHTML=u.innerHTML;else if(p===$t.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=u.cssText:d.appendChild(document.createTextNode(u.cssText));else{var m=typeof u[p]>"u"?"":u[p];d.setAttribute(p,m)}d.setAttribute(Ps,"true"),i.some(function(y,x){return l=x,d.isEqualNode(y)})?i.splice(l,1):o.push(d)}),i.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:i,newTags:o}},pP=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},TV=function(e,n,r,s){var i=pP(r),o=fP(n);return i?"<"+e+" "+Ps+'="true" '+i+">"+g0(o,s)+"</"+e+">":"<"+e+" "+Ps+'="true">'+g0(o,s)+"</"+e+">"},SV=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===$t.INNER_HTML||d===$t.CSS_TEXT)}).reduce(function(d,p){var m=typeof i[p]>"u"?p:p+'="'+g0(i[p],r)+'"';return d?d+" "+m:m},""),l=i.innerHTML||i.cssText||"",u=lV.indexOf(e)===-1;return s+"<"+e+" "+Ps+'="true" '+o+(u?"/>":">"+l+"</"+e+">")},"")},mP=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Op[s]||s]=e[s],r},n)},EV=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[aV[s]||s]=e[s],r},n)},CV=function(e,n,r){var s,i=(s={key:n},s[Ps]=!0,s),o=mP(r,i);return[Fe.createElement(Ze.TITLE,o,n)]},AV=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[Ps]=!0,i);return Object.keys(r).forEach(function(l){var u=Op[l]||l;if(u===$t.INNER_HTML||u===$t.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[u]=r[l]}),Fe.createElement(e,o)})},ji=function(e,n,r){switch(e){case Ze.TITLE:return{toComponent:function(){return CV(e,n.title,n.titleAttributes)},toString:function(){return TV(e,n.title,n.titleAttributes,r)}};case Ga.BODY:case Ga.HTML:return{toComponent:function(){return mP(n)},toString:function(){return pP(n)}};default:return{toComponent:function(){return AV(e,n)},toString:function(){return SV(e,n,r)}}}},gP=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,u=e.noscriptTags,d=e.scriptTags,p=e.styleTags,m=e.title,y=m===void 0?"":m,x=e.titleAttributes;return{base:ji(Ze.BASE,n,s),bodyAttributes:ji(Ga.BODY,r,s),htmlAttributes:ji(Ga.HTML,i,s),link:ji(Ze.LINK,o,s),meta:ji(Ze.META,l,s),noscript:ji(Ze.NOSCRIPT,u,s),script:ji(Ze.SCRIPT,d,s),style:ji(Ze.STYLE,p,s),title:ji(Ze.TITLE,{title:y,titleAttributes:x},s)}},PV=function(e){var n,r;return r=n=(function(s){hV(i,s);function i(){return uV(this,i),fV(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!rV(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,u){if(!u)return null;switch(l.type){case Ze.SCRIPT:case Ze.NOSCRIPT:return{innerHTML:u};case Ze.STYLE:return{cssText:u}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var u,d=l.child,p=l.arrayTypeChildren,m=l.newChildProps,y=l.nestedChildren;return yr({},p,(u={},u[d.type]=[].concat(p[d.type]||[],[yr({},m,this.mapNestedChildrenToProps(d,y))]),u))},i.prototype.mapObjectTypeChildren=function(l){var u,d,p=l.child,m=l.newProps,y=l.newChildProps,x=l.nestedChildren;switch(p.type){case Ze.TITLE:return yr({},m,(u={},u[p.type]=x,u.titleAttributes=yr({},y),u));case Ze.BODY:return yr({},m,{bodyAttributes:yr({},y)});case Ze.HTML:return yr({},m,{htmlAttributes:yr({},y)})}return yr({},m,(d={},d[p.type]=yr({},y),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,u){var d=yr({},u);return Object.keys(l).forEach(function(p){var m;d=yr({},d,(m={},m[p]=l[p],m))}),d},i.prototype.warnOnInvalidChildren=function(l,u){return!0},i.prototype.mapChildrenToProps=function(l,u){var d=this,p={};return Fe.Children.forEach(l,function(m){if(!(!m||!m.props)){var y=m.props,x=y.children,T=w1(y,["children"]),w=EV(T);switch(d.warnOnInvalidChildren(m,x),m.type){case Ze.LINK:case Ze.META:case Ze.NOSCRIPT:case Ze.SCRIPT:case Ze.STYLE:p=d.flattenArrayTypeChildren({child:m,arrayTypeChildren:p,newChildProps:w,nestedChildren:x});break;default:u=d.mapObjectTypeChildren({child:m,newProps:u,newChildProps:w,nestedChildren:x});break}}}),u=this.mapArrayTypeChildrenToProps(p,u),u},i.prototype.render=function(){var l=this.props,u=l.children,d=w1(l,["children"]),p=yr({},d);return u&&(p=this.mapChildrenToProps(u,p)),Fe.createElement(e,p)},dV(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i})(Fe.Component),n.propTypes={base:et.object,bodyAttributes:et.object,children:et.oneOfType([et.arrayOf(et.node),et.node]),defaultTitle:et.string,defer:et.bool,encodeSpecialCharacters:et.bool,htmlAttributes:et.object,link:et.arrayOf(et.object),meta:et.arrayOf(et.object),noscript:et.arrayOf(et.object),onChangeClientState:et.func,script:et.arrayOf(et.object),style:et.arrayOf(et.object),title:et.string,titleAttributes:et.object,titleTemplate:et.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=gP({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},RV=function(){return null},IV=eV(yV,_V,gP)(RV),x0=PV(IV);x0.renderStatic=x0.rewind;const kV=()=>{};var T1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,p=i>>2,m=(i&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(y=64)),r.push(n[p],n[m],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new jV;const y=i<<2|l>>4;if(r.push(y),d!==64){const x=l<<4&240|d>>2;if(r.push(x),m!==64){const T=d<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DV=function(t){const e=yP(t);return vP.encodeByteArray(e,!0)},Vp=function(t){return DV(t).replace(/\./g,"")},MV=function(t){try{return vP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=()=>OV().__FIREBASE_DEFAULTS__,LV=()=>{if(typeof process>"u"||typeof T1>"u")return;const t=T1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MV(t[1]);return e&&JSON.parse(e)},Fx=()=>{try{return kV()||VV()||LV()||FV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BV=t=>{var e,n;return(n=(e=Fx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xP=t=>{const e=BV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wP=()=>{var t;return(t=Fx())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _P(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vp(JSON.stringify(n)),Vp(JSON.stringify(o)),""].join(".")}const hd={};function UV(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function $V(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S1=!1;function TP(t,e){if(typeof window>"u"||typeof document>"u"||!Em(window.location.host)||hd[t]===e||hd[t]||S1)return;hd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=UV().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{S1=!0,o()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=$V(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),R=n("preprendIcon"),I=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;l(k),p(_,w);const O=d();u(I,R),k.append(I,T,_,O),document.body.appendChild(k)}i?(T.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WV(){var e;const t=(e=Fx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qV(){return!WV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GV(){try{return typeof indexedDB=="object"}catch{return!1}}function KV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="FirebaseError";class il extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QV,Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,SP.prototype.create)}}class SP{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YV(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new il(s,l,r)}}function YV(t,e){return t.replace(XV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XV=/\{\$([^}]+)}/g;function Lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(E1(i)&&E1(o)){if(!Lp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class Tc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eL(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JV(t){return t===La?void 0:t}function eL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const nL={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},rL=mt.INFO,sL={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},iL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class EP{constructor(e){this.name=e,this._logLevel=rL,this._logHandler=iL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const oL=(t,e)=>e.some(n=>t instanceof n);let C1,A1;function aL(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lL(){return A1||(A1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CP=new WeakMap,w0=new WeakMap,AP=new WeakMap,pv=new WeakMap,Bx=new WeakMap;function cL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Do(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CP.set(n,t)}).catch(()=>{}),Bx.set(e,t),e}function uL(t){if(w0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});w0.set(t,e)}let _0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Do(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dL(t){_0=t(_0)}function hL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mv(this),e,...n);return AP.set(r,e.sort?e.sort():[e]),Do(r)}:lL().includes(t)?function(...e){return t.apply(mv(this),e),Do(CP.get(this))}:function(...e){return Do(t.apply(mv(this),e))}}function fL(t){return typeof t=="function"?hL(t):(t instanceof IDBTransaction&&uL(t),oL(t,aL())?new Proxy(t,_0):t)}function Do(t){if(t instanceof IDBRequest)return cL(t);if(pv.has(t))return pv.get(t);const e=fL(t);return e!==t&&(pv.set(t,e),Bx.set(e,t)),e}const mv=t=>Bx.get(t);function pL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Do(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Do(o.result),u.oldVersion,u.newVersion,Do(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const mL=["get","getKey","getAll","getAllKeys","count"],gL=["put","add","delete","clear"],gv=new Map;function P1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=gL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mL.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return gv.set(e,i),i}dL(t=>({...t,get:(e,n,r)=>P1(e,n)||t.get(e,n,r),has:(e,n)=>!!P1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const b0="@firebase/app",R1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new EP("@firebase/app"),xL="@firebase/app-compat",wL="@firebase/analytics-compat",_L="@firebase/analytics",bL="@firebase/app-check-compat",TL="@firebase/app-check",SL="@firebase/auth",EL="@firebase/auth-compat",CL="@firebase/database",AL="@firebase/data-connect",PL="@firebase/database-compat",RL="@firebase/functions",IL="@firebase/functions-compat",kL="@firebase/installations",NL="@firebase/installations-compat",jL="@firebase/messaging",DL="@firebase/messaging-compat",ML="@firebase/performance",OL="@firebase/performance-compat",VL="@firebase/remote-config",LL="@firebase/remote-config-compat",FL="@firebase/storage",BL="@firebase/storage-compat",zL="@firebase/firestore",UL="@firebase/ai",$L="@firebase/firestore-compat",HL="firebase",WL="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="[DEFAULT]",qL={[b0]:"fire-core",[xL]:"fire-core-compat",[_L]:"fire-analytics",[wL]:"fire-analytics-compat",[TL]:"fire-app-check",[bL]:"fire-app-check-compat",[SL]:"fire-auth",[EL]:"fire-auth-compat",[CL]:"fire-rtdb",[AL]:"fire-data-connect",[PL]:"fire-rtdb-compat",[RL]:"fire-fn",[IL]:"fire-fn-compat",[kL]:"fire-iid",[NL]:"fire-iid-compat",[jL]:"fire-fcm",[DL]:"fire-fcm-compat",[ML]:"fire-perf",[OL]:"fire-perf-compat",[VL]:"fire-rc",[LL]:"fire-rc-compat",[FL]:"fire-gcs",[BL]:"fire-gcs-compat",[zL]:"fire-fst",[$L]:"fire-fst-compat",[UL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new Map,GL=new Map,S0=new Map;function I1(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cd(t){const e=t.name;if(S0.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;S0.set(e,t);for(const n of Fp.values())I1(n,t);for(const n of GL.values())I1(n,t);return!0}function PP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function RP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new SP("app","Firebase",KL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=WL;function kP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:T0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Mo.create("bad-app-name",{appName:String(s)});if(n||(n=wP()),!n)throw Mo.create("no-options");const i=Fp.get(s);if(i){if(Lp(n,i.options)&&Lp(r,i.config))return i;throw Mo.create("duplicate-app",{appName:s})}const o=new tL(s);for(const u of S0.values())o.addComponent(u);const l=new QL(n,r,o);return Fp.set(s,l),l}function NP(t=T0){const e=Fp.get(t);if(!e&&t===T0&&wP())return kP();if(!e)throw Mo.create("no-app",{appName:t});return e}function Oo(t,e,n){let r=qL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(o.join(" "));return}Cd(new Tc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="firebase-heartbeat-database",XL=1,Ad="firebase-heartbeat-store";let yv=null;function jP(){return yv||(yv=pL(YL,XL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ad)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mo.create("idb-open",{originalErrorMessage:t.message})})),yv}async function ZL(t){try{const n=(await jP()).transaction(Ad),r=await n.objectStore(Ad).get(DP(t));return await n.done,r}catch(e){if(e instanceof il)Wi.warn(e.message);else{const n=Mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function k1(t,e){try{const r=(await jP()).transaction(Ad,"readwrite");await r.objectStore(Ad).put(e,DP(t)),await r.done}catch(n){if(n instanceof il)Wi.warn(n.message);else{const r=Mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(r.message)}}}function DP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1024,e4=30;class t4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=N1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>e4){const o=s4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N1(),{heartbeatsToSend:r,unsentEntries:s}=n4(this._heartbeatsCache.heartbeats),i=Vp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Wi.warn(n),""}}}function N1(){return new Date().toISOString().substring(0,10)}function n4(t,e=JL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),j1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),j1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GV()?KV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function j1(t){return Vp(JSON.stringify({version:2,heartbeats:t})).length}function s4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){Cd(new Tc("platform-logger",e=>new yL(e),"PRIVATE")),Cd(new Tc("heartbeat",e=>new t4(e),"PRIVATE")),Oo(b0,R1,t),Oo(b0,R1,"esm2020"),Oo("fire-js","")}i4("");var o4="firebase",a4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo(o4,a4,"app");var D1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,MP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,E){function P(){}P.prototype=E.prototype,M.D=E.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(N,L,D){for(var V=Array(arguments.length-2),X=2;X<arguments.length;X++)V[X-2]=arguments[X];return E.prototype[L].apply(N,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,E,P){P||(P=0);var N=Array(16);if(typeof E=="string")for(var L=0;16>L;++L)N[L]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(L=0;16>L;++L)N[L]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=M.g[0],P=M.g[1],L=M.g[2];var D=M.g[3],V=E+(D^P&(L^D))+N[0]+3614090360&4294967295;E=P+(V<<7&4294967295|V>>>25),V=D+(L^E&(P^L))+N[1]+3905402710&4294967295,D=E+(V<<12&4294967295|V>>>20),V=L+(P^D&(E^P))+N[2]+606105819&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(E^L&(D^E))+N[3]+3250441966&4294967295,P=L+(V<<22&4294967295|V>>>10),V=E+(D^P&(L^D))+N[4]+4118548399&4294967295,E=P+(V<<7&4294967295|V>>>25),V=D+(L^E&(P^L))+N[5]+1200080426&4294967295,D=E+(V<<12&4294967295|V>>>20),V=L+(P^D&(E^P))+N[6]+2821735955&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(E^L&(D^E))+N[7]+4249261313&4294967295,P=L+(V<<22&4294967295|V>>>10),V=E+(D^P&(L^D))+N[8]+1770035416&4294967295,E=P+(V<<7&4294967295|V>>>25),V=D+(L^E&(P^L))+N[9]+2336552879&4294967295,D=E+(V<<12&4294967295|V>>>20),V=L+(P^D&(E^P))+N[10]+4294925233&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(E^L&(D^E))+N[11]+2304563134&4294967295,P=L+(V<<22&4294967295|V>>>10),V=E+(D^P&(L^D))+N[12]+1804603682&4294967295,E=P+(V<<7&4294967295|V>>>25),V=D+(L^E&(P^L))+N[13]+4254626195&4294967295,D=E+(V<<12&4294967295|V>>>20),V=L+(P^D&(E^P))+N[14]+2792965006&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(E^L&(D^E))+N[15]+1236535329&4294967295,P=L+(V<<22&4294967295|V>>>10),V=E+(L^D&(P^L))+N[1]+4129170786&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(E^P))+N[6]+3225465664&4294967295,D=E+(V<<9&4294967295|V>>>23),V=L+(E^P&(D^E))+N[11]+643717713&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(L^D))+N[0]+3921069994&4294967295,P=L+(V<<20&4294967295|V>>>12),V=E+(L^D&(P^L))+N[5]+3593408605&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(E^P))+N[10]+38016083&4294967295,D=E+(V<<9&4294967295|V>>>23),V=L+(E^P&(D^E))+N[15]+3634488961&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(L^D))+N[4]+3889429448&4294967295,P=L+(V<<20&4294967295|V>>>12),V=E+(L^D&(P^L))+N[9]+568446438&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(E^P))+N[14]+3275163606&4294967295,D=E+(V<<9&4294967295|V>>>23),V=L+(E^P&(D^E))+N[3]+4107603335&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(L^D))+N[8]+1163531501&4294967295,P=L+(V<<20&4294967295|V>>>12),V=E+(L^D&(P^L))+N[13]+2850285829&4294967295,E=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(E^P))+N[2]+4243563512&4294967295,D=E+(V<<9&4294967295|V>>>23),V=L+(E^P&(D^E))+N[7]+1735328473&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^E&(L^D))+N[12]+2368359562&4294967295,P=L+(V<<20&4294967295|V>>>12),V=E+(P^L^D)+N[5]+4294588738&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^L)+N[8]+2272392833&4294967295,D=E+(V<<11&4294967295|V>>>21),V=L+(D^E^P)+N[11]+1839030562&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^E)+N[14]+4259657740&4294967295,P=L+(V<<23&4294967295|V>>>9),V=E+(P^L^D)+N[1]+2763975236&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^L)+N[4]+1272893353&4294967295,D=E+(V<<11&4294967295|V>>>21),V=L+(D^E^P)+N[7]+4139469664&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^E)+N[10]+3200236656&4294967295,P=L+(V<<23&4294967295|V>>>9),V=E+(P^L^D)+N[13]+681279174&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^L)+N[0]+3936430074&4294967295,D=E+(V<<11&4294967295|V>>>21),V=L+(D^E^P)+N[3]+3572445317&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^E)+N[6]+76029189&4294967295,P=L+(V<<23&4294967295|V>>>9),V=E+(P^L^D)+N[9]+3654602809&4294967295,E=P+(V<<4&4294967295|V>>>28),V=D+(E^P^L)+N[12]+3873151461&4294967295,D=E+(V<<11&4294967295|V>>>21),V=L+(D^E^P)+N[15]+530742520&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^E)+N[2]+3299628645&4294967295,P=L+(V<<23&4294967295|V>>>9),V=E+(L^(P|~D))+N[0]+4096336452&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~L))+N[7]+1126891415&4294967295,D=E+(V<<10&4294967295|V>>>22),V=L+(E^(D|~P))+N[14]+2878612391&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~E))+N[5]+4237533241&4294967295,P=L+(V<<21&4294967295|V>>>11),V=E+(L^(P|~D))+N[12]+1700485571&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~L))+N[3]+2399980690&4294967295,D=E+(V<<10&4294967295|V>>>22),V=L+(E^(D|~P))+N[10]+4293915773&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~E))+N[1]+2240044497&4294967295,P=L+(V<<21&4294967295|V>>>11),V=E+(L^(P|~D))+N[8]+1873313359&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~L))+N[15]+4264355552&4294967295,D=E+(V<<10&4294967295|V>>>22),V=L+(E^(D|~P))+N[6]+2734768916&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~E))+N[13]+1309151649&4294967295,P=L+(V<<21&4294967295|V>>>11),V=E+(L^(P|~D))+N[4]+4149444226&4294967295,E=P+(V<<6&4294967295|V>>>26),V=D+(P^(E|~L))+N[11]+3174756917&4294967295,D=E+(V<<10&4294967295|V>>>22),V=L+(E^(D|~P))+N[2]+718787259&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~E))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+E&4294967295,M.g[1]=M.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+D&4294967295}r.prototype.u=function(M,E){E===void 0&&(E=M.length);for(var P=E-this.blockSize,N=this.B,L=this.h,D=0;D<E;){if(L==0)for(;D<=P;)s(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<E;)if(N[L++]=M.charCodeAt(D++),L==this.blockSize){s(this,N),L=0;break}}else for(;D<E;)if(N[L++]=M[D++],L==this.blockSize){s(this,N),L=0;break}}this.h=L,this.o+=E},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var E=1;E<M.length-8;++E)M[E]=0;var P=8*this.o;for(E=M.length-8;E<M.length;++E)M[E]=P&255,P/=256;for(this.u(M),M=Array(16),E=P=0;4>E;++E)for(var N=0;32>N;N+=8)M[P++]=this.g[E]>>>N&255;return M};function i(M,E){var P=l;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=E(M)}function o(M,E){this.h=E;for(var P=[],N=!0,L=M.length-1;0<=L;L--){var D=M[L]|0;N&&D==E||(P[L]=D,N=!1)}this.g=P}var l={};function u(M){return-128<=M&&128>M?i(M,function(E){return new o([E|0],0>E?-1:0)}):new o([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return m;if(0>M)return _(d(-M));for(var E=[],P=1,N=0;M>=P;N++)E[N]=M/P|0,P*=4294967296;return new o(E,0)}function p(M,E){if(M.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(M.charAt(0)=="-")return _(p(M.substring(1),E));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(E,8)),N=m,L=0;L<M.length;L+=8){var D=Math.min(8,M.length-L),V=parseInt(M.substring(L,L+D),E);8>D?(D=d(Math.pow(E,D)),N=N.j(D).add(d(V))):(N=N.j(P),N=N.add(d(V)))}return N}var m=u(0),y=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var M=0,E=1,P=0;P<this.g.length;P++){var N=this.i(P);M+=(0<=N?N:4294967296+N)*E,E*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(w(this))return"-"+_(this).toString(M);for(var E=d(Math.pow(M,6)),P=this,N="";;){var L=O(P,E).g;P=R(P,L.j(E));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=L,T(P))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var E=0;E<M.g.length;E++)if(M.g[E]!=0)return!1;return!0}function w(M){return M.h==-1}t.l=function(M){return M=R(this,M),w(M)?-1:T(M)?0:1};function _(M){for(var E=M.g.length,P=[],N=0;N<E;N++)P[N]=~M.g[N];return new o(P,~M.h).add(y)}t.abs=function(){return w(this)?_(this):this},t.add=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],N=0,L=0;L<=E;L++){var D=N+(this.i(L)&65535)+(M.i(L)&65535),V=(D>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);N=V>>>16,D&=65535,V&=65535,P[L]=V<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function R(M,E){return M.add(_(E))}t.j=function(M){if(T(this)||T(M))return m;if(w(this))return w(M)?_(this).j(_(M)):_(_(this).j(M));if(w(M))return _(this.j(_(M)));if(0>this.l(x)&&0>M.l(x))return d(this.m()*M.m());for(var E=this.g.length+M.g.length,P=[],N=0;N<2*E;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<M.g.length;L++){var D=this.i(N)>>>16,V=this.i(N)&65535,X=M.i(L)>>>16,q=M.i(L)&65535;P[2*N+2*L]+=V*q,I(P,2*N+2*L),P[2*N+2*L+1]+=D*q,I(P,2*N+2*L+1),P[2*N+2*L+1]+=V*X,I(P,2*N+2*L+1),P[2*N+2*L+2]+=D*X,I(P,2*N+2*L+2)}for(N=0;N<E;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=E;N<2*E;N++)P[N]=0;return new o(P,0)};function I(M,E){for(;(M[E]&65535)!=M[E];)M[E+1]+=M[E]>>>16,M[E]&=65535,E++}function k(M,E){this.g=M,this.h=E}function O(M,E){if(T(E))throw Error("division by zero");if(T(M))return new k(m,m);if(w(M))return E=O(_(M),E),new k(_(E.g),_(E.h));if(w(E))return E=O(M,_(E)),new k(_(E.g),E.h);if(30<M.g.length){if(w(M)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var P=y,N=E;0>=N.l(M);)P=B(P),N=B(N);var L=U(P,1),D=U(N,1);for(N=U(N,2),P=U(P,2);!T(N);){var V=D.add(N);0>=V.l(M)&&(L=L.add(P),D=V),N=U(N,1),P=U(P,1)}return E=R(M,L.j(E)),new k(L,E)}for(L=m;0<=M.l(E);){for(P=Math.max(1,Math.floor(M.m()/E.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=d(P),V=D.j(E);w(V)||0<V.l(M);)P-=N,D=d(P),V=D.j(E);T(D)&&(D=y),L=L.add(D),M=R(M,V)}return new k(L,M)}t.A=function(M){return O(this,M).h},t.and=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],N=0;N<E;N++)P[N]=this.i(N)&M.i(N);return new o(P,this.h&M.h)},t.or=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],N=0;N<E;N++)P[N]=this.i(N)|M.i(N);return new o(P,this.h|M.h)},t.xor=function(M){for(var E=Math.max(this.g.length,M.g.length),P=[],N=0;N<E;N++)P[N]=this.i(N)^M.i(N);return new o(P,this.h^M.h)};function B(M){for(var E=M.g.length+1,P=[],N=0;N<E;N++)P[N]=M.i(N)<<1|M.i(N-1)>>>31;return new o(P,M.h)}function U(M,E){var P=E>>5;E%=32;for(var N=M.g.length-P,L=[],D=0;D<N;D++)L[D]=0<E?M.i(D+P)>>>E|M.i(D+P+1)<<32-E:M.i(D+P);return new o(L,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Vo=o}).apply(typeof D1<"u"?D1:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OP,td,VP,gp,E0,LP,FP,BP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,C,j){return g==Array.prototype||g==Object.prototype||(g[C]=j.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var C=0;C<g.length;++C){var j=g[C];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function s(g,C){if(C)e:{var j=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var te=g[z];if(!(te in j))break e;j=j[te]}g=g[g.length-1],z=j[g],C=C(z),C!=z&&C!=null&&e(j,g,{configurable:!0,writable:!0,value:C})}}function i(g,C){g instanceof String&&(g+="");var j=0,z=!1,te={next:function(){if(!z&&j<g.length){var ae=j++;return{value:C(ae,g[ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}s("Array.prototype.values",function(g){return g||function(){return i(this,function(C,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(g){var C=typeof g;return C=C!="object"?C:g?Array.isArray(g)?"array":C:"null",C=="array"||C=="object"&&typeof g.length=="number"}function d(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function p(g,C,j){return g.call.apply(g.bind,arguments)}function m(g,C,j){if(!g)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,z),g.apply(C,te)}}return function(){return g.apply(C,arguments)}}function y(g,C,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,C){var j=Array.prototype.slice.call(arguments,1);return function(){var z=j.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function T(g,C){function j(){}j.prototype=C.prototype,g.aa=C.prototype,g.prototype=new j,g.prototype.constructor=g,g.Qb=function(z,te,ae){for(var _e=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)_e[Ct-2]=arguments[Ct];return C.prototype[te].apply(z,_e)}}function w(g){const C=g.length;if(0<C){const j=Array(C);for(let z=0;z<C;z++)j[z]=g[z];return j}return[]}function _(g,C){for(let j=1;j<arguments.length;j++){const z=arguments[j];if(u(z)){const te=g.length||0,ae=z.length||0;g.length=te+ae;for(let _e=0;_e<ae;_e++)g[te+_e]=z[_e]}else g.push(z)}}class R{constructor(C,j){this.i=C,this.j=j,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function I(g){return/^[\s\xa0]*$/.test(g)}function k(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function O(g){return O[" "](g),g}O[" "]=function(){};var B=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(g,C,j){for(const z in g)C.call(j,g[z],z,g)}function M(g,C){for(const j in g)C.call(void 0,g[j],j,g)}function E(g){const C={};for(const j in g)C[j]=g[j];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(g,C){let j,z;for(let te=1;te<arguments.length;te++){z=arguments[te];for(j in z)g[j]=z[j];for(let ae=0;ae<P.length;ae++)j=P[ae],Object.prototype.hasOwnProperty.call(z,j)&&(g[j]=z[j])}}function L(g){var C=1;g=g.split(":");const j=[];for(;0<C&&g.length;)j.push(g.shift()),C--;return g.length&&j.push(g.join(":")),j}function D(g){l.setTimeout(()=>{throw g},0)}function V(){var g=ee;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class X{constructor(){this.h=this.g=null}add(C,j){const z=q.get();z.set(C,j),this.h?this.h.next=z:this.g=z,this.h=z}}var q=new R(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(C,j){this.h=C,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,K=!1,ee=new X,oe=()=>{const g=l.Promise.resolve(void 0);Y=()=>{g.then($)}};var $=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(j){D(j)}var C=q;C.j(g),100>C.h&&(C.h++,g.next=C.g,C.g=g)}K=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};l.addEventListener("test",j,C),l.removeEventListener("test",j,C)}catch{}return g})();function be(g,C){if(se.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var j=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget){if(B){e:{try{O(C.nodeName);var te=!0;break e}catch{}te=!1}te||(C=null)}}else j=="mouseover"?C=g.fromElement:j=="mouseout"&&(C=g.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ee[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&be.aa.h.call(this)}}T(be,se);var Ee={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),de=0;function Te(g,C,j,z,te){this.listener=g,this.proxy=null,this.src=C,this.type=j,this.capture=!!z,this.ha=te,this.key=++de,this.da=this.fa=!1}function Ce(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ue(g){this.src=g,this.g={},this.h=0}ue.prototype.add=function(g,C,j,z,te){var ae=g.toString();g=this.g[ae],g||(g=this.g[ae]=[],this.h++);var _e=me(g,C,z,te);return-1<_e?(C=g[_e],j||(C.fa=!1)):(C=new Te(C,this.src,ae,!!z,te),C.fa=j,g.push(C)),C};function Z(g,C){var j=C.type;if(j in g.g){var z=g.g[j],te=Array.prototype.indexOf.call(z,C,void 0),ae;(ae=0<=te)&&Array.prototype.splice.call(z,te,1),ae&&(Ce(C),g.g[j].length==0&&(delete g.g[j],g.h--))}}function me(g,C,j,z){for(var te=0;te<g.length;++te){var ae=g[te];if(!ae.da&&ae.listener==C&&ae.capture==!!j&&ae.ha==z)return te}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Ae={};function Re(g,C,j,z,te){if(Array.isArray(C)){for(var ae=0;ae<C.length;ae++)Re(g,C[ae],j,z,te);return null}return j=Fn(j),g&&g[he]?g.K(C,j,d(z)?!!z.capture:!1,te):tt(g,C,j,!1,z,te)}function tt(g,C,j,z,te,ae){if(!C)throw Error("Invalid event type");var _e=d(te)?!!te.capture:!!te,Ct=Br(g);if(Ct||(g[ge]=Ct=new ue(g)),j=Ct.add(C,j,z,_e,ae),j.proxy)return j;if(z=$e(),j.proxy=z,z.src=g,z.listener=j,g.addEventListener)ve||(te=_e),te===void 0&&(te=!1),g.addEventListener(C.toString(),z,te);else if(g.attachEvent)g.attachEvent(Vn(C.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return j}function $e(){function g(j){return C.call(g.src,g.listener,j)}const C=Ln;return g}function Ke(g,C,j,z,te){if(Array.isArray(C))for(var ae=0;ae<C.length;ae++)Ke(g,C[ae],j,z,te);else z=d(z)?!!z.capture:!!z,j=Fn(j),g&&g[he]?(g=g.i,C=String(C).toString(),C in g.g&&(ae=g.g[C],j=me(ae,j,z,te),-1<j&&(Ce(ae[j]),Array.prototype.splice.call(ae,j,1),ae.length==0&&(delete g.g[C],g.h--)))):g&&(g=Br(g))&&(C=g.g[C.toString()],g=-1,C&&(g=me(C,j,z,te)),(j=-1<g?C[g]:null)&&Tt(j))}function Tt(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[he])Z(C.i,g);else{var j=g.type,z=g.proxy;C.removeEventListener?C.removeEventListener(j,z,g.capture):C.detachEvent?C.detachEvent(Vn(j),z):C.addListener&&C.removeListener&&C.removeListener(z),(j=Br(C))?(Z(j,g),j.h==0&&(j.src=null,C[ge]=null)):Ce(g)}}}function Vn(g){return g in Ae?Ae[g]:Ae[g]="on"+g}function Ln(g,C){if(g.da)g=!0;else{C=new be(C,this);var j=g.listener,z=g.ha||g.src;g.fa&&Tt(g),g=j.call(z,C)}return g}function Br(g){return g=g[ge],g instanceof ue?g:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(g){return typeof g=="function"?g:(g[Ht]||(g[Ht]=function(C){return g.handleEvent(C)}),g[Ht])}function rt(){J.call(this),this.i=new ue(this),this.M=this,this.F=null}T(rt,J),rt.prototype[he]=!0,rt.prototype.removeEventListener=function(g,C,j,z){Ke(this,g,C,j,z)};function ht(g,C){var j,z=g.F;if(z)for(j=[];z;z=z.F)j.push(z);if(g=g.M,z=C.type||C,typeof C=="string")C=new se(C,g);else if(C instanceof se)C.target=C.target||g;else{var te=C;C=new se(z,g),N(C,te)}if(te=!0,j)for(var ae=j.length-1;0<=ae;ae--){var _e=C.g=j[ae];te=cn(_e,z,!0,C)&&te}if(_e=C.g=g,te=cn(_e,z,!0,C)&&te,te=cn(_e,z,!1,C)&&te,j)for(ae=0;ae<j.length;ae++)_e=C.g=j[ae],te=cn(_e,z,!1,C)&&te}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var g=this.i,C;for(C in g.g){for(var j=g.g[C],z=0;z<j.length;z++)Ce(j[z]);delete g.g[C],g.h--}}this.F=null},rt.prototype.K=function(g,C,j,z){return this.i.add(String(g),C,!1,j,z)},rt.prototype.L=function(g,C,j,z){return this.i.add(String(g),C,!0,j,z)};function cn(g,C,j,z){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();for(var te=!0,ae=0;ae<C.length;++ae){var _e=C[ae];if(_e&&!_e.da&&_e.capture==j){var Ct=_e.listener,un=_e.ha||_e.src;_e.fa&&Z(g.i,_e),te=Ct.call(un,z)!==!1&&te}}return te&&!z.defaultPrevented}function vi(g,C,j){if(typeof g=="function")j&&(g=y(g,j));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:l.setTimeout(g,C||0)}function cs(g){g.g=vi(()=>{g.g=null,g.i&&(g.i=!1,cs(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class ar extends J{constructor(C,j){super(),this.m=C,this.l=j,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(g){J.call(this),this.h=g,this.g={}}T(yn,J);var us=[];function to(g){U(g.g,function(C,j){this.g.hasOwnProperty(j)&&Tt(C)},g),g.g={}}yn.prototype.N=function(){yn.aa.N.call(this),to(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ru=l.JSON.stringify,su=l.JSON.parse,iu=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function la(){}la.prototype.h=null;function ul(g){return g.h||(g.h=g.i())}function dl(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ls(){se.call(this,"d")}T(Ls,se);function hl(){se.call(this,"c")}T(hl,se);var Fs={},ou=null;function ca(){return ou=ou||new rt}Fs.La="serverreachability";function au(g){se.call(this,Fs.La,g)}T(au,se);function xi(g){const C=ca();ht(C,new au(C))}Fs.STAT_EVENT="statevent";function lu(g,C){se.call(this,Fs.STAT_EVENT,g),this.stat=C}T(lu,se);function Xt(g){const C=ca();ht(C,new lu(C,g))}Fs.Ma="timingevent";function fl(g,C){se.call(this,Fs.Ma,g),this.size=C}T(fl,se);function ds(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},C)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function da(g,C,j,z,te,ae){g.info(function(){if(g.g)if(ae)for(var _e="",Ct=ae.split("&"),un=0;un<Ct.length;un++){var ft=Ct[un].split("=");if(1<ft.length){var vn=ft[0];ft=ft[1];var rn=vn.split("_");_e=2<=rn.length&&rn[1]=="type"?_e+(vn+"="+ft+"&"):_e+(vn+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+z+") [attempt "+te+"]: "+C+`
`+j+`
`+_e})}function pl(g,C,j,z,te,ae,_e){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+te+"]: "+C+`
`+j+`
`+ae+" "+_e})}function hs(g,C,j,z){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ig(g,j)+(z?" "+z:"")})}function cu(g,C){g.info(function(){return"TIMEOUT: "+C})}ua.prototype.info=function(){};function Ig(g,C){if(!g.g)return C;if(!C)return null;try{var j=JSON.parse(C);if(j){for(g=0;g<j.length;g++)if(Array.isArray(j[g])){var z=j[g];if(!(2>z.length)){var te=z[1];if(Array.isArray(te)&&!(1>te.length)){var ae=te[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<te.length;_e++)te[_e]=""}}}}return ru(j)}catch{return C}}var ml={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fs;function ha(){}T(ha,la),ha.prototype.g=function(){return new XMLHttpRequest},ha.prototype.i=function(){return{}},fs=new ha;function ps(g,C,j,z){this.j=g,this.i=C,this.l=j,this.R=z||1,this.U=new yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gh}function gh(){this.i=null,this.g="",this.h=!1}var uu={},gl={};function yl(g,C,j){g.L=1,g.v=oo(br(C)),g.m=j,g.P=!0,du(g,null)}function du(g,C){g.F=Date.now(),Nt(g),g.A=br(g.v);var j=g.A,z=g.R;Array.isArray(z)||(z=[String(z)]),lo(j.i,"t",z),g.C=0,j=g.j.J,g.h=new gh,g.g=Dh(g.j,j?C:null,!g.m),0<g.O&&(g.M=new ar(y(g.Y,g,g.g),g.O)),C=g.U,j=g.g,z=g.ca;var te="readystatechange";Array.isArray(te)||(te&&(us[0]=te.toString()),te=us);for(var ae=0;ae<te.length;ae++){var _e=Re(j,te[ae],z||C.handleEvent,!1,C.h||C);if(!_e)break;C.g[_e.key]=_e}C=g.H?E(g.H):{},g.m?(g.u||(g.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,C)):(g.u="GET",g.g.ea(g.A,g.u,null,C)),xi(),da(g.i,g.u,g.A,g.l,g.R,g.m)}ps.prototype.ca=function(g){g=g.target;const C=this.M;C&&cr(g)==3?C.j():this.Y(g)},ps.prototype.Y=function(g){try{if(g==this.g)e:{const rn=cr(this.g);var C=this.g.Ba();const Hr=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||rn!=4||C==7||(C==8||0>=Hr?xi(3):xi(2)),fa(this);var j=this.g.Z();this.X=j;t:if(yh(this)){var z=yu(this.g);g="";var te=z.length,ae=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),no(this);var _e="";break t}this.h.i=new l.TextDecoder}for(C=0;C<te;C++)this.h.h=!0,g+=this.h.i.decode(z[C],{stream:!(ae&&C==te-1)});z.length=0,this.h.g+=g,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=j==200,pl(this.i,this.u,this.A,this.l,this.R,rn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,un=this.g;if((Ct=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Ct)){var ft=Ct;break t}}ft=null}if(j=ft)hs(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,j);else{this.o=!1,this.s=3,Xt(12),Ur(this),no(this);break e}}if(this.P){j=!0;let Sr;for(;!this.J&&this.C<_e.length;)if(Sr=kg(this,_e),Sr==gl){rn==4&&(this.s=4,Xt(14),j=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==uu){this.s=4,Xt(15),hs(this.i,this.l,_e,"[Invalid Chunk]"),j=!1;break}else hs(this.i,this.l,Sr,null),hu(this,Sr);if(yh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||_e.length!=0||this.h.h||(this.s=1,Xt(16),j=!1),this.o=this.o&&j,!j)hs(this.i,this.l,_e,"[Invalid Chunked Response]"),Ur(this),no(this);else if(0<_e.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),xu(vn),vn.M=!0,Xt(11))}}else hs(this.i,this.l,_e,null),hu(this,_e);rn==4&&Ur(this),this.o&&!this.J&&(rn==4?Pl(this.j,this):(this.o=!1,Nt(this)))}else Tl(this.g),j==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Ur(this),no(this)}}}catch{}finally{}};function yh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function kg(g,C){var j=g.C,z=C.indexOf(`
`,j);return z==-1?gl:(j=Number(C.substring(j,z)),isNaN(j)?uu:(z+=1,z+j>C.length?gl:(C=C.slice(z,z+j),g.C=z+j,C)))}ps.prototype.cancel=function(){this.J=!0,Ur(this)};function Nt(g){g.S=Date.now()+g.I,vh(g,g.I)}function vh(g,C){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ds(y(g.ba,g),C)}function fa(g){g.B&&(l.clearTimeout(g.B),g.B=null)}ps.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(cu(this.i,this.A),this.L!=2&&(xi(),Xt(17)),Ur(this),this.s=2,no(this)):vh(this,this.S-g)};function no(g){g.j.G==0||g.J||Pl(g.j,g)}function Ur(g){fa(g);var C=g.M;C&&typeof C.ma=="function"&&C.ma(),g.M=null,to(g.U),g.g&&(C=g.g,g.g=null,C.abort(),C.ma())}function hu(g,C){try{var j=g.j;if(j.G!=0&&(j.g==g||Jn(j.h,g))){if(!g.K&&Jn(j.h,g)&&j.G==3){try{var z=j.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var te=z;if(te[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<g.F)Al(j),xs(j);else break e;Cl(j),Xt(18)}}else j.za=te[1],0<j.za-j.T&&37500>te[2]&&j.F&&j.v==0&&!j.C&&(j.C=ds(y(j.Za,j),6e3));if(1>=wh(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Si(j,11)}else if((g.K||j.g==g)&&Al(j),!I(C))for(te=j.Da.g.parse(C),C=0;C<te.length;C++){let ft=te[C];if(j.T=ft[0],ft=ft[1],j.G==2)if(ft[0]=="c"){j.K=ft[1],j.ia=ft[2];const vn=ft[3];vn!=null&&(j.la=vn,j.j.info("VER="+j.la));const rn=ft[4];rn!=null&&(j.Aa=rn,j.j.info("SVER="+j.Aa));const Hr=ft[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(z=1.5*Hr,j.L=z,j.j.info("backChannelRequestTimeoutMs_="+z)),z=j;const Sr=g.g;if(Sr){const wa=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var ae=z.h;ae.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(fu(ae,ae.h),ae.h=null))}if(z.D){const Il=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(z.ya=Il,Rt(z.I,z.D,Il))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-g.F,j.j.info("Handshake RTT: "+j.R+"ms")),z=j;var _e=g;if(z.qa=jh(z,z.J?z.ia:null,z.W),_e.K){_h(z.h,_e);var Ct=_e,un=z.L;un&&(Ct.I=un),Ct.B&&(fa(Ct),Nt(Ct)),z.g=_e}else xa(z);0<j.i.length&&$s(j)}else ft[0]!="stop"&&ft[0]!="close"||Si(j,7);else j.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Si(j,7):Pn(j):ft[0]!="noop"&&j.l&&j.l.ta(ft),j.v=0)}}xi(4)}catch{}}var xh=class{constructor(g,C){this.g=g,this.map=C}};function pa(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _r(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function wh(g){return g.h?1:g.g?g.g.size:0}function Jn(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function fu(g,C){g.g?g.g.add(C):g.h=C}function _h(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}pa.prototype.cancel=function(){if(this.i=bh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function bh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const j of g.g.values())C=C.concat(j.D);return C}return w(g.i)}function vl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(u(g)){for(var C=[],j=g.length,z=0;z<j;z++)C.push(g[z]);return C}C=[],j=0;for(z in g)C[j++]=g[z];return C}function xl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(u(g)||typeof g=="string"){var C=[];g=g.length;for(var j=0;j<g;j++)C.push(j);return C}C=[],j=0;for(const z in g)C[j++]=z;return C}}}function ro(g,C){if(g.forEach&&typeof g.forEach=="function")g.forEach(C,void 0);else if(u(g)||typeof g=="string")Array.prototype.forEach.call(g,C,void 0);else for(var j=xl(g),z=vl(g),te=z.length,ae=0;ae<te;ae++)C.call(void 0,z[ae],j&&j[ae],g)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ng(g,C){if(g){g=g.split("&");for(var j=0;j<g.length;j++){var z=g[j].indexOf("="),te=null;if(0<=z){var ae=g[j].substring(0,z);te=g[j].substring(z+1)}else ae=g[j];C(ae,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function wi(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof wi){this.h=g.h,ga(this,g.j),this.o=g.o,this.g=g.g,so(this,g.s),this.l=g.l;var C=g.i,j=new Bs;j.i=C.i,C.g&&(j.g=new Map(C.g),j.h=C.h),io(this,j),this.m=g.m}else g&&(C=String(g).match(ma))?(this.h=!1,ga(this,C[1]||"",!0),this.o=dt(C[2]||""),this.g=dt(C[3]||"",!0),so(this,C[4]),this.l=dt(C[5]||"",!0),io(this,C[6]||"",!0),this.m=dt(C[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}wi.prototype.toString=function(){var g=[],C=this.j;C&&g.push(ao(C,wl,!0),":");var j=this.g;return(j||C=="file")&&(g.push("//"),(C=this.o)&&g.push(ao(C,wl,!0),"@"),g.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&g.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(ao(j,j.charAt(0)=="/"?Eh:Sh,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",ao(j,pu)),g.join("")};function br(g){return new wi(g)}function ga(g,C,j){g.j=j?dt(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function so(g,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);g.s=C}else g.s=null}function io(g,C,j){C instanceof Bs?(g.i=C,zs(g.i,g.h)):(j||(C=ao(C,Ch)),g.i=new Bs(C,g.h))}function Rt(g,C,j){g.i.set(C,j)}function oo(g){return Rt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function dt(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ao(g,C,j){return typeof g=="string"?(g=encodeURI(g).replace(C,Th),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Th(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var wl=/[#\/\?@]/g,Sh=/[#\?:]/g,Eh=/[#\?]/g,Ch=/[#\?@]/g,pu=/#/g;function Bs(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function An(g){g.g||(g.g=new Map,g.h=0,g.i&&Ng(g.i,function(C,j){g.add(decodeURIComponent(C.replace(/\+/g," ")),j)}))}t=Bs.prototype,t.add=function(g,C){An(this),this.i=null,g=$r(this,g);var j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(C),this.h+=1,this};function ms(g,C){An(g),C=$r(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function gs(g,C){return An(g),C=$r(g,C),g.g.has(C)}t.forEach=function(g,C){An(this),this.g.forEach(function(j,z){j.forEach(function(te){g.call(C,te,z,this)},this)},this)},t.na=function(){An(this);const g=Array.from(this.g.values()),C=Array.from(this.g.keys()),j=[];for(let z=0;z<C.length;z++){const te=g[z];for(let ae=0;ae<te.length;ae++)j.push(C[z])}return j},t.V=function(g){An(this);let C=[];if(typeof g=="string")gs(this,g)&&(C=C.concat(this.g.get($r(this,g))));else{g=Array.from(this.g.values());for(let j=0;j<g.length;j++)C=C.concat(g[j])}return C},t.set=function(g,C){return An(this),this.i=null,g=$r(this,g),gs(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},t.get=function(g,C){return g?(g=this.V(g),0<g.length?String(g[0]):C):C};function lo(g,C,j){ms(g,C),0<j.length&&(g.i=null,g.g.set($r(g,C),w(j)),g.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(var j=0;j<C.length;j++){var z=C[j];const ae=encodeURIComponent(String(z)),_e=this.V(z);for(z=0;z<_e.length;z++){var te=ae;_e[z]!==""&&(te+="="+encodeURIComponent(String(_e[z]))),g.push(te)}}return this.i=g.join("&")};function $r(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function zs(g,C){C&&!g.j&&(An(g),g.i=null,g.g.forEach(function(j,z){var te=z.toLowerCase();z!=te&&(ms(this,z),lo(this,te,j))},g)),g.j=C}function jg(g,C){const j=new ua;if(l.Image){const z=new Image;z.onload=x(lr,j,"TestLoadImage: loaded",!0,C,z),z.onerror=x(lr,j,"TestLoadImage: error",!1,C,z),z.onabort=x(lr,j,"TestLoadImage: abort",!1,C,z),z.ontimeout=x(lr,j,"TestLoadImage: timeout",!1,C,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else C(!1)}function Ah(g,C){const j=new ua,z=new AbortController,te=setTimeout(()=>{z.abort(),lr(j,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:z.signal}).then(ae=>{clearTimeout(te),ae.ok?lr(j,"TestPingServer: ok",!0,C):lr(j,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(te),lr(j,"TestPingServer: error",!1,C)})}function lr(g,C,j,z,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),z(j)}catch{}}function Dg(){this.g=new iu}function Ph(g,C,j){const z=j||"";try{ro(g,function(te,ae){let _e=te;d(te)&&(_e=ru(te)),C.push(z+ae+"="+encodeURIComponent(_e))})}catch(te){throw C.push(z+"type="+encodeURIComponent("_badmap")),te}}function _i(g){this.l=g.Ub||null,this.j=g.eb||!1}T(_i,la),_i.prototype.g=function(){return new ya(this.l,this.j)},_i.prototype.i=(function(g){return function(){return g}})({});function ya(g,C){rt.call(this),this.D=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ya,rt),t=ya.prototype,t.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=C,this.readyState=1,vs(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(C.body=g),(this.D||l).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rh(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rh(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?ys(this):vs(this),this.readyState==3&&Rh(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ys(this))},t.Qa=function(g){this.g&&(this.response=g,ys(this))},t.ga=function(){this.g&&ys(this)};function ys(g){g.readyState=4,g.l=null,g.j=null,g.v=null,vs(g)}t.setRequestHeader=function(g,C){this.u.append(g,C)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var j=C.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=C.next();return g.join(`\r
`)};function vs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function bi(g){let C="";return U(g,function(j,z){C+=z,C+=":",C+=j,C+=`\r
`}),C}function co(g,C,j){e:{for(z in j){var z=!1;break e}z=!0}z||(j=bi(j),typeof g=="string"?j!=null&&encodeURIComponent(String(j)):Rt(g,C,j))}function zt(g){rt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(zt,rt);var Mg=/^https?$/i,mu=["POST","PUT"];t=zt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,C,j,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fs.g(),this.v=this.o?ul(this.o):ul(fs),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(ae){va(this,ae);return}if(g=j||"",j=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var te in z)j.set(te,z[te]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ae of z.keys())j.set(ae,z.get(ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(j.keys()).find(ae=>ae.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mu,C,void 0))||z||te||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of j)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ae){va(this,ae)}};function va(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.m=5,_l(g),Tr(g)}function _l(g){g.A||(g.A=!0,ht(g,"complete"),ht(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ht(this,"complete"),ht(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gu(this):this.bb())},t.bb=function(){gu(this)};function gu(g){if(g.h&&typeof o<"u"&&(!g.v[1]||cr(g)!=4||g.Z()!=2)){if(g.u&&cr(g)==4)vi(g.Ea,0,g);else if(ht(g,"readystatechange"),cr(g)==4){g.h=!1;try{const _e=g.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var j;if(!(j=C)){var z;if(z=_e===0){var te=String(g.D).match(ma)[1]||null;!te&&l.self&&l.self.location&&(te=l.self.location.protocol.slice(0,-1)),z=!Mg.test(te?te.toLowerCase():"")}j=z}if(j)ht(g,"complete"),ht(g,"success");else{g.m=6;try{var ae=2<cr(g)?g.g.statusText:""}catch{ae=""}g.l=ae+" ["+g.Z()+"]",_l(g)}}finally{Tr(g)}}}}function Tr(g,C){if(g.g){bl(g);const j=g.g,z=g.v[0]?()=>{}:null;g.g=null,g.v=null,C||ht(g,"ready");try{j.onreadystatechange=z}catch{}}}function bl(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function cr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),su(C)}};function yu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Tl(g){const C={};g=(g.g&&2<=cr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(I(g[z]))continue;var j=L(g[z]);const te=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const ae=C[te]||[];C[te]=ae,ae.push(j)}M(C,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(g,C,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||C}function vu(g){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,g),this.cb=Us("retryDelaySeedMs",1e4,g),this.Wa=Us("forwardChannelMaxRetries",2,g),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new pa(g&&g.concurrentRequestLimit),this.Da=new Dg,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vu.prototype,t.la=8,t.G=1,t.connect=function(g,C,j,z){Xt(0),this.W=g,this.H=C||{},j&&z!==void 0&&(this.H.OSID=j,this.H.OAID=z),this.F=this.X,this.I=jh(this,null,this.W),$s(this)};function Pn(g){if(Sl(g),g.G==3){var C=g.U++,j=br(g.I);if(Rt(j,"SID",g.K),Rt(j,"RID",C),Rt(j,"TYPE","terminate"),Ti(g,j),C=new ps(g,g.j,C),C.L=2,C.v=oo(br(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(C.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=C.v,j=!0),j||(C.g=Dh(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Nt(C)}Nh(g)}function xs(g){g.g&&(xu(g),g.g.cancel(),g.g=null)}function Sl(g){xs(g),g.u&&(l.clearTimeout(g.u),g.u=null),Al(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function $s(g){if(!_r(g.h)&&!g.s){g.s=!0;var C=g.Ga;Y||oe(),K||(Y(),K=!0),ee.add(C,g),g.B=0}}function Og(g,C){return wh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=C.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ds(y(g.Ga,g,C),kh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const te=new ps(this,this.j,g);let ae=this.o;if(this.S&&(ae?(ae=E(ae),N(ae,this.S)):ae=this.S),this.m!==null||this.O||(te.H=ae,ae=null),this.P)e:{for(var C=0,j=0;j<this.i.length;j++){t:{var z=this.i[j];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=j;break e}if(C===4096||j===this.i.length-1){C=j+1;break e}}C=1e3}else C=1e3;C=uo(this,te,C),j=br(this.I),Rt(j,"RID",g),Rt(j,"CVER",22),this.D&&Rt(j,"X-HTTP-Session-Id",this.D),Ti(this,j),ae&&(this.O?C="headers="+encodeURIComponent(String(bi(ae)))+"&"+C:this.m&&co(j,this.m,ae)),fu(this.h,te),this.Ua&&Rt(j,"TYPE","init"),this.P?(Rt(j,"$req",C),Rt(j,"SID","null"),te.T=!0,yl(te,j,null)):yl(te,j,C),this.G=2}}else this.G==3&&(g?El(this,g):this.i.length==0||_r(this.h)||El(this))};function El(g,C){var j;C?j=C.l:j=g.U++;const z=br(g.I);Rt(z,"SID",g.K),Rt(z,"RID",j),Rt(z,"AID",g.T),Ti(g,z),g.m&&g.o&&co(z,g.m,g.o),j=new ps(g,g.j,j,g.B+1),g.m===null&&(j.H=g.o),C&&(g.i=C.D.concat(g.i)),C=uo(g,j,1e3),j.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),fu(g.h,j),yl(j,z,C)}function Ti(g,C){g.H&&U(g.H,function(j,z){Rt(C,z,j)}),g.l&&ro({},function(j,z){Rt(C,z,j)})}function uo(g,C,j){j=Math.min(g.i.length,j);var z=g.l?y(g.l.Na,g.l,g):null;e:{var te=g.i;let ae=-1;for(;;){const _e=["count="+j];ae==-1?0<j?(ae=te[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let Ct=!0;for(let un=0;un<j;un++){let ft=te[un].g;const vn=te[un].map;if(ft-=ae,0>ft)ae=Math.max(0,te[un].g-100),Ct=!1;else try{Ph(vn,_e,"req"+ft+"_")}catch{z&&z(vn)}}if(Ct){z=_e.join("&");break e}}}return g=g.i.splice(0,j),C.D=g,z}function xa(g){if(!g.g&&!g.u){g.Y=1;var C=g.Fa;Y||oe(),K||(Y(),K=!0),ee.add(C,g),g.v=0}}function Cl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ds(y(g.Fa,g),kh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ds(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),xs(this),Ih(this))};function xu(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Ih(g){g.g=new ps(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var C=br(g.qa);Rt(C,"RID","rpc"),Rt(C,"SID",g.K),Rt(C,"AID",g.T),Rt(C,"CI",g.F?"0":"1"),!g.F&&g.ja&&Rt(C,"TO",g.ja),Rt(C,"TYPE","xmlhttp"),Ti(g,C),g.m&&g.o&&co(C,g.m,g.o),g.L&&(g.g.I=g.L);var j=g.g;g=g.ia,j.L=1,j.v=oo(br(C)),j.m=null,j.P=!0,du(j,g)}t.Za=function(){this.C!=null&&(this.C=null,xs(this),Cl(this),Xt(19))};function Al(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Pl(g,C){var j=null;if(g.g==C){Al(g),xu(g),g.g=null;var z=2}else if(Jn(g.h,C))j=C.D,_h(g.h,C),z=1;else return;if(g.G!=0){if(C.o)if(z==1){j=C.m?C.m.length:0,C=Date.now()-C.F;var te=g.B;z=ca(),ht(z,new fl(z,j)),$s(g)}else xa(g);else if(te=C.s,te==3||te==0&&0<C.X||!(z==1&&Og(g,C)||z==2&&Cl(g)))switch(j&&0<j.length&&(C=g.h,C.i=C.i.concat(j)),te){case 1:Si(g,5);break;case 4:Si(g,10);break;case 3:Si(g,6);break;default:Si(g,2)}}}function kh(g,C){let j=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(j*=2),j*C}function Si(g,C){if(g.j.info("Error code "+C),C==2){var j=y(g.fb,g),z=g.Xa;const te=!z;z=new wi(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ga(z,"https"),oo(z),te?jg(z.toString(),j):Ah(z.toString(),j)}else Xt(2);g.G=0,g.l&&g.l.sa(C),Nh(g),Sl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Nh(g){if(g.G=0,g.ka=[],g.l){const C=bh(g.h);(C.length!=0||g.i.length!=0)&&(_(g.ka,C),_(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function jh(g,C,j){var z=j instanceof wi?br(j):new wi(j);if(z.g!="")C&&(z.g=C+"."+z.g),so(z,z.s);else{var te=l.location;z=te.protocol,C=C?C+"."+te.hostname:te.hostname,te=+te.port;var ae=new wi(null);z&&ga(ae,z),C&&(ae.g=C),te&&so(ae,te),j&&(ae.l=j),z=ae}return j=g.D,C=g.ya,j&&C&&Rt(z,j,C),Rt(z,"VER",g.la),Ti(g,z),z}function Dh(g,C,j){if(C&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Ca&&!g.pa?new zt(new _i({eb:j})):new zt(g.pa),C.Ha(g.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}t=wu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rl(){}Rl.prototype.g=function(g,C){return new er(g,C)};function er(g,C){rt.call(this),this.g=new vu(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(g?g["X-WebChannel-Client-Profile"]=C.va:g={"X-WebChannel-Client-Profile":C.va}),this.g.S=g,(g=C&&C.Sb)&&!I(g)&&(this.g.m=g),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!I(C)&&(this.g.D=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new Hs(this)}T(er,rt),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Pn(this.g)},er.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.u&&(j={},j.__data__=ru(g),g=j);C.i.push(new xh(C.Ya++,g)),C.G==3&&$s(C)},er.prototype.N=function(){this.g.l=null,delete this.j,Pn(this.g),delete this.g,er.aa.N.call(this)};function Mh(g){Ls.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){e:{for(const j in C){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}T(Mh,Ls);function Oh(){hl.call(this),this.status=1}T(Oh,hl);function Hs(g){this.g=g}T(Hs,wu),Hs.prototype.ua=function(){ht(this.g,"a")},Hs.prototype.ta=function(g){ht(this.g,new Mh(g))},Hs.prototype.sa=function(g){ht(this.g,new Oh)},Hs.prototype.ra=function(){ht(this.g,"b")},Rl.prototype.createWebChannel=Rl.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,BP=function(){return new Rl},FP=function(){return ca()},LP=Fs,E0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ml.NO_ERROR=0,ml.TIMEOUT=8,ml.HTTP_ERROR=6,gp=ml,mh.COMPLETE="complete",VP=mh,dl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",rt.prototype.listen=rt.prototype.K,td=dl,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,OP=zt}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const M1="@firebase/firestore",O1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new EP("@firebase/firestore");function nc(){return Xa.logLevel}function Ie(t,...e){if(Xa.logLevel<=mt.DEBUG){const n=e.map(zx);Xa.debug(`Firestore (${Bc}): ${t}`,...n)}}function qi(t,...e){if(Xa.logLevel<=mt.ERROR){const n=e.map(zx);Xa.error(`Firestore (${Bc}): ${t}`,...n)}}function Sc(t,...e){if(Xa.logLevel<=mt.WARN){const n=e.map(zx);Xa.warn(`Firestore (${Bc}): ${t}`,...n)}}function zx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zP(t,r,n)}function zP(t,e,n){let r=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qi(r),new Error(r)}function Et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||zP(e,s,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends il{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Gn.UNAUTHENTICATED)))}shutdown(){}}class c4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class u4{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bi,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},l=u=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bi)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new UP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class d4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new d4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RP(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=i=>{i.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=p4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function C0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return vv(s)===vv(i)?ot(s,i):vv(s)?1:-1}return ot(t.length,e.length)}const m4=55296,g4=57343;function vv(t){const e=t.charCodeAt(0);return e>=m4&&e<=g4}function Ec(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__name__";class Zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Zs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ot(e.length,n.length)}static compareSegments(e,n){const r=Zs.isNumericId(e),s=Zs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Zs.extractNumericId(e).compare(Zs.extractNumericId(n)):C0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vo.fromString(e.substring(4,e.length-2))}}class It extends Zs{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new It(n)}static emptyPath(){return new It([])}}const y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Zs{construct(e,n,r){return new jn(e,n,r)}static isValidIdentifier(e){return y4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L1}static keyField(){return new jn([L1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(It.fromString(e))}static fromName(e){return new Me(It.fromString(e).popFirst(5))}static empty(){return new Me(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t,e,n){if(!n)throw new Se(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v4(t,e,n,r){if(e===!0&&r===!0)throw new Se(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F1(t){if(!Me.isDocumentKey(t))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B1(t){if(Me.isDocumentKey(t))throw new Se(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new Se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xd(t,e){if(!HP(t))throw new Se(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Se(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=-62135596800,U1=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*U1);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z1)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U1}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xd(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:ln("string",Lt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Lt(0,0))}static max(){return new Ye(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function x4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new $o(s,Me.empty(),e)}function w4(t){return new $o(t.readTime,t.key,Pd)}class $o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $o(Ye.min(),Me.empty(),Pd)}static max(){return new $o(Ye.max(),Me.empty(),Pd)}}function _4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==b4)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let s=0,i=0,o=!1;e.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(u=>r(u)))})),o=!0,i===s&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((s=>s?ce.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next((p=>{o[d]=p,++l,l===i&&r(o)}),(p=>s(p)))}}))}static doWhile(e,n){return new ce(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function S4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=-1;function Pm(t){return t==null}function Bp(t){return t===0&&1/t==-1/0}function E4(t){return typeof t=="number"&&Number.isInteger(t)&&!Bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="";function C4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$1(e)),e=A4(t.get(n),e);return $1(e)}function A4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case WP:n+="";break;default:n+=i}}return n}function $1(t){return t+WP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Nn.RED,this.left=s??Nn.EMPTY,this.right=i??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Nn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(e){return new W1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class W1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new pn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GP("Invalid base64 string: "+i):i}})(e);return new Mn(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const P4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=P4.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wo(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="server_timestamp",QP="__type__",YP="__previous_value__",XP="__local_write_time__";function Rm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QP])==null?void 0:r.stringValue)===KP}function Im(t){const e=t.mapValue.fields[YP];return Rm(e)?Im(e):e}function Rd(t){const e=Ho(t.mapValue.fields[XP].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r,s,i,o,l,u,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const zp="(default)";class Id{constructor(e,n){this.projectId=e,this.database=n||zp}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===zp}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="__type__",I4="__max__",jf={mapValue:{}},JP="__vector__",Up="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rm(t)?4:N4(t)?9007199254740991:k4(t)?10:11:qe(28295,{value:t})}function ci(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rd(t).isEqual(Rd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ho(s.timestampValue),l=Ho(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Wo(s.bytesValue).isEqual(Wo(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return en(s.geoPointValue.latitude)===en(i.geoPointValue.latitude)&&en(s.geoPointValue.longitude)===en(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return en(s.integerValue)===en(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=en(s.doubleValue),l=en(i.doubleValue);return o===l?Bp(o)===Bp(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Ec(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(H1(o)!==H1(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!ci(o[u],l[u])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function kd(t,e){return(t.values||[]).find((n=>ci(n,e)))!==void 0}function Cc(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=en(i.integerValue||i.doubleValue),u=en(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return q1(t.timestampValue,e.timestampValue);case 4:return q1(Rd(t),Rd(e));case 5:return C0(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=Wo(i),u=Wo(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=ot(l[d],u[d]);if(p!==0)return p}return ot(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=ot(en(i.latitude),en(o.latitude));return l!==0?l:ot(en(i.longitude),en(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return G1(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var y,x,T,w;const l=i.fields||{},u=o.fields||{},d=(y=l[Up])==null?void 0:y.arrayValue,p=(x=u[Up])==null?void 0:x.arrayValue,m=ot(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((w=p==null?void 0:p.values)==null?void 0:w.length)||0);return m!==0?m:G1(d,p)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===jf.mapValue&&o===jf.mapValue)return 0;if(i===jf.mapValue)return 1;if(o===jf.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const y=C0(u[m],p[m]);if(y!==0)return y;const x=Cc(l[u[m]],d[p[m]]);if(x!==0)return x}return ot(u.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=Ho(t),r=Ho(e),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function G1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Cc(n[s],r[s]);if(i)return i}return ot(n.length,r.length)}function Ac(t){return A0(t)}function A0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ho(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=A0(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${A0(n.fields[o])}`;return s+"}"})(t.mapValue):qe(61005,{value:t})}function yp(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Im(t);return e?16+yp(e):16;case 5:return 2*t.stringValue.length;case 6:return Wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+yp(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ea(r.fields,((i,o)=>{s+=i.length+yp(o)})),s})(t.mapValue);default:throw qe(13486,{value:t})}}function $p(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P0(t){return!!t&&"integerValue"in t}function Hx(t){return!!t&&"arrayValue"in t}function K1(t){return!!t&&"nullValue"in t}function Q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function k4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ZP])==null?void 0:r.stringValue)===JP}function fd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fd(t.arrayValue.values[n]);return e}return{...t}}function N4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(n)}setAll(e){let n=jn.emptyPath(),r={},s=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=fd(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];vp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ea(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new xr(fd(this.value))}}function eR(t){const e=[];return ea(t.fields,((n,r)=>{const s=new jn([n]);if(vp(r)){const i=eR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Kn(e,0,Ye.min(),Ye.min(),Ye.min(),xr.empty(),0)}static newFoundDocument(e,n,r,s){return new Kn(e,1,n,Ye.min(),r,s,0)}static newNoDocument(e,n){return new Kn(e,2,n,Ye.min(),Ye.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,Ye.min(),Ye.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.position=e,this.inclusive=n}}function Y1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Me.comparator(Me.fromName(o.referenceValue),n.key):r=Cc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function X1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function j4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tR=class{};class an extends tR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M4(e,n,r):n==="array-contains"?new L4(e,r):n==="in"?new F4(e,r):n==="not-in"?new B4(e,r):n==="array-contains-any"?new z4(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O4(e,r):new V4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cc(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(Cc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends tR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return nR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nR(t){return t.op==="and"}function rR(t){return D4(t)&&nR(t)}function D4(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function R0(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(rR(t))return t.filters.map((e=>R0(e))).join(",");{const e=t.filters.map((n=>R0(n))).join(",");return`${t.op}(${e})`}}function sR(t,e){return t instanceof an?(function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&ci(r.value,s.value)})(t,e):t instanceof Ns?(function(r,s){return s instanceof Ns&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&sR(o,s.filters[l])),!0):!1})(t,e):void qe(19439)}function iR(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`})(t):t instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(iR).join(" ,")+"}"})(t):"Filter"}class M4 extends an{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class O4 extends an{constructor(e,n){super(e,"in",n),this.keys=oR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V4 extends an{constructor(e,n){super(e,"not-in",n),this.keys=oR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Me.fromName(r.referenceValue)))}class L4 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hx(n)&&kd(n.arrayValue,this.value)}}class F4 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kd(this.value.arrayValue,n)}}class B4 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kd(this.value.arrayValue,n)}}class z4 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>kd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Z1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new U4(t,e,n,r,s,i,o)}function Wx(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>R0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Pm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ac(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ac(r))).join(",")),e.Te=n}return e.Te}function qx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X1(t.startAt,e.startAt)&&X1(t.endAt,e.endAt)}function I0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $4(t,e,n,r,s,i,o,l){return new ol(t,e,n,r,s,i,o,l)}function Gx(t){return new ol(t)}function J1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kx(t){return t.collectionGroup!==null}function fc(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new pn(jn.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Nd(i,r))})),n.has(jn.keyField().canonicalString())||e.Ie.push(new Nd(jn.keyField(),r))}return e.Ie}function ti(t){const e=Xe(t);return e.Ee||(e.Ee=H4(e,fc(t))),e.Ee}function H4(t,e){if(t.limitType==="F")return Z1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Nd(s.field,i)}));const n=t.endAt?new Pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pc(t.startAt.position,t.startAt.inclusive):null;return Z1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function k0(t,e){const n=t.filters.concat([e]);return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hp(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function km(t,e){return qx(ti(t),ti(e))&&t.limitType===e.limitType}function aR(t){return`${Wx(ti(t))}|lt:${t.limitType}`}function rc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>iR(s))).join(", ")}]`),Pm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Ac(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Ac(s))).join(",")),`Target(${r})`})(ti(t))}; limitType=${t.limitType})`}function Nm(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of fc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,l,u){const d=Y1(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,fc(r),s)||r.endAt&&!(function(o,l,u){const d=Y1(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,fc(r),s))})(t,e)}function W4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lR(t){return(e,n)=>{let r=!1;for(const s of fc(t)){const i=q4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function q4(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?Cc(u,d):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return qP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Kt(Me.comparator);function Gi(){return G4}const cR=new Kt(Me.comparator);function nd(...t){let e=cR;for(const n of t)e=e.insert(n.key,n);return e}function uR(t){let e=cR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ha(){return pd()}function dR(){return pd()}function pd(){return new al((t=>t.toString()),((t,e)=>t.isEqual(e)))}const K4=new Kt(Me.comparator),Q4=new pn(Me.comparator);function ut(...t){let e=Q4;for(const n of t)e=e.add(n);return e}const Y4=new pn(ot);function X4(){return Y4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(e)?"-0":e}}function hR(t){return{integerValue:""+t}}function Z4(t,e){return E4(e)?hR(e):Qx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this._=void 0}}function J4(t,e,n){return t instanceof Wp?(function(s,i){const o={fields:{[QP]:{stringValue:KP},[XP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Rm(i)&&(i=Im(i)),i&&(o.fields[YP]=i),{mapValue:o}})(n,e):t instanceof jd?pR(t,e):t instanceof Dd?mR(t,e):(function(s,i){const o=fR(s,i),l=eS(o)+eS(s.Ae);return P0(o)&&P0(s.Ae)?hR(l):Qx(s.serializer,l)})(t,e)}function eF(t,e,n){return t instanceof jd?pR(t,e):t instanceof Dd?mR(t,e):n}function fR(t,e){return t instanceof qp?(function(r){return P0(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Wp extends jm{}class jd extends jm{constructor(e){super(),this.elements=e}}function pR(t,e){const n=gR(e);for(const r of t.elements)n.some((s=>ci(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Dd extends jm{constructor(e){super(),this.elements=e}}function mR(t,e){let n=gR(e);for(const r of t.elements)n=n.filter((s=>!ci(s,r)));return{arrayValue:{values:n}}}class qp extends jm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eS(t){return en(t.integerValue||t.doubleValue)}function gR(t){return Hx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tF(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof jd&&s instanceof jd||r instanceof Dd&&s instanceof Dd?Ec(r.elements,s.elements,ci):r instanceof qp&&s instanceof qp?ci(r.Ae,s.Ae):r instanceof Wp&&s instanceof Wp})(t.transform,e.transform)}class nF{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dm{}function yR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mm(t.key,or.none()):new Zd(t.key,t.data,or.none());{const n=t.data,r=xr.empty();let s=new pn(jn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ta(t.key,r,new Rr(s.toArray()),or.none())}}function rF(t,e,n){t instanceof Zd?(function(s,i,o){const l=s.value.clone(),u=nS(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof ta?(function(s,i,o){if(!xp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=nS(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(vR(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function md(t,e,n,r){return t instanceof Zd?(function(i,o,l,u){if(!xp(i.precondition,o))return l;const d=i.value.clone(),p=rS(i.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof ta?(function(i,o,l,u){if(!xp(i.precondition,o))return l;const d=rS(i.fieldTransforms,u,o),p=o.data;return p.setAll(vR(i)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(i,o,l){return xp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function sF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=fR(r.transform,s||null);i!=null&&(n===null&&(n=xr.empty()),n.set(r.field,i))}return n||null}function tS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ec(r,s,((i,o)=>tF(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zd extends Dm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ta extends Dm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nS(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,eF(o,l,n[s]))}return r}function rS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,J4(i,o,e))}return r}class Mm extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iF extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dR();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=yR(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,((n,r)=>tS(n,r)))&&Ec(this.baseMutations,e.baseMutations,((n,r)=>tS(n,r)))}}class Yx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return K4})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Yx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,pt;function cF(t){switch(t){case le.OK:return qe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function xR(t){if(t===void 0)return qi("GRPC error has no .code"),le.UNKNOWN;switch(t){case on.OK:return le.OK;case on.CANCELLED:return le.CANCELLED;case on.UNKNOWN:return le.UNKNOWN;case on.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case on.INTERNAL:return le.INTERNAL;case on.UNAVAILABLE:return le.UNAVAILABLE;case on.UNAUTHENTICATED:return le.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case on.NOT_FOUND:return le.NOT_FOUND;case on.ALREADY_EXISTS:return le.ALREADY_EXISTS;case on.PERMISSION_DENIED:return le.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case on.ABORTED:return le.ABORTED;case on.OUT_OF_RANGE:return le.OUT_OF_RANGE;case on.UNIMPLEMENTED:return le.UNIMPLEMENTED;case on.DATA_LOSS:return le.DATA_LOSS;default:return qe(39323,{code:t})}}(pt=on||(on={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new Vo([4294967295,4294967295],0);function sS(t){const e=uF().encode(t),n=new MP;return n.update(e),new Uint8Array(n.digest())}function iS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([s,i],0)]}class Xx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rd(`Invalid padding: ${n}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vo.fromNumber(r)));return s.compare(dF)===1&&(s=new Vo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sS(e),[r,s]=iS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xx(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=sS(e),[r,s]=iS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Om(Ye.min(),s,new Kt(ot),Gi(),ut())}}class Jd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jd(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wR{constructor(e,n){this.targetId=e,this.Ce=n}}class _R{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class oS{constructor(){this.ve=0,this.Fe=aS(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:qe(38017,{changeType:i})}})),new Jd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=Df(),this.He=Df(),this.Ye=new Kt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(I0(i))if(r===0){const o=new Me(i.path);this.et(n,o,Kn.newNoDocument(o,Ye.min()))}else Et(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Wo(r).toUint8Array()}catch(u){if(u instanceof GP)return Sc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Xx(o,s,i)}catch(u){return Sc(u instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&I0(l.target)){const u=new Me(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Kn.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=ut();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Om(e,n,this.Ye,this.je,r);return this.je=Gi(),this.Je=Df(),this.He=Df(),this.Ye=new Kt(ot),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Df(){return new Kt(Me.comparator)}function aS(){return new Kt(Me.comparator)}const fF={asc:"ASCENDING",desc:"DESCENDING"},pF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mF={and:"AND",or:"OR"};class gF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N0(t,e){return t.useProto3Json||Pm(e)?e:{value:e}}function Gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yF(t,e){return Gp(t,e.toTimestamp())}function ni(t){return Et(!!t,49232),Ye.fromTimestamp((function(n){const r=Ho(n);return new Lt(r.seconds,r.nanos)})(t))}function Zx(t,e){return j0(t,e).canonicalString()}function j0(t,e){const n=(function(s){return new It(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TR(t){const e=It.fromString(t);return Et(PR(e),10190,{key:e.toString()}),e}function D0(t,e){return Zx(t.databaseId,e.path)}function xv(t,e){const n=TR(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(ER(n))}function SR(t,e){return Zx(t.databaseId,e)}function vF(t){const e=TR(t);return e.length===4?It.emptyPath():ER(e)}function M0(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ER(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lS(t,e,n){return{name:D0(t,e),fields:n.value.mapValue.fields}}function xF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(d,p){return d.useProto3Json?(Et(p===void 0||typeof p=="string",58123),Mn.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Mn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const p=d.code===void 0?le.UNKNOWN:xR(d.code);return new Se(p,d.message||"")})(o);n=new _R(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xv(t,r.document.name),i=ni(r.document.updateTime),o=r.document.createTime?ni(r.document.createTime):Ye.min(),l=new xr({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(s,i,o,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new wp(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xv(t,r.document),i=r.readTime?ni(r.readTime):Ye.min(),o=Kn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new wp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xv(t,r.document),i=r.removedTargetIds||[];n=new wp([],i,s,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new lF(s,i),l=r.targetId;n=new wR(l,o)}}return n}function wF(t,e){let n;if(e instanceof Zd)n={update:lS(t,e.key,e.value)};else if(e instanceof Mm)n={delete:D0(t,e.key)};else if(e instanceof ta)n={update:lS(t,e.key,e.data),updateMask:RF(e.fieldMask)};else{if(!(e instanceof iF))return qe(16599,{Vt:e.type});n={verify:D0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof Wp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof jd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Dd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qp)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw qe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:yF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:qe(27497)})(t,e.precondition)),n}function _F(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?ni(s.updateTime):ni(i);return o.isEqual(Ye.min())&&(o=ni(i)),new nF(o,s.transformResults||[])})(n,e)))):[]}function bF(t,e){return{documents:[SR(t,e.path)]}}function TF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SR(t,s);const i=(function(d){if(d.length!==0)return AR(Ns.create(d,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((p=>(function(y){return{field:sc(y.field),direction:CF(y.dir)}})(p)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=N0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:s}}function SF(t){let e=vF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Et(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(m){const y=CR(m);return y instanceof Ns&&rR(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((y=>(function(T){return new Nd(ic(T.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,Pm(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(m){const y=!!m.before,x=m.values||[];return new Pc(x,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const y=!m.before,x=m.values||[];return new Pc(x,y)})(n.endAt)),$4(e,s,o,i,l,"F",u,d)}function EF(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ic(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ic(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ic(n.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ic(n.unaryFilter.field);return an.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(ic(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((r=>CR(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function CF(t){return fF[t]}function AF(t){return pF[t]}function PF(t){return mF[t]}function sc(t){return{fieldPath:t.canonicalString()}}function ic(t){return jn.fromServerFormat(t.fieldPath)}function AR(t){return t instanceof an?(function(n){if(n.op==="=="){if(Q1(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NAN"}};if(K1(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q1(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NAN"}};if(K1(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(n.field),op:AF(n.op),value:n.value}}})(t):t instanceof Ns?(function(n){const r=n.getFilters().map((s=>AR(s)));return r.length===1?r[0]:{compositeFilter:{op:PF(n.op),filters:r}}})(t):qe(54877,{filter:t})}function RF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r,s,i=Ye.min(),o=Ye.min(),l=Mn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.yt=e}}function kF(t){const e=SF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.Cn=new jF}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve($o.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class jF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pn(It.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RR=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(RR,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rc(0)}static cr(){return new Rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="LruGarbageCollector",DF=1048576;function dS([t,e],[n,r]){const s=ot(t,n);return s===0?ot(e,r):s}class MF{constructor(e){this.Ir=e,this.buffer=new pn(dS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(uS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uc(n)?Ie(uS,"Ignoring IndexedDB error during garbage collection: ",n):await zc(n)}await this.Vr(3e5)}))}}class VF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Am.ce);const r=new MF(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(cS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),nc()<=mt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function LF(t,e){return new VF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.changes=new al((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&md(r.mutation,s,Rr.empty(),Lt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const s=Ha();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=nd();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ha();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,s){let i=Gi();const o=pd(),l=(function(){return pd()})();return n.forEach(((u,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof ta)?i=i.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),md(p.mutation,d,p.mutation.getFieldMask(),Lt.now())):o.set(d.key,Rr.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((d,p)=>o.set(d,p))),n.forEach(((d,p)=>l.set(d,new BF(p,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=pd();let s=new Kt(((o,l)=>o-l)),i=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||Rr.empty();p=l.applyToLocalView(d,p),r.set(u,p);const m=(s.get(l.batchId)||ut()).add(u);s=s.insert(l.batchId,m)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,m=dR();p.forEach((y=>{if(!i.has(y)){const x=yR(n.get(y),r.get(y));x!==null&&m.set(y,x),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ce.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return Me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ce.resolve(Ha());let l=Pd,u=i;return o.next((d=>ce.forEach(d,((p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(p)?ce.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{u=u.insert(p,y)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,u,d,ut()))).next((p=>({batchId:l,changes:uR(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let s=nd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=nd();return this.indexManager.getCollectionParents(e,i).next((l=>ce.forEach(l,(u=>{const d=(function(m,y){return new ol(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((p=>{p.forEach(((m,y)=>{o=o.insert(m,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Kn.newInvalidDocument(p)))}));let l=nd();return o.forEach(((u,d)=>{const p=i.get(u);p!==void 0&&md(p.mutation,d,Rr.empty(),Lt.now()),Nm(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:kF(s.bundledQuery),readTime:ni(s.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.overlays=new Kt(Me.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ha();return ce.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Ha(),i=n.length+1,o=new Me(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Kt(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=Ha(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=Ha(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=s)););return ce.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aF(n,r));let i=this.qr.get(n);i===void 0&&(i=ut(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Qr=new pn(bn.$r),this.Ur=new pn(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new bn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Me(new It([])),r=new bn(n,e),s=new bn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new It([])),r=new bn(n,e),s=new bn(n,e+1);let i=ut();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new bn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(bn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oF(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new bn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ce.resolve(o)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?$x:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),s=new bn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(ot);return n.forEach((s=>{const i=new bn(s,0),o=new bn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Me.isDocumentKey(i)||(i=i.child(""));const o=new bn(new Me(i),0);let l=new pn(ot);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.Yr)),!0)}),o),ce.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,(s=>{const i=new bn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new bn(n,0),s=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.ri=e,this.docs=(function(){return new Kt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Kn.newInvalidDocument(s))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gi();const o=n.path,l=new Me(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||_4(w4(p),r)<=0||(s.has(p.key)||Nm(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,n,r,s){qe(9500)}ii(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GF(this)}getSize(e){return ce.resolve(this.size)}}class GF extends FF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.persistence=e,this.si=new al((n=>Wx(n)),qx),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Jx,this.targetCount=0,this.ai=Rc.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),ce.waitFor(i).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),ce.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Am(0),this.li=!1,this.li=!0,this.hi=new HF,this.referenceDelegate=e(this),this.Pi=new KF(this),this.indexManager=new NF,this.remoteDocumentCache=(function(s){return new qF(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IF(n),this.Ii=new UF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $F,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const s=new QF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class QF extends T4{constructor(e){super(),this.currentSequenceNumber=e}}class ew{constructor(e){this.persistence=e,this.Ri=new Jx,this.Vi=null}static mi(e){return new ew(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const s=Me.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kp{constructor(e,n){this.persistence=e,this.pi=new al((r=>C4(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=LF(this,n)}static mi(e,n){return new Kp(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?ce.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,i.removeEntry(o,Ye.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yp(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ut(),s=ut();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qV()?8:S4(HV())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new YF;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(nc()<=mt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",rc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(nc()<=mt.DEBUG&&Ie("QueryEngine","Query:",rc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(nc()<=mt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",rc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):ce.resolve())}ys(e,n){if(J1(n))return ce.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Hp(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=ut(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Hp(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,s){return J1(n)||s.isEqual(Ye.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?ce.resolve(null):(nc()<=mt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rc(n)),this.vs(e,o,n,x4(s,Pd)).next((l=>l)))}))}Ds(e,n){let r=new pn(lR(e));return n.forEach(((s,i)=>{Nm(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return nc()<=mt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",rc(n)),this.ps.getDocumentsMatchingQuery(e,n,$o.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LocalStore",ZF=3e8;class JF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Kt(ot),this.xs=new al((i=>Wx(i)),qx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function e5(t,e,n,r){return new JF(t,e,n,r)}async function kR(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let u=ut();for(const d of s){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of i){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function t5(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,p){const m=d.batch,y=m.keys();let x=ce.resolve();return y.forEach((T=>{x=x.next((()=>p.getEntry(u,T))).next((w=>{const _=d.docVersions.get(T);Et(_!==null,48541),w.version.compareTo(_)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=ut();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function NR(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function n5(t,e){const n=Xe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach(((p,m)=>{const y=s.get(m);if(!y)return;l.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,m))));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Mn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),s=s.insert(m,x),(function(w,_,R){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=ZF?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(y,x,p)&&l.push(n.Pi.updateTargetData(i,x))}));let u=Gi(),d=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),l.push(r5(i,o,e.documentUpdates).next((p=>{u=p.ks,d=p.qs}))),!r.isEqual(Ye.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(p)}return ce.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,d))).next((()=>u))})).then((i=>(n.Ms=s,i)))}function r5(t,e,n){let r=ut(),s=ut();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=Gi();return n.forEach(((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Ye.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ie(nw,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:s}}))}function s5(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$x),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function i5(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,ce.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new ko(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function O0(t,e,n){const r=Xe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Uc(o))throw o;Ie(nw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function hS(t,e,n){const r=Xe(t);let s=Ye.min(),i=ut();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,p){const m=Xe(u),y=m.xs.get(p);return y!==void 0?ce.resolve(m.Ms.get(y)):m.Pi.getTargetData(d,p)})(r,o,ti(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ye.min(),n?i:ut()))).next((l=>(o5(r,W4(e),l),{documents:l,Qs:i})))))}function o5(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class fS{constructor(){this.activeTargetIds=X4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a5{constructor(){this.Mo=new fS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="ConnectivityMonitor";class mS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie(pS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie(pS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function V0(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="RestConnection",c5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===zp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=V0(),l=this.zo(e,n.toUriEncodedString());Ie(wv,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(l),p=Em(d);return this.Jo(e,l,u,r,p).then((m=>(Ie(wv,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Sc(wv,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=c5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class h5 extends u5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=V0();return new Promise(((l,u)=>{const d=new OP;d.setWithCredentials(!0),d.listenOnce(VP.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case gp.NO_ERROR:const m=d.getResponseJson();Ie(Hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case gp.TIMEOUT:Ie(Hn,`RPC '${e}' ${o} timed out`),u(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const y=d.getStatus();if(Ie(Hn,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x==null?void 0:x.error;if(T&&T.status&&T.message){const w=(function(R){const I=R.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(I)>=0?I:le.UNKNOWN})(T.status);u(new Se(w,T.message))}else u(new Se(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Se(le.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ie(Hn,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(s);Ie(Hn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=V0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BP(),l=FP(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");Ie(Hn,`Creating RPC '${e}' stream ${s}: ${p}`,u);const m=o.createWebChannel(p,u);this.I_(m);let y=!1,x=!1;const T=new d5({Yo:_=>{x?Ie(Hn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(y||(Ie(Hn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),y=!0),Ie(Hn,`RPC '${e}' stream ${s} sending:`,_),m.send(_))},Zo:()=>m.close()}),w=(_,R,I)=>{_.listen(R,(k=>{try{I(k)}catch(O){setTimeout((()=>{throw O}),0)}}))};return w(m,td.EventType.OPEN,(()=>{x||(Ie(Hn,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),w(m,td.EventType.CLOSE,(()=>{x||(x=!0,Ie(Hn,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(m))})),w(m,td.EventType.ERROR,(_=>{x||(x=!0,Sc(Hn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),T.a_(new Se(le.UNAVAILABLE,"The operation could not be completed")))})),w(m,td.EventType.MESSAGE,(_=>{var R;if(!x){const I=_.data[0];Et(!!I,16349);const k=I,O=(k==null?void 0:k.error)||((R=k[0])==null?void 0:R.error);if(O){Ie(Hn,`RPC '${e}' stream ${s} received error:`,O);const B=O.status;let U=(function(P){const N=on[P];if(N!==void 0)return xR(N)})(B),M=O.message;U===void 0&&(U=le.INTERNAL,M="Unknown error status: "+B+" with message "+O.message),x=!0,T.a_(new Se(U,M)),m.close()}else Ie(Hn,`RPC '${e}' stream ${s} received:`,I),T.u_(I)}})),w(l,LP.STAT_EVENT,(_=>{_.stat===E0.PROXY?Ie(Hn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===E0.NOPROXY&&Ie(Hn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _v(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return new gF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="PersistentStream";class DR{constructor(e,n,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Se(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ie(gS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ie(gS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f5 extends DR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xF(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?ni(o.readTime):Ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=M0(this.serializer),n.addTarget=(function(i,o){let l;const u=o.target;if(l=I0(u)?{documents:bF(i,u)}:{query:TF(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=bR(i,o.resumeToken);const d=N0(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ye.min())>0){l.readTime=Gp(i,o.snapshotVersion.toTimestamp());const d=N0(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=EF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=M0(this.serializer),n.removeTarget=e,this.q_(n)}}class p5 extends DR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_F(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=M0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{}class g5 extends m5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,j0(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(le.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,j0(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class y5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class v5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ll(this)&&(Ie(Za,"Restarting streams for network reachability change."),await(async function(u){const d=Xe(u);d.Ea.add(4),await eh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Lm(d)})(this))}))})),this.Ra=new y5(r,s)}}async function Lm(t){if(ll(t))for(const e of t.da)await e(!0)}async function eh(t){for(const e of t.da)await e(!1)}function MR(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ow(n)?iw(n):$c(n).O_()&&sw(n,e))}function rw(t,e){const n=Xe(t),r=$c(n);n.Ia.delete(e),r.O_()&&OR(n,e),n.Ia.size===0&&(r.O_()?r.L_():ll(n)&&n.Ra.set("Unknown"))}function sw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).Y_(e)}function OR(t,e){t.Va.Ue(e),$c(t).Z_(e)}function iw(t){t.Va=new hF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.Ra.ua()}function ow(t){return ll(t)&&!$c(t).x_()&&t.Ia.size>0}function ll(t){return Xe(t).Ea.size===0}function VR(t){t.Va=void 0}async function x5(t){t.Ra.set("Online")}async function w5(t){t.Ia.forEach(((e,n)=>{sw(t,e)}))}async function _5(t,e){VR(t),ow(t)?(t.Ra.ha(e),iw(t)):t.Ra.set("Unknown")}async function b5(t,e,n){if(t.Ra.set("Online"),e instanceof _R&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(t,e)}catch(r){Ie(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qp(t,r)}else if(e instanceof wp?t.Va.Ze(e):e instanceof wR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await NR(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.Ia.get(d);p&&i.Ia.set(d,p.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const p=i.Ia.get(u);if(!p)return;i.Ia.set(u,p.withResumeToken(Mn.EMPTY_BYTE_STRING,p.snapshotVersion)),OR(i,u);const m=new ko(p.target,u,d,p.sequenceNumber);sw(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ie(Za,"Failed to raise snapshot:",r),await Qp(t,r)}}async function Qp(t,e,n){if(!Uc(e))throw e;t.Ea.add(1),await eh(t),t.Ra.set("Offline"),n||(n=()=>NR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ie(Za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lm(t)}))}function LR(t,e){return e().catch((n=>Qp(t,n,e)))}async function Fm(t){const e=Xe(t),n=Go(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$x;for(;T5(e);)try{const s=await s5(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,S5(e,s)}catch(s){await Qp(e,s)}FR(e)&&BR(e)}function T5(t){return ll(t)&&t.Ta.length<10}function S5(t,e){t.Ta.push(e);const n=Go(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FR(t){return ll(t)&&!Go(t).x_()&&t.Ta.length>0}function BR(t){Go(t).start()}async function E5(t){Go(t).ra()}async function C5(t){const e=Go(t);for(const n of t.Ta)e.ea(n.mutations)}async function A5(t,e,n){const r=t.Ta.shift(),s=Yx.from(r,e,n);await LR(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Fm(t)}async function P5(t,e){e&&Go(t).X_&&await(async function(r,s){if((function(o){return cF(o)&&o!==le.ABORTED})(s.code)){const i=r.Ta.shift();Go(r).B_(),await LR(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Fm(r)}})(t,e),FR(t)&&BR(t)}async function yS(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Ie(Za,"RemoteStore received new credentials");const r=ll(n);n.Ea.add(3),await eh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lm(n)}async function R5(t,e){const n=Xe(t);e?(n.Ea.delete(2),await Lm(n)):e||(n.Ea.add(2),await eh(n),n.Ra.set("Unknown"))}function $c(t){return t.ma||(t.ma=(function(n,r,s){const i=Xe(n);return i.sa(),new f5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:x5.bind(null,t),t_:w5.bind(null,t),r_:_5.bind(null,t),H_:b5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ow(t)?iw(t):t.Ra.set("Unknown")):(await t.ma.stop(),VR(t))}))),t.ma}function Go(t){return t.fa||(t.fa=(function(n,r,s){const i=Xe(n);return i.sa(),new p5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E5.bind(null,t),r_:P5.bind(null,t),ta:C5.bind(null,t),na:A5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie(Za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new aw(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lw(t,e){if(qi("AsyncQueue",`${e}: ${t}`),Uc(t))return new Se(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static emptySet(e){return new pc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=nd(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.ga=new Kt(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ic{constructor(e,n,r,s,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Ic(e,n,pc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class k5{constructor(){this.queries=xS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Xe(n),i=s.queries;s.queries=xS(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Se(le.ABORTED,"Firestore shutting down"))}}function xS(){return new al((t=>aR(t)),km)}async function zR(t,e){const n=Xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new I5,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=lw(o,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&cw(n)}async function UR(t,e){const n=Xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function N5(t,e){const n=Xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&cw(n)}function j5(t,e,n){const r=Xe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function cw(t){t.Ca.forEach((e=>{e.next()}))}var L0,wS;(wS=L0||(L0={})).Ma="default",wS.Cache="cache";class $R{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==L0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.key=e}}class WR{constructor(e){this.key=e}}class D5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=lR(e),this.tu=new pc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vS,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,m)=>{const y=s.get(p),x=Nm(this.query,m)?m:null,T=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;y&&x?y.data.isEqual(x.data)?T!==w&&(r.track({type:3,doc:x}),_=!0):this.su(y,x)||(r.track({type:2,doc:x}),_=!0,(u&&this.eu(x,u)>0||d&&this.eu(x,d)<0)&&(l=!0)):!y&&x?(r.track({type:0,doc:x}),_=!0):y&&!x&&(r.track({type:1,doc:y}),_=!0,(u||d)&&(l=!0)),_&&(x?(o=o.add(x),i=w?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,m)=>(function(x,T){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:_})}};return w(x)-w(T)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ic(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new WR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new HR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uw="SyncEngine";class M5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O5{constructor(e){this.key=e,this.hu=!1}}class V5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new al((l=>aR(l)),km),this.Iu=new Map,this.Eu=new Set,this.du=new Kt(Me.comparator),this.Au=new Map,this.Ru=new Jx,this.Vu={},this.mu=new Map,this.fu=Rc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L5(t,e,n=!0){const r=XR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qR(r,e,n,!0),s}async function F5(t,e){const n=XR(t);await qR(n,e,!0,!1)}async function qR(t,e,n,r){const s=await i5(t.localStore,ti(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await B5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MR(t.remoteStore,s),l}async function B5(t,e,n,r,s){t.pu=(m,y,x)=>(async function(w,_,R,I){let k=_.view.ru(R);k.Cs&&(k=await hS(w.localStore,_.query,!1).then((({documents:M})=>_.view.ru(M,k))));const O=I&&I.targetChanges.get(_.targetId),B=I&&I.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(k,w.isPrimaryClient,O,B);return bS(w,_.targetId,U.au),U.snapshot})(t,m,y,x);const i=await hS(t.localStore,e,!0),o=new D5(e,i.Qs),l=o.ru(i.documents),u=Jd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);bS(t,n,d.au);const p=new M5(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function z5(t,e,n){const r=Xe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!km(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await O0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rw(r.remoteStore,s.targetId),F0(r,s.targetId)})).catch(zc)):(F0(r,s.targetId),await O0(r.localStore,s.targetId,!0))}async function U5(t,e){const n=Xe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rw(n.remoteStore,r.targetId))}async function $5(t,e,n){const r=Y5(t);try{const s=await(function(o,l){const u=Xe(o),d=Lt.now(),p=l.reduce(((x,T)=>x.add(T.key)),ut());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=Gi(),w=ut();return u.Ns.getEntries(x,p).next((_=>{T=_,T.forEach(((R,I)=>{I.isValidDocument()||(w=w.add(R))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,T))).next((_=>{m=_;const R=[];for(const I of l){const k=sF(I,m.get(I.key).overlayedDocument);k!=null&&R.push(new ta(I.key,k,eR(k.value.mapValue),or.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,R,l)})).next((_=>{y=_;const R=_.applyToLocalDocumentSet(m,w);return u.documentOverlayCache.saveOverlays(x,_.batchId,R)}))})).then((()=>({batchId:y.batchId,changes:uR(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Kt(ot)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,s.batchId,n),await th(r,s.changes),await Fm(r.remoteStore)}catch(s){const i=lw(s,"Failed to persist write");n.reject(i)}}async function GR(t,e){const n=Xe(t);try{const r=await n5(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Et(o.hu,14607):s.removedDocuments.size>0&&(Et(o.hu,42227),o.hu=!1))})),await th(n,r,e)}catch(r){await zc(r)}}function _S(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const u=Xe(o);u.onlineState=l;let d=!1;u.queries.forEach(((p,m)=>{for(const y of m.Sa)y.va(l)&&(d=!0)})),d&&cw(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H5(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Kt(Me.comparator);o=o.insert(i,Kn.newNoDocument(i,Ye.min()));const l=ut().add(i),u=new Om(Ye.min(),new Map,new Kt(ot),o,l);await GR(r,u),r.du=r.du.remove(i),r.Au.delete(e),dw(r)}else await O0(r.localStore,e,!1).then((()=>F0(r,e,n))).catch(zc)}async function W5(t,e){const n=Xe(t),r=e.batch.batchId;try{const s=await t5(n.localStore,e);QR(n,r,null),KR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await th(n,s)}catch(s){await zc(s)}}async function q5(t,e,n){const r=Xe(t);try{const s=await(function(o,l){const u=Xe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next((m=>(Et(m!==null,37113),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>u.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);QR(r,e,n),KR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await th(r,s)}catch(s){await zc(s)}}function KR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function QR(t,e,n){const r=Xe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function F0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||YR(t,r)}))}function YR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dw(t))}function bS(t,e,n){for(const r of n)r instanceof HR?(t.Ru.addReference(r.key,e),G5(t,r)):r instanceof WR?(Ie(uw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YR(t,r.key)):qe(19791,{wu:r})}function G5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ie(uw,"New document in limbo: "+n),t.Eu.add(r),dw(t))}function dw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(It.fromString(e)),r=t.fu.next();t.Au.set(r,new O5(n)),t.du=t.du.insert(n,r),MR(t.remoteStore,new ko(ti(Gx(n.path)),r,"TargetPurposeLimboResolution",Am.ce))}}async function th(t,e,n){const r=Xe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){s.push(d);const m=tw.As(u.targetId,d);i.push(m)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,d){const p=Xe(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ce.forEach(d,(y=>ce.forEach(y.Es,(x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x))).next((()=>ce.forEach(y.ds,(x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))))))}catch(m){if(!Uc(m))throw m;Ie(nw,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const x=p.Ms.get(y),T=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(y,w)}}})(r.localStore,i))}async function K5(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Ie(uw,"User change. New user:",e.toKey());const r=await kR(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new Se(le.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await th(n,r.Ls)}}function Q5(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let s=ut();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function XR(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H5.bind(null,e),e.Pu.H_=N5.bind(null,e.eventManager),e.Pu.yu=j5.bind(null,e.eventManager),e}function Y5(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q5.bind(null,e),e}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return e5(this.persistence,new XF,e.initialUser,this.serializer)}Cu(e){return new IR(ew.mi,this.serializer)}Du(e){return new a5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class X5 extends Yp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof Kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new IR((r=>Kp.mi(r,n)),this.serializer)}}class B0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_S(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K5.bind(null,this.syncEngine),await R5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k5})()}createDatastore(e){const n=Vm(e.databaseInfo.databaseId),r=(function(i){return new h5(i)})(e.databaseInfo);return(function(i,o,l,u){return new g5(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,l){return new v5(r,s,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>_S(this.syncEngine,n,0)),(function(){return mS.v()?new mS:new l5})())}createSyncEngine(e,n){return(function(s,i,o,l,u,d,p){const m=new V5(s,i,o,l,u,d);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=Xe(s);Ie(Za,"RemoteStore shutting down."),i.Ea.add(5),await eh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}B0.provider={build:()=>new B0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="FirestoreClient";class Z5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Gn.UNAUTHENTICATED,this.clientId=Ux.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ie(Ko,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ie(Ko,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bv(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(Ko,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await kR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function TS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await J5(t);Ie(Ko,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>yS(e.remoteStore,s))),t._onlineComponents=e}async function J5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(Ko,"Using user provided OfflineComponentProvider");try{await bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Sc("Error using user provided cache. Falling back to memory cache: "+n),await bv(t,new Yp)}}else Ie(Ko,"Using default OfflineComponentProvider"),await bv(t,new X5(void 0));return t._offlineComponents}async function JR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(Ko,"Using user provided OnlineComponentProvider"),await TS(t,t._uninitializedComponentsProvider._online)):(Ie(Ko,"Using default OnlineComponentProvider"),await TS(t,new B0))),t._onlineComponents}function e3(t){return JR(t).then((e=>e.syncEngine))}async function eI(t){const e=await JR(t),n=e.eventManager;return n.onListen=L5.bind(null,e.syncEngine),n.onUnlisten=z5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U5.bind(null,e.syncEngine),n}function t3(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const p=new ZR({next:y=>{p.Nu(),o.enqueueAndForget((()=>UR(i,m)));const x=y.docs.has(l);!x&&y.fromCache?d.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&u&&u.source==="server"?d.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new $R(Gx(l.path),p,{includeMetadataChanges:!0,qa:!0});return zR(i,m)})(await eI(t),t.asyncQueue,e,n,r))),r.promise}function n3(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const p=new ZR({next:y=>{p.Nu(),o.enqueueAndForget((()=>UR(i,m))),y.fromCache&&u.source==="server"?d.reject(new Se(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new $R(l,p,{includeMetadataChanges:!0,qa:!0});return zR(i,m)})(await eI(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firestore.googleapis.com",ES=!0;class CS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nI,this.ssl=ES}else this.host=e.host,this.ssl=e.ssl??ES;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DF)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new l4;switch(r.type){case"firstParty":return new h4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=SS.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),SS.delete(n),r.terminate())})(this),Promise.resolve()}}function r3(t,e,n,r={}){var d;t=ns(t,Bm);const s=Em(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(_P(`https://${l}`),TP("Firestore",!0)),i.host!==nI&&i.host!==l&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!Lp(u,o)&&(t._setSettings(u),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Gn.MOCK_USER;else{p=bP(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Gn(y)}t._authCredentials=new c4(new UP(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xd(n,tn._jsonSchema))return new tn(e,r||null,new Me(It.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:ln("string",tn._jsonSchemaVersion),referencePath:ln("string")};class Lo extends Xi{constructor(e,n,r){super(e,n,Gx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Me(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function Tn(t,e,...n){if(t=jr(t),$P("collection","path",e),t instanceof Bm){const r=It.fromString(e,...n);return B1(r),new Lo(t,null,r)}{if(!(t instanceof tn||t instanceof Lo))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return B1(r),new Lo(t.firestore,null,r)}}function ui(t,e,...n){if(t=jr(t),arguments.length===1&&(e=Ux.newId()),$P("doc","path",e),t instanceof Bm){const r=It.fromString(e,...n);return F1(r),new tn(t,null,new Me(r))}{if(!(t instanceof tn||t instanceof Lo))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return F1(r),new tn(t.firestore,t instanceof Lo?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="AsyncQueue";class PS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jR(this,"async_queue_retry"),this._c=()=>{const r=_v();r&&Ie(AS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_v();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_v();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uc(e))throw e;Ie(AS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",RS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=aw.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&qe(47125,{Pc:RS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class na extends Bm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new PS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PS(e),this._firestoreClient=void 0,await e}}}function s3(t,e){const n=typeof t=="object"?t:NP(),r=typeof t=="string"?t:zp,s=PP(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xP("firestore");i&&r3(s,...i)}return s}function zm(t){if(t._terminated)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i3(t),t._firestoreClient}function i3(t){var r,s,i;const e=t._freezeSettings(),n=(function(l,u,d,p){return new R4(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tI(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Z5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Mn.fromBase64String(e))}catch(n){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xd(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:ln("string",es._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Xd(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:ln("string",ri._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xd(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new Se(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:ln("string",si._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=/^__.*__$/;class a3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zd(e,this.data,n,this.fieldTransforms)}}class rI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class fw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sI(this.Ac)&&o3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class l3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vm(e)}Cc(e,n,r,s=!1){return new fw({Ac:e,methodName:n,Dc:r,path:jn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(t){const e=t._freezeSettings(),n=Vm(t._databaseId);return new l3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pw(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);mw("Data must be an object, but it was:",o,r);const l=lI(r,o);let u,d;if(i.merge)u=new Rr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const y=z0(e,m,n);if(!o.contains(y))throw new Se(le.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);uI(p,y)||p.push(y)}u=new Rr(p),d=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,d=o.fieldTransforms;return new a3(new xr(l),u,d)}class Um extends hw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}function iI(t,e,n,r){const s=t.Cc(1,e,n);mw("Data must be an object, but it was:",s,r);const i=[],o=xr.empty();ea(r,((u,d)=>{const p=gw(e,u,n);d=jr(d);const m=s.yc(p);if(d instanceof Um)i.push(p);else{const y=rh(d,m);y!=null&&(i.push(p),o.set(p,y))}}));const l=new Rr(i);return new rI(o,l,s.fieldTransforms)}function oI(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[z0(e,r,n)],u=[s];if(i.length%2!=0)throw new Se(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)l.push(z0(e,i[y])),u.push(i[y+1]);const d=[],p=xr.empty();for(let y=l.length-1;y>=0;--y)if(!uI(d,l[y])){const x=l[y];let T=u[y];T=jr(T);const w=o.yc(x);if(T instanceof Um)d.push(x);else{const _=rh(T,w);_!=null&&(d.push(x),p.set(x,_))}}const m=new Rr(d);return new rI(p,m,o.fieldTransforms)}function aI(t,e,n,r=!1){return rh(n,t.Cc(r?4:3,e))}function rh(t,e){if(cI(t=jr(t)))return mw("Unsupported field value:",e,t),lI(t,e);if(t instanceof hw)return(function(r,s){if(!sI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let u=rh(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:Gp(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gp(s.serializer,i)}}if(r instanceof ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof es)return{bytesValue:bR(s.serializer,r._byteString)};if(r instanceof tn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof si)return(function(o,l){return{mapValue:{fields:{[ZP]:{stringValue:JP},[Up]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Qx(l.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Cm(r)}`)})(t,e)}function lI(t,e){const n={};return qP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,((r,s)=>{const i=rh(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function cI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof ri||t instanceof es||t instanceof tn||t instanceof hw||t instanceof si)}function mw(t,e,n){if(!cI(n)||!HP(n)){const r=Cm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function z0(t,e,n){if((e=jr(e))instanceof nh)return e._internalPath;if(typeof e=="string")return gw(t,e);throw Xp("Field path arguments must be of type string or ",t,!1,void 0,n)}const c3=new RegExp("[~\\*/\\[\\]]");function gw(t,e,n){if(e.search(c3)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Se(le.INVALID_ARGUMENT,l+t+u)}function uI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u3 extends yw{data(){return super.data()}}function $m(t,e){return typeof e=="string"?gw(t,e):e instanceof nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vw{}class Hm extends vw{}function sr(t,e,...n){let r=[];e instanceof vw&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((u=>u instanceof xw)).length,l=i.filter((u=>u instanceof Wm)).length;if(o>1||o>0&&l>0)throw new Se(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Wm extends Hm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wm(e,n,r)}_apply(e){const n=this._parse(e);return dI(e._query,n),new Xi(e.firestore,e.converter,k0(e._query,n))}_parse(e){const n=Hc(e.firestore);return(function(i,o,l,u,d,p,m){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Se(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){kS(m,p);const T=[];for(const w of m)T.push(IS(u,i,w));y={arrayValue:{values:T}}}else y=IS(u,i,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||kS(m,p),y=aI(l,o,m,p==="in"||p==="not-in");return an.create(d,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ir(t,e,n){const r=e,s=$m("where",t);return Wm._create(s,r,n)}class xw extends vw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)dI(o,u),o=k0(o,u)})(e._query,n),new Xi(e.firestore,e.converter,k0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ww extends Hm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ww(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new Se(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(i,o)})(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new ol(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function U0(t,e="asc"){const n=e,r=$m("orderBy",t);return ww._create(r,n)}class _w extends Hm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _w(e,n,r)}_apply(e){return new Xi(e.firestore,e.converter,Hp(e._query,this._limit,this._limitType))}}function $0(t){return _w._create("limit",t,"F")}class bw extends Hm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new bw(e,n,r)}_apply(e){const n=h3(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,(function(s,i){return new ol(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)})(e._query,n))}}function H0(...t){return bw._create("startAfter",t,!1)}function h3(t,e,n,r){if(n[0]=jr(n[0]),n[0]instanceof yw)return(function(i,o,l,u,d){if(!u)throw new Se(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const p=[];for(const m of fc(i))if(m.field.isKeyField())p.push($p(o,u.key));else{const y=u.data.field(m.field);if(Rm(y))throw new Se(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const x=m.field.canonicalString();throw new Se(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}p.push(y)}return new Pc(p,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Hc(t.firestore);return(function(o,l,u,d,p,m){const y=o.explicitOrderBy;if(p.length>y.length)throw new Se(le.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let T=0;T<p.length;T++){const w=p[T];if(y[T].field.isKeyField()){if(typeof w!="string")throw new Se(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!Kx(o)&&w.indexOf("/")!==-1)throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const _=o.path.child(It.fromString(w));if(!Me.isDocumentKey(_))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const R=new Me(_);x.push($p(l,R))}else{const _=aI(u,d,w);x.push(_)}}return new Pc(x,m)})(t._query,t.firestore._databaseId,s,e,n,r)}}function IS(t,e,n){if(typeof(n=jr(n))=="string"){if(n==="")throw new Se(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kx(e)&&n.indexOf("/")!==-1)throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(It.fromString(n));if(!Me.isDocumentKey(r))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $p(t,new Me(r))}if(n instanceof tn)return $p(t,n._key);throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function kS(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dI(t,e){const n=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f3{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Up].arrayValue)==null?void 0:s.values)==null?void 0:i.map((o=>en(o.doubleValue)));return new si(n)}convertGeoPoint(e){return new ri(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Im(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const n=Ho(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);Et(PR(r),9688,{name:e});const s=new Id(r.get(1),r.get(3)),i=new Me(r.popFirst(5));return s.isEqual(n)||qi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends yw{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:ln("string",Ka._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class _p extends Ka{data(e={}){return super.data(e)}}class mc{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new sd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new _p(this._firestore,this._userDataWriter,r.key,r,new sd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const u=new _p(s._firestore,s._userDataWriter,l.doc.key,l.doc,new sd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new _p(s._firestore,s._userDataWriter,l.doc.key,l.doc,new sd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:p3(l.type),doc:u,oldIndex:d,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ux.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){t=ns(t,tn);const e=ns(t.firestore,na);return t3(zm(e),t._key).then((n=>g3(e,t,n)))}mc._jsonSchemaVersion="firestore/querySnapshot/1.0",mc._jsonSchema={type:ln("string",mc._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class hI extends f3{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Sn(t){t=ns(t,Xi);const e=ns(t.firestore,na),n=zm(e),r=new hI(e);return d3(t._query),n3(n,t._query).then((s=>new mc(e,r,t,s)))}function Zp(t,e,n){t=ns(t,tn);const r=ns(t.firestore,na),s=Tw(t.converter,e,n);return sh(r,[pw(Hc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,or.none())])}function fI(t,e,n,...r){t=ns(t,tn);const s=ns(t.firestore,na),i=Hc(s);let o;return o=typeof(e=jr(e))=="string"||e instanceof nh?oI(i,"updateDoc",t._key,e,n,r):iI(i,"updateDoc",t._key,e),sh(s,[o.toMutation(t._key,or.exists(!0))])}function W0(t){return sh(ns(t.firestore,na),[new Mm(t._key,or.none())])}function m3(t,e){const n=ns(t.firestore,na),r=ui(t),s=Tw(t.converter,e);return sh(n,[pw(Hc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then((()=>r))}function sh(t,e){return(function(r,s){const i=new Bi;return r.asyncQueue.enqueueAndForget((async()=>$5(await e3(r),s,i))),i.promise})(zm(t),e)}function g3(t,e,n){const r=n.docs.get(e._key),s=new hI(t);return new Ka(t,s,e._key,r,new sd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,n,r){this._verifyNotCommitted();const s=Tv(e,this._firestore),i=Tw(s.converter,n,r),o=pw(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,or.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Tv(e,this._firestore);let o;return o=typeof(n=jr(n))=="string"||n instanceof nh?oI(this._dataReader,"WriteBatch.update",i._key,n,r,s):iI(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Tv(e,this._firestore);return this._mutations=this._mutations.concat(new Mm(n._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tv(t,e){if((t=jr(t)).firestore!==e)throw new Se(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){return zm(t=ns(t,na)),new y3(t,(e=>sh(t,e)))}(function(e,n=!0){(function(s){Bc=s})(IP),Cd(new Tc("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new na(new u4(r.getProvider("auth-internal")),new f4(o,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(d.options.projectId,p)})(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Oo(M1,O1,e),Oo(M1,O1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebasestorage.googleapis.com",v3="storageBucket",x3=120*1e3,w3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends il{constructor(e,n,r=0){super(Sv(e),`Firebase Storage: ${n} (${Sv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function Sv(t){return"storage/"+t}function _3(){const t="An unknown error occurred, please check the error payload for server response.";return new gi(di.UNKNOWN,t)}function b3(){return new gi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T3(){return new gi(di.CANCELED,"User canceled the upload/download.")}function S3(t){return new gi(di.INVALID_URL,"Invalid URL '"+t+"'.")}function E3(t){return new gi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jS(t){return new gi(di.INVALID_ARGUMENT,t)}function mI(){return new gi(di.APP_DELETED,"The Firebase app was deleted.")}function C3(t){return new gi(di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rs.makeFromUrl(e,n)}catch{return new Rs(e,"")}if(r.path==="")return r;throw E3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${s}/o${y}`,"i"),T={bucket:1,path:3},w=n===pI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",R=new RegExp(`^https?://${w}/${s}/${_}`,"i"),k=[{regex:l,indices:u,postModify:i},{regex:x,indices:T,postModify:d},{regex:R,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<k.length;O++){const B=k[O],U=B.regex.exec(e);if(U){const M=U[B.indices.bucket];let E=U[B.indices.path];E||(E=""),r=new Rs(M,E),B.postModify(r);break}}if(r==null)throw S3(e);return r}}class A3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function u(){return l===2}let d=!1;function p(..._){d||(d=!0,e.apply(null,_))}function m(_){s=setTimeout(()=>{s=null,t(x,u())},_)}function y(){i&&clearTimeout(i)}function x(_,...R){if(d){y();return}if(_){y(),p.call(null,_,...R);return}if(u()||o){y(),p.call(null,_,...R);return}r<64&&(r*=2);let k;l===1?(l=2,k=0):k=(r+Math.random())*1e3,m(k)}let T=!1;function w(_){T||(T=!0,y(),!d&&(s!==null?(_||(l=2),clearTimeout(s),m(0)):_||(l=1)))}return m(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function R3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){return t!==void 0}function DS(t,e,n,r){if(r<e)throw jS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jS(`Invalid value for '${t}'. Expected ${n} or less.`)}function k3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Jp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jp||(Jp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,s,i,o,l,u,d,p,m,y=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Of(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Jp.NO_ERROR,u=i.getStatus();if(!l||N3(u,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Jp.ABORT;r(!1,new Of(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Of(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());I3(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=_3();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(s.canceled){const u=this.appDelete_?mI():T3();o(u)}else{const u=b3();o(u)}};this.canceled_?n(!1,new Of(!1,null,!0)):this.backoffId_=P3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Of{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function L3(t,e,n,r,s,i,o=!0,l=!1){const u=k3(t.urlParams),d=t.url+u,p=Object.assign({},t.headers);return O3(p,e),D3(p,n),M3(p,i),V3(p,r),new j3(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this._service=e,n instanceof Rs?this._location=n:this._location=Rs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new em(e,n)}get root(){const e=new Rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B3(this._location.path)}get storage(){return this._service}get parent(){const e=F3(this._location.path);if(e===null)return null;const n=new Rs(this._location.bucket,e);return new em(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C3(e)}}function MS(t,e){const n=e==null?void 0:e[v3];return n==null?null:Rs.makeFromBucketSpec(n,t)}function z3(t,e,n,r={}){t.host=`${e}:${n}`;const s=Em(e);s&&(_P(`https://${t.host}/b`),TP("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:bP(i,t.app.options.projectId))}class U3{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=pI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x3,this._maxUploadRetryTime=w3,this._requests=new Set,s!=null?this._bucket=Rs.makeFromBucketSpec(s,this._host):this._bucket=MS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rs.makeFromBucketSpec(this._url,e):this._bucket=MS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(RP(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new em(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new A3(mI());{const o=L3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const OS="@firebase/storage",VS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="storage";function $3(t=NP(),e){t=jr(t);const r=PP(t,gI).getImmediate({identifier:e}),s=xP("storage");return s&&H3(r,...s),r}function H3(t,e,n,r={}){z3(t,e,n,r)}function W3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new U3(n,r,s,e,IP)}function q3(){Cd(new Tc(gI,W3,"PUBLIC").setMultipleInstances(!0)),Oo(OS,VS,""),Oo(OS,VS,"esm2020")}q3();const G3={apiKey:"AIzaSyBKPk8NyeQWn1Aygwf8q36cRxpC2AR-Leo",authDomain:"central-treinamento.firebaseapp.com",projectId:"central-treinamento",storageBucket:"central-treinamento.appspot.com",messagingSenderId:"205424196328",appId:"1:205424196328:web:9caf94e132c3768091a75d"},yI=kP(G3),Pt=s3(yI);$3(yI);const vI=S.createContext(),Lr=()=>{const t=S.useContext(vI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},xI=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{const d=localStorage.getItem("currentUser");d&&n(JSON.parse(d)),s(!1)},[]);const u={user:e,login:async(d,p)=>{try{const m=Tn(Pt,"usuarios"),y=sr(m,ir("email","==",d)),x=await Sn(y);if(x.empty)return{success:!1,error:"Credenciais inválidas ou usuário não encontrado"};const T=x.docs[0],w={id:T.id,...T.data()};if(w.senha===p&&w.ativo){const _={...w};return delete _.senha,n(_),localStorage.setItem("currentUser",JSON.stringify(_)),{success:!0,user:_}}else return{success:!1,error:"Credenciais inválidas ou usuário inativo"}}catch(m){return console.error("Erro no login:",m),{success:!1,error:"Ocorreu um erro no servidor. Tente novamente."}}},logout:()=>{n(null),localStorage.removeItem("currentUser")},isAdmin:()=>(e==null?void 0:e.tipo)==="admin",loading:r};return h.jsx(vI.Provider,{value:u,children:t})};function wI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=wI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _I(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=wI(t))&&(r&&(r+=" "),r+=e);return r}const Sw="-",K3=t=>{const e=Y3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Sw);return l[0]===""&&l.length!==1&&l.shift(),bI(l,e)||Q3(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},bI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Sw);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},LS=/^\[(.+)\]$/,Q3=t=>{if(LS.test(t)){const e=LS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Y3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z3(Object.entries(t.classGroups),n).forEach(([i,o])=>{q0(o,r,i,e)}),r},q0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:FS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(X3(s)){q0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{q0(o,FS(e,i),n,r)})})},FS=(t,e)=>{let n=t;return e.split(Sw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},X3=t=>t.isThemeGetter,Z3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,J3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},TI="!",e6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,p=0,m;for(let _=0;_<l.length;_++){let R=l[_];if(d===0){if(R===s&&(r||l.slice(_,_+i)===e)){u.push(l.slice(p,_)),p=_+i;continue}if(R==="/"){m=_;continue}}R==="["?d++:R==="]"&&d--}const y=u.length===0?l:l.substring(p),x=y.startsWith(TI),T=x?y.substring(1):y,w=m&&m>p?m-p:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:T,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},t6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},n6=t=>({cache:J3(t.cacheSize),parseClassName:e6(t),...K3(t)}),r6=/\s+/,s6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(r6);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=n(d);let T=!!x,w=r(T?y.substring(0,x):y);if(!w){if(!T){l=d+(l.length>0?" "+l:l);continue}if(w=r(y),!w){l=d+(l.length>0?" "+l:l);continue}T=!1}const _=t6(p).join(":"),R=m?_+TI:_,I=R+w;if(i.includes(I))continue;i.push(I);const k=s(w,T);for(let O=0;O<k.length;++O){const B=k[O];i.push(R+B)}l=d+(l.length>0?" "+l:l)}return l};function i6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SI(e))&&(r&&(r+=" "),r+=n);return r}const SI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SI(t[r]))&&(n&&(n+=" "),n+=e);return n};function o6(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((p,m)=>m(p),t());return n=n6(d),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const p=s6(u,n);return s(u,p),p}return function(){return i(i6.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EI=/^\[(?:([a-z-]+):)?(.+)\]$/i,a6=/^\d+\/\d+$/,l6=new Set(["px","full","screen"]),c6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Di=t=>gc(t)||l6.has(t)||a6.test(t),Co=t=>Wc(t,"length",_6),gc=t=>!!t&&!Number.isNaN(Number(t)),Ev=t=>Wc(t,"number",gc),Gu=t=>!!t&&Number.isInteger(Number(t)),p6=t=>t.endsWith("%")&&gc(t.slice(0,-1)),Je=t=>EI.test(t),Ao=t=>c6.test(t),m6=new Set(["length","size","percentage"]),g6=t=>Wc(t,m6,CI),y6=t=>Wc(t,"position",CI),v6=new Set(["image","url"]),x6=t=>Wc(t,v6,T6),w6=t=>Wc(t,"",b6),Ku=()=>!0,Wc=(t,e,n)=>{const r=EI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_6=t=>u6.test(t)&&!d6.test(t),CI=()=>!1,b6=t=>h6.test(t),T6=t=>f6.test(t),S6=()=>{const t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),s=Ot("borderColor"),i=Ot("borderRadius"),o=Ot("borderSpacing"),l=Ot("borderWidth"),u=Ot("contrast"),d=Ot("grayscale"),p=Ot("hueRotate"),m=Ot("invert"),y=Ot("gap"),x=Ot("gradientColorStops"),T=Ot("gradientColorStopPositions"),w=Ot("inset"),_=Ot("margin"),R=Ot("opacity"),I=Ot("padding"),k=Ot("saturate"),O=Ot("scale"),B=Ot("sepia"),U=Ot("skew"),M=Ot("space"),E=Ot("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Je,e],D=()=>[Je,e],V=()=>["",Di,Co],X=()=>["auto",gc,Je],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Je],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[gc,Je];return{cacheSize:500,separator:":",theme:{colors:[Ku],spacing:[Di,Co],blur:["none","",Ao,Je],brightness:$(),borderColor:[t],borderRadius:["none","","full",Ao,Je],borderSpacing:D(),borderWidth:V(),contrast:$(),grayscale:ee(),hueRotate:$(),invert:ee(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[p6,Co],inset:L(),margin:L(),opacity:$(),padding:D(),saturate:$(),scale:$(),sepia:ee(),skew:$(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Ao]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Je]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gu,Je]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Gu,Je]}],"grid-cols":[{"grid-cols":[Ku]}],"col-start-end":[{col:["auto",{span:["full",Gu,Je]},Je]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Ku]}],"row-start-end":[{row:["auto",{span:[Gu,Je]},Je]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Ao]},Ao]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ao,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ev]}],"font-family":[{font:[Ku]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",gc,Ev]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Di,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Di,Co]}],"underline-offset":[{"underline-offset":["auto",Di,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),y6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Di,Je]}],"outline-w":[{outline:[Di,Co]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Di,Co]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ao,w6]}],"shadow-color":[{shadow:[Ku]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ao,Je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[k]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Gu,Je]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Di,Co,Ev]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E6=o6(S6);function We(...t){return E6(_I(t))}var qc=hP();const C6=mi(qc);function Ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function BS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function AI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=BS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():BS(t[s],null)}}}}function wt(...t){return S.useCallback(AI(...t),t)}function A6(t,e){const n=S.createContext(e),r=i=>{const{children:o,...l}=i,u=S.useMemo(()=>l,Object.values(l));return h.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=S.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Fr(t,e=[]){let n=[];function r(i,o){const l=S.createContext(o),u=n.length;n=[...n,o];const d=m=>{var R;const{scope:y,children:x,...T}=m,w=((R=y==null?void 0:y[t])==null?void 0:R[u])||l,_=S.useMemo(()=>T,Object.values(T));return h.jsx(w.Provider,{value:_,children:x})};d.displayName=i+"Provider";function p(m,y){var w;const x=((w=y==null?void 0:y[t])==null?void 0:w[u])||l,T=S.useContext(x);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,p]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,P6(s,...e)]}function P6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kc(t){const e=I6(t),n=S.forwardRef((r,s)=>{const{children:i,...o}=r,l=S.Children.toArray(i),u=l.find(N6);if(u){const d=u.props.children,p=l.map(m=>m===u?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return h.jsx(e,{...o,ref:s,children:S.isValidElement(d)?S.cloneElement(d,void 0,p):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var R6=kc("Slot");function I6(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const o=D6(s),l=j6(i,s.props);return s.type!==S.Fragment&&(l.ref=r?AI(r,o):o),S.cloneElement(s,l)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PI=Symbol("radix.slottable");function k6(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=PI,e}function N6(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PI}function j6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function D6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ew(t){const e=t+"CollectionProvider",[n,r]=Fr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:_,children:R}=w,I=Fe.useRef(null),k=Fe.useRef(new Map).current;return h.jsx(s,{scope:_,itemMap:k,collectionRef:I,children:R})};o.displayName=e;const l=t+"CollectionSlot",u=kc(l),d=Fe.forwardRef((w,_)=>{const{scope:R,children:I}=w,k=i(l,R),O=wt(_,k.collectionRef);return h.jsx(u,{ref:O,children:I})});d.displayName=l;const p=t+"CollectionItemSlot",m="data-radix-collection-item",y=kc(p),x=Fe.forwardRef((w,_)=>{const{scope:R,children:I,...k}=w,O=Fe.useRef(null),B=wt(_,O),U=i(p,R);return Fe.useEffect(()=>(U.itemMap.set(O,{ref:O,...k}),()=>void U.itemMap.delete(O))),h.jsx(y,{[m]:"",ref:B,children:I})});x.displayName=p;function T(w){const _=i(t+"CollectionConsumer",w);return Fe.useCallback(()=>{const I=_.collectionRef.current;if(!I)return[];const k=Array.from(I.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((U,M)=>k.indexOf(U.ref.current)-k.indexOf(M.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},T,r]}var M6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=M6.reduce((t,e)=>{const n=kc(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RI(t,e){t&&qc.flushSync(()=>t.dispatchEvent(e))}function rs(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function O6(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var V6="DismissableLayer",G0="dismissableLayer.update",L6="dismissableLayer.pointerDownOutside",F6="dismissableLayer.focusOutside",zS,II=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ih=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,d=S.useContext(II),[p,m]=S.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=S.useState({}),T=wt(e,M=>m(M)),w=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=w.indexOf(_),I=p?w.indexOf(p):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,O=I>=R,B=z6(M=>{const E=M.target,P=[...d.branches].some(N=>N.contains(E));!O||P||(s==null||s(M),o==null||o(M),M.defaultPrevented||l==null||l())},y),U=U6(M=>{const E=M.target;[...d.branches].some(N=>N.contains(E))||(i==null||i(M),o==null||o(M),M.defaultPrevented||l==null||l())},y);return O6(M=>{I===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},y),S.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zS=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),US(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=zS)}},[p,y,n,d]),S.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),US())},[p,d]),S.useEffect(()=>{const M=()=>x({});return document.addEventListener(G0,M),()=>document.removeEventListener(G0,M)},[]),h.jsx(Ue.div,{...u,ref:T,style:{pointerEvents:k?O?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,B.onPointerDownCapture)})});ih.displayName=V6;var B6="DismissableLayerBranch",kI=S.forwardRef((t,e)=>{const n=S.useContext(II),r=S.useRef(null),s=wt(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(Ue.div,{...t,ref:s})});kI.displayName=B6;function z6(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){NI(L6,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function U6(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&NI(F6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function US(){const t=new CustomEvent(G0);document.dispatchEvent(t)}function NI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RI(s,i):s.dispatchEvent(i)}var $6=ih,H6=kI,On=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},W6="Portal",Gm=S.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=S.useState(!1);On(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C6.createPortal(h.jsx(Ue.div,{...r,ref:e}),o):null});Gm.displayName=W6;function q6(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Zi=t=>{const{present:e,children:n}=t,r=G6(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=wt(r.ref,K6(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};Zi.displayName="Presence";function G6(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),o=t?"mounted":"unmounted",[l,u]=q6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=Vf(r.current);i.current=l==="mounted"?d:"none"},[l]),On(()=>{const d=r.current,p=s.current;if(p!==t){const y=i.current,x=Vf(d);t?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(p&&y!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),On(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,m=x=>{const w=Vf(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(u("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},y=x=>{x.target===e&&(i.current=Vf(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Vf(t){return(t==null?void 0:t.animationName)||"none"}function K6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Q6=dP[" useInsertionEffect ".trim().toString()]||On;function hi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Y6({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const p=S.useRef(t!==void 0);S.useEffect(()=>{const m=p.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const d=S.useCallback(p=>{var m;if(l){const y=X6(p)?p(t):p;y!==t&&((m=o.current)==null||m.call(o,y))}else i(p)},[l,t,i,o]);return[u,d]}function Y6({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return Q6(()=>{i.current=e},[e]),S.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function X6(t){return typeof t=="function"}var jI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z6="VisuallyHidden",Km=S.forwardRef((t,e)=>h.jsx(Ue.span,{...t,ref:e,style:{...jI,...t.style}}));Km.displayName=Z6;var J6=Km,Cw="ToastProvider",[Aw,eB,tB]=Ew("Toast"),[DI,YX]=Fr("Toast",[tB]),[nB,Qm]=DI(Cw),MI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=S.useState(null),[d,p]=S.useState(0),m=S.useRef(!1),y=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cw}\`. Expected non-empty \`string\`.`),h.jsx(Aw.Provider,{scope:e,children:h.jsx(nB,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:S.useCallback(()=>p(x=>x+1),[]),onToastRemove:S.useCallback(()=>p(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:o})})};MI.displayName=Cw;var OI="ToastViewport",rB=["F8"],K0="toast.viewportPause",Q0="toast.viewportResume",VI=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=rB,label:s="Notifications ({hotkey})",...i}=t,o=Qm(OI,n),l=eB(n),u=S.useRef(null),d=S.useRef(null),p=S.useRef(null),m=S.useRef(null),y=wt(e,m,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;S.useEffect(()=>{const _=R=>{var k;r.length!==0&&r.every(O=>R[O]||R.code===O)&&((k=m.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),S.useEffect(()=>{const _=u.current,R=m.current;if(T&&_&&R){const I=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(K0);R.dispatchEvent(U),o.isClosePausedRef.current=!0}},k=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(Q0);R.dispatchEvent(U),o.isClosePausedRef.current=!1}},O=U=>{!_.contains(U.relatedTarget)&&k()},B=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",I),_.addEventListener("focusout",O),_.addEventListener("pointermove",I),_.addEventListener("pointerleave",B),window.addEventListener("blur",I),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",I),_.removeEventListener("focusout",O),_.removeEventListener("pointermove",I),_.removeEventListener("pointerleave",B),window.removeEventListener("blur",I),window.removeEventListener("focus",k)}}},[T,o.isClosePausedRef]);const w=S.useCallback(({tabbingDirection:_})=>{const I=l().map(k=>{const O=k.ref.current,B=[O,...gB(O)];return _==="forwards"?B:B.reverse()});return(_==="forwards"?I.reverse():I).flat()},[l]);return S.useEffect(()=>{const _=m.current;if(_){const R=I=>{var B,U,M;const k=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!k){const E=document.activeElement,P=I.shiftKey;if(I.target===_&&P){(B=d.current)==null||B.focus();return}const D=w({tabbingDirection:P?"backwards":"forwards"}),V=D.findIndex(X=>X===E);Cv(D.slice(V+1))?I.preventDefault():P?(U=d.current)==null||U.focus():(M=p.current)==null||M.focus()}};return _.addEventListener("keydown",R),()=>_.removeEventListener("keydown",R)}},[l,w]),h.jsxs(H6,{ref:u,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&h.jsx(Y0,{ref:d,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});Cv(_)}}),h.jsx(Aw.Slot,{scope:n,children:h.jsx(Ue.ol,{tabIndex:-1,...i,ref:y})}),T&&h.jsx(Y0,{ref:p,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});Cv(_)}})]})});VI.displayName=OI;var LI="ToastFocusProxy",Y0=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Qm(LI,n);return h.jsx(Km,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});Y0.displayName=LI;var oh="Toast",sB="toast.swipeStart",iB="toast.swipeMove",oB="toast.swipeCancel",aB="toast.swipeEnd",FI=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=hi({prop:r,defaultProp:s??!0,onChange:i,caller:oh});return h.jsx(Zi,{present:n||l,children:h.jsx(uB,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:rs(t.onPause),onResume:rs(t.onResume),onSwipeStart:Ve(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,d=>{const{x:p,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,d=>{const{x:p,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});FI.displayName=oh;var[lB,cB]=DI(oh,{onClose(){}}),uB=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:x,...T}=t,w=Qm(oh,n),[_,R]=S.useState(null),I=wt(e,X=>R(X)),k=S.useRef(null),O=S.useRef(null),B=s||w.duration,U=S.useRef(0),M=S.useRef(B),E=S.useRef(0),{onToastAdd:P,onToastRemove:N}=w,L=rs(()=>{var q;(_==null?void 0:_.contains(document.activeElement))&&((q=w.viewport)==null||q.focus()),o()}),D=S.useCallback(X=>{!X||X===1/0||(window.clearTimeout(E.current),U.current=new Date().getTime(),E.current=window.setTimeout(L,X))},[L]);S.useEffect(()=>{const X=w.viewport;if(X){const q=()=>{D(M.current),d==null||d()},W=()=>{const Y=new Date().getTime()-U.current;M.current=M.current-Y,window.clearTimeout(E.current),u==null||u()};return X.addEventListener(K0,W),X.addEventListener(Q0,q),()=>{X.removeEventListener(K0,W),X.removeEventListener(Q0,q)}}},[w.viewport,B,u,d,D]),S.useEffect(()=>{i&&!w.isClosePausedRef.current&&D(B)},[i,B,w.isClosePausedRef,D]),S.useEffect(()=>(P(),()=>N()),[P,N]);const V=S.useMemo(()=>_?qI(_):null,[_]);return w.viewport?h.jsxs(h.Fragment,{children:[V&&h.jsx(dB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:V}),h.jsx(lB,{scope:n,onClose:L,children:qc.createPortal(h.jsx(Aw.ItemSlot,{scope:n,children:h.jsx($6,{asChild:!0,onEscapeKeyDown:Ve(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||L(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Ue.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:I,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,X=>{X.key==="Escape"&&(l==null||l(X.nativeEvent),X.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Ve(t.onPointerDown,X=>{X.button===0&&(k.current={x:X.clientX,y:X.clientY})}),onPointerMove:Ve(t.onPointerMove,X=>{if(!k.current)return;const q=X.clientX-k.current.x,W=X.clientY-k.current.y,Y=!!O.current,K=["left","right"].includes(w.swipeDirection),ee=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,oe=K?ee(0,q):0,$=K?0:ee(0,W),J=X.pointerType==="touch"?10:2,se={x:oe,y:$},ve={originalEvent:X,delta:se};Y?(O.current=se,Lf(iB,m,ve,{discrete:!1})):$S(se,w.swipeDirection,J)?(O.current=se,Lf(sB,p,ve,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(q)>J||Math.abs(W)>J)&&(k.current=null)}),onPointerUp:Ve(t.onPointerUp,X=>{const q=O.current,W=X.target;if(W.hasPointerCapture(X.pointerId)&&W.releasePointerCapture(X.pointerId),O.current=null,k.current=null,q){const Y=X.currentTarget,K={originalEvent:X,delta:q};$S(q,w.swipeDirection,w.swipeThreshold)?Lf(aB,x,K,{discrete:!0}):Lf(oB,y,K,{discrete:!0}),Y.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),dB=t=>{const{__scopeToast:e,children:n,...r}=t,s=Qm(oh,e),[i,o]=S.useState(!1),[l,u]=S.useState(!1);return pB(()=>o(!0)),S.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:h.jsx(Gm,{asChild:!0,children:h.jsx(Km,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},hB="ToastTitle",BI=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Ue.div,{...r,ref:e})});BI.displayName=hB;var fB="ToastDescription",zI=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Ue.div,{...r,ref:e})});zI.displayName=fB;var UI="ToastAction",$I=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(WI,{altText:n,asChild:!0,children:h.jsx(Pw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${UI}\`. Expected non-empty \`string\`.`),null)});$I.displayName=UI;var HI="ToastClose",Pw=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=cB(HI,n);return h.jsx(WI,{asChild:!0,children:h.jsx(Ue.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,s.onClose)})})});Pw.displayName=HI;var WI=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function qI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),mB(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...qI(r))}}),e}function Lf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RI(s,i):s.dispatchEvent(i)}var $S=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function pB(t=()=>{}){const e=rs(t);On(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function mB(t){return t.nodeType===t.ELEMENT_NODE}function gB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var yB=MI,GI=VI,KI=FI,QI=BI,YI=zI,XI=$I,ZI=Pw;const HS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,WS=_I,Ym=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return WS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const p=n==null?void 0:n[d],m=i==null?void 0:i[d];if(p===null)return null;const y=HS(p)||HS(m);return s[d][y]}),l=n&&Object.entries(n).reduce((d,p)=>{let[m,y]=p;return y===void 0||(d[m]=y),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:m,className:y,...x}=p;return Object.entries(x).every(T=>{let[w,_]=T;return Array.isArray(_)?_.includes({...i,...l}[w]):{...i,...l}[w]===_})?[...d,m,y]:d},[]);return WS(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>S.createElement("svg",{ref:u,...xB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JI("lucide",s),...l},[...o.map(([d,p])=>S.createElement(d,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(wB,{ref:i,iconNode:e,className:JI(`lucide-${vB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Oe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=Oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Oe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=Oe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=Oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Oe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Oe("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=Oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=Oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=Oe("FileCog",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3.2 12.9-.9-.4",key:"1i3dj5"}],["path",{d:"m3.2 15.1-.9.4",key:"1fvgj0"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5",key:"1yo3oz"}],["path",{d:"m4.9 11.2-.4-.9",key:"otmhb9"}],["path",{d:"m4.9 16.8-.4.9",key:"1b8z07"}],["path",{d:"m7.5 10.3-.4.9",key:"11k65u"}],["path",{d:"m7.5 17.7-.4-.9",key:"431x55"}],["path",{d:"m9.7 12.5-.9.4",key:"87sjan"}],["path",{d:"m9.7 15.5-.9-.4",key:"khqm91"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=Oe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=Oe("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=Oe("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Oe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=Oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=Oe("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Oe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Oe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Oe("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Oe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),WB=yB,dk=Fe.forwardRef(({className:t,...e},n)=>h.jsx(GI,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dk.displayName=GI.displayName;const qB=Ym("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hk=Fe.forwardRef(({className:t,variant:e,...n},r)=>{const{dismiss:s,...i}=n;return h.jsx(KI,{ref:r,className:We(qB({variant:e}),t),...i})});hk.displayName=KI.displayName;const GB=Fe.forwardRef(({className:t,...e},n)=>h.jsx(XI,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));GB.displayName=XI.displayName;const fk=Fe.forwardRef(({className:t,...e},n)=>h.jsx(ZI,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(ck,{className:"h-4 w-4"})}));fk.displayName=ZI.displayName;const pk=Fe.forwardRef(({className:t,...e},n)=>h.jsx(QI,{ref:n,className:We("text-sm font-semibold",t),...e}));pk.displayName=QI.displayName;const mk=Fe.forwardRef(({className:t,...e},n)=>h.jsx(YI,{ref:n,className:We("text-sm opacity-90",t),...e}));mk.displayName=YI.displayName;const KB=1;let Av=0;function QB(){return Av=(Av+1)%Number.MAX_VALUE,Av.toString()}const rr={state:{toasts:[]},listeners:[],getState:()=>rr.state,setState:t=>{typeof t=="function"?rr.state=t(rr.state):rr.state={...rr.state,...t},rr.listeners.forEach(e=>e(rr.state))},subscribe:t=>(rr.listeners.push(t),()=>{rr.listeners=rr.listeners.filter(e=>e!==t)})},YB=({...t})=>{const e=QB(),n=s=>rr.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===e?{...o,...s}:o)})),r=()=>rr.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==e)}));return rr.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,KB)})),{id:e,dismiss:r,update:n}};function Zn(){const[t,e]=S.useState(rr.getState());return S.useEffect(()=>rr.subscribe(r=>{e(r)}),[]),S.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:YB,toasts:t.toasts}}function XB(){const{toasts:t}=Zn();return h.jsxs(WB,{children:[t.map(({id:e,title:n,description:r,action:s,...i})=>h.jsxs(hk,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(pk,{children:n}),r&&h.jsx(mk,{children:r})]}),s,h.jsx(fk,{})]},e)),h.jsx(dk,{})]})}const gk=S.createContext({});function ZB(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vw=S.createContext(null),yk=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function JB(t=!0){const e=S.useContext(Vw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{t&&s(i)},[t]);const o=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Lw=typeof window<"u",ez=Lw?S.useLayoutEffect:S.useEffect,kr=t=>t;let vk=kr;function Fw(t){let e;return()=>(e===void 0&&(e=t()),e)}const jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},zi=t=>t*1e3,Ui=t=>t/1e3,tz={useManualTiming:!1};function nz(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,p=!1,m=!1)=>{const x=m&&r?e:n;return p&&i.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const Ff=["read","resolveKeyframes","update","preRender","render","postRender"],rz=40;function xk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ff.reduce((R,I)=>(R[I]=nz(i),R),{}),{read:l,resolveKeyframes:u,update:d,preRender:p,render:m,postRender:y}=o,x=()=>{const R=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,rz),1),s.timestamp=R,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),p.process(s),m.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},T=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:Ff.reduce((R,I)=>{const k=o[I];return R[I]=(O,B=!1,U=!1)=>(n||T(),k.schedule(O,B,U)),R},{}),cancel:R=>{for(let I=0;I<Ff.length;I++)o[Ff[I]].cancel(R)},state:s,steps:o}}const{schedule:Ft,cancel:Qo,state:kn,steps:Pv}=xk(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0),wk=S.createContext({strict:!1}),KS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dc={};for(const t in KS)Dc[t]={isEnabled:e=>KS[t].some(n=>!!e[n])};function sz(t){for(const e in t)Dc[e]={...Dc[e],...t[e]}}const iz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iz.has(t)}let _k=t=>!nm(t);function oz(t){t&&(_k=e=>e.startsWith("on")?!nm(e):t(e))}try{oz(require("@emotion/is-prop-valid").default)}catch{}function az(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(_k(s)||n===!0&&nm(s)||!e&&!nm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function lz(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Zm=S.createContext({});function Md(t){return typeof t=="string"||Array.isArray(t)}function Jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Bw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zw=["initial",...Bw];function eg(t){return Jm(t.animate)||zw.some(e=>Md(t[e]))}function bk(t){return!!(eg(t)||t.variants)}function cz(t,e){if(eg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Md(n)?n:void 0,animate:Md(r)?r:void 0}}return t.inherit!==!1?e:{}}function uz(t){const{initial:e,animate:n}=cz(t,S.useContext(Zm));return S.useMemo(()=>({initial:e,animate:n}),[QS(e),QS(n)])}function QS(t){return Array.isArray(t)?t.join(" "):t}const dz=Symbol.for("motionComponentSymbol");function oc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hz(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oc(n)&&(n.current=r))},[e])}const Uw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fz="framerAppearId",Tk="data-"+Uw(fz),{schedule:$w}=xk(queueMicrotask,!1),Sk=S.createContext({});function pz(t,e,n,r,s){var i,o;const{visualElement:l}=S.useContext(Zm),u=S.useContext(wk),d=S.useContext(Vw),p=S.useContext(yk).reducedMotion,m=S.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=m.current,x=S.useContext(Sk);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&mz(m.current,n,s,x);const T=S.useRef(!1);S.useInsertionEffect(()=>{y&&T.current&&y.update(n,d)});const w=n[Tk],_=S.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return ez(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),$w.render(y.render),_.current&&y.animationState&&y.animationState.animateChanges())}),S.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,w)}),_.current=!1))}),y}function mz(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ek(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&oc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function Ek(t){if(t)return t.options.allowProjection!==!1?t.projection:Ek(t.parent)}function gz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&sz(t);function l(d,p){let m;const y={...S.useContext(yk),...d,layoutId:yz(d)},{isStatic:x}=y,T=uz(d),w=r(d,x);if(!x&&Lw){vz();const _=xz(y);m=_.MeasureLayout,T.visualElement=pz(s,w,y,e,_.ProjectionNode)}return h.jsxs(Zm.Provider,{value:T,children:[m&&T.visualElement?h.jsx(m,{visualElement:T.visualElement,...y}):null,n(s,d,hz(w,T.visualElement,p),w,x,T.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const u=S.forwardRef(l);return u[dz]=s,u}function yz({layoutId:t}){const e=S.useContext(gk).id;return e&&t!==void 0?e+"-"+t:t}function vz(t,e){S.useContext(wk).strict}function xz(t){const{drag:e,layout:n}=Dc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const wz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hw(t){return typeof t!="string"||t.includes("-")?!1:!!(wz.indexOf(t)>-1||/[A-Z]/u.test(t))}function YS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ww(t,e,n,r){if(typeof e=="function"){const[s,i]=YS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=YS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Z0=t=>Array.isArray(t),_z=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bz=t=>Z0(t)?t[t.length-1]||0:t,Qn=t=>!!(t&&t.getVelocity);function bp(t){const e=Qn(t)?t.get():t;return _z(e)?e.toValue():e}function Tz({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:Sz(r,s,i,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const Ck=t=>(e,n)=>{const r=S.useContext(Zm),s=S.useContext(Vw),i=()=>Tz(t,e,r,s);return n?i():ZB(i)};function Sz(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=bp(i[y]);let{initial:o,animate:l}=t;const u=eg(t),d=bk(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const m=p?l:o;if(m&&typeof m!="boolean"&&!Jm(m)){const y=Array.isArray(m)?m:[m];for(let x=0;x<y.length;x++){const T=Ww(t,y[x]);if(T){const{transitionEnd:w,transition:_,...R}=T;for(const I in R){let k=R[I];if(Array.isArray(k)){const O=p?k.length-1:0;k=k[O]}k!==null&&(s[I]=k)}for(const I in w)s[I]=w[I]}}}return s}const Kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cl=new Set(Kc),Ak=t=>e=>typeof e=="string"&&e.startsWith(t),Pk=Ak("--"),Ez=Ak("var(--"),qw=t=>Ez(t)?Cz.test(t.split("/*")[0].trim()):!1,Cz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ki=(t,e,n)=>n>e?e:n<t?t:n,Qc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Od={...Qc,transform:t=>Ki(0,1,t)},Bf={...Qc,default:1},ah=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ro=ah("deg"),oi=ah("%"),He=ah("px"),Az=ah("vh"),Pz=ah("vw"),XS={...oi,parse:t=>oi.parse(t)/100,transform:t=>oi.transform(t*100)},Rz={borderWidth:He,borderTopWidth:He,borderRightWidth:He,borderBottomWidth:He,borderLeftWidth:He,borderRadius:He,radius:He,borderTopLeftRadius:He,borderTopRightRadius:He,borderBottomRightRadius:He,borderBottomLeftRadius:He,width:He,maxWidth:He,height:He,maxHeight:He,top:He,right:He,bottom:He,left:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,backgroundPositionX:He,backgroundPositionY:He},Iz={rotate:Ro,rotateX:Ro,rotateY:Ro,rotateZ:Ro,scale:Bf,scaleX:Bf,scaleY:Bf,scaleZ:Bf,skew:Ro,skewX:Ro,skewY:Ro,distance:He,translateX:He,translateY:He,translateZ:He,x:He,y:He,z:He,perspective:He,transformPerspective:He,opacity:Od,originX:XS,originY:XS,originZ:He},ZS={...Qc,transform:Math.round},Gw={...Rz,...Iz,zIndex:ZS,size:He,fillOpacity:Od,strokeOpacity:Od,numOctaves:ZS},kz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nz=Kc.length;function jz(t,e,n){let r="",s=!0;for(let i=0;i<Nz;i++){const o=Kc[i],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=Rk(l,Gw[o]);if(!u){s=!1;const p=kz[o]||o;r+=`${p}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Kw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(cl.has(u)){o=!0;continue}else if(Pk(u)){s[u]=d;continue}else{const p=Rk(d,Gw[u]);u.startsWith("origin")?(l=!0,i[u]=p):r[u]=p}}if(e.transform||(o||n?r.transform=jz(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:p=0}=i;r.transformOrigin=`${u} ${d} ${p}`}}const Dz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mz={offset:"strokeDashoffset",array:"strokeDasharray"};function Oz(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Dz:Mz;t[i.offset]=He.transform(-r);const o=He.transform(e),l=He.transform(n);t[i.array]=`${o} ${l}`}function JS(t,e,n){return typeof t=="string"?t:He.transform(e+n*t)}function Vz(t,e,n){const r=JS(e,t.x,t.width),s=JS(n,t.y,t.height);return`${r} ${s}`}function Qw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},p,m){if(Kw(t,d,m),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x,dimensions:T}=t;y.transform&&(T&&(x.transform=y.transform),delete y.transform),T&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=Vz(T,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&Oz(y,o,l,u,!1)}const Yw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ik=()=>({...Yw(),attrs:{}}),Xw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kk(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Nk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jk(t,e,n,r){kk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Nk.has(s)?s:Uw(s),e.attrs[s])}const rm={};function Lz(t){Object.assign(rm,t)}function Dk(t,{layout:e,layoutId:n}){return cl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rm[t]||t==="opacity")}function Zw(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Qn(s[o])||e.style&&Qn(e.style[o])||Dk(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Mk(t,e,n){const r=Zw(t,e,n);for(const s in t)if(Qn(t[s])||Qn(e[s])){const i=Kc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function Fz(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const eE=["x","y","width","height","cx","cy","r"],Bz={useVisualState:Ck({scrapeMotionValuesFromProps:Mk,createRenderState:Ik,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(cl.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<eE.length;l++){const u=eE[l];t[u]!==e[u]&&(o=!0)}o&&Ft.read(()=>{Fz(n,r),Ft.render(()=>{Qw(r,s,Xw(n.tagName),t.transformTemplate),jk(n,r)})})}})},zz={useVisualState:Ck({scrapeMotionValuesFromProps:Zw,createRenderState:Yw})};function Ok(t,e,n){for(const r in e)!Qn(e[r])&&!Dk(r,n)&&(t[r]=e[r])}function Uz({transformTemplate:t},e){return S.useMemo(()=>{const n=Yw();return Kw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $z(t,e){const n=t.style||{},r={};return Ok(r,n,t),Object.assign(r,Uz(t,e)),r}function Hz(t,e){const n={},r=$z(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Wz(t,e,n,r){const s=S.useMemo(()=>{const i=Ik();return Qw(i,e,Xw(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Ok(i,t.style,t),s.style={...i,...s.style}}return s}function qz(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(Hw(n)?Wz:Hz)(r,i,o,n),d=az(r,typeof n=="string",t),p=n!==S.Fragment?{...d,...u,ref:s}:{},{children:m}=r,y=S.useMemo(()=>Qn(m)?m.get():m,[m]);return S.createElement(n,{...p,children:y})}}function Gz(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Hw(r)?Bz:zz,preloadedFeatures:t,useRender:qz(s),createVisualElement:e,Component:r};return gz(o)}}function Vk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function tg(t,e,n){const r=t.getProps();return Ww(r,e,n!==void 0?n:r.custom,t)}const Kz=Fw(()=>window.ScrollTimeline!==void 0);class Qz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Kz()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Yz extends Qz{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Jw(t,e){return t?t[e]||t.default||t:void 0}const J0=2e4;function Lk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<J0;)e+=n,r=t.next(e);return e>=J0?1/0:e}function e_(t){return typeof t=="function"}function tE(t,e){t.timeline=e,t.onfinish=null}const t_=t=>Array.isArray(t)&&typeof t[0]=="number",Xz={linearEasing:void 0};function Zz(t,e){const n=Fw(t);return()=>{var r;return(r=Xz[e])!==null&&r!==void 0?r:n()}}const sm=Zz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(jc(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bk(t){return!!(typeof t=="function"&&sm()||!t||typeof t=="string"&&(t in ex||sm())||t_(t)||Array.isArray(t)&&t.every(Bk))}const id=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ex={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:id([0,.65,.55,1]),circOut:id([.55,0,1,.45]),backIn:id([.31,.01,.66,-.59]),backOut:id([.33,1.53,.69,.99])};function zk(t,e){if(t)return typeof t=="function"&&sm()?Fk(t,e):t_(t)?id(t):Array.isArray(t)?t.map(n=>zk(n,e)||ex.easeOut):ex[t]}const Cs={x:!1,y:!1};function Uk(){return Cs.x||Cs.y}function Jz(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function $k(t,e){const n=Jz(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function nE(t){return e=>{e.pointerType==="touch"||Uk()||t(e)}}function e9(t,e,n={}){const[r,s,i]=$k(t,n),o=nE(l=>{const{target:u}=l,d=e(l);if(typeof d!="function"||!u)return;const p=nE(m=>{d(m),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Hk=(t,e)=>e?t===e?!0:Hk(t,e.parentElement):!1,n_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,t9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n9(t){return t9.has(t.tagName)||t.tabIndex!==-1}const od=new WeakSet;function rE(t){return e=>{e.key==="Enter"&&t(e)}}function Rv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const r9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=rE(()=>{if(od.has(n))return;Rv(n,"down");const s=rE(()=>{Rv(n,"up")}),i=()=>Rv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function sE(t){return n_(t)&&!Uk()}function s9(t,e,n={}){const[r,s,i]=$k(t,n),o=l=>{const u=l.currentTarget;if(!sE(l)||od.has(u))return;od.add(u);const d=e(l),p=(x,T)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),!(!sE(x)||!od.has(u))&&(od.delete(u),typeof d=="function"&&d(x,{success:T}))},m=x=>{p(x,n.useGlobalTarget||Hk(u,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return r.forEach(l=>{!n9(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",d=>r9(d,s),s)}),i}function i9(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}const Wk=new Set(["width","height","top","left","right","bottom",...Kc]);let Tp;function o9(){Tp=void 0}const ai={now:()=>(Tp===void 0&&ai.set(kn.isProcessing||tz.useManualTiming?kn.timestamp:performance.now()),Tp),set:t=>{Tp=t,queueMicrotask(o9)}};function r_(t,e){t.indexOf(e)===-1&&t.push(e)}function s_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class i_{constructor(){this.subscriptions=[]}add(e){return r_(this.subscriptions,e),()=>s_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qk(t,e){return e?t*(1e3/e):0}const iE=30,a9=t=>!isNaN(parseFloat(t));class l9{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ai.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=a9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iE);return qk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vd(t,e){return new l9(t,e)}function c9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vd(n))}function u9(t,e){const n=tg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=bz(i[o]);c9(t,o,l)}}function d9(t){return!!(Qn(t)&&t.add)}function tx(t,e){const n=t.getValue("willChange");if(d9(n))return n.add(e)}function Gk(t){return t.props[Tk]}const Kk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,h9=1e-7,f9=12;function p9(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=Kk(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>h9&&++l<f9);return o}function lh(t,e,n,r){if(t===e&&n===r)return kr;const s=i=>p9(i,0,1,t,n);return i=>i===0||i===1?i:Kk(s(i),e,r)}const Qk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Yk=t=>e=>1-t(1-e),Xk=lh(.33,1.53,.69,.99),o_=Yk(Xk),Zk=Qk(o_),Jk=t=>(t*=2)<1?.5*o_(t):.5*(2-Math.pow(2,-10*(t-1))),a_=t=>1-Math.sin(Math.acos(t)),eN=Yk(a_),tN=Qk(a_),nN=t=>/^0[^.\s]+$/u.test(t);function m9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nN(t):!0}const gd=t=>Math.round(t*1e5)/1e5,l_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g9(t){return t==null}const y9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,c_=(t,e)=>n=>!!(typeof n=="string"&&y9.test(n)&&n.startsWith(t)||e&&!g9(n)&&Object.prototype.hasOwnProperty.call(n,e)),rN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(l_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},v9=t=>Ki(0,255,t),Iv={...Qc,transform:t=>Math.round(v9(t))},Wa={test:c_("rgb","red"),parse:rN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Iv.transform(t)+", "+Iv.transform(e)+", "+Iv.transform(n)+", "+gd(Od.transform(r))+")"};function x9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const nx={test:c_("#"),parse:x9,transform:Wa.transform},ac={test:c_("hsl","hue"),parse:rN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+oi.transform(gd(e))+", "+oi.transform(gd(n))+", "+gd(Od.transform(r))+")"},qn={test:t=>Wa.test(t)||nx.test(t)||ac.test(t),parse:t=>Wa.test(t)?Wa.parse(t):ac.test(t)?ac.parse(t):nx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wa.transform(t):ac.transform(t)},w9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(l_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(w9))===null||n===void 0?void 0:n.length)||0)>0}const sN="number",iN="color",b9="var",T9="var(",oE="${}",S9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ld(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(S9,u=>(qn.test(u)?(r.color.push(i),s.push(iN),n.push(qn.parse(u))):u.startsWith(T9)?(r.var.push(i),s.push(b9),n.push(u)):(r.number.push(i),s.push(sN),n.push(parseFloat(u))),++i,oE)).split(oE);return{values:n,split:l,indexes:r,types:s}}function oN(t){return Ld(t).values}function aN(t){const{split:e,types:n}=Ld(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===sN?i+=gd(s[o]):l===iN?i+=qn.transform(s[o]):i+=s[o]}return i}}const E9=t=>typeof t=="number"?0:t;function C9(t){const e=oN(t);return aN(t)(e.map(E9))}const Yo={test:_9,parse:oN,createTransformer:aN,getAnimatableNone:C9},A9=new Set(["brightness","contrast","saturate","opacity"]);function P9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(l_)||[];if(!r)return t;const s=n.replace(r,"");let i=A9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const R9=/\b([a-z-]*)\(.*?\)/gu,rx={...Yo,getAnimatableNone:t=>{const e=t.match(R9);return e?e.map(P9).join(" "):t}},I9={...Gw,color:qn,backgroundColor:qn,outlineColor:qn,fill:qn,stroke:qn,borderColor:qn,borderTopColor:qn,borderRightColor:qn,borderBottomColor:qn,borderLeftColor:qn,filter:rx,WebkitFilter:rx},u_=t=>I9[t];function lN(t,e){let n=u_(t);return n!==rx&&(n=Yo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const k9=new Set(["auto","none","0"]);function N9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!k9.has(i)&&Ld(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=lN(n,s)}const aE=t=>t===Qc||t===He,lE=(t,e)=>parseFloat(t.split(", ")[e]),cE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return lE(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?lE(i[1],t):0}},j9=new Set(["x","y","z"]),D9=Kc.filter(t=>!j9.has(t));function M9(t){const e=[];return D9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Mc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:cE(4,13),y:cE(5,14)};Mc.translateX=Mc.x;Mc.translateY=Mc.y;const Qa=new Set;let sx=!1,ix=!1;function cN(){if(ix){const t=Array.from(Qa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=M9(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ix=!1,sx=!1,Qa.forEach(t=>t.complete()),Qa.clear()}function uN(){Qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ix=!0)})}function O9(){uN(),cN()}class d_{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qa.add(this),sx||(sx=!0,Ft.read(uN),Ft.resolveKeyframes(cN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),V9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L9(t){const e=V9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function hN(t,e,n=1){const[r,s]=L9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return dN(o)?parseFloat(o):o}return qw(s)?hN(s,e,n+1):s}const fN=t=>e=>e.test(t),F9={test:t=>t==="auto",parse:t=>t},pN=[Qc,He,oi,Ro,Pz,Az,F9],uE=t=>pN.find(fN(t));class mN extends d_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),qw(d))){const p=hN(d,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Wk.has(r)||e.length!==2)return;const[s,i]=e,o=uE(s),l=uE(i);if(o!==l)if(aE(o)&&aE(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)m9(e[s])&&r.push(s);r.length&&N9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Mc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const dE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yo.test(t)||t==="0")&&!t.startsWith("url("));function B9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=dE(s,e),l=dE(i,e);return!o||!l?!1:B9(t)||(n==="spring"||e_(n))&&r}const U9=t=>t!==null;function ng(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(U9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const $9=40;class gN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ai.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&O9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ai.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!z9(e,r,s,i))if(o)this.options.duration=0;else{u&&u(ng(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Gt=(t,e,n)=>t+(e-t)*n;function kv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function H9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=kv(u,l,t+1/3),i=kv(u,l,t),o=kv(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function im(t,e){return n=>n>0?e:t}const Nv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},W9=[nx,Wa,ac],q9=t=>W9.find(e=>e.test(t));function hE(t){const e=q9(t);if(!e)return!1;let n=e.parse(t);return e===ac&&(n=H9(n)),n}const fE=(t,e)=>{const n=hE(t),r=hE(e);if(!n||!r)return im(t,e);const s={...n};return i=>(s.red=Nv(n.red,r.red,i),s.green=Nv(n.green,r.green,i),s.blue=Nv(n.blue,r.blue,i),s.alpha=Gt(n.alpha,r.alpha,i),Wa.transform(s))},G9=(t,e)=>n=>e(t(n)),ch=(...t)=>t.reduce(G9),ox=new Set(["none","hidden"]);function K9(t,e){return ox.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Q9(t,e){return n=>Gt(t,e,n)}function h_(t){return typeof t=="number"?Q9:typeof t=="string"?qw(t)?im:qn.test(t)?fE:Z9:Array.isArray(t)?yN:typeof t=="object"?qn.test(t)?fE:Y9:im}function yN(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>h_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Y9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=h_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function X9(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],u=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=u,s[o]++}return r}const Z9=(t,e)=>{const n=Yo.createTransformer(e),r=Ld(t),s=Ld(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ox.has(t)&&!s.values.length||ox.has(e)&&!r.values.length?K9(t,e):ch(yN(X9(r,s),s.values),n):im(t,e)};function vN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):h_(t)(t,e)}const J9=5;function xN(t,e,n){const r=Math.max(e-J9,0);return qk(n-t(r),e-r)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jv=.001;function eU({duration:t=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:r=Yt.mass}){let s,i,o=1-e;o=Ki(Yt.minDamping,Yt.maxDamping,o),t=Ki(Yt.minDuration,Yt.maxDuration,Ui(t)),o<1?(s=d=>{const p=d*o,m=p*t,y=p-n,x=ax(d,o),T=Math.exp(-m);return jv-y/x*T},i=d=>{const m=d*o*t,y=m*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-m),w=ax(Math.pow(d,2),o);return(-s(d)+jv>0?-1:1)*((y-x)*T)/w}):(s=d=>{const p=Math.exp(-d*t),m=(d-n)*t+1;return-jv+p*m},i=d=>{const p=Math.exp(-d*t),m=(n-d)*(t*t);return p*m});const l=5/t,u=nU(s,i,l);if(t=zi(t),isNaN(u))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const tU=12;function nU(t,e,n){let r=n;for(let s=1;s<tU;s++)r=r-t(r)/e(r);return r}function ax(t,e){return t*Math.sqrt(1-e*e)}const rU=["duration","bounce"],sU=["stiffness","damping","mass"];function pE(t,e){return e.some(n=>t[n]!==void 0)}function iU(t){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...t};if(!pE(t,sU)&&pE(t,rU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ki(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Yt.mass,stiffness:s,damping:i}}else{const n=eU(t);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function wN(t=Yt.visualDuration,e=Yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:p,duration:m,velocity:y,isResolvedFromDuration:x}=iU({...n,velocity:-Ui(n.velocity||0)}),T=y||0,w=d/(2*Math.sqrt(u*p)),_=o-i,R=Ui(Math.sqrt(u/p)),I=Math.abs(_)<5;r||(r=I?Yt.restSpeed.granular:Yt.restSpeed.default),s||(s=I?Yt.restDelta.granular:Yt.restDelta.default);let k;if(w<1){const B=ax(R,w);k=U=>{const M=Math.exp(-w*R*U);return o-M*((T+w*R*_)/B*Math.sin(B*U)+_*Math.cos(B*U))}}else if(w===1)k=B=>o-Math.exp(-R*B)*(_+(T+R*_)*B);else{const B=R*Math.sqrt(w*w-1);k=U=>{const M=Math.exp(-w*R*U),E=Math.min(B*U,300);return o-M*((T+w*R*_)*Math.sinh(E)+B*_*Math.cosh(E))/B}}const O={calculatedDuration:x&&m||null,next:B=>{const U=k(B);if(x)l.done=B>=m;else{let M=0;w<1&&(M=B===0?zi(T):xN(k,B,U));const E=Math.abs(M)<=r,P=Math.abs(o-U)<=s;l.done=E&&P}return l.value=l.done?o:U,l},toString:()=>{const B=Math.min(Lk(O),J0),U=Fk(M=>O.next(B*M).value,B,30);return B+"ms "+U}};return O}function mE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},x=E=>l!==void 0&&E<l||u!==void 0&&E>u,T=E=>l===void 0?u:u===void 0||Math.abs(l-E)<Math.abs(u-E)?l:u;let w=n*e;const _=m+w,R=o===void 0?_:o(_);R!==_&&(w=R-m);const I=E=>-w*Math.exp(-E/r),k=E=>R+I(E),O=E=>{const P=I(E),N=k(E);y.done=Math.abs(P)<=d,y.value=y.done?R:N};let B,U;const M=E=>{x(y.value)&&(B=E,U=wN({keyframes:[y.value,T(y.value)],velocity:xN(k,E,y.value),damping:s,stiffness:i,restDelta:d,restSpeed:p}))};return M(0),{calculatedDuration:null,next:E=>{let P=!1;return!U&&B===void 0&&(P=!0,O(E),M(E)),B!==void 0&&E>=B?U.next(E-B):(!P&&O(E),y)}}}const oU=lh(.42,0,1,1),aU=lh(0,0,.58,1),_N=lh(.42,0,.58,1),lU=t=>Array.isArray(t)&&typeof t[0]!="number",cU={linear:kr,easeIn:oU,easeInOut:_N,easeOut:aU,circIn:a_,circInOut:tN,circOut:eN,backIn:o_,backInOut:Zk,backOut:Xk,anticipate:Jk},gE=t=>{if(t_(t)){vk(t.length===4);const[e,n,r,s]=t;return lh(e,n,r,s)}else if(typeof t=="string")return cU[t];return t};function uU(t,e,n){const r=[],s=n||vN,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||kr:e;l=ch(u,l)}r.push(l)}return r}function dU(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(vk(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=uU(e,r,s),u=l.length,d=p=>{if(o&&p<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=jc(t[m],t[m+1],p);return l[m](y)};return n?p=>d(Ki(t[0],t[i-1],p)):d}function hU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=jc(0,e,r);t.push(Gt(n,1,s))}}function fU(t){const e=[0];return hU(e,t.length-1),e}function pU(t,e){return t.map(n=>n*e)}function mU(t,e){return t.map(()=>e||_N).splice(0,t.length-1)}function om({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=lU(r)?r.map(gE):gE(r),i={done:!1,value:e[0]},o=pU(n&&n.length===e.length?n:fU(e),t),l=dU(o,e,{ease:Array.isArray(s)?s:mU(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}const gU=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ft.update(e,!0),stop:()=>Qo(e),now:()=>kn.isProcessing?kn.timestamp:ai.now()}},yU={decay:mE,inertia:mE,tween:om,keyframes:om,spring:wN},vU=t=>t/100;class f_ extends gN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||d_,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=e_(n)?n:yU[n]||om;let u,d;l!==om&&typeof e[0]!="number"&&(u=ch(vU,vN(e[0],e[1])),e=[0,100]);const p=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=Lk(p));const{calculatedDuration:m}=p,y=m+s,x=y*(r+1)-s;return{generator:p,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:m,resolvedDuration:y,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:p,resolvedDuration:m}=r;if(this.startTime===null)return i.next(0);const{delay:y,repeat:x,repeatType:T,repeatDelay:w,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-y*(this.speed>=0?1:-1),I=this.speed>=0?R<0:R>p;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let k=this.currentTime,O=i;if(x){const E=Math.min(this.currentTime,p)/m;let P=Math.floor(E),N=E%1;!N&&E>=1&&(N=1),N===1&&P--,P=Math.min(P,x+1),!!(P%2)&&(T==="reverse"?(N=1-N,w&&(N-=w/m)):T==="mirror"&&(O=o)),k=Ki(0,1,N)*m}const B=I?{done:!1,value:u[0]}:O.next(k);l&&(B.value=l(B.value));let{done:U}=B;!I&&d!==null&&(U=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return M&&s!==void 0&&(B.value=ng(u,this.options,s)),_&&_(B.value),M&&this.finish(),B}get duration(){const{resolved:e}=this;return e?Ui(e.calculatedDuration):0}get time(){return Ui(this.currentTime)}set time(e){e=zi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=gU,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const xU=new Set(["opacity","clipPath","filter","transform"]);function wU(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const d={[e]:n};u&&(d.offset=u);const p=zk(l,s);return Array.isArray(p)&&(d.easing=p),t.animate(d,{delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const _U=Fw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),am=10,bU=2e4;function TU(t){return e_(t.type)||t.type==="spring"||!Bk(t.ease)}function SU(t,e){const n=new f_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<bU;)r=n.sample(i),s.push(r.value),i+=am;return{times:void 0,keyframes:s,duration:i-am,ease:"linear"}}const bN={anticipate:Jk,backInOut:Zk,circInOut:tN};function EU(t){return t in bN}class yE extends gN{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new mN(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&sm()&&EU(i)&&(i=bN[i]),TU(this.options)){const{onComplete:m,onUpdate:y,motionValue:x,element:T,...w}=this.options,_=SU(e,w);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,s=_.times,i=_.ease,o="keyframes"}const p=wU(l.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return p.startTime=d??this.calcStartTime(),this.pendingTimeline?(tE(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:m}=this.options;l.set(ng(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=zi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kr;const{animation:r}=n;tE(r,e)}return kr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:p,onComplete:m,element:y,...x}=this.options,T=new f_({...x,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=zi(this.time);d.setWithVelocity(T.sample(w-am).value,T.sample(w).value,am)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return _U()&&r&&xU.has(r)&&!u&&!d&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const CU={type:"spring",stiffness:500,damping:25,restSpeed:10},AU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PU={type:"keyframes",duration:.8},RU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IU=(t,{keyframes:e})=>e.length>2?PU:cl.has(t)?t.startsWith("scale")?AU(e[1]):CU:RU;function kU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...p}){return!!Object.keys(p).length}const p_=(t,e,n,r={},s,i)=>o=>{const l=Jw(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-zi(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};kU(l)||(p={...p,...IU(t,p)}),p.duration&&(p.duration=zi(p.duration)),p.repeatDelay&&(p.repeatDelay=zi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),m&&!i&&e.get()!==void 0){const y=ng(p.keyframes,l);if(y!==void 0)return Ft.update(()=>{p.onUpdate(y),p.onComplete()}),new Yz([])}return!i&&yE.supports(p)?new yE(p):new f_(p)};function NU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const y=t.getValue(m,(i=t.latestValues[m])!==null&&i!==void 0?i:null),x=u[m];if(x===void 0||p&&NU(p,m))continue;const T={delay:n,...Jw(o||{},m)};let w=!1;if(window.MotionHandoffAnimation){const R=Gk(t);if(R){const I=window.MotionHandoffAnimation(R,m,Ft);I!==null&&(T.startTime=I,w=!0)}}tx(t,m),y.start(p_(m,y,x,t.shouldReduceMotion&&Wk.has(m)?{type:!1}:T,t,w));const _=y.animation;_&&d.push(_)}return l&&Promise.all(d).then(()=>{Ft.update(()=>{l&&u9(t,l)})}),d}function lx(t,e,n={}){var r;const s=tg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(TN(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=i;return jU(t,e,p+d,m,y,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,p]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function jU(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,u=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(DU).forEach((d,p)=>{d.notify("AnimationStart",e),o.push(lx(d,e,{...i,delay:n+u(p)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function DU(t,e){return t.sortNodePosition(e)}function MU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>lx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=lx(t,e,n);else{const s=typeof e=="function"?tg(t,e,n.custom):e;r=Promise.all(TN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const OU=zw.length;function SN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OU;n++){const r=zw[n],s=t.props[r];(Md(s)||s===!1)&&(e[r]=s)}return e}const VU=[...Bw].reverse(),LU=Bw.length;function FU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>MU(t,n,r)))}function BU(t){let e=FU(t),n=vE(),r=!0;const s=u=>(d,p)=>{var m;const y=tg(t,p,u==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(y){const{transition:x,transitionEnd:T,...w}=y;d={...d,...w,...T}}return d};function i(u){e=u(t)}function o(u){const{props:d}=t,p=SN(t.parent)||{},m=[],y=new Set;let x={},T=1/0;for(let _=0;_<LU;_++){const R=VU[_],I=n[R],k=d[R]!==void 0?d[R]:p[R],O=Md(k),B=R===u?I.isActive:null;B===!1&&(T=_);let U=k===p[R]&&k!==d[R]&&O;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),I.protectedKeys={...x},!I.isActive&&B===null||!k&&!I.prevProp||Jm(k)||typeof k=="boolean")continue;const M=zU(I.prevProp,k);let E=M||R===u&&I.isActive&&!U&&O||_>T&&O,P=!1;const N=Array.isArray(k)?k:[k];let L=N.reduce(s(R),{});B===!1&&(L={});const{prevResolvedValues:D={}}=I,V={...D,...L},X=Y=>{E=!0,y.has(Y)&&(P=!0,y.delete(Y)),I.needsAnimating[Y]=!0;const K=t.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in V){const K=L[Y],ee=D[Y];if(x.hasOwnProperty(Y))continue;let oe=!1;Z0(K)&&Z0(ee)?oe=!Vk(K,ee):oe=K!==ee,oe?K!=null?X(Y):y.add(Y):K!==void 0&&y.has(Y)?X(Y):I.protectedKeys[Y]=!0}I.prevProp=k,I.prevResolvedValues=L,I.isActive&&(x={...x,...L}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(U&&M)||P)&&m.push(...N.map(Y=>({animation:Y,options:{type:R}})))}if(y.size){const _={};y.forEach(R=>{const I=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),_[R]=I??null}),m.push({animation:_})}let w=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function l(u,d){var p;if(n[u].isActive===d)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(u,d)}),n[u].isActive=d;const m=o(u);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vE(),r=!0}}}function zU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vk(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vE(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UU extends sa{constructor(e){super(e),e.animationState||(e.animationState=BU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $U=0;class HU extends sa{constructor(){super(...arguments),this.id=$U++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const WU={animation:{Feature:UU},exit:{Feature:HU}};function Fd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function uh(t){return{point:{x:t.pageX,y:t.pageY}}}const qU=t=>e=>n_(e)&&t(e,uh(e));function yd(t,e,n,r){return Fd(t,e,qU(n),r)}const xE=(t,e)=>Math.abs(t-e);function GU(t,e){const n=xE(t.x,e.x),r=xE(t.y,e.y);return Math.sqrt(n**2+r**2)}class EN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Mv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=GU(m.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:T}=m,{timestamp:w}=kn;this.history.push({...T,timestamp:w});const{onStart:_,onMove:R}=this.handlers;y||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Dv(y,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:x,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Mv(m.type==="pointercancel"?this.lastMoveEventInfo:Dv(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,_),T&&T(m,_)},!n_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=uh(e),l=Dv(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=kn;this.history=[{...u,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,Mv(l,this.history)),this.removeListeners=ch(yd(this.contextWindow,"pointermove",this.handlePointerMove),yd(this.contextWindow,"pointerup",this.handlePointerUp),yd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qo(this.updatePoint)}}function Dv(t,e){return e?{point:e(t.point)}:t}function wE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mv({point:t},e){return{point:t,delta:wE(t,CN(e)),offset:wE(t,KU(e)),velocity:QU(e,.1)}}function KU(t){return t[0]}function CN(t){return t[t.length-1]}function QU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=CN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>zi(e)));)n--;if(!r)return{x:0,y:0};const i=Ui(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const AN=1e-4,YU=1-AN,XU=1+AN,PN=.01,ZU=0-PN,JU=0+PN;function Dr(t){return t.max-t.min}function e8(t,e,n){return Math.abs(t-e)<=n}function _E(t,e,n,r=.5){t.origin=r,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=Dr(n)/Dr(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=YU&&t.scale<=XU||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZU&&t.translate<=JU||isNaN(t.translate))&&(t.translate=0)}function vd(t,e,n,r){_E(t.x,e.x,n.x,r?r.originX:void 0),_E(t.y,e.y,n.y,r?r.originY:void 0)}function bE(t,e,n){t.min=n.min+e.min,t.max=t.min+Dr(e)}function t8(t,e,n){bE(t.x,e.x,n.x),bE(t.y,e.y,n.y)}function TE(t,e,n){t.min=e.min-n.min,t.max=t.min+Dr(e)}function xd(t,e,n){TE(t.x,e.x,n.x),TE(t.y,e.y,n.y)}function n8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Gt(n,t,r.max):Math.min(t,n)),t}function SE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r8(t,{top:e,left:n,bottom:r,right:s}){return{x:SE(t.x,n,s),y:SE(t.y,e,r)}}function EE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s8(t,e){return{x:EE(t.x,e.x),y:EE(t.y,e.y)}}function i8(t,e){let n=.5;const r=Dr(t),s=Dr(e);return s>r?n=jc(e.min,e.max-r,t.min):r>s&&(n=jc(t.min,t.max-s,e.min)),Ki(0,1,n)}function o8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cx=.35;function a8(t=cx){return t===!1?t=0:t===!0&&(t=cx),{x:CE(t,"left","right"),y:CE(t,"top","bottom")}}function CE(t,e,n){return{min:AE(t,e),max:AE(t,n)}}function AE(t,e){return typeof t=="number"?t:t[e]||0}const PE=()=>({translate:0,scale:1,origin:0,originPoint:0}),lc=()=>({x:PE(),y:PE()}),RE=()=>({min:0,max:0}),Jt=()=>({x:RE(),y:RE()});function Jr(t){return[t("x"),t("y")]}function RN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ov(t){return t===void 0||t===1}function ux({scale:t,scaleX:e,scaleY:n}){return!Ov(t)||!Ov(e)||!Ov(n)}function Fa(t){return ux(t)||IN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IN(t){return IE(t.x)||IE(t.y)}function IE(t){return t&&t!=="0%"}function lm(t,e,n){const r=t-n,s=e*r;return n+s}function kE(t,e,n,r,s){return s!==void 0&&(t=lm(t,s,r)),lm(t,n,r)+e}function dx(t,e=0,n=1,r,s){t.min=kE(t.min,e,n,r,s),t.max=kE(t.max,e,n,r,s)}function kN(t,{x:e,y:n}){dx(t.x,e.translate,e.scale,e.originPoint),dx(t.y,n.translate,n.scale,n.originPoint)}const NE=.999999999999,jE=1.0000000000001;function u8(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kN(t,o)),r&&Fa(i.latestValues)&&uc(t,i.latestValues))}e.x<jE&&e.x>NE&&(e.x=1),e.y<jE&&e.y>NE&&(e.y=1)}function cc(t,e){t.min=t.min+e,t.max=t.max+e}function DE(t,e,n,r,s=.5){const i=Gt(t.min,t.max,s);dx(t,e,n,i,r)}function uc(t,e){DE(t.x,e.x,e.scaleX,e.scale,e.originX),DE(t.y,e.y,e.scaleY,e.scale,e.originY)}function NN(t,e){return RN(c8(t.getBoundingClientRect(),e))}function d8(t,e,n){const r=NN(t,n),{scroll:s}=e;return s&&(cc(r.x,s.offset.x),cc(r.y,s.offset.y)),r}const jN=({current:t})=>t?t.ownerDocument.defaultView:null,h8=new WeakMap;class f8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uh(p).point)},i=(p,m)=>{const{drag:y,dragPropagation:x,onDragStart:T}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i9(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jr(_=>{let R=this.getAxisMotionValue(_).get()||0;if(oi.test(R)){const{projection:I}=this.visualElement;if(I&&I.layout){const k=I.layout.layoutBox[_];k&&(R=Dr(k)*(parseFloat(R)/100))}}this.originPoint[_]=R}),T&&Ft.postRender(()=>T(p,m)),tx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,m)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:T,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=m;if(x&&this.currentDirection===null){this.currentDirection=p8(_),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),w&&w(p,m)},l=(p,m)=>this.stop(p,m),u=()=>Jr(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new EN(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:jN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ft.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!zf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=n8(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&oc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=r8(s.layoutBox,n):this.constraints=!1,this.elastic=a8(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=o8(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=d8(r,s.root,this.visualElement.getTransformPagePoint());let o=s8(s.layout.layoutBox,i);if(n){const l=n(l8(o));this.hasMutatedConstraints=!!l,l&&(o=RN(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Jr(p=>{if(!zf(p,n,this.currentDirection))return;let m=u&&u[p]||{};o&&(m={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tx(this.visualElement,e),r.start(p_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Jr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jr(n=>{const{drag:r}=this.getProps();if(!zf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Gt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=i8({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jr(o=>{if(!zf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Gt(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;h8.set(this.visualElement,this);const e=this.visualElement.current,n=yd(e,"pointerdown",u=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();oc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ft.read(r);const o=Fd(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Jr(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=cx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function zf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function p8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class m8 extends sa{constructor(e){super(e),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new f8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const ME=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class g8 extends sa{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(e){this.session=new EN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ME(e),onStart:ME(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ft.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=yd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(He.test(t))t=parseFloat(t);else return t;const n=OE(t,e.target.x),r=OE(t,e.target.y);return`${n}% ${r}%`}},y8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Yo.parse(t);if(s.length>5)return r;const i=Yo.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const d=Gt(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class v8 extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Lz(x8),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ft.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$w.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DN(t){const[e,n]=JB(),r=S.useContext(gk);return h.jsx(v8,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Sk),isPresent:e,safeToRemove:n})}const x8={borderRadius:{...Qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qu,borderTopRightRadius:Qu,borderBottomLeftRadius:Qu,borderBottomRightRadius:Qu,boxShadow:y8};function w8(t,e,n){const r=Qn(t)?t:Vd(t);return r.start(p_("",r,e,n)),r.animation}function _8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const b8=(t,e)=>t.depth-e.depth;class T8{constructor(){this.children=[],this.isDirty=!1}add(e){r_(this.children,e),this.isDirty=!0}remove(e){s_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b8),this.isDirty=!1,this.children.forEach(e)}}function S8(t,e){const n=ai.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Qo(r),t(i-e))};return Ft.read(r,!0),()=>Qo(r)}const MN=["TopLeft","TopRight","BottomLeft","BottomRight"],E8=MN.length,VE=t=>typeof t=="string"?parseFloat(t):t,LE=t=>typeof t=="number"||He.test(t);function C8(t,e,n,r,s,i){s?(t.opacity=Gt(0,n.opacity!==void 0?n.opacity:1,A8(r)),t.opacityExit=Gt(e.opacity!==void 0?e.opacity:1,0,P8(r))):i&&(t.opacity=Gt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<E8;o++){const l=`border${MN[o]}Radius`;let u=FE(e,l),d=FE(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||LE(u)===LE(d)?(t[l]=Math.max(Gt(VE(u),VE(d),r),0),(oi.test(d)||oi.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,r))}function FE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const A8=ON(0,.5,eN),P8=ON(.5,.95,kr);function ON(t,e,n){return r=>r<t?0:r>e?1:n(jc(t,e,r))}function BE(t,e){t.min=e.min,t.max=e.max}function Xr(t,e){BE(t.x,e.x),BE(t.y,e.y)}function zE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function UE(t,e,n,r,s){return t-=e,t=lm(t,1/n,r),s!==void 0&&(t=lm(t,1/s,r)),t}function R8(t,e=0,n=1,r=.5,s,i=t,o=t){if(oi.test(e)&&(e=parseFloat(e),e=Gt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Gt(i.min,i.max,r);t===i&&(l-=e),t.min=UE(t.min,e,n,l,s),t.max=UE(t.max,e,n,l,s)}function $E(t,e,[n,r,s],i,o){R8(t,e[n],e[r],e[s],e.scale,i,o)}const I8=["x","scaleX","originX"],k8=["y","scaleY","originY"];function HE(t,e,n,r){$E(t.x,e,I8,n?n.x:void 0,r?r.x:void 0),$E(t.y,e,k8,n?n.y:void 0,r?r.y:void 0)}function WE(t){return t.translate===0&&t.scale===1}function VN(t){return WE(t.x)&&WE(t.y)}function qE(t,e){return t.min===e.min&&t.max===e.max}function N8(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function GE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LN(t,e){return GE(t.x,e.x)&&GE(t.y,e.y)}function KE(t){return Dr(t.x)/Dr(t.y)}function QE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class j8{constructor(){this.members=[]}add(e){r_(this.members,e),e.scheduleRender()}remove(e){if(s_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:m,rotateY:y,skewX:x,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const Ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ad=typeof window<"u"&&window.MotionDebug!==void 0,Vv=["","X","Y","Z"],M8={visibility:"hidden"},YE=1e3;let O8=0;function Lv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function FN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Gk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&FN(r)}function BN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=O8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ad&&(Ba.totalNodes=Ba.resolvedTargetDeltas=Ba.recalculatedProjection=0),this.nodes.forEach(F8),this.nodes.forEach(H8),this.nodes.forEach(W8),this.nodes.forEach(B8),ad&&window.MotionDebug.record(Ba)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new T8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new i_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_8(o),this.instance=o;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=S8(y,250),Sp.hasAnimatedSinceResize&&(Sp.hasAnimatedSinceResize=!1,this.nodes.forEach(ZE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||Y8,{onLayoutAnimationStart:_,onLayoutAnimationComplete:R}=p.getProps(),I=!this.targetLayout||!LN(this.targetLayout,T)||x,k=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||y&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const O={...Jw(w,"layout"),onPlay:_,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else y||ZE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XE);return}this.isUpdating||this.nodes.forEach(U8),this.isUpdating=!1,this.nodes.forEach($8),this.nodes.forEach(V8),this.nodes.forEach(L8),this.clearAllSnapshots();const l=ai.now();kn.delta=Ki(0,1e3/60,l-kn.timestamp),kn.timestamp=l,kn.isProcessing=!0,Pv.update.process(kn),Pv.preRender.process(kn),Pv.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$w.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z8),this.sharedNodes.forEach(G8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!VN(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;o&&(l||Fa(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),X8(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Jt();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Z8))){const{scroll:p}=this.root;p&&(cc(u.x,p.offset.x),cc(u.y,p.offset.y))}return u}removeElementScroll(o){var l;const u=Jt();if(Xr(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:y}=p;p!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Xr(u,o),cc(u.x,m.offset.x),cc(u.y,m.offset.y))}return u}applyTransform(o,l=!1){const u=Jt();Xr(u,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&uc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Fa(p.latestValues)&&uc(u,p.latestValues)}return Fa(this.latestValues)&&uc(u,this.latestValues),u}removeTransform(o){const l=Jt();Xr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Fa(d.latestValues))continue;ux(d.latestValues)&&d.updateSnapshot();const p=Jt(),m=d.measurePageBox();Xr(p,m),HE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Fa(this.latestValues)&&HE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),xd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xr(this.target,this.layout.layoutBox),kN(this.target,this.targetDelta)):Xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),xd(this.relativeTargetOrigin,this.target,x.target),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ad&&Ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ux(this.parent.latestValues)||IN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Xr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;u8(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Jt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zE(this.prevProjectionDelta.x,this.projectionDelta.x),zE(this.prevProjectionDelta.y,this.projectionDelta.y)),vd(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),ad&&Ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lc(),this.projectionDelta=lc(),this.projectionDeltaWithTransform=lc()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},p={...this.latestValues},m=lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Jt(),x=u?u.source:void 0,T=this.layout?this.layout.source:void 0,w=x!==T,_=this.getStack(),R=!_||_.members.length<=1,I=!!(w&&!R&&this.options.crossfade===!0&&!this.path.some(Q8));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const B=O/1e3;JE(m.x,o.x,B),JE(m.y,o.y,B),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K8(this.relativeTarget,this.relativeTargetOrigin,y,B),k&&N8(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Jt()),Xr(k,this.relativeTarget)),w&&(this.animationValues=p,C8(p,d,this.latestValues,B,I,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Sp.hasAnimatedSinceResize=!0,this.currentAnimation=w8(0,YE,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:p}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&zN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Jt();const m=Dr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const y=Dr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}Xr(l,u),uc(l,p),vd(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new j8),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Lv("z",o,d,this.animationValues);for(let p=0;p<Vv.length;p++)Lv(`rotate${Vv[p]}`,o,d,this.animationValues),Lv(`skew${Vv[p]}`,o,d,this.animationValues);o.render();for(const p in d)o.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return M8;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=bp(o==null?void 0:o.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=bp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(w.transform=p?p({},""):"none",this.hasProjected=!1),w}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=D8(this.projectionDeltaWithTransform,this.treeScale,y),p&&(d.transform=p(y,d.transform));const{x,y:T}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,m.animationValues?d.opacity=m===this?(u=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in rm){if(y[w]===void 0)continue;const{correct:_,applyTo:R}=rm[w],I=d.transform==="none"?y[w]:_(y[w],m);if(R){const k=R.length;for(let O=0;O<k;O++)d[R[O]]=I}else d[w]=I}return this.options.layoutId&&(d.pointerEvents=m===this?bp(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(XE),this.root.sharedNodes.clear()}}}function V8(t){t.updateLayout()}function L8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Jr(m=>{const y=o?n.measuredBox[m]:n.layoutBox[m],x=Dr(y);y.min=r[m].min,y.max=y.min+x}):zN(i,n.layoutBox,r)&&Jr(m=>{const y=o?n.measuredBox[m]:n.layoutBox[m],x=Dr(r[m]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const l=lc();vd(l,r,n.layoutBox);const u=lc();o?vd(u,t.applyTransform(s,!0),n.measuredBox):vd(u,r,n.layoutBox);const d=!VN(l);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:x}=m;if(y&&x){const T=Jt();xd(T,n.layoutBox,y.layoutBox);const w=Jt();xd(w,r,x.layoutBox),LN(T,w)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=T,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function F8(t){ad&&Ba.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z8(t){t.clearSnapshot()}function XE(t){t.clearMeasurements()}function U8(t){t.isLayoutDirty=!1}function $8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H8(t){t.resolveTargetDelta()}function W8(t){t.calcProjection()}function q8(t){t.resetSkewAndRotation()}function G8(t){t.removeLeadSnapshot()}function JE(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eC(t,e,n,r){t.min=Gt(e.min,n.min,r),t.max=Gt(e.max,n.max,r)}function K8(t,e,n,r){eC(t.x,e.x,n.x,r),eC(t.y,e.y,n.y,r)}function Q8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Y8={duration:.45,ease:[.4,0,.1,1]},tC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nC=tC("applewebkit/")&&!tC("chrome/")?Math.round:kr;function rC(t){t.min=nC(t.min),t.max=nC(t.max)}function X8(t){rC(t.x),rC(t.y)}function zN(t,e,n){return t==="position"||t==="preserve-aspect"&&!e8(KE(e),KE(n),.2)}function Z8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const J8=BN({attachResizeListener:(t,e)=>Fd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fv={current:void 0},UN=BN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fv.current){const t=new J8({});t.mount(window),t.setOptions({layoutScroll:!0}),Fv.current=t}return Fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e7={pan:{Feature:g8},drag:{Feature:m8,ProjectionNode:UN,MeasureLayout:DN}};function sC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ft.postRender(()=>i(e,uh(e)))}class t7 extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=e9(e,n=>(sC(this.node,n,"Start"),r=>sC(this.node,r,"End"))))}unmount(){}}class n7 extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ch(Fd(this.node.current,"focus",()=>this.onFocus()),Fd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iC(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ft.postRender(()=>i(e,uh(e)))}class r7 extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=s9(e,n=>(iC(this.node,n,"Start"),(r,{success:s})=>iC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hx=new WeakMap,Bv=new WeakMap,s7=t=>{const e=hx.get(t.target);e&&e(t)},i7=t=>{t.forEach(s7)};function o7({root:t,...e}){const n=t||document;Bv.has(n)||Bv.set(n,{});const r=Bv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(i7,{root:t,...e})),r[s]}function a7(t,e,n){const r=o7(e);return hx.set(t,n),r.observe(t),()=>{hx.delete(t),r.unobserve(t)}}const l7={some:0,all:1};class c7 extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:l7[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=d?p:m;y&&y(u)};return a7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u7(e,n))&&this.startObserver()}unmount(){}}function u7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d7={inView:{Feature:c7},tap:{Feature:r7},focus:{Feature:n7},hover:{Feature:t7}},h7={layout:{ProjectionNode:UN,MeasureLayout:DN}},fx={current:null},$N={current:!1};function f7(){if($N.current=!0,!!Lw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fx.current=t.matches;t.addListener(e),e()}else fx.current=!1}const p7=[...pN,qn,Yo],m7=t=>p7.find(fN(t)),oC=new WeakMap;function g7(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Qn(s))t.addValue(r,s);else if(Qn(i))t.addValue(r,Vd(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Vd(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ai.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ft.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:p}=o;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=eg(n),this.isVariantNode=bk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const T=y[x];u[x]!==void 0&&Qn(T)&&T.set(u[x],!1)}}mount(e){this.current=e,oC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$N.current||f7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oC.delete(this.current),this.projection&&this.projection.unmount(),Qo(this.notifyUpdate),Qo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=cl.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dc){const n=Dc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aC.length;r++){const s=aC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(dN(s)||nN(s))?s=parseFloat(s):!m7(s)&&Yo.test(n)&&(s=lN(e,n)),this.setBaseTarget(e,Qn(s)?s.get():s)),Qn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Ww(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class HN extends y7{constructor(){super(...arguments),this.KeyframeResolver=mN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function v7(t){return window.getComputedStyle(t)}class x7 extends HN{constructor(){super(...arguments),this.type="html",this.renderInstance=kk}readValueFromInstance(e,n){if(cl.has(n)){const r=u_(n);return r&&r.default||0}else{const r=v7(e),s=(Pk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NN(e,n)}build(e,n,r){Kw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Zw(e,n,r)}}class w7 extends HN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cl.has(n)){const r=u_(n);return r&&r.default||0}return n=Nk.has(n)?n:Uw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Mk(e,n,r)}build(e,n,r){Qw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){jk(e,n,r,s)}mount(e){this.isSVGTag=Xw(e.tagName),super.mount(e)}}const _7=(t,e)=>Hw(t)?new w7(e):new x7(e,{allowProjection:t!==S.Fragment}),b7=Gz({...WU,...d7,...e7,...h7},_7),Le=lz(b7),T7=Ym("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),we=Fe.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?R6:"button";return h.jsx(o,{className:We(T7({variant:e,size:n,className:t})),ref:i,...s})});we.displayName="Button";const ct=Fe.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ct.displayName="Input";var S7="Label",WN=S.forwardRef((t,e)=>h.jsx(Ue.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WN.displayName=S7;var qN=WN;const E7=Ym("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=Fe.forwardRef(({className:t,...e},n)=>h.jsx(qN,{ref:n,className:We(E7(),t),...e}));Qe.displayName=qN.displayName;const nt=Fe.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));nt.displayName="Card";const at=Fe.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",t),...e}));at.displayName="CardHeader";const lt=Fe.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",t),...e}));lt.displayName="CardTitle";const Dn=Fe.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Dn.displayName="CardDescription";const it=Fe.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:We("p-6 pt-0",t),...e}));it.displayName="CardContent";const ia=Fe.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",t),...e}));ia.displayName="CardFooter";const C7=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,l]=S.useState(!1),{login:u}=Lr(),{toast:d}=Zn(),p=async y=>{y.preventDefault(),l(!0);try{const x=await u(t,n);x.success?d({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${x.user.nome}!`}):d({title:"Erro no login",description:x.error,variant:"destructive"})}catch{d({title:"Erro no login",description:"Ocorreu um erro inesperado. Tente novamente.",variant:"destructive"})}finally{l(!1)}},m=y=>{y==="admin"?(e("admin@empresa.com"),r("123456")):(e("joao@empresa.com"),r("123456"))};return h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsxs(at,{className:"text-center space-y-4",children:[h.jsx(Le.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:h.jsx(ii,{className:"w-8 h-8 text-white"})}),h.jsxs("div",{children:[h.jsx(lt,{className:"text-2xl font-bold text-white",children:"Central de Treinamento NTW"}),h.jsx(Dn,{className:"text-slate-300",children:"Faça login para acessar sua conta"})]})]}),h.jsxs(it,{className:"space-y-6",children:[h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"email",className:"text-slate-200",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(rk,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:y=>e(y.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"senha",className:"text-slate-200",children:"Senha"}),h.jsxs("div",{className:"relative",children:[h.jsx(Mw,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{id:"senha",type:s?"text":"password",placeholder:"Sua senha",value:n,onChange:y=>r(y.target.value),className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0}),h.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-200",children:s?h.jsx(PB,{className:"h-4 w-4"}):h.jsx(RB,{className:"h-4 w-4"})})]})]}),h.jsx(we,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:o,children:o?"Entrando...":"Entrar"})]}),h.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[h.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Acesso de demonstração:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>m("admin"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Admin"}),h.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>m("funcionario"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Funcionário"})]})]})]})]})})})},A7=({activeTab:t,setActiveTab:e,onLogout:n})=>{var u;const{user:r,isAdmin:s}=Lr(),i=[{id:"dashboard",label:"Dashboard",icon:DB},{id:"usuarios",label:"Usuários",icon:lk},{id:"pdi",label:"Planos (PDI)",icon:X0},{id:"treinamentos",label:"Treinamentos",icon:ii},{id:"trilhas",label:"Trilhas",icon:GS},{id:"simulados",label:"Simulados (Admin)",icon:Nc},{id:"categorias",label:"Categorias",icon:jB},{id:"departamentos",label:"Departamentos",icon:Iw},{id:"relatorios",label:"Relatórios",icon:qS},{id:"gerenciar-conhecimento",label:"Gerenciar Conhecimento",icon:IB},{id:"configuracoes",label:"Configurações",icon:FB}],o=[{id:"meu-pdi",label:"Meu PDI",icon:X0},{id:"meus-treinamentos",label:"Meus Treinamentos",icon:ii},{id:"meus-simulados",label:"Meus Simulados",icon:Nc},{id:"minhas-trilhas",label:"Minhas Trilhas",icon:GS},{id:"progresso",label:"Meu Progresso",icon:qS},{id:"ranking",label:"Ranking",icon:tm},{id:"base-de-conhecimento",label:"Conhecimento",icon:Rw}],l=s()?i:o;return h.jsxs(Le.div,{initial:{x:-300},animate:{x:0},className:"w-64 bg-slate-800/50 backdrop-blur-lg border-r border-slate-700 h-screen flex flex-col",children:[h.jsx("div",{className:"p-6 border-b border-slate-700",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:h.jsx(ii,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-lg font-bold text-white",children:"Central de"}),h.jsx("p",{className:"text-sm text-slate-300",children:"Treinamento NTW"})]})]})}),h.jsx("div",{className:"p-4 border-b border-slate-700",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-semibold text-white",children:((u=r==null?void 0:r.nome)==null?void 0:u.charAt(0))||"U"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-white truncate",children:r==null?void 0:r.nome}),h.jsx("p",{className:"text-xs text-slate-400 truncate",children:(r==null?void 0:r.tipo)==="admin"?"Administrador":"Funcionário"})]})]})}),h.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:l.map(d=>{const p=d.icon,m=t===d.id;return h.jsxs(Le.button,{onClick:()=>e(d.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${m?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(p,{className:"w-5 h-5"}),h.jsx("span",{className:"font-medium",children:d.label})]},d.id)})}),h.jsx("div",{className:"p-4 border-t border-slate-700 mt-auto",children:h.jsxs(we,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-white hover:bg-red-500/20",children:[h.jsx(OB,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},px=10,gt=async t=>{try{const e=await Sn(Tn(Pt,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},dh=async(t,e)=>{const n=e||{},{lastVisible:r=null,orderByField:s="dataCriacao",orderDirection:i="desc"}=n;try{const o=sr(Tn(Pt,t),U0(s,i),$0(px)),l=r?sr(o,H0(r)):o,u=await Sn(l),d=[];u.forEach(m=>{d.push({id:m.id,...m.data()})});const p=u.docs.length>0?u.docs[u.docs.length-1]:null;return{data:d,lastVisible:p}}catch(o){return console.error(`Erro ao buscar dados paginados de ${t}:`,o),{data:[],lastVisible:null}}},P7=async(t,e={})=>{const{lastVisibleDept:n=null,lastVisibleTodos:r=null}=e;try{const s=Tn(Pt,"treinamentos"),i=sr(s,ir("ativo","==",!0),ir("departamento","==",t),U0("dataPublicacao","desc"),$0(px)),o=n?sr(i,H0(n)):i,l=sr(s,ir("ativo","==",!0),ir("departamento","==","Todos"),U0("dataPublicacao","desc"),$0(px)),u=r?sr(l,H0(r)):l,[d,p]=await Promise.all([Sn(o),Sn(u)]),m=[];d.forEach(T=>m.push({id:T.id,...T.data()})),p.forEach(T=>m.push({id:T.id,...T.data()}));const y=d.docs.length>0?d.docs[d.docs.length-1]:null,x=p.docs.length>0?p.docs[p.docs.length-1]:null;return{data:m,lastVisibleDept:y,lastVisibleTodos:x}}catch(s){return console.error("Erro ao buscar treinamentos paginados:",s),{data:[],lastVisibleDept:null,lastVisibleTodos:null}}},ls=async(t,e)=>{try{return(await m3(Tn(Pt,t),e)).id}catch(n){return console.error(`Erro ao adicionar documento em ${t}:`,n),null}},ss=async(t,e,n)=>{try{const r=ui(Pt,t,String(e));await Zp(r,n,{merge:!0})}catch(r){console.error(`Erro ao atualizar documento em ${t}:`,r)}},R7=async t=>{try{const e=String(t),n=sr(Tn(Pt,"resultadosSimulados"),ir("usuarioId","==",t)),r=await Sn(n);for(const l of r.docs)await W0(l.ref);const s=sr(Tn(Pt,"historico"),ir("usuarioId","==",t)),i=await Sn(s);for(const l of i.docs)await W0(l.ref);const o=ui(Pt,"usuarios",e);await fI(o,{titulo:"Iniciante",medalhas:[]})}catch(e){throw console.error(`Erro ao zerar dados do usuário ${t}:`,e),new Error("Não foi possível zerar o desempenho do usuário.")}},eo=async(t,e)=>{try{await W0(ui(Pt,t,String(e)))}catch(n){console.error(`Erro ao deletar documento em ${t}:`,n)}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function hh(t){return t+.5|0}const No=(t,e,n)=>Math.max(Math.min(t,n),e);function ld(t){return No(hh(t*2.55),0,255)}function Fo(t){return No(hh(t*255),0,255)}function Fi(t){return No(hh(t/2.55)/100,0,1)}function lC(t){return No(hh(t*100),0,100)}const Zr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mx=[..."0123456789ABCDEF"],I7=t=>mx[t&15],k7=t=>mx[(t&240)>>4]+mx[t&15],Uf=t=>(t&240)>>4===(t&15),N7=t=>Uf(t.r)&&Uf(t.g)&&Uf(t.b)&&Uf(t.a);function j7(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Zr[t[1]]*17,g:255&Zr[t[2]]*17,b:255&Zr[t[3]]*17,a:e===5?Zr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Zr[t[1]]<<4|Zr[t[2]],g:Zr[t[3]]<<4|Zr[t[4]],b:Zr[t[5]]<<4|Zr[t[6]],a:e===9?Zr[t[7]]<<4|Zr[t[8]]:255})),n}const D7=(t,e)=>t<255?e(t):"";function M7(t){var e=N7(t)?I7:k7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+D7(t.a,e):void 0}const O7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GN(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function V7(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function L7(t,e,n){const r=GN(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function F7(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function m_(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),l=(i+o)/2;let u,d,p;return i!==o&&(p=i-o,d=l>.5?p/(2-i-o):p/(i+o),u=F7(n,r,s,p,i),u=u*60+.5),[u|0,d||0,l]}function g_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Fo)}function y_(t,e,n){return g_(GN,t,e,n)}function B7(t,e,n){return g_(L7,t,e,n)}function z7(t,e,n){return g_(V7,t,e,n)}function KN(t){return(t%360+360)%360}function U7(t){const e=O7.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ld(+e[5]):Fo(+e[5]));const s=KN(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=B7(s,i,o):e[1]==="hsv"?r=z7(s,i,o):r=y_(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function $7(t,e){var n=m_(t);n[0]=KN(n[0]+e),n=y_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function H7(t){if(!t)return;const e=m_(t),n=e[0],r=lC(e[1]),s=lC(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Fi(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const cC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function W7(){const t={},e=Object.keys(uC),n=Object.keys(cC);let r,s,i,o,l;for(r=0;r<e.length;r++){for(o=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,cC[i]);i=parseInt(uC[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let $f;function q7(t){$f||($f=W7(),$f.transparent=[0,0,0,0]);const e=$f[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const G7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function K7(t){const e=G7.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?ld(o):No(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?ld(r):No(r,0,255)),s=255&(e[4]?ld(s):No(s,0,255)),i=255&(e[6]?ld(i):No(i,0,255)),{r,g:s,b:i,a:n}}}function Q7(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Fi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const zv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Zl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Y7(t,e,n){const r=Zl(Fi(t.r)),s=Zl(Fi(t.g)),i=Zl(Fi(t.b));return{r:Fo(zv(r+n*(Zl(Fi(e.r))-r))),g:Fo(zv(s+n*(Zl(Fi(e.g))-s))),b:Fo(zv(i+n*(Zl(Fi(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Hf(t,e,n){if(t){let r=m_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=y_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function QN(t,e){return t&&Object.assign(e||{},t)}function dC(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fo(t[3]))):(e=QN(t,{r:0,g:0,b:0,a:1}),e.a=Fo(e.a)),e}function X7(t){return t.charAt(0)==="r"?K7(t):U7(t)}class Bd{constructor(e){if(e instanceof Bd)return e;const n=typeof e;let r;n==="object"?r=dC(e):n==="string"&&(r=j7(e)||q7(e)||X7(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=QN(this._rgb);return e&&(e.a=Fi(e.a)),e}set rgb(e){this._rgb=dC(e)}rgbString(){return this._valid?Q7(this._rgb):void 0}hexString(){return this._valid?M7(this._rgb):void 0}hslString(){return this._valid?H7(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,l=2*o-1,u=r.a-s.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;i=1-d,r.r=255&d*r.r+i*s.r+.5,r.g=255&d*r.g+i*s.g+.5,r.b=255&d*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Y7(this._rgb,e._rgb,n)),this}clone(){return new Bd(this.rgb)}alpha(e){return this._rgb.a=Fo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=hh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Hf(this._rgb,2,e),this}darken(e){return Hf(this._rgb,2,-e),this}saturate(e){return Hf(this._rgb,1,e),this}desaturate(e){return Hf(this._rgb,1,-e),this}rotate(e){return $7(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Mi(){}const Z7=(()=>{let t=0;return()=>t++})();function kt(t){return t==null}function fn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function is(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Qs(t,e){return is(t)?t:e}function St(t,e){return typeof t>"u"?e:t}const J7=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function At(t,e,n,r){let s,i,o;if(fn(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(bt(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function cm(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function um(t){if(fn(t))return t.map(um);if(bt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=um(t[n[s]]);return e}return t}function YN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function e$(t,e,n,r){if(!YN(t))return;const s=e[t],i=n[t];bt(s)&&bt(i)?zd(s,i,r):e[t]=um(i)}function zd(t,e,n){const r=fn(e)?e:[e],s=r.length;if(!bt(t))return t;n=n||{};const i=n.merger||e$;let o;for(let l=0;l<s;++l){if(o=r[l],!bt(o))continue;const u=Object.keys(o);for(let d=0,p=u.length;d<p;++d)i(u[d],t,o,n)}return t}function wd(t,e){return zd(t,e,{merger:t$})}function t$(t,e,n){if(!YN(t))return;const r=e[t],s=n[t];bt(r)&&bt(s)?wd(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=um(s))}const hC={"":t=>t,x:t=>t.x,y:t=>t.y};function n$(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function r$(t){const e=n$(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Oc(t,e){return(hC[e]||(hC[e]=r$(e)))(t)}function v_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ud=t=>typeof t<"u",Xo=t=>typeof t=="function",fC=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function s$(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xn=Math.PI,Bo=2*Xn,dm=Number.POSITIVE_INFINITY,i$=Xn/180,Is=Xn/2,Da=Xn/4,pC=Xn*2/3,XN=Math.log10,zo=Math.sign;function Ep(t,e,n){return Math.abs(t-e)<n}function mC(t){const e=Math.round(t);t=Ep(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(XN(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function o$(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function a$(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function hm(t){return!a$(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function l$(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function c$(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function qa(t){return t*(Xn/180)}function u$(t){return t*(180/Xn)}function gC(t){if(!is(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function d$(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Xn&&(i+=Bo),{angle:i,distance:s}}function h$(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ma(t){return(t%Bo+Bo)%Bo}function f$(t,e,n,r){const s=Ma(t),i=Ma(e),o=Ma(n),l=Ma(i-s),u=Ma(o-s),d=Ma(s-i),p=Ma(s-o);return s===i||s===o||r||l>u&&d<p}function ks(t,e,n){return Math.max(e,Math.min(n,t))}function p$(t){return ks(t,-32768,32767)}function dc(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function x_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const gx=(t,e,n,r)=>x_(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),m$=(t,e,n)=>x_(t,n,r=>t[r][e]>=n);function g$(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const ZN=["push","pop","shift","splice","unshift"];function y$(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ZN.forEach(n=>{const r="_onData"+v_(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),o}})})}function yC(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(ZN.forEach(i=>{delete t[i]}),delete t._chartjs)}function JN(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const e2=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function t2(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,e2.call(window,()=>{r=!1,t.apply(e,n)}))}}function v$(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const w_=t=>t==="start"?"left":t==="end"?"right":"center",Wn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,x$=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Wf=t=>t===0||t===1,vC=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Bo/n)),xC=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Bo/n)+1,_d={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Is)+1,easeOutSine:t=>Math.sin(t*Is),easeInOutSine:t=>-.5*(Math.cos(Xn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wf(t)?t:vC(t,.075,.3),easeOutElastic:t=>Wf(t)?t:xC(t,.075,.3),easeInOutElastic(t){return Wf(t)?t:t<.5?.5*vC(t*2,.1125,.45):.5+.5*xC(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_d.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_d.easeInBounce(t*2)*.5:_d.easeOutBounce(t*2-1)*.5+.5};function n2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wC(t){return n2(t)?t:new Bd(t)}function Uv(t){return n2(t)?t:new Bd(t).saturate(.5).darken(.1).hexString()}const w$=["x","y","borderWidth","radius","tension"],_$=["color","borderColor","backgroundColor"];function b$(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_$},numbers:{type:"number",properties:w$}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function T$(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _C=new Map;function S$(t,e){e=e||{};const n=t+JSON.stringify(e);let r=_C.get(n);return r||(r=new Intl.NumberFormat(t,e),_C.set(n,r)),r}function r2(t,e,n){return S$(e,n).format(t)}const E$={values(t){return fn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=C$(t,n)}const o=XN(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),r2(t,r,u)}};function C$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var s2={formatters:E$};function A$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:s2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const el=Object.create(null),yx=Object.create(null);function bd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function $v(t,e,n){return typeof e=="string"?zd(bd(t,e),n):zd(bd(t,""),e)}class P${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Uv(s.backgroundColor),this.hoverBorderColor=(r,s)=>Uv(s.borderColor),this.hoverColor=(r,s)=>Uv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return $v(this,e,n)}get(e){return bd(this,e)}describe(e,n){return $v(yx,e,n)}override(e,n){return $v(el,e,n)}route(e,n,r,s){const i=bd(this,e),o=bd(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=o[s];return bt(u)?Object.assign({},d,u):St(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var nn=new P$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[b$,T$,A$]);function R$(t){return!t||kt(t.size)||kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function bC(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Oa(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function TC(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function SC(t,e,n,r){i2(t,e,n,r,null)}function i2(t,e,n,r,s){let i,o,l,u,d,p,m,y;const x=e.pointStyle,T=e.rotation,w=e.radius;let _=(T||0)*i$;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),x){default:s?t.ellipse(n,r,s/2,w,0,0,Bo):t.arc(n,r,w,0,Bo),t.closePath();break;case"triangle":p=s?s/2:w,t.moveTo(n+Math.sin(_)*p,r-Math.cos(_)*w),_+=pC,t.lineTo(n+Math.sin(_)*p,r-Math.cos(_)*w),_+=pC,t.lineTo(n+Math.sin(_)*p,r-Math.cos(_)*w),t.closePath();break;case"rectRounded":d=w*.516,u=w-d,o=Math.cos(_+Da)*u,m=Math.cos(_+Da)*(s?s/2-d:u),l=Math.sin(_+Da)*u,y=Math.sin(_+Da)*(s?s/2-d:u),t.arc(n-m,r-l,d,_-Xn,_-Is),t.arc(n+y,r-o,d,_-Is,_),t.arc(n+m,r+l,d,_,_+Is),t.arc(n-y,r+o,d,_+Is,_+Xn),t.closePath();break;case"rect":if(!T){u=Math.SQRT1_2*w,p=s?s/2:u,t.rect(n-p,r-u,2*p,2*u);break}_+=Da;case"rectRot":m=Math.cos(_)*(s?s/2:w),o=Math.cos(_)*w,l=Math.sin(_)*w,y=Math.sin(_)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+y,r-o),t.lineTo(n+m,r+l),t.lineTo(n-y,r+o),t.closePath();break;case"crossRot":_+=Da;case"cross":m=Math.cos(_)*(s?s/2:w),o=Math.cos(_)*w,l=Math.sin(_)*w,y=Math.sin(_)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+y,r-o),t.lineTo(n-y,r+o);break;case"star":m=Math.cos(_)*(s?s/2:w),o=Math.cos(_)*w,l=Math.sin(_)*w,y=Math.sin(_)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+y,r-o),t.lineTo(n-y,r+o),_+=Da,m=Math.cos(_)*(s?s/2:w),o=Math.cos(_)*w,l=Math.sin(_)*w,y=Math.sin(_)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+y,r-o),t.lineTo(n-y,r+o);break;case"line":o=s?s/2:Math.cos(_)*w,l=Math.sin(_)*w,t.moveTo(n-o,r-l),t.lineTo(n+o,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(s?s/2:w),r+Math.sin(_)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function o2(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function __(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function b_(t){t.restore()}function I$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function k$(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,u=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,p=s.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,p),t.lineTo(l,p),t.stroke()}}function N$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $d(t,e,n,r,s,i={}){const o=fn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let u,d;for(t.save(),t.font=s.string,I$(t,i),u=0;u<o.length;++u)d=o[u],i.backdrop&&N$(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),kt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,r,i.maxWidth)),t.fillText(d,n,r,i.maxWidth),k$(t,n,r,d,i),r+=Number(s.lineHeight);t.restore()}function fm(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Xn,Xn,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Xn,Is,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Is,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Is,!0),t.lineTo(n+o.topLeft,r)}const j$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,D$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function M$(t,e){const n=(""+t).match(j$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const O$=t=>+t||0;function a2(t,e){const n={},r=bt(e),s=r?Object.keys(e):e,i=bt(t)?r?o=>St(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=O$(i(o));return n}function l2(t){return a2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function yc(t){return a2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function os(t){const e=l2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yn(t,e){t=t||{},e=e||nn.font;let n=St(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=St(t.style,e.style);r&&!(""+r).match(D$)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:St(t.family,e.family),lineHeight:M$(St(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:St(t.weight,e.weight),string:""};return s.string=R$(s),s}function qf(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function V$(t,e,n){const{min:r,max:s}=t,i=J7(e,(s-r)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Yc(t,e){return Object.assign(Object.create(t),e)}function T_(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=h2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>T_([l,...t],e,i,r)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return u2(l,u,()=>W$(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return CC(l).includes(u)},ownKeys(l){return CC(l)},set(l,u,d){const p=l._storage||(l._storage=s());return l[u]=p[u]=d,delete l._keys,!0}})}function Vc(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:c2(t,r),setContext:i=>Vc(t,i,n,r),override:i=>Vc(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return u2(i,o,()=>F$(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function c2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Xo(n)?n:()=>n,isIndexable:Xo(r)?r:()=>r}}const L$=(t,e)=>t?t+v_(e):e,S_=(t,e)=>bt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function u2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function F$(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let l=r[e];return Xo(l)&&o.isScriptable(e)&&(l=B$(e,l,t,n)),fn(l)&&l.length&&(l=z$(e,l,t,o.isIndexable)),S_(e,l)&&(l=Vc(l,s,i&&i[e],o)),l}function B$(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(i,o||r);return l.delete(t),S_(t,u)&&(u=E_(s._scopes,s,t,u)),u}function z$(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(bt(e[0])){const u=e,d=s._scopes.filter(p=>p!==u);e=[];for(const p of u){const m=E_(d,s,t,p);e.push(Vc(m,i,o&&o[t],l))}}return e}function d2(t,e,n){return Xo(t)?t(e,n):t}const U$=(t,e)=>t===!0?e:typeof t=="string"?Oc(e,t):void 0;function $$(t,e,n,r,s){for(const i of e){const o=U$(n,i);if(o){t.add(o);const l=d2(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function E_(t,e,n,r){const s=e._rootScopes,i=d2(e._fallback,n,r),o=[...t,...s],l=new Set;l.add(r);let u=EC(l,o,n,i||n,r);return u===null||typeof i<"u"&&i!==n&&(u=EC(l,o,i,u,r),u===null)?!1:T_(Array.from(l),[""],s,i,()=>H$(e,n,r))}function EC(t,e,n,r,s){for(;n;)n=$$(t,e,n,r,s);return n}function H$(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return fn(s)&&bt(n)?n:s||{}}function W$(t,e,n,r){let s;for(const i of e)if(s=h2(L$(i,t),n),typeof s<"u")return S_(t,s)?E_(n,r,t,s):s}function h2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function CC(t){let e=t._keys;return e||(e=t._keys=q$(t._scopes)),e}function q$(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function C_(){return typeof window<"u"&&typeof document<"u"}function A_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pm(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const rg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function G$(t,e){return rg(t).getPropertyValue(e)}const K$=["top","right","bottom","left"];function Ya(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=K$[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Q$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Y$(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,l,u;if(Q$(s,i,t.target))l=s,u=i;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,o=!0}return{x:l,y:u,box:o}}function za(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=rg(n),i=s.boxSizing==="border-box",o=Ya(s,"padding"),l=Ya(s,"border","width"),{x:u,y:d,box:p}=Y$(t,n),m=o.left+(p&&l.left),y=o.top+(p&&l.top);let{width:x,height:T}=e;return i&&(x-=o.width+l.width,T-=o.height+l.height),{x:Math.round((u-m)/x*n.width/r),y:Math.round((d-y)/T*n.height/r)}}function X$(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&A_(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),l=rg(i),u=Ya(l,"border","width"),d=Ya(l,"padding");e=o.width-d.width-u.width,n=o.height-d.height-u.height,r=pm(l.maxWidth,i,"clientWidth"),s=pm(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||dm,maxHeight:s||dm}}const Gf=t=>Math.round(t*10)/10;function Z$(t,e,n,r){const s=rg(t),i=Ya(s,"margin"),o=pm(s.maxWidth,t,"clientWidth")||dm,l=pm(s.maxHeight,t,"clientHeight")||dm,u=X$(t,e,n);let{width:d,height:p}=u;if(s.boxSizing==="content-box"){const y=Ya(s,"border","width"),x=Ya(s,"padding");d-=x.width+y.width,p-=x.height+y.height}return d=Math.max(0,d-i.width),p=Math.max(0,r?d/r:p-i.height),d=Gf(Math.min(d,o,u.maxWidth)),p=Gf(Math.min(p,l,u.maxHeight)),d&&!p&&(p=Gf(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&p>u.height&&(p=u.height,d=Gf(Math.floor(p*r))),{width:d,height:p}}function AC(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const J$=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};C_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function PC(t,e){const n=G$(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const eH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},tH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vc(t,e,n){return t?eH(e,n):tH()}function f2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function p2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Kf(t,e,n){return t.options.clip?t[n]:e[n]}function nH(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Kf(n,e,"left"),right:Kf(n,e,"right"),top:Kf(r,e,"top"),bottom:Kf(r,e,"bottom")}:e}function rH(t,e){const n=e._clip;if(n.disabled)return!1;const r=nH(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=e2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,l=!1,u;for(;o>=0;--o)u=i[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Oi=new sH;const RC="transparent",iH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=wC(t||RC),s=r.valid&&wC(e||RC);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class oH{constructor(e,n,r,s){const i=n[r];s=qf([e.to,s,i,e.from]);const o=qf([e.from,i,s]);this._active=!0,this._fn=e.fn||iH[e.type||typeof o],this._easing=_d[e.easing]||_d.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=qf([e.to,n,s,e.from]),this._from=qf([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,l=this._to;let u;if(this._active=i!==l&&(o||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(i,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class m2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!bt(e))return;const n=Object.keys(nn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!bt(i))return;const o={};for(const l of n)o[l]=i[l];(fn(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,o)})})}_animateOptions(e,n){const r=n.options,s=lH(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&aH(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[d];let m=i[d];const y=r.get(d);if(m)if(y&&m.active()){m.update(y,p,l);continue}else m.cancel();if(!y||!y.duration){e[d]=p;continue}i[d]=m=new oH(y,e,d,p),s.push(m)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Oi.add(this._chart,r),!0}}function aH(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function lH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function IC(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function cH(t,e,n){if(n===!1)return!1;const r=IC(t,n),s=IC(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function uH(t){let e,n,r,s;return bt(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function g2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function kC(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,l,u,d;if(e===null)return;let p=!1;for(o=0,l=s.length;o<l;++o){if(u=+s[o],u===n){if(p=!0,r.all)continue;break}d=t.values[u],is(d)&&(i||e===0||zo(e)===zo(d))&&(e+=d)}return!p&&!r.all?0:e}function dH(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,d,p;for(u=0,d=o.length;u<d;++u)p=o[u],l[u]={[s]:p,[i]:t[p]};return l}function Hv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function hH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function fH(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function pH(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function NC(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function jC(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=r,u=i.axis,d=o.axis,p=hH(i,o,r),m=e.length;let y;for(let x=0;x<m;++x){const T=e[x],{[u]:w,[d]:_}=T,R=T._stacks||(T._stacks={});y=R[d]=pH(s,p,w),y[l]=_,y._top=NC(y,o,!0,r.type),y._bottom=NC(y,o,!1,r.type);const I=y._visualValues||(y._visualValues={});I[l]=_}}function Wv(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function mH(t,e){return Yc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gH(t,e,n){return Yc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const qv=t=>t==="reset"||t==="none",DC=(t,e)=>e?t:Object.assign({},t),yH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:g2(n,!0),values:null};class Td{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(m,y,x,T)=>m==="x"?y:m==="r"?T:x,i=n.xAxisID=St(r.xAxisID,Wv(e,"x")),o=n.yAxisID=St(r.yAxisID,Wv(e,"y")),l=n.rAxisID=St(r.rAxisID,Wv(e,"r")),u=n.indexAxis,d=n.iAxisID=s(u,i,o,l),p=n.vAxisID=s(u,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&yC(this._data,this),e._stacked&&Yu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(bt(n)){const s=this._cachedMeta;this._data=dH(n,s)}else if(r!==n){if(r){yC(r,this);const s=this._cachedMeta;Yu(s),s._parsed=[]}n&&Object.isExtensible(n)&&y$(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Hv(n.vScale,n),n.stack!==r.stack&&(s=!0,Yu(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(jC(this,n._parsed),n._stacked=Hv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,l=i.axis;let u=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],p,m,y;if(this._parsing===!1)r._parsed=s,r._sorted=!0,y=s;else{fn(s[e])?y=this.parseArrayData(r,s,e,n):bt(s[e])?y=this.parseObjectData(r,s,e,n):y=this.parsePrimitiveData(r,s,e,n);const x=()=>m[l]===null||d&&m[l]<d[l];for(p=0;p<n;++p)r._parsed[p+e]=m=y[p],u&&(x()&&(u=!1),d=m);r._sorted=u}o&&jC(this,y)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,l=i.axis,u=o.axis,d=i.getLabels(),p=i===o,m=new Array(s);let y,x,T;for(y=0,x=s;y<x;++y)T=y+r,m[y]={[l]:p||i.parse(d[T],T),[u]:o.parse(n[T],T)};return m}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,l=new Array(s);let u,d,p,m;for(u=0,d=s;u<d;++u)p=u+r,m=n[p],l[u]={x:i.parse(m[0],p),y:o.parse(m[1],p)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let p,m,y,x;for(p=0,m=s;p<m;++p)y=p+r,x=n[y],d[p]={x:i.parse(Oc(x,l),y),y:o.parse(Oc(x,u),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],l={keys:g2(s,!0),values:n._stacks[e.axis]._visualValues};return kC(l,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,o=kC(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,l=this._getOtherScale(e),u=yH(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=fH(l);let y,x;function T(){x=s[y];const w=x[l.axis];return!is(x[e.axis])||p>w||m<w}for(y=0;y<o&&!(!T()&&(this.updateRangeFromParsed(d,e,x,u),i));++y);if(i){for(y=o-1;y>=0;--y)if(!T()){this.updateRangeFromParsed(d,e,x,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],is(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=uH(St(this.options.clip,cH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,i,l,u),p=l;p<l+u;++p){const m=s[p];m.hidden||(m.active&&d?o.push(m):m.draw(e,i))}for(p=0;p<o.length;++p)o[p].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=gH(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=mH(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,l=i[o],u=this.enableOptionSharing&&Ud(r);if(l)return DC(l,u);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),p),x=Object.keys(nn.elements[e]),T=()=>this.getContext(r,s,n),w=d.resolveNamedOptions(y,x,T,m);return w.$shared&&(w.$shared=u,i[o]=Object.freeze(DC(w,u))),w}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let u;if(s.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),m);u=p.createResolver(y,this.getContext(e,r,n))}const d=new m2(s,u&&u.animations);return u&&u._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||qv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){qv(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!qv(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(u(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Yu(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}vt(Td,"defaults",{}),vt(Td,"datasetElementType",null),vt(Td,"dataElementType",null);function vH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=JN(r.sort((s,i)=>s-i))}return t._cache.$bar}function xH(t){const e=t.iScale,n=vH(e,t.type);let r=e._length,s,i,o,l;const u=()=>{o===32767||o===-32768||(Ud(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),u();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),u();return r}function wH(t,e,n,r){const s=n.barThickness;let i,o;return kt(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function _H(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const u=n.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/r,ratio:n.barPercentage,start:d}}function bH(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),l=Math.max(s,i);let u=o,d=l;Math.abs(o)>Math.abs(l)&&(u=l,d=o),e[n.axis]=d,e._custom={barStart:u,barEnd:d,start:s,end:i,min:o,max:l}}function y2(t,e,n,r){return fn(t)?bH(t,e,n,r):e[n.axis]=n.parse(t,r),e}function MC(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),l=s===i,u=[];let d,p,m,y;for(d=n,p=n+r;d<p;++d)y=e[d],m={},m[s.axis]=l||s.parse(o[d],d),u.push(y2(y,m,i,d));return u}function Gv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function TH(t,e,n){return t!==0?zo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function SH(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function EH(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:d,bottom:p}=SH(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=d:(n._bottom||0)===r?s=p:(i[OC(p,o,l,u)]=!0,s=d)),i[OC(s,o,l,u)]=!0,t.borderSkipped=i}function OC(t,e,n,r){return r?(t=CH(t,e,n),t=VC(t,n,e)):t=VC(t,e,n),t}function CH(t,e,n){return t===e?n:t===n?e:t}function VC(t,e,n){return t==="start"?e:t==="end"?n:t}function AH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Cp extends Td{parsePrimitiveData(e,n,r,s){return MC(e,n,r,s)}parseArrayData(e,n,r,s){return MC(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=i.axis==="x"?l:u,p=o.axis==="x"?l:u,m=[];let y,x,T,w;for(y=r,x=r+s;y<x;++y)w=n[y],T={},T[i.axis]=i.parse(Oc(w,d),y),m.push(y2(Oc(w,p),T,o,y));return m}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,l=Gv(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,s);for(let x=n;x<n+r;x++){const T=this.getParsed(x),w=i||kt(T[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),_=this._calculateBarIndexPixels(x,p),R=(T._stacks||{})[l.axis],I={horizontal:d,base:w.base,enableBorderRadius:!R||Gv(T._custom)||o===R._top||o===R._bottom,x:d?w.head:_.center,y:d?_.center:w.head,height:d?_.size:Math.abs(w.size),width:d?Math.abs(w.size):_.size};y&&(I.options=m||this.resolveDataElementOptions(x,e[x].active?"active":s));const k=I.options||e[x].options;EH(I,k,R,o),AH(I,k,p.ratio),this.updateElement(e[x],x,I,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[r.axis],d=p=>{const m=p._parsed.find(x=>x[r.axis]===u),y=m&&m[p.vScale.axis];if(kt(y)||isNaN(y))return!0};for(const p of s)if(!(n!==void 0&&d(p))&&((i===!1||o.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[St(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||xH(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,l=i||0,u=this.getParsed(e),d=u._custom,p=Gv(d);let m=u[n.axis],y=0,x=r?this.applyStack(n,u,r):m,T,w;x!==m&&(y=x-m,x=m),p&&(m=d.barStart,x=d.barEnd-d.barStart,m!==0&&zo(m)!==zo(d.barEnd)&&(y=0),y+=m);const _=!kt(i)&&!p?i:y;let R=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?T=n.getPixelForValue(y+x):T=R,w=T-R,Math.abs(w)<o){w=TH(w,n,l)*o,m===l&&(R-=w/2);const I=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),O=Math.min(I,k),B=Math.max(I,k);R=Math.max(Math.min(R,B),O),T=R+w,r&&!p&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(T)-n.getValueForPixel(R))}if(R===n.getPixelForValue(l)){const I=zo(w)*n.getLineWidthForValue(l)/2;R+=I,w-=I}return{size:w,base:R,head:T,center:T+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=St(s.maxBarThickness,1/0);let l,u;const d=this._getAxisCount();if(n.grouped){const p=i?this._getStackCount(e):n.stackCount,m=s.barThickness==="flex"?_H(e,n,s,p*d):wH(e,n,s,p*d),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(St(y,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+x;l=m.start+m.chunk*T+m.chunk/2,u=Math.min(o,m.chunk*m.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}vt(Cp,"id","bar"),vt(Cp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),vt(Cp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Va(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class P_{constructor(e){vt(this,"options");this.options=e||{}}static override(e){Object.assign(P_.prototype,e)}init(){}formats(){return Va()}parse(){return Va()}format(){return Va()}add(){return Va()}diff(){return Va()}startOf(){return Va()}endOf(){return Va()}}var PH={_date:P_};function RH(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,l=s._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?m$:gx;if(r){if(s._sharedOptions){const p=i[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const y=d(i,e,n-m),x=d(i,e,n+m);return{lo:y.lo,hi:x.hi}}}}else{const p=d(i,e,n);if(u){const{vScale:m}=s._cachedMeta,{_parsed:y}=t,x=y.slice(0,p.lo+1).reverse().findIndex(w=>!kt(w[m.axis]));p.lo-=Math.max(0,x);const T=y.slice(p.hi).findIndex(w=>!kt(w[m.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:i.length-1}}function sg(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=i.length;l<u;++l){const{index:d,data:p}=i[l],{lo:m,hi:y}=RH(i[l],e,o,s);for(let x=m;x<=y;++x){const T=p[x];T.skip||r(T,d,x)}}}function IH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Kv(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||sg(t,n,e,function(l,u,d){!s&&!o2(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:u,index:d})},!0),i}function kH(t,e,n,r){let s=[];function i(o,l,u){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],r),{angle:m}=d$(o,{x:e.x,y:e.y});f$(m,d,p)&&s.push({element:o,datasetIndex:l,index:u})}return sg(t,n,e,i),s}function NH(t,e,n,r,s,i){let o=[];const l=IH(n);let u=Number.POSITIVE_INFINITY;function d(p,m,y){const x=p.inRange(e.x,e.y,s);if(r&&!x)return;const T=p.getCenterPoint(s);if(!(!!i||t.isPointInArea(T))&&!x)return;const _=l(e,T);_<u?(o=[{element:p,datasetIndex:m,index:y}],u=_):_===u&&o.push({element:p,datasetIndex:m,index:y})}return sg(t,n,e,d),o}function Qv(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?kH(t,e,n,s):NH(t,e,n,r,s,i)}function LC(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return sg(t,n,e,(u,d,p)=>{u[o]&&u[o](e[n],s)&&(i.push({element:u,datasetIndex:d,index:p}),l=l||u.inRange(e.x,e.y,s))}),r&&!l?[]:i}var jH={modes:{index(t,e,n,r){const s=za(e,t),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?Kv(t,s,i,r,o):Qv(t,s,i,!1,r,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const p=l[0].index,m=d.data[p];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:p})}),u):[]},dataset(t,e,n,r){const s=za(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?Kv(t,s,i,r,o):Qv(t,s,i,!1,r,o);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let p=0;p<d.length;++p)l.push({element:d[p],datasetIndex:u,index:p})}return l},point(t,e,n,r){const s=za(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Kv(t,s,i,r,o)},nearest(t,e,n,r){const s=za(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Qv(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=za(e,t);return LC(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=za(e,t);return LC(t,s,"y",n.intersect,r)}}};const v2=["left","top","right","bottom"];function Xu(t,e){return t.filter(n=>n.pos===e)}function FC(t,e){return t.filter(n=>v2.indexOf(n.pos)===-1&&n.box.axis===e)}function Zu(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function DH(t){const e=[];let n,r,s,i,o,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:l});return e}function MH(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!v2.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function OH(t,e){const n=MH(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:u}=l.box,d=n[l.stack],p=d&&l.stackWeight/d.weight;l.horizontal?(l.width=p?p*r:u&&e.availableWidth,l.height=s):(l.width=r,l.height=p?p*s:u&&e.availableHeight)}return n}function VH(t){const e=DH(t),n=Zu(e.filter(d=>d.box.fullSize),!0),r=Zu(Xu(e,"left"),!0),s=Zu(Xu(e,"right")),i=Zu(Xu(e,"top"),!0),o=Zu(Xu(e,"bottom")),l=FC(e,"x"),u=FC(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(u).concat(o).concat(l),chartArea:Xu(e,"chartArea"),vertical:r.concat(s).concat(u),horizontal:i.concat(o).concat(l)}}function BC(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function x2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function LH(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!bt(s)){n.size&&(t[s]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?i.height:i.width),n.size=m.size/m.count,t[s]+=n.size}i.getPadding&&x2(o,i.getPadding());const l=Math.max(0,e.outerWidth-BC(o,t,"left","right")),u=Math.max(0,e.outerHeight-BC(o,t,"top","bottom")),d=l!==t.w,p=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:p}:{same:p,other:d}}function FH(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function BH(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function cd(t,e,n,r){const s=[];let i,o,l,u,d,p;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],u=l.box,u.update(l.width||e.w,l.height||e.h,BH(l.horizontal,e));const{same:m,other:y}=LH(e,n,l,r);d|=m&&s.length,p=p||y,u.fullSize||s.push(l)}return d&&cd(s,e,n,r)||p}function Qf(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function zC(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},p=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*p,y=d.size||u.height;Ud(d.start)&&(o=d.start),u.fullSize?Qf(u,s.left,o,n.outerWidth-s.right-s.left,y):Qf(u,e.left+d.placed,o,m,y),d.start=o,d.placed+=m,o=u.bottom}else{const m=e.h*p,y=d.size||u.width;Ud(d.start)&&(i=d.start),u.fullSize?Qf(u,i,s.top,y,n.outerHeight-s.bottom-s.top):Qf(u,i,e.top+d.placed,y,m),d.start=i,d.placed+=m,i=u.right}}e.x=i,e.y=o}var ts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=os(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),l=VH(t.boxes),u=l.vertical,d=l.horizontal;At(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=u.reduce((w,_)=>_.box.options&&_.box.options.display===!1?w:w+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/p,hBoxMaxHeight:o/2}),y=Object.assign({},s);x2(y,os(r));const x=Object.assign({maxPadding:y,w:i,h:o,x:s.left,y:s.top},s),T=OH(u.concat(d),m);cd(l.fullSize,x,m,T),cd(u,x,m,T),cd(d,x,m,T)&&cd(u,x,m,T),FH(x),zC(l.leftAndTop,x,m,T),x.x+=x.w,x.y+=x.h,zC(l.rightAndBottom,x,m,T),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},At(l.chartArea,w=>{const _=w.box;Object.assign(_,t.chartArea),_.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class w2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class zH extends w2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ap="$chartjs",UH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},UC=t=>t===null||t==="";function $H(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Ap]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",UC(s)){const i=PC(t,"width");i!==void 0&&(t.width=i)}if(UC(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=PC(t,"height");i!==void 0&&(t.height=i)}return t}const _2=J$?{passive:!0}:!1;function HH(t,e,n){t&&t.addEventListener(e,n,_2)}function WH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,_2)}function qH(t,e){const n=UH[t.type]||t.type,{x:r,y:s}=za(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function mm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function GH(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||mm(l.addedNodes,r),o=o&&!mm(l.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function KH(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||mm(l.removedNodes,r),o=o&&!mm(l.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Hd=new Map;let $C=0;function b2(){const t=window.devicePixelRatio;t!==$C&&($C=t,Hd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function QH(t,e){Hd.size||window.addEventListener("resize",b2),Hd.set(t,e)}function YH(t){Hd.delete(t),Hd.size||window.removeEventListener("resize",b2)}function XH(t,e,n){const r=t.canvas,s=r&&A_(r);if(!s)return;const i=t2((l,u)=>{const d=s.clientWidth;n(l,u),d<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,p=u.contentRect.height;d===0&&p===0||i(d,p)});return o.observe(s),QH(t,i),o}function Yv(t,e,n){n&&n.disconnect(),e==="resize"&&YH(t)}function ZH(t,e,n){const r=t.canvas,s=t2(i=>{t.ctx!==null&&n(qH(i,t))},t);return HH(r,e,s),s}class JH extends w2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?($H(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ap])return!1;const r=n[Ap].initial;["height","width"].forEach(i=>{const o=r[i];kt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Ap],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:GH,detach:KH,resize:XH}[n]||ZH;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Yv,detach:Yv,resize:Yv}[n]||WH)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return Z$(e,n,r,s)}isAttached(e){const n=e&&A_(e);return!!(n&&n.isConnected)}}function eW(t){return!C_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?zH:JH}var mp;let Xc=(mp=class{constructor(){vt(this,"x");vt(this,"y");vt(this,"active",!1);vt(this,"options");vt(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return hm(this.x)&&hm(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},vt(mp,"defaults",{}),vt(mp,"defaultRoutes"),mp);function tW(t,e){const n=t.options.ticks,r=nW(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?sW(e):[],o=i.length,l=i[0],u=i[o-1],d=[];if(o>s)return iW(e,d,i,o/s),d;const p=rW(i,e,s);if(o>0){let m,y;const x=o>1?Math.round((u-l)/(o-1)):null;for(Yf(e,d,p,kt(x)?0:l-x,l),m=0,y=o-1;m<y;m++)Yf(e,d,p,i[m],i[m+1]);return Yf(e,d,p,u,kt(x)?e.length:u+x),d}return Yf(e,d,p),d}function nW(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function rW(t,e,n){const r=oW(t),s=e.length/n;if(!r)return Math.max(s,1);const i=o$(r);for(let o=0,l=i.length-1;o<l;o++){const u=i[o];if(u>s)return u}return Math.max(s,1)}function sW(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function iW(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Yf(t,e,n,r,s){const i=St(r,0),o=Math.min(St(s,t.length),t.length);let l=0,u,d,p;for(n=Math.ceil(n),s&&(u=s-r,n=u/Math.floor(u/n)),p=i;p<0;)l++,p=Math.round(i+l*n);for(d=Math.max(i,0);d<o;d++)d===p&&(e.push(t[d]),l++,p=Math.round(i+l*n))}function oW(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const aW=t=>t==="left"?"right":t==="right"?"left":t,HC=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,WC=(t,e)=>Math.min(e||t,t);function qC(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function lW(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(s),d;if(!(n&&(r===1?d=Math.max(u-i,o-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(s-1))/2,u+=s<e?d:-d,u<i-l||u>o+l)))return u}function cW(t,e){At(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Ju(t){return t.drawTicks?t.tickLength:0}function GC(t,e){if(!t.display)return 0;const n=Yn(t.font,e),r=os(t.padding);return(fn(t.text)?t.text.length:1)*n.lineHeight+r.height}function uW(t,e){return Yc(t,{scale:e,type:"scale"})}function dW(t,e,n){return Yc(t,{tick:n,index:e,type:"tick"})}function hW(t,e,n){let r=w_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=aW(r)),r}function fW(t,e,n,r){const{top:s,left:i,bottom:o,right:l,chart:u}=t,{chartArea:d,scales:p}=u;let m=0,y,x,T;const w=o-s,_=l-i;if(t.isHorizontal()){if(x=Wn(r,i,l),bt(n)){const R=Object.keys(n)[0],I=n[R];T=p[R].getPixelForValue(I)+w-e}else n==="center"?T=(d.bottom+d.top)/2+w-e:T=HC(t,n,e);y=l-i}else{if(bt(n)){const R=Object.keys(n)[0],I=n[R];x=p[R].getPixelForValue(I)-_+e}else n==="center"?x=(d.left+d.right)/2-_+e:x=HC(t,n,e);T=Wn(r,o,s),m=n==="left"?-Is:Is}return{titleX:x,titleY:T,maxWidth:y,rotation:m}}class Zc extends Xc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Qs(e,Number.POSITIVE_INFINITY),n=Qs(n,Number.NEGATIVE_INFINITY),r=Qs(r,Number.POSITIVE_INFINITY),s=Qs(s,Number.NEGATIVE_INFINITY),{min:Qs(e,r),max:Qs(n,s),minDefined:is(e),maxDefined:is(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)o=l[u].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Qs(n,Qs(r,n)),max:Qs(r,Qs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=V$(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?qC(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=tW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Vt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=WC(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,l,u,d;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),m=p.widest.width,y=p.highest.height,x=ks(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/r:x/(r-1),m+6>l&&(l=x/(r-(e.offset?.5:1)),u=this.maxHeight-Ju(e.grid)-n.padding-GC(e.title,this.chart.options.font),d=Math.sqrt(m*m+y*y),o=u$(Math.min(Math.asin(ks((p.highest.height+6)/l,-1,1)),Math.asin(ks(u/d,-1,1))-Math.asin(ks(y/d,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=GC(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Ju(i)+u):(e.height=this.maxHeight,e.width=Ju(i)+u),r.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:y}=this._getLabelSizes(),x=r.padding*2,T=qa(this.labelRotation),w=Math.cos(T),_=Math.sin(T);if(l){const R=r.mirror?0:_*m.width+w*y.height;e.height=Math.min(this.maxHeight,e.height+R+x)}else{const R=r.mirror?0:w*m.width+_*y.height;e.width=Math.min(this.maxWidth,e.width+R+x)}this._calculatePadding(d,p,_,w)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;u?d?(y=s*e.width,x=r*n.height):(y=r*e.height,x=s*n.width):i==="start"?x=n.width:i==="end"?y=e.width:i!=="inner"&&(y=e.width/2,x=n.width/2),this.paddingLeft=Math.max((y-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-m+o)*this.width/(this.width-m),0)}else{let p=n.height/2,m=e.height/2;i==="start"?(p=0,m=e.height):i==="end"&&(p=n.height,m=0),this.paddingTop=p+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)kt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=qC(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],l=[],u=Math.floor(n/WC(n,r));let d=0,p=0,m,y,x,T,w,_,R,I,k,O,B;for(m=0;m<n;m+=u){if(T=e[m].label,w=this._resolveTickFontOptions(m),s.font=_=w.string,R=i[_]=i[_]||{data:{},gc:[]},I=w.lineHeight,k=O=0,!kt(T)&&!fn(T))k=bC(s,R.data,R.gc,k,T),O=I;else if(fn(T))for(y=0,x=T.length;y<x;++y)B=T[y],!kt(B)&&!fn(B)&&(k=bC(s,R.data,R.gc,k,B),O+=I);o.push(k),l.push(O),d=Math.max(k,d),p=Math.max(O,p)}cW(i,n);const U=o.indexOf(d),M=l.indexOf(p),E=P=>({width:o[P]||0,height:l[P]||0});return{first:E(0),last:E(n-1),widest:E(U),highest:E(M),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return p$(this._alignToPixels?Oa(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=dW(this.getContext(),e,r))}return this.$context||(this.$context=uW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=qa(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,u=i?i.highest.height+o:0;return this.isHorizontal()?u*r>l*s?l/r:u/s:u*s<l*r?u/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:l}=s,u=i.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),y=Ju(i),x=[],T=l.setContext(this.getContext()),w=T.display?T.width:0,_=w/2,R=function(W){return Oa(r,W,w)};let I,k,O,B,U,M,E,P,N,L,D,V;if(o==="top")I=R(this.bottom),M=this.bottom-y,P=I-_,L=R(e.top)+_,V=e.bottom;else if(o==="bottom")I=R(this.top),L=e.top,V=R(e.bottom)-_,M=I+_,P=this.top+y;else if(o==="left")I=R(this.right),U=this.right-y,E=I-_,N=R(e.left)+_,D=e.right;else if(o==="right")I=R(this.left),N=e.left,D=R(e.right)-_,U=I+_,E=this.left+y;else if(n==="x"){if(o==="center")I=R((e.top+e.bottom)/2+.5);else if(bt(o)){const W=Object.keys(o)[0],Y=o[W];I=R(this.chart.scales[W].getPixelForValue(Y))}L=e.top,V=e.bottom,M=I+_,P=M+y}else if(n==="y"){if(o==="center")I=R((e.left+e.right)/2);else if(bt(o)){const W=Object.keys(o)[0],Y=o[W];I=R(this.chart.scales[W].getPixelForValue(Y))}U=I-_,E=U-y,N=e.left,D=e.right}const X=St(s.ticks.maxTicksLimit,m),q=Math.max(1,Math.ceil(m/X));for(k=0;k<m;k+=q){const W=this.getContext(k),Y=i.setContext(W),K=l.setContext(W),ee=Y.lineWidth,oe=Y.color,$=K.dash||[],J=K.dashOffset,se=Y.tickWidth,ve=Y.tickColor,be=Y.tickBorderDash||[],Ee=Y.tickBorderDashOffset;O=lW(this,k,u),O!==void 0&&(B=Oa(r,O,ee),d?U=E=N=D=B:M=P=L=V=B,x.push({tx1:U,ty1:M,tx2:E,ty2:P,x1:N,y1:L,x2:D,y2:V,width:ee,color:oe,borderDash:$,borderDashOffset:J,tickWidth:se,tickColor:ve,tickBorderDash:be,tickBorderDashOffset:Ee}))}return this._ticksLength=m,this._borderValue=I,x}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:p,mirror:m}=i,y=Ju(r.grid),x=y+p,T=m?-p:x,w=-qa(this.labelRotation),_=[];let R,I,k,O,B,U,M,E,P,N,L,D,V="middle";if(s==="top")U=this.bottom-T,M=this._getXAxisLabelAlignment();else if(s==="bottom")U=this.top+T,M=this._getXAxisLabelAlignment();else if(s==="left"){const q=this._getYAxisLabelAlignment(y);M=q.textAlign,B=q.x}else if(s==="right"){const q=this._getYAxisLabelAlignment(y);M=q.textAlign,B=q.x}else if(n==="x"){if(s==="center")U=(e.top+e.bottom)/2+x;else if(bt(s)){const q=Object.keys(s)[0],W=s[q];U=this.chart.scales[q].getPixelForValue(W)+x}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")B=(e.left+e.right)/2-x;else if(bt(s)){const q=Object.keys(s)[0],W=s[q];B=this.chart.scales[q].getPixelForValue(W)}M=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(u==="start"?V="top":u==="end"&&(V="bottom"));const X=this._getLabelSizes();for(R=0,I=l.length;R<I;++R){k=l[R],O=k.label;const q=i.setContext(this.getContext(R));E=this.getPixelForTick(R)+i.labelOffset,P=this._resolveTickFontOptions(R),N=P.lineHeight,L=fn(O)?O.length:1;const W=L/2,Y=q.color,K=q.textStrokeColor,ee=q.textStrokeWidth;let oe=M;o?(B=E,M==="inner"&&(R===I-1?oe=this.options.reverse?"left":"right":R===0?oe=this.options.reverse?"right":"left":oe="center"),s==="top"?d==="near"||w!==0?D=-L*N+N/2:d==="center"?D=-X.highest.height/2-W*N+N:D=-X.highest.height+N/2:d==="near"||w!==0?D=N/2:d==="center"?D=X.highest.height/2-W*N:D=X.highest.height-L*N,m&&(D*=-1),w!==0&&!q.showLabelBackdrop&&(B+=N/2*Math.sin(w))):(U=E,D=(1-L)*N/2);let $;if(q.showLabelBackdrop){const J=os(q.backdropPadding),se=X.heights[R],ve=X.widths[R];let be=D-J.top,Ee=0-J.left;switch(V){case"middle":be-=se/2;break;case"bottom":be-=se;break}switch(M){case"center":Ee-=ve/2;break;case"right":Ee-=ve;break;case"inner":R===I-1?Ee-=ve:R>0&&(Ee-=ve/2);break}$={left:Ee,top:be,width:ve+J.width,height:se+J.height,color:q.backdropColor}}_.push({label:O,font:P,textOffset:D,options:{rotation:w,color:Y,strokeColor:K,strokeWidth:ee,textAlign:oe,textBaseline:V,translation:[B,U],backdrop:$}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-qa(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,u=o.widest.width;let d,p;return n==="left"?s?(p=this.right+i,r==="near"?d="left":r==="center"?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-l,r==="near"?d="right":r==="center"?(d="center",p-=u/2):(d="left",p=this.left)):n==="right"?s?(p=this.left+i,r==="near"?d="right":r==="center"?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+l,r==="near"?d="left":r==="center"?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(u,d,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const u=s[i];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,m,y;this.isHorizontal()?(d=Oa(e,this.left,o)-o/2,p=Oa(e,this.right,l)+l/2,m=y=u):(m=Oa(e,this.top,o)-o/2,y=Oa(e,this.bottom,l)+l/2,d=p=u),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,m),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&__(r,s);const i=this.getLabelItems(e);for(const o of i){const l=o.options,u=o.font,d=o.label,p=o.textOffset;$d(r,d,0,p,u,l)}s&&b_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Yn(r.font),o=os(r.padding),l=r.align;let u=i.lineHeight/2;n==="bottom"||n==="center"||bt(n)?(u+=o.bottom,fn(r.text)&&(u+=i.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:d,titleY:p,maxWidth:m,rotation:y}=fW(this,u,n,l);$d(e,r.text,0,0,i,{color:r.color,maxWidth:m,rotation:y,textAlign:hW(l,n,s),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=St(e.grid&&e.grid.z,-1),s=St(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Yn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;gW(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,pW(e,o,r),this.override&&nn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in nn[s]&&(delete nn[s][r],this.override&&delete el[r])}}function pW(t,e,n){const r=zd(Object.create(null),[n?nn.get(n):{},nn.get(e),t.defaults]);nn.set(e,r),t.defaultRoutes&&mW(e,t.defaultRoutes),t.descriptors&&nn.describe(e,t.descriptors)}function mW(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");nn.route(i,s,u,l)})}function gW(t){return"id"in t&&"defaults"in t}class yW{constructor(){this.controllers=new Xf(Td,"datasets",!0),this.elements=new Xf(Xc,"elements"),this.plugins=new Xf(Object,"plugins"),this.scales=new Xf(Zc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):At(s,o=>{const l=r||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,r){const s=v_(e);Vt(r["before"+s],[],r),n[e](r),Vt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Xs=new yW;class vW{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,l=o[r],u=[n,s,i.options];if(Vt(l,u,o)===!1&&s.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=St(r.options&&r.options.plugins,{}),i=xW(r);return s===!1&&!n?[]:_W(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function xW(t){const e={},n=[],r=Object.keys(Xs.plugins.items);for(let i=0;i<r.length;i++)n.push(Xs.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function wW(t,e){return!e&&t===!1?null:t===!0?{}:t}function _W(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const l of e){const u=l.id,d=wW(r[u],s);d!==null&&i.push({plugin:l,options:bW(t.config,{plugin:l,local:n[u]},d,o)})}return i}function bW(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vx(t,e){const n=nn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function TW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function SW(t,e){return t===e?"_index_":"_value_"}function KC(t){if(t==="x"||t==="y"||t==="r")return t}function EW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function xx(t,...e){if(KC(t))return t;for(const n of e){const r=n.axis||EW(n.position)||t.length>1&&KC(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function QC(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function CW(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return QC(t,"x",n[0])||QC(t,"y",n[0])}return{}}function AW(t,e){const n=el[t.type]||{scales:{}},r=e.scales||{},s=vx(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!bt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=xx(o,l,CW(o,t),nn.scales[l.type]),d=SW(u,s),p=n.scales||{};i[o]=wd(Object.create(null),[{axis:u},l,p[u],p[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||vx(l,e),p=(el[l]||{}).scales||{};Object.keys(p).forEach(m=>{const y=TW(m,u),x=o[y+"AxisID"]||y;i[x]=i[x]||Object.create(null),wd(i[x],[{axis:y},r[x],p[m]])})}),Object.keys(i).forEach(o=>{const l=i[o];wd(l,[nn.scales[l.type],nn.scale])}),i}function T2(t){const e=t.options||(t.options={});e.plugins=St(e.plugins,{}),e.scales=AW(t,e)}function S2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PW(t){return t=t||{},t.data=S2(t.data),T2(t),t}const YC=new Map,E2=new Set;function Zf(t,e){let n=YC.get(t);return n||(n=e(),YC.set(t,n),E2.add(n)),n}const ed=(t,e,n)=>{const r=Oc(e,n);r!==void 0&&t.add(r)};class RW{constructor(e){this._config=PW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=S2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),T2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Zf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Zf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Zf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Zf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),l=o.get(n);if(l)return l;const u=new Set;n.forEach(p=>{e&&(u.add(e),p.forEach(m=>ed(u,e,m))),p.forEach(m=>ed(u,s,m)),p.forEach(m=>ed(u,el[i]||{},m)),p.forEach(m=>ed(u,nn,m)),p.forEach(m=>ed(u,yx,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),E2.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,el[n]||{},nn.datasets[n]||{},{type:n},nn,yx]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=XC(this._resolverCache,e,s);let u=o;if(kW(o,n)){i.$shared=!1,r=Xo(r)?r():r;const d=this.createResolver(e,r,l);u=Vc(o,r,d)}for(const d of n)i[d]=u[d];return i}createResolver(e,n,r=[""],s){const{resolver:i}=XC(this._resolverCache,e,r);return bt(n)?Vc(i,n,void 0,s):i}}function XC(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:T_(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const IW=t=>bt(t)&&Object.getOwnPropertyNames(t).some(e=>Xo(t[e]));function kW(t,e){const{isScriptable:n,isIndexable:r}=c2(t);for(const s of e){const i=n(s),o=r(s),l=(o||i)&&t[s];if(i&&(Xo(l)||IW(l))||o&&fn(l))return!0}return!1}var NW="4.5.0";const jW=["top","bottom","left","right","chartArea"];function ZC(t,e){return t==="top"||t==="bottom"||jW.indexOf(t)===-1&&e==="x"}function JC(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function eA(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Vt(n&&n.onComplete,[t],e)}function DW(t){const e=t.chart,n=e.options.animation;Vt(n&&n.onProgress,[t],e)}function C2(t){return C_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pp={},tA=t=>{const e=C2(t);return Object.values(Pp).filter(n=>n.canvas===e).pop()};function MW(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function OW(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Po;let ig=(Po=class{static register(...e){Xs.add(...e),nA()}static unregister(...e){Xs.remove(...e),nA()}constructor(e,n){const r=this.config=new RW(n),s=C2(e),i=tA(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||eW(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,o.aspectRatio),u=l&&l.canvas,d=u&&u.height,p=u&&u.width;if(this.id=Z7(),this.ctx=l,this.canvas=u,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v$(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],Pp[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Oi.listen(this,"complete",eA),Oi.listen(this,"progress",DW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return kt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():AC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return TC(this.canvas,this.ctx),this}stop(){return Oi.stop(this),this}resize(e,n){Oi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,AC(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Vt(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};At(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],u=xx(o,l),d=u==="r",p=u==="x";return{options:l,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),At(i,o=>{const l=o.options,u=l.id,d=xx(u,l),p=St(l.type,o.dtype);(l.position===void 0||ZC(l.position,d)!==ZC(o.dposition))&&(l.position=o.dposition),s[u]=!0;let m=null;if(u in r&&r[u].type===p)m=r[u];else{const y=Xs.getScale(p);m=new y({id:u,type:p,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(l,e)}),At(s,(o,l)=>{o||delete r[l]}),At(r,o=>{ts.configure(this,o,o.options),ts.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(JC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=i.indexAxis||vx(l,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Xs.getController(l),{datasetElementType:d,dataElementType:p}=nn.datasets[l];Object.assign(u,{dataElementType:Xs.getElement(p),datasetElementType:d&&Xs.getElement(d)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){At(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),y=!s&&i.indexOf(m)===-1;m.buildOrUpdateElements(y),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||At(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(JC("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){At(this.scales,e=>{ts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!fC(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;MW(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!fC(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ts.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],At(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Xo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Oi.has(this)?this.attached&&!Oi.running(this)&&Oi.start(this):(this.draw(),eA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=rH(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&__(n,s),e.controller.draw(),s&&b_(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return o2(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=jH.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Yc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Ud(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Oi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),TC(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Pp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};At(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},s=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},i=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){At(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},At(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,l,u;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!cm(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(u,d)=>u.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),o=i(n,e),l=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,l=this._getActiveElements(e,s,r,o),u=s$(e),d=OW(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Vt(i.onHover,[e,l,this],this),u&&Vt(i.onClick,[e,l,this],this));const p=!cm(l,s);return(p||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,p}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},vt(Po,"defaults",nn),vt(Po,"instances",Pp),vt(Po,"overrides",el),vt(Po,"registry",Xs),vt(Po,"version",NW),vt(Po,"getChart",tA),Po);function nA(){return At(ig.instances,t=>t._plugins.invalidate())}function A2(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,u,d,p,m;return t.horizontal?(m=o/2,l=Math.min(n,s),u=Math.max(n,s),d=r-m,p=r+m):(m=i/2,l=n-m,u=n+m,d=Math.min(r,s),p=Math.max(r,s)),{left:l,top:d,right:u,bottom:p}}function jo(t,e,n,r){return t?0:ks(e,n,r)}function VW(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=l2(r);return{t:jo(s.top,i.top,0,n),r:jo(s.right,i.right,0,e),b:jo(s.bottom,i.bottom,0,n),l:jo(s.left,i.left,0,e)}}function LW(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=yc(s),o=Math.min(e,n),l=t.borderSkipped,u=r||bt(s);return{topLeft:jo(!u||l.top||l.left,i.topLeft,0,o),topRight:jo(!u||l.top||l.right,i.topRight,0,o),bottomLeft:jo(!u||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:jo(!u||l.bottom||l.right,i.bottomRight,0,o)}}function FW(t){const e=A2(t),n=e.right-e.left,r=e.bottom-e.top,s=VW(t,n/2,r/2),i=LW(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Xv(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&A2(t,r);return l&&(s||dc(e,l.left,l.right))&&(i||dc(n,l.top,l.bottom))}function BW(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function zW(t,e){t.rect(e.x,e.y,e.w,e.h)}function Zv(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Rp extends Xc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=FW(this),l=BW(o.radius)?fm:zW;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,Zv(o,n,i)),e.clip(),l(e,Zv(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,Zv(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Xv(this,e,n,r)}inXRange(e,n){return Xv(this,e,null,n)}inYRange(e,n){return Xv(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}vt(Rp,"id","bar"),vt(Rp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),vt(Rp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const rA=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},UW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class sA extends Xc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Yn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=rA(r,i);let d,p;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,i,l,u)+10):(p=this.maxHeight,d=this._fitCols(o,s,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+l;let m=e;i.textAlign="left",i.textBaseline="middle";let y=-1,x=-p;return this.legendItems.forEach((T,w)=>{const _=r+n/2+i.measureText(T.text).width;(w===0||d[d.length-1]+_+2*l>o)&&(m+=p,d[d.length-(w>0?0:1)]=0,x+=p,y++),u[w]={left:0,top:x,row:y,width:_,height:s},d[d.length-1]+=_+l}),m}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-e;let m=l,y=0,x=0,T=0,w=0;return this.legendItems.forEach((_,R)=>{const{itemWidth:I,itemHeight:k}=$W(r,n,i,_,s);R>0&&x+k+2*l>p&&(m+=y+l,d.push({width:y,height:x}),T+=y+l,w++,y=x=0),u[R]={left:T,top:x,col:w,width:I,height:k},y=Math.max(y,I),x+=k+l}),m+=y,d.push({width:y,height:x}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=vc(i,this.left,this.width);if(this.isHorizontal()){let l=0,u=Wn(r,this.left+s,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=Wn(r,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+s}else{let l=0,u=Wn(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=Wn(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;__(e,this),this._draw(),b_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,l=nn.color,u=vc(e.rtl,this.left,this.width),d=Yn(o.font),{padding:p}=o,m=d.size,y=m/2;let x;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:T,boxHeight:w,itemHeight:_}=rA(o,m),R=function(U,M,E){if(isNaN(T)||T<=0||isNaN(w)||w<0)return;s.save();const P=St(E.lineWidth,1);if(s.fillStyle=St(E.fillStyle,l),s.lineCap=St(E.lineCap,"butt"),s.lineDashOffset=St(E.lineDashOffset,0),s.lineJoin=St(E.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=St(E.strokeStyle,l),s.setLineDash(St(E.lineDash,[])),o.usePointStyle){const N={radius:w*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:P},L=u.xPlus(U,T/2),D=M+y;i2(s,N,L,D,o.pointStyleWidth&&T)}else{const N=M+Math.max((m-w)/2,0),L=u.leftForLtr(U,T),D=yc(E.borderRadius);s.beginPath(),Object.values(D).some(V=>V!==0)?fm(s,{x:L,y:N,w:T,h:w,radius:D}):s.rect(L,N,T,w),s.fill(),P!==0&&s.stroke()}s.restore()},I=function(U,M,E){$d(s,E.text,U,M+_/2,d,{strikethrough:E.hidden,textAlign:u.textAlign(E.textAlign)})},k=this.isHorizontal(),O=this._computeTitleHeight();k?x={x:Wn(i,this.left+p,this.right-r[0]),y:this.top+p+O,line:0}:x={x:this.left+p,y:Wn(i,this.top+O+p,this.bottom-n[0].height),line:0},f2(this.ctx,e.textDirection);const B=_+p;this.legendItems.forEach((U,M)=>{s.strokeStyle=U.fontColor,s.fillStyle=U.fontColor;const E=s.measureText(U.text).width,P=u.textAlign(U.textAlign||(U.textAlign=o.textAlign)),N=T+y+E;let L=x.x,D=x.y;u.setWidth(this.width),k?M>0&&L+N+p>this.right&&(D=x.y+=B,x.line++,L=x.x=Wn(i,this.left+p,this.right-r[x.line])):M>0&&D+B>this.bottom&&(L=x.x=L+n[x.line].width+p,x.line++,D=x.y=Wn(i,this.top+O+p,this.bottom-n[x.line].height));const V=u.x(L);if(R(V,D,U),L=x$(P,L+T+y,k?L+N:this.right,e.rtl),I(u.x(L),D,U),k)x.x+=N+p;else if(typeof U.text!="string"){const X=d.lineHeight;x.y+=P2(U,X)+p}else x.y+=B}),p2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Yn(n.font),s=os(n.padding);if(!n.display)return;const i=vc(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=r.size/2,d=s.top+u;let p,m=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+d,m=Wn(e.align,m,this.right-y);else{const T=this.columnSizes.reduce((w,_)=>Math.max(w,_.height),0);p=d+Wn(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const x=Wn(l,m,m+y);o.textAlign=i.textAlign(w_(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,$d(o,n.text,x,p,r)}_computeTitleHeight(){const e=this.options.title,n=Yn(e.font),r=os(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(dc(e,this.left,this.right)&&dc(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],dc(e,s.left,s.left+s.width)&&dc(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!qW(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=UW(s,r);s&&!i&&Vt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Vt(n.onHover,[e,r,this],this)}else r&&Vt(n.onClick,[e,r,this],this)}}function $W(t,e,n,r,s){const i=HW(r,t,e,n),o=WW(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function HW(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function WW(t,e,n){let r=t;return typeof e.text!="string"&&(r=P2(e,n)),r}function P2(t,e){const n=t.text?t.text.length:0;return e*n}function qW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var GW={id:"legend",_element:sA,start(t,e,n){const r=t.legend=new sA({ctx:t.ctx,options:n,chart:t});ts.configure(t,r,n),ts.addBox(t,r)},stop(t){ts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ts.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),p=os(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let R2=class extends Xc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=fn(r.text)?r.text.length:1;this._padding=os(r.padding);const i=s*Yn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,l=o.align;let u=0,d,p,m;return this.isHorizontal()?(p=Wn(l,r,i),m=n+e,d=i-r):(o.position==="left"?(p=r+e,m=Wn(l,s,n),u=Xn*-.5):(p=i-e,m=Wn(l,n,s),u=Xn*.5),d=s-n),{titleX:p,titleY:m,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Yn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(i);$d(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:w_(n.align),textBaseline:"middle",translation:[o,l]})}};function KW(t,e){const n=new R2({ctx:t.ctx,options:e,chart:t});ts.configure(t,n,e),ts.addBox(t,n),t.titleBlock=n}var QW={id:"title",_element:R2,start(t,e,n){KW(t,n)},stop(t){const e=t.titleBlock;ts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ts.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ud={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),s+=u.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const u=t[i].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),p=h$(e,d);p<s&&(s=p,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Ys(t,e){return e&&(fn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YW(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:l}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function iA(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:l}=e,u=Yn(e.bodyFont),d=Yn(e.titleFont),p=Yn(e.footerFont),m=i.length,y=s.length,x=r.length,T=os(e.padding);let w=T.height,_=0,R=r.reduce((O,B)=>O+B.before.length+B.lines.length+B.after.length,0);if(R+=t.beforeBody.length+t.afterBody.length,m&&(w+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),R){const O=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;w+=x*O+(R-x)*u.lineHeight+(R-1)*e.bodySpacing}y&&(w+=e.footerMarginTop+y*p.lineHeight+(y-1)*e.footerSpacing);let I=0;const k=function(O){_=Math.max(_,n.measureText(O).width+I)};return n.save(),n.font=d.string,At(t.title,k),n.font=u.string,At(t.beforeBody.concat(t.afterBody),k),I=e.displayColors?o+2+e.boxPadding:0,At(r,O=>{At(O.before,k),At(O.lines,k),At(O.after,k)}),I=0,n.font=p.string,At(t.footer,k),n.restore(),_+=T.width,{width:_,height:w}}function XW(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function ZW(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function JW(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=s<=(l+u)/2?"left":"right":s<=i/2?d="left":s>=o-i/2&&(d="right"),ZW(d,t,e,n)&&(d="center"),d}function oA(t,e,n){const r=n.yAlign||e.yAlign||XW(t,n);return{xAlign:n.xAlign||e.xAlign||JW(t,e,n,r),yAlign:r}}function eq(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function tq(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function aA(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,d=s+i,{topLeft:p,topRight:m,bottomLeft:y,bottomRight:x}=yc(o);let T=eq(e,l);const w=tq(e,u,d);return u==="center"?l==="left"?T+=d:l==="right"&&(T-=d):l==="left"?T-=Math.max(p,y)+s:l==="right"&&(T+=Math.max(m,x)+s),{x:ks(T,0,r.width-e.width),y:ks(w,0,r.height-e.height)}}function Jf(t,e,n){const r=os(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function lA(t){return Ys([],Vi(t))}function nq(t,e,n){return Yc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function cA(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const I2={beforeTitle:Mi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Mi,beforeBody:Mi,beforeLabel:Mi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Mi,afterBody:Mi,beforeFooter:Mi,footer:Mi,afterFooter:Mi};function gr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?I2[e].call(n,r):s}var m0;let uA=(m0=class extends Xc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new m2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=nq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=gr(r,"beforeTitle",this,e),i=gr(r,"title",this,e),o=gr(r,"afterTitle",this,e);let l=[];return l=Ys(l,Vi(s)),l=Ys(l,Vi(i)),l=Ys(l,Vi(o)),l}getBeforeBody(e,n){return lA(gr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return At(e,i=>{const o={before:[],lines:[],after:[]},l=cA(r,i);Ys(o.before,Vi(gr(l,"beforeLabel",this,i))),Ys(o.lines,gr(l,"label",this,i)),Ys(o.after,Vi(gr(l,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return lA(gr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=gr(r,"beforeFooter",this,e),i=gr(r,"footer",this,e),o=gr(r,"afterFooter",this,e);let l=[];return l=Ys(l,Vi(s)),l=Ys(l,Vi(i)),l=Ys(l,Vi(o)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(YW(this.chart,n[u]));return e.filter&&(l=l.filter((p,m,y)=>e.filter(p,m,y,r))),e.itemSort&&(l=l.sort((p,m)=>e.itemSort(p,m,r))),At(l,p=>{const m=cA(e.callbacks,p);s.push(gr(m,"labelColor",this,p)),i.push(gr(m,"labelPointStyle",this,p)),o.push(gr(m,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=ud[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=iA(this,r),d=Object.assign({},l,u),p=oA(this.chart,r,d),m=aA(r,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:m}=yc(l),{x:y,y:x}=e,{width:T,height:w}=n;let _,R,I,k,O,B;return i==="center"?(O=x+w/2,s==="left"?(_=y,R=_-o,k=O+o,B=O-o):(_=y+T,R=_+o,k=O-o,B=O+o),I=_):(s==="left"?R=y+Math.max(u,p)+o:s==="right"?R=y+T-Math.max(d,m)-o:R=this.caretX,i==="top"?(k=x,O=k-o,_=R-o,I=R+o):(k=x+w,O=k+o,_=R+o,I=R-o),B=k),{x1:_,x2:R,x3:I,y1:k,y2:O,y3:B}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,l,u;if(i){const d=vc(r.rtl,this.x,this.width);for(e.x=Jf(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=Yn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<i;++u)n.fillText(s[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=i,p=Yn(i.bodyFont),m=Jf(this,"left",i),y=s.x(m),x=u<p.lineHeight?(p.lineHeight-u)/2:0,T=n.y+x;if(i.usePointStyle){const w={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=s.leftForLtr(y,d)+d/2,R=T+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,SC(e,w,_,R),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,SC(e,w,_,R)}else{e.lineWidth=bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=s.leftForLtr(y,d),_=s.leftForLtr(s.xPlus(y,1),d-2),R=yc(o.borderRadius);Object.values(R).some(I=>I!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,fm(e,{x:w,y:T,w:d,h:u,radius:R}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),fm(e,{x:_,y:T+1,w:d-2,h:u-2,radius:R}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,T,d,u),e.strokeRect(w,T,d,u),e.fillStyle=o.backgroundColor,e.fillRect(_,T+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:p}=r,m=Yn(r.bodyFont);let y=m.lineHeight,x=0;const T=vc(r.rtl,this.x,this.width),w=function(E){n.fillText(E,T.x(e.x+x),e.y+y/2),e.y+=y+i},_=T.textAlign(o);let R,I,k,O,B,U,M;for(n.textAlign=o,n.textBaseline="middle",n.font=m.string,e.x=Jf(this,_,r),n.fillStyle=r.bodyColor,At(this.beforeBody,w),x=l&&_!=="right"?o==="center"?d/2+p:d+2+p:0,O=0,U=s.length;O<U;++O){for(R=s[O],I=this.labelTextColors[O],n.fillStyle=I,At(R.before,w),k=R.lines,l&&k.length&&(this._drawColorBox(n,e,O,T,r),y=Math.max(m.lineHeight,u)),B=0,M=k.length;B<M;++B)w(k[B]),y=m.lineHeight;At(R.after,w)}x=0,y=m.lineHeight,At(this.afterBody,w),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,l;if(i){const u=vc(r.rtl,this.x,this.width);for(e.x=Jf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=Yn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:l,y:u}=e,{width:d,height:p}=r,{topLeft:m,topRight:y,bottomLeft:x,bottomRight:T}=yc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+m,u),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+d-y,u),n.quadraticCurveTo(l+d,u,l+d,u+y),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+d,u+p-T),n.quadraticCurveTo(l+d,u+p,l+d-T,u+p),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+x,u+p),n.quadraticCurveTo(l,u+p,l,u+p-x),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,u+m),n.quadraticCurveTo(l,u,l+m,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=ud[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=iA(this,e),u=Object.assign({},o,this._size),d=oA(n,e,u),p=aA(e,u,d,n);(s._to!==p.x||i._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=os(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),f2(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),p2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),i=!cm(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),l=this._positionChanged(o,e),u=n||!cm(o,i)||l;return u&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=ud[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}},vt(m0,"positioners",ud),m0);var rq={id:"tooltip",_element:uA,positioners:ud,afterInit(t,e,n){n&&(t.tooltip=new uA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:I2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sq=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function iq(t,e,n,r){const s=t.indexOf(e);if(s===-1)return sq(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const oq=(t,e)=>t===null?null:ks(Math.round(t),0,e);function dA(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class wx extends Zc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(kt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:iq(r,e,St(n,e),this._addedLabels),oq(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return dA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}vt(wx,"id","category"),vt(wx,"defaults",{ticks:{callback:dA}});function aq(t,e){const n=[],{bounds:s,step:i,min:o,max:l,precision:u,count:d,maxTicks:p,maxDigits:m,includeBounds:y}=t,x=i||1,T=p-1,{min:w,max:_}=e,R=!kt(o),I=!kt(l),k=!kt(d),O=(_-w)/(m+1);let B=mC((_-w)/T/x)*x,U,M,E,P;if(B<1e-14&&!R&&!I)return[{value:w},{value:_}];P=Math.ceil(_/B)-Math.floor(w/B),P>T&&(B=mC(P*B/T/x)*x),kt(u)||(U=Math.pow(10,u),B=Math.ceil(B*U)/U),s==="ticks"?(M=Math.floor(w/B)*B,E=Math.ceil(_/B)*B):(M=w,E=_),R&&I&&i&&l$((l-o)/i,B/1e3)?(P=Math.round(Math.min((l-o)/B,p)),B=(l-o)/P,M=o,E=l):k?(M=R?o:M,E=I?l:E,P=d-1,B=(E-M)/P):(P=(E-M)/B,Ep(P,Math.round(P),B/1e3)?P=Math.round(P):P=Math.ceil(P));const N=Math.max(gC(B),gC(M));U=Math.pow(10,kt(u)?N:u),M=Math.round(M*U)/U,E=Math.round(E*U)/U;let L=0;for(R&&(y&&M!==o?(n.push({value:o}),M<o&&L++,Ep(Math.round((M+L*B)*U)/U,o,hA(o,O,t))&&L++):M<o&&L++);L<P;++L){const D=Math.round((M+L*B)*U)/U;if(I&&D>l)break;n.push({value:D})}return I&&y&&E!==l?n.length&&Ep(n[n.length-1].value,l,hA(l,O,t))?n[n.length-1].value=l:n.push({value:l}):(!I||E===l)&&n.push({value:E}),n}function hA(t,e,{horizontal:n,minRotation:r}){const s=qa(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class lq extends Zc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=u=>s=n?s:u,l=u=>i=r?i:u;if(e){const u=zo(s),d=zo(i);u<0&&d<0?l(0):u>0&&d>0&&o(0)}if(s===i){let u=i===0?1:Math.abs(i*.05);l(i+u),e||o(s-u)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=aq(s,i);return e.bounds==="ticks"&&c$(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return r2(e,this.chart.options.locale,this.options.ticks.format)}}class _x extends lq{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=is(e)?e:0,this.max=is(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=qa(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}vt(_x,"id","linear"),vt(_x,"defaults",{ticks:{callback:s2.formatters.numeric}});const og={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wr=Object.keys(og);function fA(t,e){return t-e}function pA(t,e){if(kt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),is(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(hm(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function mA(t,e,n,r){const s=wr.length;for(let i=wr.indexOf(t);i<s-1;++i){const o=og[wr[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=r)return wr[i]}return wr[s-1]}function cq(t,e,n,r,s){for(let i=wr.length-1;i>=wr.indexOf(n);i--){const o=wr[i];if(og[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return wr[n?wr.indexOf(n):0]}function uq(t){for(let e=wr.indexOf(t)+1,n=wr.length;e<n;++e)if(og[wr[e]].common)return wr[e]}function gA(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=x_(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function dq(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let l,u;for(l=i;l<=o;l=+s.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function yA(t,e,n){const r=[],s={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],s[l]=o,r.push({value:l,major:!1});return i===0||!n?r:dq(t,r,s,n)}class gm extends Zc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new PH._date(e.adapters.date);s.init(n),wd(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:pA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=is(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=is(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,l=g$(s,i,o);return this._unit=n.unit||(r.autoSkip?mA(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):cq(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:uq(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),yA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ks(n,0,o),r=ks(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||mA(i.minUnit,n,r,this._getLabelCapacity(n)),l=St(s.ticks.stepSize,1),u=o==="week"?i.isoWeekday:!1,d=hm(u)||u===!0,p={};let m=n,y,x;if(d&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,d?"day":o),e.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(y=m,x=0;y<r;y=+e.add(y,l,o),x++)gA(p,y,T);return(y===r||s.bounds==="ticks"||x===1)&&gA(p,y,T),Object.keys(p).sort(fA).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Vt(o,[e,n,r],this);const l=i.time.displayFormats,u=this._unit,d=this._majorUnit,p=u&&l[u],m=d&&l[d],y=r[n],x=d&&m&&y&&y.major;return this._adapter.format(e,s||(x?m:p))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=qa(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*o,h:r*o+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,yA(this,[e],this._majorUnit),s),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(pA(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return JN(e.sort(fA))}}vt(gm,"id","time"),vt(gm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ep(t,e,n){let r=0,s=t.length-1,i,o,l,u;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=gx(t,"pos",e)),{pos:i,time:l}=t[r],{pos:o,time:u}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=gx(t,"time",e)),{time:i,pos:l}=t[r],{time:o,pos:u}=t[s]);const d=o-i;return d?l+(u-l)*(e-i)/d:l}class vA extends gm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ep(n,this.min),this._tableRange=ep(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,l,u,d,p;for(o=0,l=e.length;o<l;++o)d=e[o],d>=n&&d<=r&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=s.length;o<l;++o)p=s[o+1],u=s[o-1],d=s[o],Math.round((p+u)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ep(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ep(this._table,r*this._tableRange+this._minPos,!0)}}vt(vA,"id","timeseries"),vt(vA,"defaults",gm.defaults);const k2="label";function xA(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function N2(t,e){t.labels=e}function j2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k2;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function fq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k2;const n={labels:[],datasets:[]};return N2(n,t.labels),j2(n,t.datasets,e),n}function pq(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:u,plugins:d=[],fallbackContent:p,updateMode:m,...y}=t,x=S.useRef(null),T=S.useRef(null),w=()=>{x.current&&(T.current=new ig(x.current,{type:o,data:fq(l,i),options:u&&{...u},plugins:d}),xA(e,T.current))},_=()=>{xA(e,null),T.current&&(T.current.destroy(),T.current=null)};return S.useEffect(()=>{!s&&T.current&&u&&hq(T.current,u)},[s,u]),S.useEffect(()=>{!s&&T.current&&N2(T.current.config.data,l.labels)},[s,l.labels]),S.useEffect(()=>{!s&&T.current&&l.datasets&&j2(T.current.config.data,l.datasets,i)},[s,l.datasets]),S.useEffect(()=>{T.current&&(s?(_(),setTimeout(w)):T.current.update(m))},[s,u,l.labels,l.datasets,m]),S.useEffect(()=>{T.current&&(_(),setTimeout(w))},[o]),S.useEffect(()=>(w(),()=>_()),[]),Fe.createElement("canvas",{ref:x,role:"img",height:n,width:r,...y},p)}const mq=S.forwardRef(pq);function gq(t,e){return ig.register(e),S.forwardRef((n,r)=>Fe.createElement(mq,{...n,ref:r,type:t}))}const yq=gq("bar",Cp);ig.register(wx,_x,Rp,QW,rq,GW);const wA=({setActiveTab:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState([]),[i,o]=S.useState(null),[l,u]=S.useState(!0);if(S.useEffect(()=>{(async()=>{u(!0);try{const[m,y,x,T,w,_]=await Promise.all([gt("usuarios"),gt("treinamentos"),gt("historico"),gt("simulados"),gt("resultadosSimulados"),gt("trilhas")]),R=m.filter(N=>N.tipo==="funcionario").length,I=y.length,k=x.filter(N=>N.concluido).length;let O=0,B={title:"N/A",score:101},U={title:"N/A",score:-1};const M={};w.length>0&&(O=w.reduce((N,L)=>N+L.pontuacao,0)/w.length,w.forEach(N=>{M[N.simuladoId]||(M[N.simuladoId]={total:0,count:0,title:N.simuladoTitulo}),M[N.simuladoId].total+=N.pontuacao,M[N.simuladoId].count+=1}),Object.values(M).forEach(N=>{const L=N.total/N.count;L<B.score&&(B={title:N.title,score:L}),L>U.score&&(U={title:N.title,score:L})})),n({totalUsuarios:R,totalTreinamentos:I,totalConclusoes:k,totalSimulados:T.length,totalTrilhas:_.length,averageScore:O.toFixed(1),hardestSimulado:B.title,easiestSimulado:U.title});const E={Iniciante:0,Aprendiz:0,Conhecedor:0,Especialista:0,"Mestre do Conhecimento":0};m.forEach(N=>{N.titulo&&E.hasOwnProperty(N.titulo)?E[N.titulo]++:N.tipo==="funcionario"&&E.Iniciante++}),o({labels:Object.keys(E),datasets:[{label:"Nº de Funcionários",data:Object.values(E),backgroundColor:"rgba(79, 70, 229, 0.8)"}]});const P=x.filter(N=>N.concluido).sort((N,L)=>new Date(L.dataConclusao)-new Date(N.dataConclusao)).slice(0,5).map(N=>{const L=m.find(V=>V.id===N.usuarioId),D=y.find(V=>V.id===N.treinamentoId);return{...N,nomeUsuario:(L==null?void 0:L.nome)||"Usuário desconhecido",tituloTreinamento:(D==null?void 0:D.titulo)||"Treinamento desconhecido"}});s(P)}catch(m){console.error("Erro ao carregar dados do dashboard:",m)}finally{u(!1)}})()},[]),l)return h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})});if(!e)return h.jsx("div",{className:"text-center text-slate-400",children:"Não foi possível carregar os dados do dashboard."});const d=[{title:"Total de Usuários",value:e.totalUsuarios,icon:lk,tab:"usuarios"},{title:"Treinamentos",value:e.totalTreinamentos,icon:ii,tab:"treinamentos"},{title:"Trilhas",value:e.totalTrilhas,icon:uk,tab:"trilhas"},{title:"Simulados",value:e.totalSimulados,icon:Nc,tab:"simulados"}];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard Administrativo"}),h.jsx("p",{className:"text-slate-400",children:"Visão geral da Central de Treinamento"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((p,m)=>{const y=p.icon;return h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},children:h.jsxs(nt,{onClick:()=>t(p.tab),className:"glass-effect border-slate-700 card-hover cursor-pointer",children:[h.jsxs(at,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:p.title}),h.jsx(y,{className:"h-5 w-5 text-slate-400"})]}),h.jsx(it,{children:h.jsx("div",{className:"text-3xl font-bold text-white",children:p.value})})]})},p.title)})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-3",children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white h-full",children:[h.jsxs(at,{children:[h.jsx(lt,{children:"Distribuição de Títulos"}),h.jsx(Dn,{children:"Nº de funcionários por cada nível de conhecimento."})]}),h.jsx(it,{children:i&&h.jsx(yq,{data:i,options:{responsive:!0,maintainAspectRatio:!1}})})]})}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2",children:h.jsxs(nt,{className:"glass-effect border-slate-700 h-full",children:[h.jsxs(at,{children:[h.jsxs(lt,{className:"text-white flex items-center",children:[h.jsx(Ja,{className:"w-5 h-5 mr-2 text-green-500"}),"Atividade Recente"]}),h.jsx(Dn,{className:"text-slate-400",children:"Últimos treinamentos concluídos"})]}),h.jsx(it,{className:"space-y-3",children:r.length>0?r.map((p,m)=>h.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-slate-800/50",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:h.jsx(ra,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-white truncate",children:p.nomeUsuario}),h.jsx("p",{className:"text-xs text-slate-400 truncate",children:p.tituloTreinamento})]})]},`${p.id}-${m}`)):h.jsx("p",{className:"text-slate-400 text-center py-4",children:"Nenhuma atividade recente"})})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(at,{children:h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:"Desempenho Médio Geral"})}),h.jsx(it,{children:h.jsxs("p",{className:"text-3xl font-bold",children:[e.averageScore,"%"]})})]})}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(at,{children:h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:"Simulado Mais Difícil"})}),h.jsx(it,{children:h.jsx("p",{className:"text-lg font-bold truncate",children:e.hardestSimulado})})]})}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(at,{children:h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:"Simulado Mais Fácil"})}),h.jsx(it,{children:h.jsx("p",{className:"text-lg font-bold truncate",children:e.easiestSimulado})})]})})]})]})},vq=Ym("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $i({className:t,variant:e,...n}){return h.jsx("div",{className:We(vq({variant:e}),t),...n})}var xq=dP[" useId ".trim().toString()]||(()=>{}),wq=0;function Hi(t){const[e,n]=S.useState(xq());return On(()=>{n(r=>r??String(wq++))},[t]),e?`radix-${e}`:""}var Jv="focusScope.autoFocusOnMount",e0="focusScope.autoFocusOnUnmount",_A={bubbles:!1,cancelable:!0},_q="FocusScope",R_=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,u]=S.useState(null),d=rs(s),p=rs(i),m=S.useRef(null),y=wt(e,w=>u(w)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let w=function(k){if(x.paused||!l)return;const O=k.target;l.contains(O)?m.current=O:Io(m.current,{select:!0})},_=function(k){if(x.paused||!l)return;const O=k.relatedTarget;O!==null&&(l.contains(O)||Io(m.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const B of k)B.removedNodes.length>0&&Io(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const I=new MutationObserver(R);return l&&I.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),I.disconnect()}}},[r,l,x.paused]),S.useEffect(()=>{if(l){TA.add(x);const w=document.activeElement;if(!l.contains(w)){const R=new CustomEvent(Jv,_A);l.addEventListener(Jv,d),l.dispatchEvent(R),R.defaultPrevented||(bq(Aq(D2(l)),{select:!0}),document.activeElement===w&&Io(l))}return()=>{l.removeEventListener(Jv,d),setTimeout(()=>{const R=new CustomEvent(e0,_A);l.addEventListener(e0,p),l.dispatchEvent(R),R.defaultPrevented||Io(w??document.body,{select:!0}),l.removeEventListener(e0,p),TA.remove(x)},0)}}},[l,d,p,x]);const T=S.useCallback(w=>{if(!n&&!r||x.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,R=document.activeElement;if(_&&R){const I=w.currentTarget,[k,O]=Tq(I);k&&O?!w.shiftKey&&R===O?(w.preventDefault(),n&&Io(k,{select:!0})):w.shiftKey&&R===k&&(w.preventDefault(),n&&Io(O,{select:!0})):R===I&&w.preventDefault()}},[n,r,x.paused]);return h.jsx(Ue.div,{tabIndex:-1,...o,ref:y,onKeyDown:T})});R_.displayName=_q;function bq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Io(r,{select:e}),document.activeElement!==n)return}function Tq(t){const e=D2(t),n=bA(e,t),r=bA(e.reverse(),t);return[n,r]}function D2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bA(t,e){for(const n of t)if(!Sq(n,{upTo:e}))return n}function Sq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Eq(t){return t instanceof HTMLInputElement&&"select"in t}function Io(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Eq(t)&&e&&t.select()}}var TA=Cq();function Cq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=SA(t,e),t.unshift(e)},remove(e){var n;t=SA(t,e),(n=t[0])==null||n.resume()}}}function SA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Aq(t){return t.filter(e=>e.tagName!=="A")}var t0=0;function M2(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??EA()),document.body.insertAdjacentElement("beforeend",t[1]??EA()),t0++,()=>{t0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),t0--}},[])}function EA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Js=function(){return Js=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Js.apply(this,arguments)};function O2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Pq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ip="right-scroll-bar-position",kp="width-before-scroll-bar",Rq="with-scroll-bars-hidden",Iq="--removed-body-scroll-bar-size";function n0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kq(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Nq=typeof window<"u"?S.useLayoutEffect:S.useEffect,CA=new WeakMap;function jq(t,e){var n=kq(null,function(r){return t.forEach(function(s){return n0(s,r)})});return Nq(function(){var r=CA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||n0(l,null)}),i.forEach(function(l){s.has(l)||n0(l,o)})}CA.set(n,t)},[t]),n}function Dq(t){return t}function Mq(t,e){e===void 0&&(e=Dq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return s}function Oq(t){t===void 0&&(t={});var e=Mq(null);return e.options=Js({async:!0,ssr:!1},t),e}var V2=function(t){var e=t.sideCar,n=O2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Js({},n))};V2.isSideCarExport=!0;function Vq(t,e){return t.useMedium(e),V2}var L2=Oq(),r0=function(){},ag=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:r0,onWheelCapture:r0,onTouchMoveCapture:r0}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,p=t.enabled,m=t.shards,y=t.sideCar,x=t.noRelative,T=t.noIsolation,w=t.inert,_=t.allowPinchZoom,R=t.as,I=R===void 0?"div":R,k=t.gapMode,O=O2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=y,U=jq([n,e]),M=Js(Js({},O),s);return S.createElement(S.Fragment,null,p&&S.createElement(B,{sideCar:L2,removeScrollBar:d,shards:m,noRelative:x,noIsolation:T,inert:w,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:k}),o?S.cloneElement(S.Children.only(l),Js(Js({},M),{ref:U})):S.createElement(I,Js({},M,{className:u,ref:U}),l))});ag.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ag.classNames={fullWidth:kp,zeroRight:Ip};var Lq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lq();return e&&t.setAttribute("nonce",e),t}function Bq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Uq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Fq())&&(Bq(e,n),zq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$q=function(){var t=Uq();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},F2=function(){var t=$q(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Hq={left:0,top:0,right:0,gap:0},s0=function(t){return parseInt(t||"",10)||0},Wq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[s0(n),s0(r),s0(s)]},qq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hq;var e=Wq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Gq=F2(),xc="data-scroll-locked",Kq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Rq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(xc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ip,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(kp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ip," .").concat(Ip,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kp," .").concat(kp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xc,`] {
    `).concat(Iq,": ").concat(l,`px;
  }
`)},AA=function(){var t=parseInt(document.body.getAttribute(xc)||"0",10);return isFinite(t)?t:0},Qq=function(){S.useEffect(function(){return document.body.setAttribute(xc,(AA()+1).toString()),function(){var t=AA()-1;t<=0?document.body.removeAttribute(xc):document.body.setAttribute(xc,t.toString())}},[])},Yq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Qq();var i=S.useMemo(function(){return qq(s)},[s]);return S.createElement(Gq,{styles:Kq(i,!e,s,n?"":"!important")})},bx=!1;if(typeof window<"u")try{var tp=Object.defineProperty({},"passive",{get:function(){return bx=!0,!0}});window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,tp)}catch{bx=!1}var Jl=bx?{passive:!1}:!1,Xq=function(t){return t.tagName==="TEXTAREA"},B2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xq(t)&&n[e]==="visible")},Zq=function(t){return B2(t,"overflowY")},Jq=function(t){return B2(t,"overflowX")},PA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=z2(t,r);if(s){var i=U2(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},tG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},z2=function(t,e){return t==="v"?Zq(e):Jq(e)},U2=function(t,e){return t==="v"?eG(e):tG(e)},nG=function(t,e){return t==="h"&&e==="rtl"?-1:1},rG=function(t,e,n,r,s){var i=nG(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,u=e.contains(l),d=!1,p=o>0,m=0,y=0;do{if(!l)break;var x=U2(t,l),T=x[0],w=x[1],_=x[2],R=w-_-i*T;(T||R)&&z2(t,l)&&(m+=R,y+=T);var I=l.parentNode;l=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(d=!0),d},np=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RA=function(t){return[t.deltaX,t.deltaY]},IA=function(t){return t&&"current"in t?t.current:t},sG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oG=0,ec=[];function aG(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(oG++)[0],i=S.useState(F2)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=Pq([t.lockRef.current],(t.shards||[]).map(IA),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var R=np(w),I=n.current,k="deltaX"in w?w.deltaX:I[0]-R[0],O="deltaY"in w?w.deltaY:I[1]-R[1],B,U=w.target,M=Math.abs(k)>Math.abs(O)?"h":"v";if("touches"in w&&M==="h"&&U.type==="range")return!1;var E=PA(M,U);if(!E)return!0;if(E?B=M:(B=M==="v"?"h":"v",E=PA(M,U)),!E)return!1;if(!r.current&&"changedTouches"in w&&(k||O)&&(r.current=B),!B)return!0;var P=r.current||B;return rG(P,_,w,P==="h"?k:O)},[]),u=S.useCallback(function(w){var _=w;if(!(!ec.length||ec[ec.length-1]!==i)){var R="deltaY"in _?RA(_):np(_),I=e.current.filter(function(B){return B.name===_.type&&(B.target===_.target||_.target===B.shadowParent)&&sG(B.delta,R)})[0];if(I&&I.should){_.cancelable&&_.preventDefault();return}if(!I){var k=(o.current.shards||[]).map(IA).filter(Boolean).filter(function(B){return B.contains(_.target)}),O=k.length>0?l(_,k[0]):!o.current.noIsolation;O&&_.cancelable&&_.preventDefault()}}},[]),d=S.useCallback(function(w,_,R,I){var k={name:w,delta:_,target:R,should:I,shadowParent:lG(R)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(O){return O!==k})},1)},[]),p=S.useCallback(function(w){n.current=np(w),r.current=void 0},[]),m=S.useCallback(function(w){d(w.type,RA(w),w.target,l(w,t.lockRef.current))},[]),y=S.useCallback(function(w){d(w.type,np(w),w.target,l(w,t.lockRef.current))},[]);S.useEffect(function(){return ec.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Jl),document.addEventListener("touchmove",u,Jl),document.addEventListener("touchstart",p,Jl),function(){ec=ec.filter(function(w){return w!==i}),document.removeEventListener("wheel",u,Jl),document.removeEventListener("touchmove",u,Jl),document.removeEventListener("touchstart",p,Jl)}},[]);var x=t.removeScrollBar,T=t.inert;return S.createElement(S.Fragment,null,T?S.createElement(i,{styles:iG(s)}):null,x?S.createElement(Yq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cG=Vq(L2,aG);var I_=S.forwardRef(function(t,e){return S.createElement(ag,Js({},t,{ref:e,sideCar:cG}))});I_.classNames=ag.classNames;var uG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},tc=new WeakMap,rp=new WeakMap,sp={},i0=0,$2=function(t){return t&&(t.host||$2(t.parentNode))},dG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hG=function(t,e,n,r){var s=dG(e,Array.isArray(t)?t:[t]);sp[n]||(sp[n]=new WeakMap);var i=sp[n],o=[],l=new Set,u=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))p(y);else try{var x=y.getAttribute(r),T=x!==null&&x!=="false",w=(tc.get(y)||0)+1,_=(i.get(y)||0)+1;tc.set(y,w),i.set(y,_),o.push(y),w===1&&T&&rp.set(y,!0),_===1&&y.setAttribute(n,"true"),T||y.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return p(e),l.clear(),i0++,function(){o.forEach(function(m){var y=tc.get(m)-1,x=i.get(m)-1;tc.set(m,y),i.set(m,x),y||(rp.has(m)||m.removeAttribute(r),rp.delete(m)),x||m.removeAttribute(n)}),i0--,i0||(tc=new WeakMap,tc=new WeakMap,rp=new WeakMap,sp={})}},H2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=uG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),hG(r,s,n,"aria-hidden")):function(){return null}},lg="Dialog",[W2,nZ]=Fr(lg),[fG,Vs]=W2(lg),q2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=S.useRef(null),u=S.useRef(null),[d,p]=hi({prop:r,defaultProp:s??!1,onChange:i,caller:lg});return h.jsx(fG,{scope:e,triggerRef:l,contentRef:u,contentId:Hi(),titleId:Hi(),descriptionId:Hi(),open:d,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(m=>!m),[p]),modal:o,children:n})};q2.displayName=lg;var G2="DialogTrigger",K2=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vs(G2,n),i=wt(e,s.triggerRef);return h.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":j_(s.open),...r,ref:i,onClick:Ve(t.onClick,s.onOpenToggle)})});K2.displayName=G2;var k_="DialogPortal",[pG,Q2]=W2(k_,{forceMount:void 0}),Y2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Vs(k_,e);return h.jsx(pG,{scope:e,forceMount:n,children:S.Children.map(r,o=>h.jsx(Zi,{present:n||i.open,children:h.jsx(Gm,{asChild:!0,container:s,children:o})}))})};Y2.displayName=k_;var ym="DialogOverlay",X2=S.forwardRef((t,e)=>{const n=Q2(ym,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Vs(ym,t.__scopeDialog);return i.modal?h.jsx(Zi,{present:r||i.open,children:h.jsx(gG,{...s,ref:e})}):null});X2.displayName=ym;var mG=kc("DialogOverlay.RemoveScroll"),gG=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vs(ym,n);return h.jsx(I_,{as:mG,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(Ue.div,{"data-state":j_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),tl="DialogContent",Z2=S.forwardRef((t,e)=>{const n=Q2(tl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Vs(tl,t.__scopeDialog);return h.jsx(Zi,{present:r||i.open,children:i.modal?h.jsx(yG,{...s,ref:e}):h.jsx(vG,{...s,ref:e})})});Z2.displayName=tl;var yG=S.forwardRef((t,e)=>{const n=Vs(tl,t.__scopeDialog),r=S.useRef(null),s=wt(e,n.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return H2(i)},[]),h.jsx(J2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,i=>i.preventDefault())})}),vG=S.forwardRef((t,e)=>{const n=Vs(tl,t.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return h.jsx(J2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),J2=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Vs(tl,n),u=S.useRef(null),d=wt(e,u);return M2(),h.jsxs(h.Fragment,{children:[h.jsx(R_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(ih,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":j_(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(xG,{titleId:l.titleId}),h.jsx(_G,{contentRef:u,descriptionId:l.descriptionId})]})]})}),N_="DialogTitle",ej=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vs(N_,n);return h.jsx(Ue.h2,{id:s.titleId,...r,ref:e})});ej.displayName=N_;var tj="DialogDescription",nj=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vs(tj,n);return h.jsx(Ue.p,{id:s.descriptionId,...r,ref:e})});nj.displayName=tj;var rj="DialogClose",sj=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Vs(rj,n);return h.jsx(Ue.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,()=>s.onOpenChange(!1))})});sj.displayName=rj;function j_(t){return t?"open":"closed"}var ij="DialogTitleWarning",[rZ,oj]=A6(ij,{contentName:tl,titleName:N_,docsSlug:"dialog"}),xG=({titleId:t})=>{const e=oj(ij),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},wG="DialogDescriptionWarning",_G=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oj(wG).contentName}}.`;return S.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},bG=q2,TG=K2,SG=Y2,aj=X2,lj=Z2,cj=ej,uj=nj,EG=sj;const as=bG,Jc=TG,CG=SG,dj=Fe.forwardRef(({className:t,...e},n)=>h.jsx(aj,{ref:n,className:We("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dj.displayName=aj.displayName;const Mr=Fe.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(CG,{children:[h.jsx(dj,{}),h.jsxs(lj,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(EG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(ck,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mr.displayName=lj.displayName;const Or=({className:t,...e})=>h.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Or.displayName="DialogHeader";const Ds=({className:t,...e})=>h.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ds.displayName="DialogFooter";const Vr=Fe.forwardRef(({className:t,...e},n)=>h.jsx(cj,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",t),...e}));Vr.displayName=cj.displayName;const Wd=Fe.forwardRef(({className:t,...e},n)=>h.jsx(uj,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Wd.displayName=uj.displayName;function kA(t,[e,n]){return Math.min(n,Math.max(e,t))}var AG=S.createContext(void 0);function cg(t){const e=S.useContext(AG);return t||e||"ltr"}const PG=["top","right","bottom","left"],Zo=Math.min,Pr=Math.max,vm=Math.round,ip=Math.floor,li=t=>({x:t,y:t}),RG={left:"right",right:"left",bottom:"top",top:"bottom"},IG={start:"end",end:"start"};function Tx(t,e,n){return Pr(t,Zo(e,n))}function Qi(t,e){return typeof t=="function"?t(e):t}function Yi(t){return t.split("-")[0]}function eu(t){return t.split("-")[1]}function D_(t){return t==="x"?"y":"x"}function M_(t){return t==="y"?"height":"width"}const kG=new Set(["top","bottom"]);function ei(t){return kG.has(Yi(t))?"y":"x"}function O_(t){return D_(ei(t))}function NG(t,e,n){n===void 0&&(n=!1);const r=eu(t),s=O_(t),i=M_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xm(o)),[o,xm(o)]}function jG(t){const e=xm(t);return[Sx(t),e,Sx(e)]}function Sx(t){return t.replace(/start|end/g,e=>IG[e])}const NA=["left","right"],jA=["right","left"],DG=["top","bottom"],MG=["bottom","top"];function OG(t,e,n){switch(t){case"top":case"bottom":return n?e?jA:NA:e?NA:jA;case"left":case"right":return e?DG:MG;default:return[]}}function VG(t,e,n,r){const s=eu(t);let i=OG(Yi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Sx)))),i}function xm(t){return t.replace(/left|right|bottom|top/g,e=>RG[e])}function LG(t){return{top:0,right:0,bottom:0,left:0,...t}}function hj(t){return typeof t!="number"?LG(t):{top:t,right:t,bottom:t,left:t}}function wm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function DA(t,e,n){let{reference:r,floating:s}=t;const i=ei(e),o=O_(e),l=M_(o),u=Yi(e),d=i==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,y=r[l]/2-s[l]/2;let x;switch(u){case"top":x={x:p,y:r.y-s.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-s.width,y:m};break;default:x={x:r.x,y:r.y}}switch(eu(e)){case"start":x[o]-=y*(n&&d?-1:1);break;case"end":x[o]+=y*(n&&d?-1:1);break}return x}const FG=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:m}=DA(d,r,u),y=r,x={},T=0;for(let w=0;w<l.length;w++){const{name:_,fn:R}=l[w],{x:I,y:k,data:O,reset:B}=await R({x:p,y:m,initialPlacement:r,placement:y,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});p=I??p,m=k??m,x={...x,[_]:{...x[_],...O}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(y=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:p,y:m}=DA(d,y,u)),w=-1)}return{x:p,y:m,placement:y,strategy:s,middlewareData:x}};async function qd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:x=0}=Qi(e,t),T=hj(x),_=l[y?m==="floating"?"reference":"floating":m],R=wm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:u})),I=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},B=wm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:I,offsetParent:k,strategy:u}):I);return{top:(R.top-B.top+T.top)/O.y,bottom:(B.bottom-R.bottom+T.bottom)/O.y,left:(R.left-B.left+T.left)/O.x,right:(B.right-R.right+T.right)/O.x}}const BG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:p=0}=Qi(t,e)||{};if(d==null)return{};const m=hj(p),y={x:n,y:r},x=O_(s),T=M_(x),w=await o.getDimensions(d),_=x==="y",R=_?"top":"left",I=_?"bottom":"right",k=_?"clientHeight":"clientWidth",O=i.reference[T]+i.reference[x]-y[x]-i.floating[T],B=y[x]-i.reference[x],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=U?U[k]:0;(!M||!await(o.isElement==null?void 0:o.isElement(U)))&&(M=l.floating[k]||i.floating[T]);const E=O/2-B/2,P=M/2-w[T]/2-1,N=Zo(m[R],P),L=Zo(m[I],P),D=N,V=M-w[T]-L,X=M/2-w[T]/2+E,q=Tx(D,X,V),W=!u.arrow&&eu(s)!=null&&X!==q&&i.reference[T]/2-(X<D?N:L)-w[T]/2<0,Y=W?X<D?X-D:X-V:0;return{[x]:y[x]+Y,data:{[x]:q,centerOffset:X-q-Y,...W&&{alignmentOffset:Y}},reset:W}}}),zG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,..._}=Qi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const R=Yi(s),I=ei(l),k=Yi(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),B=y||(k||!w?[xm(l)]:jG(l)),U=T!=="none";!y&&U&&B.push(...VG(l,w,T,O));const M=[l,...B],E=await qd(e,_),P=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&P.push(E[R]),m){const X=NG(s,o,O);P.push(E[X[0]],E[X[1]])}if(N=[...N,{placement:s,overflows:P}],!P.every(X=>X<=0)){var L,D;const X=(((L=i.flip)==null?void 0:L.index)||0)+1,q=M[X];if(q&&(!(m==="alignment"?I!==ei(q):!1)||N.every(K=>ei(K.placement)===I?K.overflows[0]>0:!0)))return{data:{index:X,overflows:N},reset:{placement:q}};let W=(D=N.filter(Y=>Y.overflows[0]<=0).sort((Y,K)=>Y.overflows[1]-K.overflows[1])[0])==null?void 0:D.placement;if(!W)switch(x){case"bestFit":{var V;const Y=(V=N.filter(K=>{if(U){const ee=ei(K.placement);return ee===I||ee==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ee=>ee>0).reduce((ee,oe)=>ee+oe,0)]).sort((K,ee)=>K[1]-ee[1])[0])==null?void 0:V[0];Y&&(W=Y);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function MA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function OA(t){return PG.some(e=>t[e]>=0)}const UG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Qi(t,e);switch(r){case"referenceHidden":{const i=await qd(e,{...s,elementContext:"reference"}),o=MA(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:OA(o)}}}case"escaped":{const i=await qd(e,{...s,altBoundary:!0}),o=MA(i,n.floating);return{data:{escapedOffsets:o,escaped:OA(o)}}}default:return{}}}}},fj=new Set(["left","top"]);async function $G(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Yi(n),l=eu(n),u=ei(n)==="y",d=fj.has(o)?-1:1,p=i&&u?-1:1,m=Qi(e,t);let{mainAxis:y,crossAxis:x,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof T=="number"&&(x=l==="end"?T*-1:T),u?{x:x*p,y:y*d}:{x:y*d,y:x*p}}const HG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await $G(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},WG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:R,y:I}=_;return{x:R,y:I}}},...u}=Qi(t,e),d={x:n,y:r},p=await qd(e,u),m=ei(Yi(s)),y=D_(m);let x=d[y],T=d[m];if(i){const _=y==="y"?"top":"left",R=y==="y"?"bottom":"right",I=x+p[_],k=x-p[R];x=Tx(I,x,k)}if(o){const _=m==="y"?"top":"left",R=m==="y"?"bottom":"right",I=T+p[_],k=T-p[R];T=Tx(I,T,k)}const w=l.fn({...e,[y]:x,[m]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[y]:i,[m]:o}}}}}},qG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Qi(t,e),p={x:n,y:r},m=ei(s),y=D_(m);let x=p[y],T=p[m];const w=Qi(l,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const k=y==="y"?"height":"width",O=i.reference[y]-i.floating[k]+_.mainAxis,B=i.reference[y]+i.reference[k]-_.mainAxis;x<O?x=O:x>B&&(x=B)}if(d){var R,I;const k=y==="y"?"width":"height",O=fj.has(Yi(s)),B=i.reference[m]-i.floating[k]+(O&&((R=o.offset)==null?void 0:R[m])||0)+(O?0:_.crossAxis),U=i.reference[m]+i.reference[k]+(O?0:((I=o.offset)==null?void 0:I[m])||0)-(O?_.crossAxis:0);T<B?T=B:T>U&&(T=U)}return{[y]:x,[m]:T}}}},GG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Qi(t,e),p=await qd(e,d),m=Yi(s),y=eu(s),x=ei(s)==="y",{width:T,height:w}=i.floating;let _,R;m==="top"||m==="bottom"?(_=m,R=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(R=m,_=y==="end"?"top":"bottom");const I=w-p.top-p.bottom,k=T-p.left-p.right,O=Zo(w-p[_],I),B=Zo(T-p[R],k),U=!e.middlewareData.shift;let M=O,E=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=I),U&&!y){const N=Pr(p.left,0),L=Pr(p.right,0),D=Pr(p.top,0),V=Pr(p.bottom,0);x?E=T-2*(N!==0||L!==0?N+L:Pr(p.left,p.right)):M=w-2*(D!==0||V!==0?D+V:Pr(p.top,p.bottom))}await u({...e,availableWidth:E,availableHeight:M});const P=await o.getDimensions(l.floating);return T!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function ug(){return typeof window<"u"}function tu(t){return pj(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yi(t){var e;return(e=(pj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pj(t){return ug()?t instanceof Node||t instanceof Nr(t).Node:!1}function Ms(t){return ug()?t instanceof Element||t instanceof Nr(t).Element:!1}function fi(t){return ug()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function VA(t){return!ug()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}const KG=new Set(["inline","contents"]);function fh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Os(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!KG.has(s)}const QG=new Set(["table","td","th"]);function YG(t){return QG.has(tu(t))}const XG=[":popover-open",":modal"];function dg(t){return XG.some(e=>{try{return t.matches(e)}catch{return!1}})}const ZG=["transform","translate","scale","rotate","perspective"],JG=["transform","translate","scale","rotate","perspective","filter"],eK=["paint","layout","strict","content"];function V_(t){const e=L_(),n=Ms(t)?Os(t):t;return ZG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||JG.some(r=>(n.willChange||"").includes(r))||eK.some(r=>(n.contain||"").includes(r))}function tK(t){let e=Jo(t);for(;fi(e)&&!Lc(e);){if(V_(e))return e;if(dg(e))return null;e=Jo(e)}return null}function L_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nK=new Set(["html","body","#document"]);function Lc(t){return nK.has(tu(t))}function Os(t){return Nr(t).getComputedStyle(t)}function hg(t){return Ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jo(t){if(tu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VA(t)&&t.host||yi(t);return VA(e)?e.host:e}function mj(t){const e=Jo(t);return Lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:fi(e)&&fh(e)?e:mj(e)}function Gd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=mj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Nr(s);if(i){const l=Ex(o);return e.concat(o,o.visualViewport||[],fh(s)?s:[],l&&n?Gd(l):[])}return e.concat(s,Gd(s,[],n))}function Ex(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gj(t){const e=Os(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=vm(n)!==i||vm(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function F_(t){return Ms(t)?t:t.contextElement}function wc(t){const e=F_(t);if(!fi(e))return li(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=gj(e);let o=(i?vm(n.width):n.width)/r,l=(i?vm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rK=li(0);function yj(t){const e=Nr(t);return!L_()||!e.visualViewport?rK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function nl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=F_(t);let o=li(1);e&&(r?Ms(r)&&(o=wc(r)):o=wc(t));const l=sK(i,n,r)?yj(i):li(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,p=s.width/o.x,m=s.height/o.y;if(i){const y=Nr(i),x=r&&Ms(r)?Nr(r):r;let T=y,w=Ex(T);for(;w&&r&&x!==T;){const _=wc(w),R=w.getBoundingClientRect(),I=Os(w),k=R.left+(w.clientLeft+parseFloat(I.paddingLeft))*_.x,O=R.top+(w.clientTop+parseFloat(I.paddingTop))*_.y;u*=_.x,d*=_.y,p*=_.x,m*=_.y,u+=k,d+=O,T=Nr(w),w=Ex(T)}}return wm({width:p,height:m,x:u,y:d})}function B_(t,e){const n=hg(t).scrollLeft;return e?e.left+n:nl(yi(t)).left+n}function vj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:B_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function iK(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=yi(r),l=e?dg(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=li(1);const p=li(0),m=fi(r);if((m||!m&&!i)&&((tu(r)!=="body"||fh(o))&&(u=hg(r)),fi(r))){const x=nl(r);d=wc(r),p.x=x.x+r.clientLeft,p.y=x.y+r.clientTop}const y=o&&!m&&!i?vj(o,u,!0):li(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+p.x+y.x,y:n.y*d.y-u.scrollTop*d.y+p.y+y.y}}function oK(t){return Array.from(t.getClientRects())}function aK(t){const e=yi(t),n=hg(t),r=t.ownerDocument.body,s=Pr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Pr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+B_(t);const l=-n.scrollTop;return Os(r).direction==="rtl"&&(o+=Pr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function lK(t,e){const n=Nr(t),r=yi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=L_();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const cK=new Set(["absolute","fixed"]);function uK(t,e){const n=nl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fi(t)?wc(t):li(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function LA(t,e,n){let r;if(e==="viewport")r=lK(t,n);else if(e==="document")r=aK(yi(t));else if(Ms(e))r=uK(e,n);else{const s=yj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wm(r)}function xj(t,e){const n=Jo(t);return n===e||!Ms(n)||Lc(n)?!1:Os(n).position==="fixed"||xj(n,e)}function dK(t,e){const n=e.get(t);if(n)return n;let r=Gd(t,[],!1).filter(l=>Ms(l)&&tu(l)!=="body"),s=null;const i=Os(t).position==="fixed";let o=i?Jo(t):t;for(;Ms(o)&&!Lc(o);){const l=Os(o),u=V_(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&cK.has(s.position)||fh(o)&&!u&&xj(t,o))?r=r.filter(p=>p!==o):s=l,o=Jo(o)}return e.set(t,r),r}function hK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?dg(e)?[]:dK(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,p)=>{const m=LA(e,p,s);return d.top=Pr(m.top,d.top),d.right=Zo(m.right,d.right),d.bottom=Zo(m.bottom,d.bottom),d.left=Pr(m.left,d.left),d},LA(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function fK(t){const{width:e,height:n}=gj(t);return{width:e,height:n}}function pK(t,e,n){const r=fi(e),s=yi(e),i=n==="fixed",o=nl(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=li(0);function d(){u.x=B_(s)}if(r||!r&&!i)if((tu(e)!=="body"||fh(s))&&(l=hg(e)),r){const x=nl(e,!0,i,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else s&&d();i&&!r&&s&&d();const p=s&&!r&&!i?vj(s,l):li(0),m=o.left+l.scrollLeft-u.x-p.x,y=o.top+l.scrollTop-u.y-p.y;return{x:m,y,width:o.width,height:o.height}}function o0(t){return Os(t).position==="static"}function FA(t,e){if(!fi(t)||Os(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yi(t)===n&&(n=n.ownerDocument.body),n}function wj(t,e){const n=Nr(t);if(dg(t))return n;if(!fi(t)){let s=Jo(t);for(;s&&!Lc(s);){if(Ms(s)&&!o0(s))return s;s=Jo(s)}return n}let r=FA(t,e);for(;r&&YG(r)&&o0(r);)r=FA(r,e);return r&&Lc(r)&&o0(r)&&!V_(r)?n:r||tK(t)||n}const mK=async function(t){const e=this.getOffsetParent||wj,n=this.getDimensions,r=await n(t.floating);return{reference:pK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gK(t){return Os(t).direction==="rtl"}const yK={convertOffsetParentRelativeRectToViewportRelativeRect:iK,getDocumentElement:yi,getClippingRect:hK,getOffsetParent:wj,getElementRects:mK,getClientRects:oK,getDimensions:fK,getScale:wc,isElement:Ms,isRTL:gK};function _j(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function vK(t,e){let n=null,r;const s=yi(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:p,top:m,width:y,height:x}=d;if(l||e(),!y||!x)return;const T=ip(m),w=ip(s.clientWidth-(p+y)),_=ip(s.clientHeight-(m+x)),R=ip(p),k={rootMargin:-T+"px "+-w+"px "+-_+"px "+-R+"px",threshold:Pr(0,Zo(1,u))||1};let O=!0;function B(U){const M=U[0].intersectionRatio;if(M!==u){if(!O)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!_j(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(B,{...k,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,k)}n.observe(t)}return o(!0),i}function xK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=F_(t),p=s||i?[...d?Gd(d):[],...Gd(e)]:[];p.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),i&&R.addEventListener("resize",n)});const m=d&&l?vK(d,n):null;let y=-1,x=null;o&&(x=new ResizeObserver(R=>{let[I]=R;I&&I.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let T,w=u?nl(t):null;u&&_();function _(){const R=nl(t);w&&!_j(w,R)&&n(),w=R,T=requestAnimationFrame(_)}return n(),()=>{var R;p.forEach(I=>{s&&I.removeEventListener("scroll",n),i&&I.removeEventListener("resize",n)}),m==null||m(),(R=x)==null||R.disconnect(),x=null,u&&cancelAnimationFrame(T)}}const wK=HG,_K=WG,bK=zG,TK=GG,SK=UG,BA=BG,EK=qG,CK=(t,e,n)=>{const r=new Map,s={platform:yK,...n},i={...s.platform,_c:r};return FG(t,e,{...s,platform:i})};var AK=typeof document<"u",PK=function(){},Np=AK?S.useLayoutEffect:PK;function _m(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_m(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_m(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zA(t,e){const n=bj(t);return Math.round(e*n)/n}function a0(t){const e=S.useRef(t);return Np(()=>{e.current=t}),e}function RK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[p,m]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,x]=S.useState(r);_m(y,r)||x(r);const[T,w]=S.useState(null),[_,R]=S.useState(null),I=S.useCallback(K=>{K!==U.current&&(U.current=K,w(K))},[]),k=S.useCallback(K=>{K!==M.current&&(M.current=K,R(K))},[]),O=i||T,B=o||_,U=S.useRef(null),M=S.useRef(null),E=S.useRef(p),P=u!=null,N=a0(u),L=a0(s),D=a0(d),V=S.useCallback(()=>{if(!U.current||!M.current)return;const K={placement:e,strategy:n,middleware:y};L.current&&(K.platform=L.current),CK(U.current,M.current,K).then(ee=>{const oe={...ee,isPositioned:D.current!==!1};X.current&&!_m(E.current,oe)&&(E.current=oe,qc.flushSync(()=>{m(oe)}))})},[y,e,n,L,D]);Np(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[d]);const X=S.useRef(!1);Np(()=>(X.current=!0,()=>{X.current=!1}),[]),Np(()=>{if(O&&(U.current=O),B&&(M.current=B),O&&B){if(N.current)return N.current(O,B,V);V()}},[O,B,V,N,P]);const q=S.useMemo(()=>({reference:U,floating:M,setReference:I,setFloating:k}),[I,k]),W=S.useMemo(()=>({reference:O,floating:B}),[O,B]),Y=S.useMemo(()=>{const K={position:n,left:0,top:0};if(!W.floating)return K;const ee=zA(W.floating,p.x),oe=zA(W.floating,p.y);return l?{...K,transform:"translate("+ee+"px, "+oe+"px)",...bj(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:oe}},[n,l,W.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:V,refs:q,elements:W,floatingStyles:Y}),[p,V,q,W,Y])}const IK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?BA({element:r.current,padding:s}).fn(n):{}:r?BA({element:r,padding:s}).fn(n):{}}}},kK=(t,e)=>({...wK(t),options:[t,e]}),NK=(t,e)=>({..._K(t),options:[t,e]}),jK=(t,e)=>({...EK(t),options:[t,e]}),DK=(t,e)=>({...bK(t),options:[t,e]}),MK=(t,e)=>({...TK(t),options:[t,e]}),OK=(t,e)=>({...SK(t),options:[t,e]}),VK=(t,e)=>({...IK(t),options:[t,e]});var LK="Arrow",Tj=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(Ue.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tj.displayName=LK;var FK=Tj;function fg(t){const[e,n]=S.useState(void 0);return On(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var z_="Popper",[Sj,pg]=Fr(z_),[BK,Ej]=Sj(z_),Cj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return h.jsx(BK,{scope:e,anchor:r,onAnchorChange:s,children:n})};Cj.displayName=z_;var Aj="PopperAnchor",Pj=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Ej(Aj,n),o=S.useRef(null),l=wt(e,o),u=S.useRef(null);return S.useEffect(()=>{const d=u.current;u.current=(r==null?void 0:r.current)||o.current,d!==u.current&&i.onAnchorChange(u.current)}),r?null:h.jsx(Ue.div,{...s,ref:l})});Pj.displayName=Aj;var U_="PopperContent",[zK,UK]=Sj(U_),Rj=S.forwardRef((t,e)=>{var he,de,Te,Ce,ue,Z;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:T,...w}=t,_=Ej(U_,n),[R,I]=S.useState(null),k=wt(e,me=>I(me)),[O,B]=S.useState(null),U=fg(O),M=(U==null?void 0:U.width)??0,E=(U==null?void 0:U.height)??0,P=r+(i!=="center"?"-"+i:""),N=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},L=Array.isArray(d)?d:[d],D=L.length>0,V={padding:N,boundary:L.filter(HK),altBoundary:D},{refs:X,floatingStyles:q,placement:W,isPositioned:Y,middlewareData:K}=RK({strategy:"fixed",placement:P,whileElementsMounted:(...me)=>xK(...me,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[kK({mainAxis:s+E,alignmentAxis:o}),u&&NK({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?jK():void 0,...V}),u&&DK({...V}),MK({...V,apply:({elements:me,rects:ge,availableWidth:Ae,availableHeight:Re})=>{const{width:tt,height:$e}=ge.reference,Ke=me.floating.style;Ke.setProperty("--radix-popper-available-width",`${Ae}px`),Ke.setProperty("--radix-popper-available-height",`${Re}px`),Ke.setProperty("--radix-popper-anchor-width",`${tt}px`),Ke.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),O&&VK({element:O,padding:l}),WK({arrowWidth:M,arrowHeight:E}),y&&OK({strategy:"referenceHidden",...V})]}),[ee,oe]=Nj(W),$=rs(T);On(()=>{Y&&($==null||$())},[Y,$]);const J=(he=K.arrow)==null?void 0:he.x,se=(de=K.arrow)==null?void 0:de.y,ve=((Te=K.arrow)==null?void 0:Te.centerOffset)!==0,[be,Ee]=S.useState();return On(()=>{R&&Ee(window.getComputedStyle(R).zIndex)},[R]),h.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Y?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Ce=K.transformOrigin)==null?void 0:Ce.x,(ue=K.transformOrigin)==null?void 0:ue.y].join(" "),...((Z=K.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(zK,{scope:n,placedSide:ee,onArrowChange:B,arrowX:J,arrowY:se,shouldHideArrow:ve,children:h.jsx(Ue.div,{"data-side":ee,"data-align":oe,...w,ref:k,style:{...w.style,animation:Y?void 0:"none"}})})})});Rj.displayName=U_;var Ij="PopperArrow",$K={top:"bottom",right:"left",bottom:"top",left:"right"},kj=S.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=UK(Ij,r),o=$K[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(FK,{...s,ref:n,style:{...s.style,display:"block"}})})});kj.displayName=Ij;function HK(t){return t!==null}var WK=t=>({name:"transformOrigin",options:t,fn(e){var _,R,I;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,p]=Nj(n),m={start:"0%",center:"50%",end:"100%"}[p],y=(((R=s.arrow)==null?void 0:R.x)??0)+l/2,x=(((I=s.arrow)==null?void 0:I.y)??0)+u/2;let T="",w="";return d==="bottom"?(T=o?m:`${y}px`,w=`${-u}px`):d==="top"?(T=o?m:`${y}px`,w=`${r.floating.height+u}px`):d==="right"?(T=`${-u}px`,w=o?m:`${x}px`):d==="left"&&(T=`${r.floating.width+u}px`,w=o?m:`${x}px`),{data:{x:T,y:w}}}});function Nj(t){const[e,n="center"]=t.split("-");return[e,n]}var jj=Cj,Dj=Pj,Mj=Rj,Oj=kj;function mg(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var qK=[" ","Enter","ArrowUp","ArrowDown"],GK=[" ","Enter"],rl="Select",[gg,yg,KK]=Ew(rl),[nu,sZ]=Fr(rl,[KK,pg]),vg=pg(),[QK,oa]=nu(rl),[YK,XK]=nu(rl),Vj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:p,autoComplete:m,disabled:y,required:x,form:T}=t,w=vg(e),[_,R]=S.useState(null),[I,k]=S.useState(null),[O,B]=S.useState(!1),U=cg(d),[M,E]=hi({prop:r,defaultProp:s??!1,onChange:i,caller:rl}),[P,N]=hi({prop:o,defaultProp:l,onChange:u,caller:rl}),L=S.useRef(null),D=_?T||!!_.closest("form"):!0,[V,X]=S.useState(new Set),q=Array.from(V).map(W=>W.props.value).join(";");return h.jsx(jj,{...w,children:h.jsxs(QK,{required:x,scope:e,trigger:_,onTriggerChange:R,valueNode:I,onValueNodeChange:k,valueNodeHasChildren:O,onValueNodeHasChildrenChange:B,contentId:Hi(),value:P,onValueChange:N,open:M,onOpenChange:E,dir:U,triggerPointerDownPosRef:L,disabled:y,children:[h.jsx(gg.Provider,{scope:e,children:h.jsx(YK,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(W=>{X(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:S.useCallback(W=>{X(Y=>{const K=new Set(Y);return K.delete(W),K})},[]),children:n})}),D?h.jsxs(aD,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:m,value:P,onChange:W=>N(W.target.value),disabled:y,form:T,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(V)]},q):null]})})};Vj.displayName=rl;var Lj="SelectTrigger",Fj=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=vg(n),o=oa(Lj,n),l=o.disabled||r,u=wt(e,o.onTriggerChange),d=yg(n),p=S.useRef("touch"),[m,y,x]=cD(w=>{const _=d().filter(k=>!k.disabled),R=_.find(k=>k.value===o.value),I=uD(_,w,R);I!==void 0&&o.onValueChange(I.value)}),T=w=>{l||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return h.jsx(Dj,{asChild:!0,...i,children:h.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":lD(o.value)?"":void 0,...s,ref:u,onClick:Ve(s.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&T(w)}),onPointerDown:Ve(s.onPointerDown,w=>{p.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(T(w),w.preventDefault())}),onKeyDown:Ve(s.onKeyDown,w=>{const _=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(_&&w.key===" ")&&qK.includes(w.key)&&(T(),w.preventDefault())})})})});Fj.displayName=Lj;var Bj="SelectValue",zj=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,u=oa(Bj,n),{onValueNodeHasChildrenChange:d}=u,p=i!==void 0,m=wt(e,u.onValueNodeChange);return On(()=>{d(p)},[d,p]),h.jsx(Ue.span,{...l,ref:m,style:{pointerEvents:"none"},children:lD(u.value)?h.jsx(h.Fragment,{children:o}):i})});zj.displayName=Bj;var ZK="SelectIcon",Uj=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(Ue.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Uj.displayName=ZK;var JK="SelectPortal",$j=t=>h.jsx(Gm,{asChild:!0,...t});$j.displayName=JK;var sl="SelectContent",Hj=S.forwardRef((t,e)=>{const n=oa(sl,t.__scopeSelect),[r,s]=S.useState();if(On(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?qc.createPortal(h.jsx(Wj,{scope:t.__scopeSelect,children:h.jsx(gg.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(qj,{...t,ref:e})});Hj.displayName=sl;var As=10,[Wj,aa]=nu(sl),eQ="SelectContentImpl",tQ=kc("SelectContent.RemoveScroll"),qj=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:x,sticky:T,hideWhenDetached:w,avoidCollisions:_,...R}=t,I=oa(sl,n),[k,O]=S.useState(null),[B,U]=S.useState(null),M=wt(e,he=>O(he)),[E,P]=S.useState(null),[N,L]=S.useState(null),D=yg(n),[V,X]=S.useState(!1),q=S.useRef(!1);S.useEffect(()=>{if(k)return H2(k)},[k]),M2();const W=S.useCallback(he=>{const[de,...Te]=D().map(Z=>Z.ref.current),[Ce]=Te.slice(-1),ue=document.activeElement;for(const Z of he)if(Z===ue||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===de&&B&&(B.scrollTop=0),Z===Ce&&B&&(B.scrollTop=B.scrollHeight),Z==null||Z.focus(),document.activeElement!==ue))return},[D,B]),Y=S.useCallback(()=>W([E,k]),[W,E,k]);S.useEffect(()=>{V&&Y()},[V,Y]);const{onOpenChange:K,triggerPointerDownPosRef:ee}=I;S.useEffect(()=>{if(k){let he={x:0,y:0};const de=Ce=>{var ue,Z;he={x:Math.abs(Math.round(Ce.pageX)-(((ue=ee.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Z=ee.current)==null?void 0:Z.y)??0))}},Te=Ce=>{he.x<=10&&he.y<=10?Ce.preventDefault():k.contains(Ce.target)||K(!1),document.removeEventListener("pointermove",de),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Te,{capture:!0})}}},[k,K,ee]),S.useEffect(()=>{const he=()=>K(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[K]);const[oe,$]=cD(he=>{const de=D().filter(ue=>!ue.disabled),Te=de.find(ue=>ue.ref.current===document.activeElement),Ce=uD(de,he,Te);Ce&&setTimeout(()=>Ce.ref.current.focus())}),J=S.useCallback((he,de,Te)=>{const Ce=!q.current&&!Te;(I.value!==void 0&&I.value===de||Ce)&&(P(he),Ce&&(q.current=!0))},[I.value]),se=S.useCallback(()=>k==null?void 0:k.focus(),[k]),ve=S.useCallback((he,de,Te)=>{const Ce=!q.current&&!Te;(I.value!==void 0&&I.value===de||Ce)&&L(he)},[I.value]),be=r==="popper"?Cx:Gj,Ee=be===Cx?{side:l,sideOffset:u,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:x,sticky:T,hideWhenDetached:w,avoidCollisions:_}:{};return h.jsx(Wj,{scope:n,content:k,viewport:B,onViewportChange:U,itemRefCallback:J,selectedItem:E,onItemLeave:se,itemTextRefCallback:ve,focusSelectedItem:Y,selectedItemText:N,position:r,isPositioned:V,searchRef:oe,children:h.jsx(I_,{as:tQ,allowPinchZoom:!0,children:h.jsx(R_,{asChild:!0,trapped:I.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Ve(s,he=>{var de;(de=I.trigger)==null||de.focus({preventScroll:!0}),he.preventDefault()}),children:h.jsx(ih,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:h.jsx(be,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:he=>he.preventDefault(),...R,...Ee,onPlaced:()=>X(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ve(R.onKeyDown,he=>{const de=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!de&&he.key.length===1&&$(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Ce=D().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ue=he.target,Z=Ce.indexOf(ue);Ce=Ce.slice(Z+1)}setTimeout(()=>W(Ce)),he.preventDefault()}})})})})})})});qj.displayName=eQ;var nQ="SelectItemAlignedPosition",Gj=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=oa(sl,n),o=aa(sl,n),[l,u]=S.useState(null),[d,p]=S.useState(null),m=wt(e,M=>p(M)),y=yg(n),x=S.useRef(!1),T=S.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:R,focusSelectedItem:I}=o,k=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&w&&_&&R){const M=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),N=R.getBoundingClientRect();if(i.dir!=="rtl"){const ue=N.left-E.left,Z=P.left-ue,me=M.left-Z,ge=M.width+me,Ae=Math.max(ge,E.width),Re=window.innerWidth-As,tt=kA(Z,[As,Math.max(As,Re-Ae)]);l.style.minWidth=ge+"px",l.style.left=tt+"px"}else{const ue=E.right-N.right,Z=window.innerWidth-P.right-ue,me=window.innerWidth-M.right-Z,ge=M.width+me,Ae=Math.max(ge,E.width),Re=window.innerWidth-As,tt=kA(Z,[As,Math.max(As,Re-Ae)]);l.style.minWidth=ge+"px",l.style.right=tt+"px"}const L=y(),D=window.innerHeight-As*2,V=w.scrollHeight,X=window.getComputedStyle(d),q=parseInt(X.borderTopWidth,10),W=parseInt(X.paddingTop,10),Y=parseInt(X.borderBottomWidth,10),K=parseInt(X.paddingBottom,10),ee=q+W+V+K+Y,oe=Math.min(_.offsetHeight*5,ee),$=window.getComputedStyle(w),J=parseInt($.paddingTop,10),se=parseInt($.paddingBottom,10),ve=M.top+M.height/2-As,be=D-ve,Ee=_.offsetHeight/2,he=_.offsetTop+Ee,de=q+W+he,Te=ee-de;if(de<=ve){const ue=L.length>0&&_===L[L.length-1].ref.current;l.style.bottom="0px";const Z=d.clientHeight-w.offsetTop-w.offsetHeight,me=Math.max(be,Ee+(ue?se:0)+Z+Y),ge=de+me;l.style.height=ge+"px"}else{const ue=L.length>0&&_===L[0].ref.current;l.style.top="0px";const me=Math.max(ve,q+w.offsetTop+(ue?J:0)+Ee)+Te;l.style.height=me+"px",w.scrollTop=de-ve+w.offsetTop}l.style.margin=`${As}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[y,i.trigger,i.valueNode,l,d,w,_,R,i.dir,r]);On(()=>k(),[k]);const[O,B]=S.useState();On(()=>{d&&B(window.getComputedStyle(d).zIndex)},[d]);const U=S.useCallback(M=>{M&&T.current===!0&&(k(),I==null||I(),T.current=!1)},[k,I]);return h.jsx(sQ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:U,children:h.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:h.jsx(Ue.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Gj.displayName=nQ;var rQ="SelectPopperPosition",Cx=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=As,...i}=t,o=vg(n);return h.jsx(Mj,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cx.displayName=rQ;var[sQ,$_]=nu(sl,{}),Ax="SelectViewport",Kj=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=aa(Ax,n),o=$_(Ax,n),l=wt(e,i.onViewportChange),u=S.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(gg.Slot,{scope:n,children:h.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ve(s.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const x=Math.abs(u.current-p.scrollTop);if(x>0){const T=window.innerHeight-As*2,w=parseFloat(m.style.minHeight),_=parseFloat(m.style.height),R=Math.max(w,_);if(R<T){const I=R+x,k=Math.min(T,I),O=I-k;m.style.height=k+"px",m.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});Kj.displayName=Ax;var Qj="SelectGroup",[iQ,oQ]=nu(Qj),aQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hi();return h.jsx(iQ,{scope:n,id:s,children:h.jsx(Ue.div,{role:"group","aria-labelledby":s,...r,ref:e})})});aQ.displayName=Qj;var Yj="SelectLabel",Xj=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oQ(Yj,n);return h.jsx(Ue.div,{id:s.id,...r,ref:e})});Xj.displayName=Yj;var bm="SelectItem",[lQ,Zj]=nu(bm),Jj=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=oa(bm,n),u=aa(bm,n),d=l.value===r,[p,m]=S.useState(i??""),[y,x]=S.useState(!1),T=wt(e,I=>{var k;return(k=u.itemRefCallback)==null?void 0:k.call(u,I,r,s)}),w=Hi(),_=S.useRef("touch"),R=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(lQ,{scope:n,value:r,disabled:s,textId:w,isSelected:d,onItemTextChange:S.useCallback(I=>{m(k=>k||((I==null?void 0:I.textContent)??"").trim())},[]),children:h.jsx(gg.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:h.jsx(Ue.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:Ve(o.onFocus,()=>x(!0)),onBlur:Ve(o.onBlur,()=>x(!1)),onClick:Ve(o.onClick,()=>{_.current!=="mouse"&&R()}),onPointerUp:Ve(o.onPointerUp,()=>{_.current==="mouse"&&R()}),onPointerDown:Ve(o.onPointerDown,I=>{_.current=I.pointerType}),onPointerMove:Ve(o.onPointerMove,I=>{var k;_.current=I.pointerType,s?(k=u.onItemLeave)==null||k.call(u):_.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,I=>{var k;I.currentTarget===document.activeElement&&((k=u.onItemLeave)==null||k.call(u))}),onKeyDown:Ve(o.onKeyDown,I=>{var O;((O=u.searchRef)==null?void 0:O.current)!==""&&I.key===" "||(GK.includes(I.key)&&R(),I.key===" "&&I.preventDefault())})})})})});Jj.displayName=bm;var dd="SelectItemText",eD=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=oa(dd,n),l=aa(dd,n),u=Zj(dd,n),d=XK(dd,n),[p,m]=S.useState(null),y=wt(e,R=>m(R),u.onItemTextChange,R=>{var I;return(I=l.itemTextRefCallback)==null?void 0:I.call(l,R,u.value,u.disabled)}),x=p==null?void 0:p.textContent,T=S.useMemo(()=>h.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=d;return On(()=>(w(T),()=>_(T)),[w,_,T]),h.jsxs(h.Fragment,{children:[h.jsx(Ue.span,{id:u.textId,...i,ref:y}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?qc.createPortal(i.children,o.valueNode):null]})});eD.displayName=dd;var tD="SelectItemIndicator",nD=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Zj(tD,n).isSelected?h.jsx(Ue.span,{"aria-hidden":!0,...r,ref:e}):null});nD.displayName=tD;var Px="SelectScrollUpButton",rD=S.forwardRef((t,e)=>{const n=aa(Px,t.__scopeSelect),r=$_(Px,t.__scopeSelect),[s,i]=S.useState(!1),o=wt(e,r.onScrollButtonChange);return On(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?h.jsx(iD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});rD.displayName=Px;var Rx="SelectScrollDownButton",sD=S.forwardRef((t,e)=>{const n=aa(Rx,t.__scopeSelect),r=$_(Rx,t.__scopeSelect),[s,i]=S.useState(!1),o=wt(e,r.onScrollButtonChange);return On(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<d;i(p)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?h.jsx(iD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});sD.displayName=Rx;var iD=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=aa("SelectScrollButton",n),o=S.useRef(null),l=yg(n),u=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>u(),[u]),On(()=>{var p;const d=l().find(m=>m.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),h.jsx(Ue.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ve(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ve(s.onPointerLeave,()=>{u()})})}),cQ="SelectSeparator",oD=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Ue.div,{"aria-hidden":!0,...r,ref:e})});oD.displayName=cQ;var Ix="SelectArrow",uQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=vg(n),i=oa(Ix,n),o=aa(Ix,n);return i.open&&o.position==="popper"?h.jsx(Oj,{...s,...r,ref:e}):null});uQ.displayName=Ix;var dQ="SelectBubbleInput",aD=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=S.useRef(null),i=wt(r,s),o=mg(e);return S.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&p){const m=new Event("change",{bubbles:!0});p.call(l,e),l.dispatchEvent(m)}},[o,e]),h.jsx(Ue.select,{...n,style:{...jI,...n.style},ref:i,defaultValue:e})});aD.displayName=dQ;function lD(t){return t===""||t===void 0}function cD(t){const e=rs(t),n=S.useRef(""),r=S.useRef(0),s=S.useCallback(o=>{const l=n.current+o;e(l),(function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),i=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function uD(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hQ(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function hQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fQ=Vj,dD=Fj,pQ=zj,mQ=Uj,gQ=$j,hD=Hj,yQ=Kj,fD=Xj,pD=Jj,vQ=eD,xQ=nD,mD=rD,gD=sD,yD=oD;const En=fQ,Cn=pQ,mn=Fe.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(dD,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(mQ,{asChild:!0,children:h.jsx(ek,{className:"h-4 w-4 opacity-50"})})]}));mn.displayName=dD.displayName;const vD=Fe.forwardRef(({className:t,...e},n)=>h.jsx(mD,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(TB,{className:"h-4 w-4"})}));vD.displayName=mD.displayName;const xD=Fe.forwardRef(({className:t,...e},n)=>h.jsx(gD,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(ek,{className:"h-4 w-4"})}));xD.displayName=gD.displayName;const gn=Fe.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(gQ,{children:h.jsxs(hD,{ref:s,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(vD,{}),h.jsx(yQ,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(xD,{})]})}));gn.displayName=hD.displayName;const wQ=Fe.forwardRef(({className:t,...e},n)=>h.jsx(fD,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));wQ.displayName=fD.displayName;const xt=Fe.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(pD,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(xQ,{children:h.jsx(kw,{className:"h-4 w-4"})})}),h.jsx(vQ,{children:e})]}));xt.displayName=pD.displayName;const _Q=Fe.forwardRef(({className:t,...e},n)=>h.jsx(yD,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",t),...e}));_Q.displayName=yD.displayName;const bQ=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState(""),[u,d]=S.useState(!1),[p,m]=S.useState(null),[y,x]=S.useState({}),{toast:T}=Zn(),[w,_]=S.useState(null),[R,I]=S.useState(!0),[k,O]=S.useState(!1),[B,U]=S.useState(!0),M={nome:"",email:"",senha:"",tipo:"funcionario",departamento:"",ativo:!0},E=q=>{const W=q.length>0?q[0].nome:"";x({...M,departamento:W}),m(null)},P=async(q=!1)=>{if(k)return;O(!0);const W=await dh("usuarios",{lastVisible:q?w:null});W.data.length>0&&(e(Y=>q?[...Y,...W.data]:W.data),_(W.lastVisible)),W.data.length<15&&I(!1),O(!1)};S.useEffect(()=>{(async()=>{U(!0);const W=await gt("departamentos");i(W),E(W),await P(),U(!1)})()},[]),S.useEffect(()=>{const q=t.filter(W=>W.nome.toLowerCase().includes(o.toLowerCase())||W.email.toLowerCase().includes(o.toLowerCase())||W.departamento&&W.departamento.toLowerCase().includes(o.toLowerCase()));r(q)},[t,o]);const N=async q=>{if(q.preventDefault(),p){const W={...y};W.senha||delete W.senha,await ss("usuarios",p.id,W),T({title:"Usuário atualizado!"})}else{const W={...y,dataCriacao:new Date().toISOString()};await ls("usuarios",W),T({title:"Usuário criado!"})}d(!1),await P()},L=q=>{m(q),x({nome:q.nome,email:q.email,senha:"",tipo:q.tipo,departamento:q.departamento,ativo:q.ativo}),d(!0)},D=async q=>{window.confirm("Tem certeza que deseja remover este usuário?")&&(await eo("usuarios",q),T({title:"Usuário removido!"}),e(W=>W.filter(Y=>Y.id!==q)))},V=async q=>{const W=!q.ativo;await ss("usuarios",q.id,{ativo:W}),T({title:"Status atualizado!"}),e(Y=>Y.map(K=>K.id===q.id?{...K,ativo:W}:K))},X=async q=>{if(window.confirm(`Tem certeza que deseja ZERAR TODO O DESEMPENHO do usuário "${q.nome}"? Esta ação não pode ser desfeita.`))try{await R7(q.id),T({title:"Desempenho zerado!",description:`Todos os dados de progresso de ${q.nome} foram removidos.`})}catch(W){T({title:"Erro",description:W.message,variant:"destructive"})}};return B?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Usuários"}),h.jsx("p",{className:"text-slate-400",children:"Gerencie usuários do sistema"})]}),h.jsxs(as,{open:u,onOpenChange:d,children:[h.jsx(Jc,{asChild:!0,children:h.jsxs(we,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:()=>E(s),children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Novo Usuário"]})}),h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(Or,{children:h.jsxs(Vr,{children:[p?"Editar":"Novo"," Usuário"]})}),h.jsxs("form",{id:"userForm",onSubmit:N,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"nome",children:"Nome"}),h.jsx(ct,{id:"nome",value:y.nome,onChange:q=>x({...y,nome:q.target.value}),className:"bg-slate-800/50",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"email",children:"Email"}),h.jsx(ct,{id:"email",type:"email",value:y.email,onChange:q=>x({...y,email:q.target.value}),className:"bg-slate-800/50",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"senha",children:"Senha"}),h.jsx(ct,{id:"senha",type:"password",placeholder:p?"Deixe em branco para não alterar":"",onChange:q=>x({...y,senha:q.target.value}),className:"bg-slate-800/50",required:!p})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"tipo",children:"Tipo"}),h.jsxs(En,{value:y.tipo,onValueChange:q=>x({...y,tipo:q}),children:[h.jsx(mn,{className:"bg-slate-800/50",children:h.jsx(Cn,{})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"admin",children:"Administrador"}),h.jsx(xt,{value:"funcionario",children:"Funcionário"})]})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"departamento",children:"Departamento"}),h.jsxs(En,{value:y.departamento,onValueChange:q=>x({...y,departamento:q}),children:[h.jsx(mn,{className:"bg-slate-800/50",children:h.jsx(Cn,{placeholder:"Selecione..."})}),h.jsx(gn,{children:s.map(q=>h.jsx(xt,{value:q.nome,children:q.nome},q.id))})]})]})]}),h.jsxs(Ds,{children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-slate-600",children:"Cancelar"}),h.jsx(we,{type:"submit",form:"userForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:p?"Atualizar":"Criar"})]})]})]})]}),h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[h.jsx(Gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{placeholder:"Buscar nos usuários carregados...",value:o,onChange:q=>l(q.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((q,W)=>h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:W*.1},children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover",children:[h.jsx(at,{className:"pb-3",children:h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-semibold text-white",children:q.nome.charAt(0)})}),h.jsxs("div",{children:[h.jsx(lt,{className:"text-lg text-white",children:q.nome}),h.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[h.jsx($i,{variant:q.tipo==="admin"?"default":"secondary",children:q.tipo==="admin"?"Admin":"Funcionário"}),h.jsx($i,{variant:q.ativo?"default":"destructive",children:q.ativo?"Ativo":"Inativo"})]})]})]})})}),h.jsxs(it,{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[h.jsx(rk,{className:"w-4 h-4"}),h.jsx("span",{children:q.email})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[h.jsx(Iw,{className:"w-4 h-4"}),h.jsx("span",{children:q.departamento})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[h.jsx(bB,{className:"w-4 h-4"}),h.jsxs("span",{children:["Criado em ",new Date(q.dataCriacao).toLocaleDateString("pt-BR")]})]}),h.jsxs("div",{className:"flex justify-between pt-3 border-t border-slate-700",children:[h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(we,{size:"sm",variant:"outline",onClick:()=>L(q),className:"border-slate-600 hover:bg-slate-700",children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"sm",variant:"outline",onClick:()=>V(q),className:`border-slate-600 ${q.ativo?"hover:bg-red-500/20 hover:border-red-500":"hover:bg-green-500/20 hover:border-green-500"}`,children:q.ativo?h.jsx($B,{className:"w-4 h-4"}):h.jsx(UB,{className:"w-4 h-4"})}),h.jsx(we,{size:"sm",variant:"outline",onClick:()=>X(q),className:"border-slate-600 hover:bg-yellow-500/20 hover:border-yellow-500",title:"Zerar Desempenho",children:h.jsx(LB,{className:"w-4 h-4"})})]}),h.jsx(we,{size:"sm",variant:"outline",onClick:()=>D(q.id),className:"border-slate-600 hover:bg-red-500/20 hover:border-red-500",children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})]})},q.id))}),R&&h.jsx("div",{className:"text-center mt-8",children:h.jsx(we,{onClick:()=>P(!0),disabled:k,children:k?h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Usuários"})})]})},pi=Fe.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pi.displayName="Textarea";var xg="Switch",[TQ,iZ]=Fr(xg),[SQ,EQ]=TQ(xg),wD=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:d,form:p,...m}=t,[y,x]=S.useState(null),T=wt(e,k=>x(k)),w=S.useRef(!1),_=y?p||!!y.closest("form"):!0,[R,I]=hi({prop:s,defaultProp:i??!1,onChange:d,caller:xg});return h.jsxs(SQ,{scope:n,checked:R,disabled:l,children:[h.jsx(Ue.button,{type:"button",role:"switch","aria-checked":R,"aria-required":o,"data-state":SD(R),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:T,onClick:Ve(t.onClick,k=>{I(O=>!O),_&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),_&&h.jsx(TD,{control:y,bubbles:!w.current,name:r,value:u,checked:R,required:o,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});wD.displayName=xg;var _D="SwitchThumb",bD=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=EQ(_D,n);return h.jsx(Ue.span,{"data-state":SD(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});bD.displayName=_D;var CQ="SwitchBubbleInput",TD=S.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=S.useRef(null),l=wt(o,i),u=mg(n),d=fg(e);return S.useEffect(()=>{const p=o.current;if(!p)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const T=new Event("click",{bubbles:r});x.call(p,n),p.dispatchEvent(T)}},[u,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});TD.displayName=CQ;function SD(t){return t?"checked":"unchecked"}var ED=wD,AQ=bD;const Kd=Fe.forwardRef(({className:t,...e},n)=>h.jsx(ED,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(AQ,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Kd.displayName=ED.displayName;var l0="rovingFocusGroup.onEntryFocus",PQ={bubbles:!1,cancelable:!0},ph="RovingFocusGroup",[kx,CD,RQ]=Ew(ph),[IQ,wg]=Fr(ph,[RQ]),[kQ,NQ]=IQ(ph),AD=S.forwardRef((t,e)=>h.jsx(kx.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(kx.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(jQ,{...t,ref:e})})}));AD.displayName=ph;var jQ=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...m}=t,y=S.useRef(null),x=wt(e,y),T=cg(i),[w,_]=hi({prop:o,defaultProp:l??null,onChange:u,caller:ph}),[R,I]=S.useState(!1),k=rs(d),O=CD(n),B=S.useRef(!1),[U,M]=S.useState(0);return S.useEffect(()=>{const E=y.current;if(E)return E.addEventListener(l0,k),()=>E.removeEventListener(l0,k)},[k]),h.jsx(kQ,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:w,onItemFocus:S.useCallback(E=>_(E),[_]),onItemShiftTab:S.useCallback(()=>I(!0),[]),onFocusableItemAdd:S.useCallback(()=>M(E=>E+1),[]),onFocusableItemRemove:S.useCallback(()=>M(E=>E-1),[]),children:h.jsx(Ue.div,{tabIndex:R||U===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{B.current=!0}),onFocus:Ve(t.onFocus,E=>{const P=!B.current;if(E.target===E.currentTarget&&P&&!R){const N=new CustomEvent(l0,PQ);if(E.currentTarget.dispatchEvent(N),!N.defaultPrevented){const L=O().filter(W=>W.focusable),D=L.find(W=>W.active),V=L.find(W=>W.id===w),q=[D,V,...L].filter(Boolean).map(W=>W.ref.current);ID(q,p)}}B.current=!1}),onBlur:Ve(t.onBlur,()=>I(!1))})})}),PD="RovingFocusGroupItem",RD=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,u=Hi(),d=i||u,p=NQ(PD,n),m=p.currentTabStopId===d,y=CD(n),{onFocusableItemAdd:x,onFocusableItemRemove:T,currentTabStopId:w}=p;return S.useEffect(()=>{if(r)return x(),()=>T()},[r,x,T]),h.jsx(kx.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:h.jsx(Ue.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:Ve(t.onMouseDown,_=>{r?p.onItemFocus(d):_.preventDefault()}),onFocus:Ve(t.onFocus,()=>p.onItemFocus(d)),onKeyDown:Ve(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const R=OQ(_,p.orientation,p.dir);if(R!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=y().filter(O=>O.focusable).map(O=>O.ref.current);if(R==="last")k.reverse();else if(R==="prev"||R==="next"){R==="prev"&&k.reverse();const O=k.indexOf(_.currentTarget);k=p.loop?VQ(k,O+1):k.slice(O+1)}setTimeout(()=>ID(k))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:w!=null}):o})})});RD.displayName=PD;var DQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function OQ(t,e,n){const r=MQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DQ[r]}function ID(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function VQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kD=AD,ND=RD,H_="Radio",[LQ,jD]=Fr(H_),[FQ,BQ]=LQ(H_),DD=S.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:u,form:d,...p}=t,[m,y]=S.useState(null),x=wt(e,_=>y(_)),T=S.useRef(!1),w=m?d||!!m.closest("form"):!0;return h.jsxs(FQ,{scope:n,checked:s,disabled:o,children:[h.jsx(Ue.button,{type:"button",role:"radio","aria-checked":s,"data-state":LD(s),"data-disabled":o?"":void 0,disabled:o,value:l,...p,ref:x,onClick:Ve(t.onClick,_=>{s||u==null||u(),w&&(T.current=_.isPropagationStopped(),T.current||_.stopPropagation())})}),w&&h.jsx(VD,{control:m,bubbles:!T.current,name:r,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});DD.displayName=H_;var MD="RadioIndicator",OD=S.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=BQ(MD,n);return h.jsx(Zi,{present:r||i.checked,children:h.jsx(Ue.span,{"data-state":LD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});OD.displayName=MD;var zQ="RadioBubbleInput",VD=S.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=S.useRef(null),l=wt(o,i),u=mg(n),d=fg(e);return S.useEffect(()=>{const p=o.current;if(!p)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const T=new Event("click",{bubbles:r});x.call(p,n),p.dispatchEvent(T)}},[u,n,r]),h.jsx(Ue.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VD.displayName=zQ;function LD(t){return t?"checked":"unchecked"}var UQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_g="RadioGroup",[$Q,oZ]=Fr(_g,[wg,jD]),FD=wg(),BD=jD(),[HQ,WQ]=$Q(_g),zD=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:u,dir:d,loop:p=!0,onValueChange:m,...y}=t,x=FD(n),T=cg(d),[w,_]=hi({prop:i,defaultProp:s??null,onChange:m,caller:_g});return h.jsx(HQ,{scope:n,name:r,required:o,disabled:l,value:w,onValueChange:_,children:h.jsx(kD,{asChild:!0,...x,orientation:u,dir:T,loop:p,children:h.jsx(Ue.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:T,...y,ref:e})})})});zD.displayName=_g;var UD="RadioGroupItem",$D=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=WQ(UD,n),o=i.disabled||r,l=FD(n),u=BD(n),d=S.useRef(null),p=wt(e,d),m=i.value===s.value,y=S.useRef(!1);return S.useEffect(()=>{const x=w=>{UQ.includes(w.key)&&(y.current=!0)},T=()=>y.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",T)}},[]),h.jsx(ND,{asChild:!0,...l,focusable:!o,active:m,children:h.jsx(DD,{disabled:o,required:i.required,checked:m,...u,...s,name:i.name,ref:p,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ve(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Ve(s.onFocus,()=>{var x;y.current&&((x=d.current)==null||x.click())})})})});$D.displayName=UD;var qQ="RadioGroupIndicator",HD=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=BD(n);return h.jsx(OD,{...s,...r,ref:e})});HD.displayName=qQ;var WD=zD,qD=$D,GQ=HD;const bg=Fe.forwardRef(({className:t,...e},n)=>h.jsx(WD,{className:We("grid gap-2",t),...e,ref:n}));bg.displayName=WD.displayName;const Tg=Fe.forwardRef(({className:t,...e},n)=>h.jsx(qD,{ref:n,className:We("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(GQ,{className:"flex items-center justify-center",children:h.jsx(kw,{className:"h-3.5 w-3.5 fill-current text-current"})})}));Tg.displayName=qD.displayName;const KQ=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[u,d]=S.useState(""),[p,m]=S.useState(!1),[y,x]=S.useState(!1),[T,w]=S.useState(null),[_,R]=S.useState(null),[I,k]=S.useState(null),[O,B]=S.useState(!0),[U,M]=S.useState(!1),[E,P]=S.useState(!0),[N,L]=S.useState(""),[D,V]=S.useState(""),X={titulo:"",descricao:"",video:"",categoriaId:"",departamento:"Todos",obrigatorio:!1,ativo:!0,dataExpiracao:"",perguntas:[],arquivosComplementares:[]},[q,W]=S.useState(X),{toast:Y}=Zn(),K=async(Z=!1)=>{if(U)return;M(!0);const me=await dh("treinamentos",{lastVisible:Z?I:null,orderByField:"dataPublicacao",orderDirection:"desc"});me.data.length>0?(e(ge=>Z?[...ge,...me.data]:me.data),k(me.lastVisible)):Z||e([]),me.data.length<15&&B(!1),M(!1)};S.useEffect(()=>{(async()=>{P(!0);const[me,ge]=await Promise.all([gt("categorias"),gt("departamentos")]);i(me),l(ge),await K(),P(!1)})()},[]),S.useEffect(()=>{const Z=t.filter(me=>me.titulo.toLowerCase().includes(u.toLowerCase()));r(Z)},[t,u]);const ee=Z=>{var me;return((me=s.find(ge=>ge.id===Z))==null?void 0:me.nome)||"N/A"},oe=()=>{W(X),R(null)},$=Z=>{R(Z),W({...X,...Z,categoriaId:Z.categoriaId.toString()}),m(!0)},J=async Z=>{Z.preventDefault();const me={...q,categoriaId:parseInt(q.categoriaId),dataExpiracao:q.dataExpiracao||null};if(_)await ss("treinamentos",_.id,me),Y({title:"Treinamento atualizado!"});else{const ge={...me,dataPublicacao:new Date().toISOString()};await ls("treinamentos",ge),Y({title:"Treinamento criado!"})}m(!1),await K()},se=Z=>{w(Z),x(!0)},ve=async()=>{T&&(await eo("treinamentos",T.id),Y({title:"Treinamento removido!"}),w(null),x(!1),await K())},be=()=>W(Z=>({...Z,perguntas:[...Z.perguntas||[],{pergunta:"",opcoes:["","","",""],respostaCorreta:null}]})),Ee=Z=>W(me=>({...me,perguntas:me.perguntas.filter((ge,Ae)=>Ae!==Z)})),he=(Z,me)=>{const ge=[...q.perguntas];ge[Z].pergunta=me,W({...q,perguntas:ge})},de=(Z,me,ge)=>{const Ae=[...q.perguntas];Ae[Z].opcoes[me]=ge,W({...q,perguntas:Ae})},Te=(Z,me)=>{const ge=[...q.perguntas];ge[Z].respostaCorreta=me,W({...q,perguntas:ge})},Ce=()=>{!N.trim()||!D.trim()||(W(Z=>({...Z,arquivosComplementares:[...Z.arquivosComplementares||[],{name:N,url:D}]})),L(""),V(""))},ue=Z=>{W(me=>({...me,arquivosComplementares:me.arquivosComplementares.filter((ge,Ae)=>Ae!==Z)}))};return E?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Treinamentos"}),h.jsx("p",{className:"text-slate-400",children:"Crie, edite e gerencie os treinamentos da plataforma."})]}),h.jsxs(as,{open:p,onOpenChange:m,children:[h.jsx(Jc,{asChild:!0,children:h.jsxs(we,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:oe,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Novo Treinamento"]})}),h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] flex flex-col",children:[h.jsxs(Or,{children:[h.jsxs(Vr,{children:[_?"Editar":"Novo"," Treinamento"]}),h.jsx(Wd,{children:"Preencha os detalhes do treinamento e adicione o conteúdo."})]}),h.jsxs("form",{id:"trainingForm",onSubmit:J,className:"space-y-6 overflow-y-auto scrollbar-thin pr-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"titulo",children:"Título"}),h.jsx(ct,{id:"titulo",value:q.titulo,onChange:Z=>W({...q,titulo:Z.target.value}),className:"bg-slate-800/50",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"video",children:"URL do Vídeo (Embed)"}),h.jsx(ct,{id:"video",value:q.video,onChange:Z=>W({...q,video:Z.target.value}),className:"bg-slate-800/50",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"categoriaId",children:"Categoria"}),h.jsxs(En,{value:q.categoriaId,onValueChange:Z=>W({...q,categoriaId:Z}),children:[h.jsx(mn,{className:"bg-slate-800/50",children:h.jsx(Cn,{placeholder:"Selecione..."})}),h.jsx(gn,{children:s.map(Z=>h.jsx(xt,{value:Z.id.toString(),children:Z.nome},Z.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"departamento",children:"Departamento"}),h.jsxs(En,{value:q.departamento,onValueChange:Z=>W({...q,departamento:Z}),children:[h.jsx(mn,{className:"bg-slate-800/50",children:h.jsx(Cn,{})}),h.jsx(gn,{children:o.map(Z=>h.jsx(xt,{value:Z.nome,children:Z.nome},Z.id))})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"descricao",children:"Descrição"}),h.jsx(pi,{id:"descricao",value:q.descricao,onChange:Z=>W({...q,descricao:Z.target.value}),className:"bg-slate-800/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"dataExpiracao",children:"Data de Expiração (Opcional)"}),h.jsx(ct,{type:"date",id:"dataExpiracao",value:q.dataExpiracao,onChange:Z=>W({...q,dataExpiracao:Z.target.value}),className:"bg-slate-800/50"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Kd,{id:"obrigatorio",checked:q.obrigatorio,onCheckedChange:Z=>W({...q,obrigatorio:Z})}),h.jsx(Qe,{htmlFor:"obrigatorio",children:"Obrigatório"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Kd,{id:"ativo",checked:q.ativo,onCheckedChange:Z=>W({...q,ativo:Z})}),h.jsx(Qe,{htmlFor:"ativo",children:"Ativo"})]})]}),h.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Arquivos Complementares (Links)"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"linkName",children:"Nome do Arquivo"}),h.jsx(ct,{id:"linkName",placeholder:"Ex: Manual em PDF",value:N,onChange:Z=>L(Z.target.value),className:"bg-slate-800/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"linkUrl",children:"Link Compartilhável"}),h.jsx(ct,{id:"linkUrl",placeholder:"Cole o link aqui...",value:D,onChange:Z=>V(Z.target.value),className:"bg-slate-800/50"})]})]}),h.jsxs(we,{type:"button",variant:"outline",onClick:Ce,children:[h.jsx(Dw,{className:"w-4 h-4 mr-2"})," Adicionar Link"]}),h.jsx("div",{className:"space-y-2 pt-2",children:(q.arquivosComplementares||[]).map((Z,me)=>h.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded",children:[h.jsx("span",{className:"text-sm text-slate-300",children:Z.name}),h.jsx(we,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ue(me),children:h.jsx(CB,{className:"w-4 h-4 text-red-500"})})]},`${Z.name}-${me}`))})]}),h.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Questionário"}),h.jsxs(we,{type:"button",size:"sm",onClick:be,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Adicionar Pergunta"]})]}),(q.perguntas||[]).map((Z,me)=>{var ge;return h.jsxs("div",{className:"p-4 border border-slate-700 rounded-lg space-y-4 bg-slate-800/30",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(Qe,{children:["Pergunta ",me+1]}),h.jsx(we,{type:"button",size:"sm",variant:"destructive",onClick:()=>Ee(me),children:h.jsx(Ir,{className:"w-4 h-4"})})]}),h.jsx(pi,{placeholder:"Digite a pergunta...",value:Z.pergunta,onChange:Ae=>he(me,Ae.target.value),required:!0}),h.jsx(bg,{value:(ge=Z.respostaCorreta)==null?void 0:ge.toString(),onValueChange:Ae=>Te(me,parseInt(Ae)),children:Z.opcoes.map((Ae,Re)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tg,{value:Re.toString(),id:`q${me}o${Re}`}),h.jsx(ct,{placeholder:`Opção ${Re+1}`,value:Ae,onChange:tt=>de(me,Re,tt.target.value),required:!0})]},Re))})]},me)})]})]}),h.jsxs(Ds,{className:"pt-4 border-t border-slate-700",children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>m(!1),className:"border-slate-600",children:"Cancelar"}),h.jsx(we,{type:"submit",form:"trainingForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:_?"Salvar":"Criar"})]})]})]})]}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsxs("div",{className:"relative",children:[h.jsx(Gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{placeholder:"Buscar por título...",value:u,onChange:Z=>d(Z.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((Z,me)=>{var ge;return h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:me*.05},children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsxs(at,{children:[h.jsx(lt,{className:"text-lg text-white mb-1",children:Z.titulo}),h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx($i,{style:{backgroundColor:((ge=s.find(Ae=>Ae.id===Z.categoriaId))==null?void 0:ge.cor)||"#ccc"},children:ee(Z.categoriaId)}),h.jsx($i,{variant:Z.ativo?"default":"secondary",children:Z.ativo?"Ativo":"Inativo"}),Z.obrigatorio&&h.jsx($i,{variant:"destructive",children:"Obrigatório"})]})]}),h.jsx(it,{className:"flex-grow space-y-3",children:h.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:Z.descricao})}),h.jsxs(ia,{className:"flex justify-end space-x-2",children:[h.jsx(we,{size:"sm",variant:"outline",className:"border-slate-600",onClick:()=>$(Z),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"sm",variant:"destructive",onClick:()=>se(Z),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})},Z.id)})}),O&&h.jsx("div",{className:"text-center mt-8",children:h.jsx(we,{onClick:()=>K(!0),disabled:U,children:U?h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})}),h.jsx(as,{open:y,onOpenChange:x,children:h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white",children:[h.jsxs(Or,{children:[h.jsxs(Vr,{className:"flex items-center gap-2",children:[h.jsx(ak,{className:"text-red-500"}),"Confirmar Exclusão"]}),h.jsxs(Wd,{children:['Tem certeza que deseja remover o treinamento "',T==null?void 0:T.titulo,'"?']})]}),h.jsxs(Ds,{children:[h.jsx(we,{variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),h.jsx(we,{variant:"destructive",onClick:ve,children:"Sim, Excluir"})]})]})})]})},QQ=async t=>{try{const e=await Sn(Tn(Pt,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},YQ=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState({nome:"",cor:"#3b82f6"}),[u,d]=S.useState(!0),{toast:p}=Zn(),m=async()=>{d(!0);const _=await QQ("categorias");e(_),d(!1)};S.useEffect(()=>{m()},[]);const y=()=>{l({nome:"",cor:"#3b82f6"}),i(null)},x=_=>{i(_),l({nome:_.nome,cor:_.cor}),r(!0)},T=async _=>{_.preventDefault(),s?(await ss("categorias",s.id,o),p({title:"Categoria atualizada com sucesso!"})):(await ls("categorias",o),p({title:"Categoria criada com sucesso!"})),await m(),y(),r(!1)},w=async _=>{window.confirm("Tem certeza que deseja remover esta categoria? Isso pode afetar treinamentos existentes.")&&(await eo("categorias",_),await m(),p({title:"Categoria removida com sucesso."}))};return u?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Categorias"}),h.jsx("p",{className:"text-slate-400",children:"Organize seus treinamentos em categorias."})]}),h.jsxs(as,{open:n,onOpenChange:r,children:[h.jsx(Jc,{asChild:!0,children:h.jsxs(we,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:y,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Nova Categoria"]})}),h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(Or,{children:h.jsxs(Vr,{children:[s?"Editar":"Nova"," Categoria"]})}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"nome",children:"Nome da Categoria"}),h.jsx(ct,{id:"nome",value:o.nome,onChange:_=>l({...o,nome:_.target.value}),className:"bg-slate-800/50",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"cor",children:"Cor da Categoria"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ct,{id:"cor",type:"color",value:o.cor,onChange:_=>l({...o,cor:_.target.value}),className:"p-1 h-10 w-14 block bg-slate-800/50 border-slate-600 cursor-pointer"}),h.jsx(ct,{type:"text",value:o.cor,onChange:_=>l({...o,cor:_.target.value}),className:"bg-slate-800/50"})]})]}),h.jsxs(Ds,{children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),h.jsx(we,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:s?"Salvar":"Criar"})]})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((_,R)=>h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.05},children:h.jsx(nt,{className:"glass-effect border-slate-700 card-hover",children:h.jsxs(it,{className:"p-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:_.cor},children:h.jsx(BB,{className:"w-5 h-5 text-white"})}),h.jsx("span",{className:"font-medium text-white",children:_.nome})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>x(_),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>w(_.id),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})})},_.id))})]})},XQ=async t=>{try{const e=await Sn(Tn(Pt,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},ZQ=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState({nome:""}),[u,d]=S.useState(!0),{toast:p}=Zn(),m=async()=>{d(!0);const _=await XQ("departamentos");e(_.filter(R=>R.nome!=="Todos")),d(!1)};S.useEffect(()=>{m()},[]);const y=()=>{l({nome:""}),i(null)},x=_=>{i(_),l({nome:_.nome}),r(!0)},T=async _=>{_.preventDefault(),s?(await ss("departamentos",s.id,o),p({title:"Departamento atualizado com sucesso!"})):(await ls("departamentos",o),p({title:"Departamento criado com sucesso!"})),await m(),y(),r(!1)},w=async _=>{window.confirm("Tem certeza que deseja remover este departamento?")&&(await eo("departamentos",_),await m(),p({title:"Departamento removido com sucesso."}))};return u?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Departamentos"}),h.jsx("p",{className:"text-slate-400",children:"Adicione, edite ou remova os departamentos da empresa."})]}),h.jsxs(as,{open:n,onOpenChange:r,children:[h.jsx(Jc,{asChild:!0,children:h.jsxs(we,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:y,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Novo Departamento"]})}),h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(Or,{children:h.jsxs(Vr,{children:[s?"Editar":"Novo"," Departamento"]})}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"nome",children:"Nome do Departamento"}),h.jsx(ct,{id:"nome",value:o.nome,onChange:_=>l({nome:_.target.value}),className:"bg-slate-800/50",required:!0})]}),h.jsxs(Ds,{children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),h.jsx(we,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:s?"Salvar":"Criar"})]})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((_,R)=>h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.05},children:h.jsx(nt,{className:"glass-effect border-slate-700 card-hover",children:h.jsxs(it,{className:"p-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-slate-700",children:h.jsx(Iw,{className:"w-5 h-5 text-slate-300"})}),h.jsx("span",{className:"font-medium text-white",children:_.nome})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>x(_),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>w(_.id),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})})},_.id))})]})};var Sg="Checkbox",[JQ,aZ]=Fr(Sg),[eY,W_]=JQ(Sg);function tY(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:u,required:d,value:p="on",internal_do_not_use_render:m}=t,[y,x]=hi({prop:n,defaultProp:s??!1,onChange:u,caller:Sg}),[T,w]=S.useState(null),[_,R]=S.useState(null),I=S.useRef(!1),k=T?!!o||!!T.closest("form"):!0,O={checked:y,disabled:i,setChecked:x,control:T,setControl:w,name:l,form:o,value:p,hasConsumerStoppedPropagationRef:I,required:d,defaultChecked:Uo(s)?!1:s,isFormControl:k,bubbleInput:_,setBubbleInput:R};return h.jsx(eY,{scope:e,...O,children:nY(m)?m(O):r})}var GD="CheckboxTrigger",KD=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:u,required:d,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:y,isFormControl:x,bubbleInput:T}=W_(GD,t),w=wt(s,p),_=S.useRef(u);return S.useEffect(()=>{const R=i==null?void 0:i.form;if(R){const I=()=>m(_.current);return R.addEventListener("reset",I),()=>R.removeEventListener("reset",I)}},[i,m]),h.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":Uo(u)?"mixed":u,"aria-required":d,"data-state":JD(u),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:w,onKeyDown:Ve(e,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Ve(n,R=>{m(I=>Uo(I)?!0:!I),T&&x&&(y.current=R.isPropagationStopped(),y.current||R.stopPropagation())})})});KD.displayName=GD;var q_=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:u,onCheckedChange:d,form:p,...m}=t;return h.jsx(tY,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:p,value:u,internal_do_not_use_render:({isFormControl:y})=>h.jsxs(h.Fragment,{children:[h.jsx(KD,{...m,ref:e,__scopeCheckbox:n}),y&&h.jsx(ZD,{__scopeCheckbox:n})]})})});q_.displayName=Sg;var QD="CheckboxIndicator",YD=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=W_(QD,n);return h.jsx(Zi,{present:r||Uo(i.checked)||i.checked===!0,children:h.jsx(Ue.span,{"data-state":JD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});YD.displayName=QD;var XD="CheckboxBubbleInput",ZD=S.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:u,name:d,value:p,form:m,bubbleInput:y,setBubbleInput:x}=W_(XD,t),T=wt(n,x),w=mg(i),_=fg(r);S.useEffect(()=>{const I=y;if(!I)return;const k=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(k,"checked").set,U=!s.current;if(w!==i&&B){const M=new Event("click",{bubbles:U});I.indeterminate=Uo(i),B.call(I,Uo(i)?!1:i),I.dispatchEvent(M)}},[y,w,i,s]);const R=S.useRef(Uo(i)?!1:i);return h.jsx(Ue.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??R.current,required:l,disabled:u,name:d,value:p,form:m,...e,tabIndex:-1,ref:T,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZD.displayName=XD;function nY(t){return typeof t=="function"}function Uo(t){return t==="indeterminate"}function JD(t){return Uo(t)?"indeterminate":t?"checked":"unchecked"}const eM=Fe.forwardRef(({className:t,...e},n)=>h.jsx(q_,{ref:n,className:We("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(YD,{className:We("flex items-center justify-center text-current"),children:h.jsx(kw,{className:"h-4 w-4"})})}));eM.displayName=q_.displayName;const c0=async t=>{try{const e=await Sn(Tn(Pt,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},rY=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState(!1),[u,d]=S.useState(null),[p,m]=S.useState(!0),y={titulo:"",descricao:"",departamento:"Todos",ativo:!0,treinamentos:[]},[x,T]=S.useState(y),{toast:w}=Zn(),_=async()=>{m(!0);const U=await c0("trilhas"),M=await c0("treinamentos"),E=await c0("departamentos");e(U),r(M),i(E),m(!1)};S.useEffect(()=>{_()},[]);const R=()=>{T(y),d(null)},I=U=>{d(U),T({...y,...U,treinamentos:U.treinamentos||[]}),l(!0)},k=async U=>{U.preventDefault(),u?(await ss("trilhas",u.id,x),w({title:"Trilha atualizada com sucesso!"})):(await ls("trilhas",x),w({title:"Trilha criada com sucesso!"})),await _(),R(),l(!1)},O=async U=>{window.confirm("Tem certeza que deseja remover esta trilha?")&&(await eo("trilhas",U),await _(),w({title:"Trilha removida com sucesso."}))},B=U=>{T(M=>{const E=M.treinamentos.includes(U)?M.treinamentos.filter(P=>P!==U):[...M.treinamentos,U];return{...M,treinamentos:E}})};return p?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Trilhas de Aprendizagem"}),h.jsx("p",{className:"text-slate-400",children:"Crie e organize sequências de treinamentos."})]}),h.jsxs(as,{open:o,onOpenChange:l,children:[h.jsx(Jc,{asChild:!0,children:h.jsxs(we,{className:"bg-gradient-to-r from-green-500 to-teal-600",onClick:R,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Nova Trilha"]})}),h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white max-w-2xl",children:[h.jsxs(Or,{children:[h.jsxs(Vr,{children:[u?"Editar":"Nova"," Trilha de Aprendizagem"]}),h.jsx(Wd,{children:"Defina os detalhes e selecione os treinamentos para a trilha."})]}),h.jsxs("form",{onSubmit:k,className:"space-y-4",children:[h.jsx(ct,{placeholder:"Título da Trilha",value:x.titulo,onChange:U=>T({...x,titulo:U.target.value}),required:!0,className:"bg-slate-800/50"}),h.jsx(pi,{placeholder:"Descrição da Trilha",value:x.descricao,onChange:U=>T({...x,descricao:U.target.value}),className:"bg-slate-800/50"}),h.jsxs(En,{value:x.departamento,onValueChange:U=>T({...x,departamento:U}),children:[h.jsx(mn,{className:"bg-slate-800/50",children:h.jsx(Cn,{})}),h.jsx(gn,{children:s.map(U=>h.jsx(xt,{value:U.nome,children:U.nome},U.id))})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Kd,{id:"ativo",checked:x.ativo,onCheckedChange:U=>T({...x,ativo:U})}),h.jsx(Qe,{htmlFor:"ativo",children:"Ativa"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Treinamentos (selecione na ordem desejada)"}),h.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 p-2 border border-slate-700 rounded-md",children:n.map(U=>h.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-800/50 rounded",children:[h.jsx(eM,{id:`training-${U.id}`,checked:x.treinamentos.includes(U.id),onCheckedChange:()=>B(U.id)}),h.jsx("label",{htmlFor:`training-${U.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:U.titulo})]},U.id))})]}),h.jsxs(Ds,{children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),h.jsx(we,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:u?"Salvar":"Criar Trilha"})]})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((U,M)=>h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsxs(at,{children:[h.jsx(lt,{className:"text-lg text-white",children:U.titulo}),h.jsx("p",{className:"text-sm text-slate-400",children:U.departamento})]}),h.jsxs(it,{className:"flex-grow",children:[h.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:U.descricao}),h.jsxs("div",{className:"text-xs text-slate-400 mt-4 pt-2 border-t border-slate-700 flex items-center gap-2",children:[h.jsx(MB,{className:"w-4 h-4"}),h.jsxs("span",{children:[(U.treinamentos||[]).length," Treinamento(s)"]})]})]}),h.jsxs(ia,{className:"flex justify-end space-x-2",children:[h.jsx(we,{size:"sm",variant:"outline",onClick:()=>I(U),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"sm",variant:"destructive",onClick:()=>O(U.id),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})},U.id))})]})},Nx=S.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",t),...e})}));Nx.displayName="Table";const jx=S.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:We("[&_tr]:border-b",t),...e}));jx.displayName="TableHeader";const Dx=S.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",t),...e}));Dx.displayName="TableBody";const sY=S.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:We("bg-primary font-medium text-primary-foreground",t),...e}));sY.displayName="TableFooter";const Ua=S.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:We("border-b border-slate-700 transition-colors hover:bg-slate-800/50 data-[state=selected]:bg-muted",t),...e}));Ua.displayName="TableRow";const $a=S.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-slate-400 [&:has([role=checkbox])]:pr-0",t),...e}));$a.displayName="TableHead";const Li=S.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Li.displayName="TableCell";const iY=S.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",t),...e}));iY.displayName="TableCaption";var Eg="Tabs",[oY,lZ]=Fr(Eg,[wg]),tM=wg(),[aY,G_]=oY(Eg),nM=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,p=cg(l),[m,y]=hi({prop:r,onChange:s,defaultProp:i??"",caller:Eg});return h.jsx(aY,{scope:n,baseId:Hi(),value:m,onValueChange:y,orientation:o,dir:p,activationMode:u,children:h.jsx(Ue.div,{dir:p,"data-orientation":o,...d,ref:e})})});nM.displayName=Eg;var rM="TabsList",sM=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=G_(rM,n),o=tM(n);return h.jsx(kD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});sM.displayName=rM;var iM="TabsTrigger",oM=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=G_(iM,n),l=tM(n),u=cM(o.baseId,r),d=uM(o.baseId,r),p=r===o.value;return h.jsx(ND,{asChild:!0,...l,focusable:!s,active:p,children:h.jsx(Ue.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:Ve(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Ve(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Ve(t.onFocus,()=>{const m=o.activationMode!=="manual";!p&&!s&&m&&o.onValueChange(r)})})})});oM.displayName=iM;var aM="TabsContent",lM=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=G_(aM,n),u=cM(l.baseId,r),d=uM(l.baseId,r),p=r===l.value,m=S.useRef(p);return S.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),h.jsx(Zi,{present:s||p,children:({present:y})=>h.jsx(Ue.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:y&&i})})});lM.displayName=aM;function cM(t,e){return`${t}-trigger-${e}`}function uM(t,e){return`${t}-content-${e}`}var lY=nM,dM=sM,hM=oM,fM=lM;const pM=lY,K_=Fe.forwardRef(({className:t,...e},n)=>h.jsx(dM,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));K_.displayName=dM.displayName;const _c=Fe.forwardRef(({className:t,...e},n)=>h.jsx(hM,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));_c.displayName=hM.displayName;const bc=Fe.forwardRef(({className:t,...e},n)=>h.jsx(fM,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bc.displayName=fM.displayName;const cY=()=>{const[t,e]=S.useState({users:[],historico:[],resultados:[],trainings:[]}),[n,r]=S.useState(""),[s,i]=S.useState("all"),[o,l]=S.useState(!0);S.useEffect(()=>{(async()=>{l(!0);const[m,y,x,T]=await Promise.all([gt("usuarios"),gt("historico"),gt("resultadosSimulados"),gt("treinamentos")]);e({users:m.filter(w=>w.tipo==="funcionario"&&w.ativo),historico:y,resultados:x,trainings:T}),l(!1)})()},[]);const u=S.useMemo(()=>{if(!n)return null;const p=t.users.find(x=>x.id===n);if(!p)return null;const m=t.historico.filter(x=>x.usuarioId===n&&x.concluido).map(x=>{const T=t.trainings.find(w=>w.id===x.treinamentoId);return{...x,trainingTitle:(T==null?void 0:T.titulo)||"Treinamento não encontrado"}}).sort((x,T)=>new Date(T.dataConclusao)-new Date(x.dataConclusao)),y=t.resultados.filter(x=>x.usuarioId===n).sort((x,T)=>new Date(T.dataConclusao)-new Date(x.dataConclusao));return{...p,historico:m,resultados:y}},[n,t]),d=S.useMemo(()=>{const{trainings:p,users:m,historico:y}=t;if(m.length===0)return null;const x=s==="all"?p:p.filter(R=>R.id===s),T=y.filter(R=>R.concluido&&(s==="all"||R.treinamentoId===s)).length,w=m.length*x.length,_=w>0?T/w*100:0;return{totalCompletions:T,completionRate:_,totalUsers:m.length}},[t,s]);return o?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Relatórios de Desempenho"}),h.jsx("p",{className:"text-slate-400",children:"Analise o progresso da sua equipa."})]}),h.jsxs(pM,{defaultValue:"geral",className:"w-full",children:[h.jsxs(K_,{className:"grid w-full grid-cols-2",children:[h.jsx(_c,{value:"geral",children:"Relatório Geral"}),h.jsx(_c,{value:"individual",children:"Relatório Individual"})]}),h.jsxs(bc,{value:"geral",className:"mt-6 space-y-6",children:[h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsxs(at,{children:[h.jsx(lt,{children:"Visão Geral"}),h.jsx(Dn,{children:"Filtre por treinamento para ver o desempenho geral."})]}),h.jsx(it,{children:h.jsxs(En,{value:s,onValueChange:i,children:[h.jsxs(mn,{className:"bg-slate-800/50 border-slate-600",children:[h.jsx(nk,{className:"w-4 h-4 mr-2"}),h.jsx(Cn,{placeholder:"Filtrar por treinamento"})]}),h.jsxs(gn,{children:[h.jsx(xt,{value:"all",children:"Todos os Treinamentos"}),t.trainings.map(p=>h.jsx(xt,{value:p.id,children:p.titulo},p.id))]})]})})]}),d&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsx(at,{className:"pb-2",children:h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:"Total de Conclusões"})}),h.jsx(it,{children:h.jsx("div",{className:"text-2xl font-bold text-white",children:d.totalCompletions})})]}),h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsx(at,{className:"pb-2",children:h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:"Taxa de Conclusão Geral"})}),h.jsx(it,{children:h.jsxs("div",{className:"text-2xl font-bold text-white",children:[d.completionRate.toFixed(1),"%"]})})]}),h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsx(at,{className:"pb-2",children:h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:"Total de Funcionários"})}),h.jsx(it,{children:h.jsx("div",{className:"text-2xl font-bold text-white",children:d.totalUsers})})]})]})]}),h.jsxs(bc,{value:"individual",className:"mt-6 space-y-6",children:[h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsxs(at,{children:[h.jsx(lt,{children:"Relatório por Utilizador"}),h.jsx(Dn,{children:"Selecione um funcionário para ver o seu histórico detalhado."})]}),h.jsx(it,{children:h.jsxs(En,{value:n,onValueChange:r,children:[h.jsxs(mn,{className:"bg-slate-800/50 border-slate-600",children:[h.jsx(HB,{className:"w-4 h-4 mr-2"}),h.jsx(Cn,{placeholder:"Selecione um funcionário..."})]}),h.jsx(gn,{children:t.users.map(p=>h.jsx(xt,{value:p.id,children:p.nome},p.id))})]})})]}),u&&h.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[h.jsx(nt,{className:"glass-effect border-slate-700 text-white",children:h.jsx(at,{children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-xl font-bold",children:u.nome.charAt(0)}),h.jsxs("div",{children:[h.jsx(lt,{className:"text-2xl",children:u.nome}),h.jsxs(Dn,{children:[u.departamento," | Título: ",h.jsx("span",{className:"font-semibold text-purple-400",children:u.titulo||"Iniciante"})]})]})]})})}),h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(at,{children:h.jsxs(lt,{className:"flex items-center",children:[h.jsx(Nc,{className:"w-5 h-5 mr-2 text-blue-400"}),"Histórico de Simulados"]})}),h.jsx(it,{children:h.jsxs(Nx,{children:[h.jsx(jx,{children:h.jsxs(Ua,{children:[h.jsx($a,{children:"Simulado"}),h.jsx($a,{children:"Data"}),h.jsx($a,{className:"text-right",children:"Pontuação"})]})}),h.jsx(Dx,{children:u.resultados.length>0?u.resultados.map(p=>h.jsxs(Ua,{children:[h.jsx(Li,{className:"font-medium",children:p.simuladoTitulo}),h.jsx(Li,{children:new Date(p.dataConclusao).toLocaleDateString("pt-BR")}),h.jsxs(Li,{className:"text-right font-bold",children:[p.pontuacao.toFixed(0),"%"]})]},p.id)):h.jsx(Ua,{children:h.jsx(Li,{colSpan:3,className:"text-center text-slate-400",children:"Nenhum simulado realizado."})})})]})})]}),h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(at,{children:h.jsxs(lt,{className:"flex items-center",children:[h.jsx(ii,{className:"w-5 h-5 mr-2 text-green-400"}),"Histórico de Treinamentos"]})}),h.jsx(it,{children:h.jsxs(Nx,{children:[h.jsx(jx,{children:h.jsxs(Ua,{children:[h.jsx($a,{children:"Treinamento"}),h.jsx($a,{children:"Data"}),h.jsx($a,{className:"text-right",children:"Pontos Ganhos"})]})}),h.jsx(Dx,{children:u.historico.length>0?u.historico.map(p=>h.jsxs(Ua,{children:[h.jsx(Li,{className:"font-medium",children:p.trainingTitle}),h.jsx(Li,{children:new Date(p.dataConclusao).toLocaleDateString("pt-BR")}),h.jsx(Li,{className:"text-right font-bold",children:p.pontosGanhos||p.notaQuestionario||0})]},p.id)):h.jsx(Ua,{children:h.jsx(Li,{colSpan:3,className:"text-center text-slate-400",children:"Nenhum treinamento concluído."})})})]})})]})]})]})]})]})};var jp={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var uY=jp.exports,UA;function dY(){return UA||(UA=1,(function(t,e){((n,r)=>{t.exports=r()})(uY,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},u=0,d={};function p(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var N=B(P);N.chunkSize=parseInt(N.chunkSize),P.step||P.chunk||(N.chunkSize=null),this._handle=new w(N),(this._handle.streamer=this)._config=N}).call(this,E),this.parseChunk=function(P,N){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let V=this._config.newline;V||(D=this._config.quoteChar||'"',V=this._handle.guessLineEndings(P,D)),P=[...P.split(V).slice(L)].join(V)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(P))!==void 0&&(P=D),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+P,D=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=D.meta.cursor,L=(this._finished||(this._partialLine=L.substring(P-this._baseIndex),this._baseIndex=P),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:D,workerId:d.WORKER_ID,finished:L});else if(M(this._config.chunk)&&!N){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!L||!M(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(P){M(this._config.error)?this._config.error(P):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:P,finished:!1})}}function m(E){var P;(E=E||{}).chunkSize||(E.chunkSize=d.RemoteChunkSize),p.call(this,E),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),i||(P.onload=U(this._chunkLoaded,this),P.onerror=U(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var N,L=this._config.downloadRequestHeaders;for(N in L)P.setRequestHeader(N,L[N])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+D));try{P.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}i&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(N){N=P.statusText||N,this._sendError(new Error(N))}}function y(E){(E=E||{}).chunkSize||(E.chunkSize=d.LocalChunkSize),p.call(this,E);var P,N,L=typeof FileReader<"u";this.stream=function(D){this._input=D,N=D.slice||D.webkitSlice||D.mozSlice,L?((P=new FileReader).onload=U(this._chunkLoaded,this),P.onerror=U(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),D=N.call(D,this._start,V)),P.readAsText(D,this._config.encoding));L||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(P.error)}}function x(E){var P;p.call(this,E=E||{}),this.stream=function(N){return P=N,this._nextChunk()},this._nextChunk=function(){var N,L;if(!this._finished)return N=this._config.chunkSize,P=N?(L=P.substring(0,N),P.substring(N)):(L=P,""),this._finished=!P,this.parseChunk(L)}}function T(E){p.call(this,E=E||{});var P=[],N=!0,L=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):N=!0},this._streamData=U(function(D){try{P.push(typeof D=="string"?D:D.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(V){this._streamError(V)}},this),this._streamError=U(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=U(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(E){var P,N,L,D,V=Math.pow(2,53),X=-V,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,K=0,ee=0,oe=!1,$=!1,J=[],se={data:[],errors:[],meta:{}};function ve(de){return E.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function be(){if(se&&L&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),L=!1),E.skipEmptyLines&&(se.data=se.data.filter(function(Z){return!ve(Z)})),Ee()){let Z=function(me,ge){M(E.transformHeader)&&(me=E.transformHeader(me,ge)),J.push(me)};var ue=Z;if(se)if(Array.isArray(se.data[0])){for(var de=0;Ee()&&de<se.data.length;de++)se.data[de].forEach(Z);se.data.splice(0,1)}else se.data.forEach(Z)}function Te(Z,me){for(var ge=E.header?{}:[],Ae=0;Ae<Z.length;Ae++){var Re=Ae,tt=Z[Ae],tt=(($e,Ke)=>(Tt=>(E.dynamicTypingFunction&&E.dynamicTyping[Tt]===void 0&&(E.dynamicTyping[Tt]=E.dynamicTypingFunction(Tt)),(E.dynamicTyping[Tt]||E.dynamicTyping)===!0))($e)?Ke==="true"||Ke==="TRUE"||Ke!=="false"&&Ke!=="FALSE"&&((Tt=>{if(q.test(Tt)&&(Tt=parseFloat(Tt),X<Tt&&Tt<V))return 1})(Ke)?parseFloat(Ke):W.test(Ke)?new Date(Ke):Ke===""?null:Ke):Ke)(Re=E.header?Ae>=J.length?"__parsed_extra":J[Ae]:Re,tt=E.transform?E.transform(tt,Re):tt);Re==="__parsed_extra"?(ge[Re]=ge[Re]||[],ge[Re].push(tt)):ge[Re]=tt}return E.header&&(Ae>J.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+Ae,ee+me):Ae<J.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+Ae,ee+me)),ge}var Ce;se&&(E.header||E.dynamicTyping||E.transform)&&(Ce=1,!se.data.length||Array.isArray(se.data[0])?(se.data=se.data.map(Te),Ce=se.data.length):se.data=Te(se.data,0),E.header&&se.meta&&(se.meta.fields=J),ee+=Ce)}function Ee(){return E.header&&J.length===0}function he(de,Te,Ce,ue){de={type:de,code:Te,message:Ce},ue!==void 0&&(de.row=ue),se.errors.push(de)}M(E.step)&&(D=E.step,E.step=function(de){se=de,Ee()?be():(be(),se.data.length!==0&&(K+=de.data.length,E.preview&&K>E.preview?N.abort():(se.data=se.data[0],D(se,Y))))}),this.parse=function(de,Te,Ce){var ue=E.quoteChar||'"',ue=(E.newline||(E.newline=this.guessLineEndings(de,ue)),L=!1,E.delimiter?M(E.delimiter)&&(E.delimiter=E.delimiter(de),se.meta.delimiter=E.delimiter):((ue=((Z,me,ge,Ae,Re)=>{var tt,$e,Ke,Tt;Re=Re||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Vn=0;Vn<Re.length;Vn++){for(var Ln,Br=Re[Vn],Ht=0,Fn=0,rt=0,ht=(Ke=void 0,new R({comments:Ae,delimiter:Br,newline:me,preview:10}).parse(Z)),cn=0;cn<ht.data.length;cn++)ge&&ve(ht.data[cn])?rt++:(Ln=ht.data[cn].length,Fn+=Ln,Ke===void 0?Ke=Ln:0<Ln&&(Ht+=Math.abs(Ln-Ke),Ke=Ln));0<ht.data.length&&(Fn/=ht.data.length-rt),($e===void 0||Ht<=$e)&&(Tt===void 0||Tt<Fn)&&1.99<Fn&&($e=Ht,tt=Br,Tt=Fn)}return{successful:!!(E.delimiter=tt),bestDelimiter:tt}})(de,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=ue.bestDelimiter:(L=!0,E.delimiter=d.DefaultDelimiter),se.meta.delimiter=E.delimiter),B(E));return E.preview&&E.header&&ue.preview++,P=de,N=new R(ue),se=N.parse(P,Te,Ce),be(),oe?{meta:{paused:!0}}:se||{meta:{paused:!1}}},this.paused=function(){return oe},this.pause=function(){oe=!0,N.abort(),P=M(E.chunk)?"":P.substring(N.getCharIndex())},this.resume=function(){Y.streamer._halted?(oe=!1,Y.streamer.parseChunk(P,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,N.abort(),se.meta.aborted=!0,M(E.complete)&&E.complete(se),P=""},this.guessLineEndings=function(Z,ue){Z=Z.substring(0,1048576);var ue=new RegExp(_(ue)+"([^]*?)"+_(ue),"gm"),Ce=(Z=Z.replace(ue,"")).split("\r"),ue=Z.split(`
`),Z=1<ue.length&&ue[0].length<Ce[0].length;if(Ce.length===1||Z)return`
`;for(var me=0,ge=0;ge<Ce.length;ge++)Ce[ge][0]===`
`&&me++;return me>=Ce.length/2?`\r
`:"\r"}}function _(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(E){var P=(E=E||{}).delimiter,N=E.newline,L=E.comments,D=E.step,V=E.preview,X=E.fastMode,q=null,W=!1,Y=E.quoteChar==null?'"':E.quoteChar,K=Y;if(E.escapeChar!==void 0&&(K=E.escapeChar),(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=","),L===P)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<d.BAD_DELIMITERS.indexOf(L))&&(L=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var ee=0,oe=!1;this.parse=function($,J,se){if(typeof $!="string")throw new Error("Input must be a string");var ve=$.length,be=P.length,Ee=N.length,he=L.length,de=M(D),Te=[],Ce=[],ue=[],Z=ee=0;if(!$)return Ht();if(X||X!==!1&&$.indexOf(Y)===-1){for(var me=$.split(N),ge=0;ge<me.length;ge++){if(ue=me[ge],ee+=ue.length,ge!==me.length-1)ee+=N.length;else if(se)return Ht();if(!L||ue.substring(0,he)!==L){if(de){if(Te=[],Tt(ue.split(P)),Fn(),oe)return Ht()}else Tt(ue.split(P));if(V&&V<=ge)return Te=Te.slice(0,V),Ht(!0)}}return Ht()}for(var Ae=$.indexOf(P,ee),Re=$.indexOf(N,ee),tt=new RegExp(_(K)+_(Y),"g"),$e=$.indexOf(Y,ee);;)if($[ee]===Y)for($e=ee,ee++;;){if(($e=$.indexOf(Y,$e+1))===-1)return se||Ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Te.length,index:ee}),Ln();if($e===ve-1)return Ln($.substring(ee,$e).replace(tt,Y));if(Y===K&&$[$e+1]===K)$e++;else if(Y===K||$e===0||$[$e-1]!==K){Ae!==-1&&Ae<$e+1&&(Ae=$.indexOf(P,$e+1));var Ke=Vn((Re=Re!==-1&&Re<$e+1?$.indexOf(N,$e+1):Re)===-1?Ae:Math.min(Ae,Re));if($.substr($e+1+Ke,be)===P){ue.push($.substring(ee,$e).replace(tt,Y)),$[ee=$e+1+Ke+be]!==Y&&($e=$.indexOf(Y,ee)),Ae=$.indexOf(P,ee),Re=$.indexOf(N,ee);break}if(Ke=Vn(Re),$.substring($e+1+Ke,$e+1+Ke+Ee)===N){if(ue.push($.substring(ee,$e).replace(tt,Y)),Br($e+1+Ke+Ee),Ae=$.indexOf(P,ee),$e=$.indexOf(Y,ee),de&&(Fn(),oe))return Ht();if(V&&Te.length>=V)return Ht(!0);break}Ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Te.length,index:ee}),$e++}}else if(L&&ue.length===0&&$.substring(ee,ee+he)===L){if(Re===-1)return Ht();ee=Re+Ee,Re=$.indexOf(N,ee),Ae=$.indexOf(P,ee)}else if(Ae!==-1&&(Ae<Re||Re===-1))ue.push($.substring(ee,Ae)),ee=Ae+be,Ae=$.indexOf(P,ee);else{if(Re===-1)break;if(ue.push($.substring(ee,Re)),Br(Re+Ee),de&&(Fn(),oe))return Ht();if(V&&Te.length>=V)return Ht(!0)}return Ln();function Tt(rt){Te.push(rt),Z=ee}function Vn(rt){var ht=0;return ht=rt!==-1&&(rt=$.substring($e+1,rt))&&rt.trim()===""?rt.length:ht}function Ln(rt){return se||(rt===void 0&&(rt=$.substring(ee)),ue.push(rt),ee=ve,Tt(ue),de&&Fn()),Ht()}function Br(rt){ee=rt,Tt(ue),ue=[],Re=$.indexOf(N,ee)}function Ht(rt){if(E.header&&!J&&Te.length&&!W){var ht=Te[0],cn=Object.create(null),vi=new Set(ht);let cs=!1;for(let ar=0;ar<ht.length;ar++){let yn=ht[ar];if(cn[yn=M(E.transformHeader)?E.transformHeader(yn,ar):yn]){let us,to=cn[yn];for(;us=yn+"_"+to,to++,vi.has(us););vi.add(us),ht[ar]=us,cn[yn]++,cs=!0,(q=q===null?{}:q)[us]=yn}else cn[yn]=1,ht[ar]=yn;vi.add(yn)}cs&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:Te,errors:Ce,meta:{delimiter:P,linebreak:N,aborted:oe,truncated:!!rt,cursor:Z+(J||0),renamedHeaders:q}}}function Fn(){D(Ht()),Te=[],Ce=[]}},this.abort=function(){oe=!0},this.getCharIndex=function(){return ee}}function I(E){var P=E.data,N=l[P.workerId],L=!1;if(P.error)N.userError(P.error,P.file);else if(P.results&&P.results.data){var D={abort:function(){L=!0,k(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(M(N.userStep)){for(var V=0;V<P.results.data.length&&(N.userStep({data:P.results.data[V],errors:P.results.errors,meta:P.results.meta},D),!L);V++);delete P.results}else M(N.userChunk)&&(N.userChunk(P.results,D,P.file),delete P.results)}P.finished&&!L&&k(P.workerId,P.results)}function k(E,P){var N=l[E];M(N.userComplete)&&N.userComplete(P),N.terminate(),delete l[E]}function O(){throw new Error("Not implemented.")}function B(E){if(typeof E!="object"||E===null)return E;var P,N=Array.isArray(E)?[]:{};for(P in E)N[P]=B(E[P]);return N}function U(E,P){return function(){E.apply(P,arguments)}}function M(E){return typeof E=="function"}return d.parse=function(E,P){var N=(P=P||{}).dynamicTyping||!1;if(M(N)&&(P.dynamicTypingFunction=N,N={}),P.dynamicTyping=N,P.transform=!!M(P.transform)&&P.transform,!P.worker||!d.WORKERS_SUPPORTED)return N=null,d.NODE_STREAM_INPUT,typeof E=="string"?(E=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(E),N=new(P.download?m:x)(P)):E.readable===!0&&M(E.read)&&M(E.on)?N=new T(P):(r.File&&E instanceof File||E instanceof Object)&&(N=new y(P)),N.stream(E);(N=(()=>{var L;return!!d.WORKERS_SUPPORTED&&(L=(()=>{var D=r.URL||r.webkitURL||null,V=n.toString();return d.BLOB_URL||(d.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=I,L.id=u++,l[L.id]=L)})()).userStep=P.step,N.userChunk=P.chunk,N.userComplete=P.complete,N.userError=P.error,P.step=M(P.step),P.chunk=M(P.chunk),P.complete=M(P.complete),P.error=M(P.error),delete P.worker,N.postMessage({input:E,config:P,workerId:N.id})},d.unparse=function(E,P){var N=!1,L=!0,D=",",V=`\r
`,X='"',q=X+X,W=!1,Y=null,K=!1,ee=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||d.BAD_DELIMITERS.filter(function(J){return P.delimiter.indexOf(J)!==-1}).length||(D=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(N=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(W=P.skipEmptyLines),typeof P.newline=="string"&&(V=P.newline),typeof P.quoteChar=="string"&&(X=P.quoteChar),typeof P.header=="boolean"&&(L=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");Y=P.columns}P.escapeChar!==void 0&&(q=P.escapeChar+X),P.escapeFormulae instanceof RegExp?K=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(K=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(X),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return oe(null,E,W);if(typeof E[0]=="object")return oe(Y||Object.keys(E[0]),E,W)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||Y),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),oe(E.fields||[],E.data||[],W);throw new Error("Unable to serialize unrecognized input");function oe(J,se,ve){var be="",Ee=(typeof J=="string"&&(J=JSON.parse(J)),typeof se=="string"&&(se=JSON.parse(se)),Array.isArray(J)&&0<J.length),he=!Array.isArray(se[0]);if(Ee&&L){for(var de=0;de<J.length;de++)0<de&&(be+=D),be+=$(J[de],de);0<se.length&&(be+=V)}for(var Te=0;Te<se.length;Te++){var Ce=(Ee?J:se[Te]).length,ue=!1,Z=Ee?Object.keys(se[Te]).length===0:se[Te].length===0;if(ve&&!Ee&&(ue=ve==="greedy"?se[Te].join("").trim()==="":se[Te].length===1&&se[Te][0].length===0),ve==="greedy"&&Ee){for(var me=[],ge=0;ge<Ce;ge++){var Ae=he?J[ge]:ge;me.push(se[Te][Ae])}ue=me.join("").trim()===""}if(!ue){for(var Re=0;Re<Ce;Re++){0<Re&&!Z&&(be+=D);var tt=Ee&&he?J[Re]:Re;be+=$(se[Te][tt],Re)}Te<se.length-1&&(!ve||0<Ce&&!Z)&&(be+=V)}}return be}function $(J,se){var ve,be;return J==null?"":J.constructor===Date?JSON.stringify(J).slice(1,25):(be=!1,K&&typeof J=="string"&&K.test(J)&&(J="'"+J,be=!0),ve=J.toString().replace(ee,q),(be=be||N===!0||typeof N=="function"&&N(J,se)||Array.isArray(N)&&N[se]||((Ee,he)=>{for(var de=0;de<he.length;de++)if(-1<Ee.indexOf(he[de]))return!0;return!1})(ve,d.BAD_DELIMITERS)||-1<ve.indexOf(D)||ve.charAt(0)===" "||ve.charAt(ve.length-1)===" ")?X+ve+X:ve)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=R,d.ParserHandle=w,d.NetworkStreamer=m,d.FileStreamer=y,d.StringStreamer=x,d.ReadableStreamStreamer=T,r.jQuery&&((s=r.jQuery).fn.parse=function(E){var P=E.config||{},N=[];return this.each(function(V){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)N.push({file:this.files[X],inputElem:this,instanceConfig:s.extend({},P)})}),L(),this;function L(){if(N.length===0)M(E.complete)&&E.complete();else{var V,X,q,W,Y=N[0];if(M(E.before)){var K=E.before(Y.file,Y.inputElem);if(typeof K=="object"){if(K.action==="abort")return V="AbortError",X=Y.file,q=Y.inputElem,W=K.reason,void(M(E.error)&&E.error({name:V},X,q,W));if(K.action==="skip")return void D();typeof K.config=="object"&&(Y.instanceConfig=s.extend(Y.instanceConfig,K.config))}else if(K==="skip")return void D()}var ee=Y.instanceConfig.complete;Y.instanceConfig.complete=function(oe){M(ee)&&ee(oe,Y.file,Y.inputElem),D()},d.parse(Y.file,Y.instanceConfig)}}function D(){N.splice(0,1),L()}}),o&&(r.onmessage=function(E){E=E.data,d.WORKER_ID===void 0&&E&&(d.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=d.parse(E.input,E.config))&&r.postMessage({workerId:d.WORKER_ID,results:E,finished:!0})}),(m.prototype=Object.create(p.prototype)).constructor=m,(y.prototype=Object.create(p.prototype)).constructor=y,(x.prototype=Object.create(x.prototype)).constructor=x,(T.prototype=Object.create(p.prototype)).constructor=T,d})})(jp)),jp.exports}var hY=dY();const fY=mi(hY),u0=["usuarios","treinamentos","categorias","departamentos","historico","trilhas","knowledgeBase","simulados","resultadosSimulados","medalhas_config"],$A={blue:{gradient:"from-blue-500 to-blue-600",bg:"bg-blue-600",hoverBg:"hover:bg-blue-700"},green:{gradient:"from-green-500 to-green-600",bg:"bg-green-600",hoverBg:"hover:bg-green-700"},purple:{gradient:"from-purple-500 to-purple-600",bg:"bg-purple-600",hoverBg:"hover:bg-purple-700"},red:{gradient:"from-red-500 to-orange-600",bg:"bg-red-600",hoverBg:"hover:bg-red-700"}},pY=()=>{const{toast:t}=Zn(),e=S.useRef(null),n=S.useRef(null),[r,s]=S.useState(null),i=async()=>{s("backup");try{const y={};for(const R of u0){const I=await gt(R);y[R]=I}const x=JSON.stringify(y,null,2),T="data:application/json;charset=utf-8,"+encodeURIComponent(x),w=`backup_${new Date().toISOString().split("T")[0]}.json`,_=document.createElement("a");_.setAttribute("href",T),_.setAttribute("download",w),_.click(),t({title:"Backup Realizado",description:"O arquivo de backup foi baixado."})}catch{t({title:"Erro no Backup",description:"Não foi possível gerar o backup.",variant:"destructive"})}finally{s(null)}},o=y=>{var w;const x=(w=y.target.files)==null?void 0:w[0];if(!x)return;const T=new FileReader;T.onload=async _=>{var R;s("importJson");try{const I=JSON.parse((R=_.target)==null?void 0:R.result);if(!window.confirm("ATENÇÃO: A importação irá sobrescrever TODOS os dados existentes. Deseja continuar?")){s(null);return}const k=NS(Pt);for(const O of u0)(await Sn(Tn(Pt,O))).forEach(U=>k.delete(U.ref)),I[O]&&I[O].forEach(U=>{const M=ui(Pt,O,U.id);k.set(M,U)});await k.commit(),t({title:"✅ Importação Concluída",description:"Os dados foram restaurados com sucesso."}),setTimeout(()=>window.location.reload(),1500)}catch{t({title:"❌ Erro na Importação",description:"O arquivo JSON é inválido ou a operação falhou.",variant:"destructive"})}finally{s(null)}},T.readAsText(x),y.target.value=""},l=y=>{var T;const x=(T=y.target.files)==null?void 0:T[0];x&&(s("importCsv"),fY.parse(x,{header:!0,skipEmptyLines:!0,complete:async w=>{try{const _=w.data;for(const R of _){const I={...R,ativo:R.ativo?R.ativo.toLowerCase()==="true":!0,dataCriacao:new Date().toISOString()};await ls("usuarios",I)}t({title:"✅ Importação de Usuários Concluída",description:`${_.length} usuários foram importados.`})}catch{t({title:"❌ Erro na Importação do CSV",description:"Não foi possível processar os dados.",variant:"destructive"})}finally{s(null)}},error:w=>{t({title:"❌ Erro ao ler o arquivo CSV",description:w.message,variant:"destructive"}),s(null)}}),y.target.value="")},m=[{id:"backup",title:"Backup dos Dados",description:"Faça o download de um backup completo dos dados.",icon:jw,action:i,buttonText:"Fazer Backup",color:"blue"},{id:"importJson",title:"Importar Dados (JSON)",description:"Importe dados de um arquivo de backup para restaurar o sistema.",icon:NB,action:()=>{var y;return(y=e.current)==null?void 0:y.click()},buttonText:"Importar JSON",color:"green"},{id:"importCsv",title:"Importar Usuários (CSV)",description:"Importe uma lista de usuários a partir de um arquivo CSV.",icon:kB,action:()=>{var y;return(y=n.current)==null?void 0:y.click()},buttonText:"Importar CSV",color:"purple"},{id:"reset",title:"Resetar Dados da Aplicação",description:"Atenção: Esta ação apaga todos os dados do banco de dados.",icon:ak,action:async()=>{if(window.confirm("ATENÇÃO: Esta ação irá apagar TODOS os dados do Firestore. Esta ação é irreversível. Deseja continuar?")&&window.confirm("CONFIRMAÇÃO FINAL: Tem certeza absoluta que deseja resetar todos os dados?")){s("reset");try{const y=NS(Pt);for(const x of u0)(await Sn(Tn(Pt,x))).forEach(w=>y.delete(w.ref));await y.commit(),t({title:"Dados Resetados!",description:"A aplicação será recarregada."}),setTimeout(()=>window.location.reload(),1500)}catch{t({title:"Erro ao Resetar",description:"Não foi possível limpar o banco de dados.",variant:"destructive"})}finally{s(null)}}},buttonText:"Resetar Dados",color:"red"}];return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(y=>{const x=y.icon,T=$A[y.color]||$A.blue,w=r===y.id;return h.jsx(Le.div,{children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsx(at,{children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${T.gradient}`,children:h.jsx(x,{className:"h-6 w-6 text-white"})}),h.jsx("div",{children:h.jsx(lt,{className:"text-lg text-white",children:y.title})})]})}),h.jsxs(it,{className:"flex-grow flex flex-col justify-between",children:[h.jsx(Dn,{className:"text-slate-300 mb-4",children:y.description}),h.jsxs(we,{onClick:y.action,className:`w-full ${T.bg} ${T.hoverBg}`,disabled:w,children:[w?h.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}):null,w?"Processando...":y.buttonText]})]})]})},y.title)})}),h.jsx("input",{type:"file",ref:e,onChange:o,accept:"application/json",style:{display:"none"}}),h.jsx("input",{type:"file",ref:n,onChange:l,accept:".csv",style:{display:"none"}})]})},HA={Star:h.jsx(ok,{}),Award:h.jsx(ra,{}),Medal:h.jsx(Ow,{}),Trophy:h.jsx(tm,{}),Target:h.jsx(Xm,{})},mY=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(!1),[o,l]=S.useState(null),{toast:u}=Zn(),d={nome:"",descricao:"",icone:"Star",regra_tipo:"simulados_concluidos",regra_valor:1},[p,m]=S.useState(d),y=async()=>{r(!0);const _=await gt("medalhas_config");e(_),r(!1)};S.useEffect(()=>{y()},[]);const x=(_=null)=>{l(_),m(_||d),i(!0)},T=async _=>{window.confirm("Tem certeza que deseja apagar esta medalha?")&&(await eo("medalhas_config",_),u({title:"Medalha apagada!"}),y())},w=async _=>{_.preventDefault();const R={...p,regra_valor:Number(p.regra_valor)};o?(await ss("medalhas_config",o.id,R),u({title:"Medalha atualizada!"})):(await ls("medalhas_config",R),u({title:"Medalha criada!"})),i(!1),y()};return h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsxs(at,{className:"flex flex-row items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(lt,{children:"Gestão de Medalhas"}),h.jsx(Dn,{children:"Crie e edite as conquistas personalizadas da plataforma."})]}),h.jsxs(we,{onClick:()=>x(),children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Nova Medalha"]})]}),h.jsx(it,{children:n?h.jsx("div",{className:"flex justify-center",children:h.jsx(Bt,{className:"animate-spin"})}):h.jsx("div",{className:"space-y-4",children:t.map(_=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"text-yellow-400",children:Fe.cloneElement(HA[_.icone],{className:"w-8 h-8"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:_.nome}),h.jsx("p",{className:"text-sm text-slate-400",children:_.descricao})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(we,{variant:"outline",size:"icon",onClick:()=>x(_),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{variant:"destructive",size:"icon",onClick:()=>T(_.id),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]},_.id))})}),h.jsx(as,{open:s,onOpenChange:i,children:h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(Or,{children:h.jsxs(Vr,{children:[o?"Editar":"Nova"," Medalha"]})}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{children:"Nome"}),h.jsx(ct,{value:p.nome,onChange:_=>m({...p,nome:_.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Descrição"}),h.jsx(pi,{value:p.descricao,onChange:_=>m({...p,descricao:_.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Ícone"}),h.jsxs(En,{value:p.icone,onValueChange:_=>m({...p,icone:_}),children:[h.jsx(mn,{children:h.jsx(Cn,{})}),h.jsx(gn,{children:Object.keys(HA).map(_=>h.jsx(xt,{value:_,children:_},_))})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Tipo de Regra"}),h.jsxs(En,{value:p.regra_tipo,onValueChange:_=>m({...p,regra_tipo:_}),children:[h.jsx(mn,{children:h.jsx(Cn,{})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"simulados_concluidos",children:"Nº de Simulados Concluídos"}),h.jsx(xt,{value:"pontuacao_media_acima",children:"Pontuação Média Acima de (%)"}),h.jsx(xt,{value:"nota_perfeita_em",children:"Nota Perfeita em (Nº simulados)"})]})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Valor da Regra"}),h.jsx(ct,{type:"number",value:p.regra_valor,onChange:_=>m({...p,regra_valor:_.target.value}),required:!0})]}),h.jsx(Ds,{children:h.jsx(we,{type:"submit",children:"Salvar"})})]})]},o?o.id:"new")})]})},gY=()=>{const{toast:t}=Zn(),e={"--primary":"210 40% 98%","--accent":"262.1 83.3% 57.8%","--background":"222.2 84% 4.9%","--foreground":"210 40% 98%","--card":"222.2 84% 4.9%"},[n,r]=S.useState(()=>{const u=localStorage.getItem("customTheme");return u?JSON.parse(u):e}),s=u=>{const d=document.documentElement;Object.entries(u).forEach(([p,m])=>{d.style.setProperty(p,m)})};S.useEffect(()=>{s(n)},[n]);const i=(u,d)=>{r(p=>({...p,[u]:d}))},o=()=>{localStorage.setItem("customTheme",JSON.stringify(n)),t({title:"Tema Salvo!",description:"As novas cores foram aplicadas."})},l=()=>{localStorage.removeItem("customTheme"),r(e),t({title:"Tema Restaurado!",description:"O tema padrão foi aplicado."})};return h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsxs(at,{children:[h.jsx(lt,{children:"Personalização da Aparência"}),h.jsx(Dn,{children:"Escolha as cores principais da plataforma (formato HSL)."})]}),h.jsxs(it,{className:"space-y-4",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(n).map(([u,d])=>h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsx(Qe,{className:"capitalize",children:u.replace("--","").replace("-"," ")}),h.jsx(ct,{type:"text",value:d,onChange:p=>i(u,p.target.value),className:"bg-slate-800 border-slate-600"})]},u))}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[h.jsx(we,{variant:"outline",onClick:l,children:"Restaurar Padrão"}),h.jsx(we,{onClick:o,children:"Salvar Tema"})]})]})]})},yY=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Configurações"}),h.jsx("p",{className:"text-slate-400",children:"Ajustes e personalizações da plataforma."})]}),h.jsxs(pM,{defaultValue:"dados",className:"w-full",children:[h.jsxs(K_,{className:"grid w-full grid-cols-3",children:[h.jsx(_c,{value:"dados",children:"Gestão de Dados"}),h.jsx(_c,{value:"aparencia",children:"Aparência"}),h.jsx(_c,{value:"medalhas",children:"Gestão de Medalhas"})]}),h.jsx(bc,{value:"dados",className:"mt-6",children:h.jsx(pY,{})}),h.jsx(bc,{value:"aparencia",className:"mt-6",children:h.jsx(gY,{})}),h.jsx(bc,{value:"medalhas",className:"mt-6",children:h.jsx(mY,{})})]})]}),vY=({training:t,userProgress:e,categories:n,onStartTraining:r,index:s})=>{const{user:i}=Lr(),{toast:o}=Zn(),l=(x,T)=>{const w=n.find(_=>_.id===x);return T==="nome"?(w==null?void 0:w.nome)||"N/A":T==="cor"?(w==null?void 0:w.cor)||"#3b82f6":null},d=e?e.concluido?"completed":"in-progress":"not-started",p=async x=>{if(x.stopPropagation(),!(!i||!t||!e))try{const T={concluido:!1,dataConclucao:null,notaQuestionario:null,tempoAssistido:0};await ss("historico",e.id,T),o({title:"Progresso resetado!",description:`Você pode refazer o treinamento "${t.titulo}" agora.`})}catch(T){console.error("Erro ao tentar refazer o treinamento:",T),o({title:"Erro",description:"Não foi possível resetar o progresso.",variant:"destructive"})}},y=d==="completed"?100:d==="in-progress"&&(e!=null&&e.tempoAssistido)&&(t!=null&&t.duracao)?Math.min(99,Math.round(e.tempoAssistido/t.duracao*100)):0;return h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsx(at,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(lt,{className:"text-lg text-white mb-2",children:t.titulo}),h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx($i,{style:{backgroundColor:l(t.categoriaId,"cor")},className:"text-white",children:l(t.categoriaId,"nome")}),t.obrigatorio&&h.jsx($i,{variant:"destructive",children:"Obrigatório"})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[d==="completed"&&h.jsx(Ja,{className:"w-6 h-6 text-green-500"}),d==="in-progress"&&h.jsx(Nw,{className:"w-6 h-6 text-yellow-500"}),d==="not-started"&&t.obrigatorio&&h.jsx(SB,{className:"w-6 h-6 text-red-500"})]})]})}),h.jsxs(it,{className:"space-y-4 flex-grow flex flex-col justify-end",children:[h.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:t.descricao}),(d==="in-progress"||d==="completed")&&e&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-slate-400",children:"Progresso"}),h.jsxs("span",{className:"text-white",children:[y,"%"]})]}),h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${y}%`}})}),d==="completed"&&e.notaQuestionario!==null&&h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-slate-400",children:"Nota:"}),h.jsxs("span",{className:"text-green-400 font-semibold",children:[e.notaQuestionario,"/10"]})]})]}),h.jsxs("div",{className:"pt-4 border-t border-slate-700 flex items-center space-x-2",children:[h.jsxs(we,{onClick:r,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[h.jsx(sk,{className:"w-4 h-4 mr-2"}),d==="completed"?"Ver Novamente":d==="in-progress"?"Continuar":"Iniciar"]}),d==="completed"&&h.jsx(we,{onClick:p,variant:"outline",className:"border-slate-600 hover:bg-slate-700",title:"Refazer Treinamento",children:h.jsx(ik,{className:"w-4 h-4"})})]})]})]})})};var d0,WA;function xY(){return WA||(WA=1,d0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),d0}var wY=xY();const _Y=mi(wY);var op={exports:{}},h0,qA;function bY(){if(qA)return h0;qA=1;var t;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return t=function(){var e={},n={};return e.on=function(r,s){var i={name:r,handler:s};return n[r]=n[r]||[],n[r].unshift(i),i},e.off=function(r){var s=n[r.name].indexOf(r);s!==-1&&n[r.name].splice(s,1)},e.trigger=function(r,s){var i=n[r],o;if(i)for(o=i.length;o--;)i[o].handler(s)},e},h0=t,h0}var ap={exports:{}},f0,GA;function TY(){if(GA)return f0;GA=1,f0=function(s,i,o){var l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof i=="function"&&(o=i,i={}),i=i||{},o=o||function(){},u.type=i.type||"text/javascript",u.charset=i.charset||"utf8",u.async="async"in i?!!i.async:!0,u.src=s,i.attrs&&t(u,i.attrs),i.text&&(u.text=""+i.text);var d="onload"in u?e:n;d(u,o),u.onload||e(u,o),l.appendChild(u)};function t(r,s){for(var i in s)r.setAttribute(i,s[i])}function e(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return f0}var KA;function SY(){return KA||(KA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=TY(),r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}e.default=function(i){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(p){p&&i.trigger("error",p)})}var d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){d&&d(),l(window.YT)}});return o},t.exports=e.default})(ap,ap.exports)),ap.exports}var lp={exports:{}},cp={exports:{}},up={exports:{}},p0,QA;function EY(){if(QA)return p0;QA=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*365.25;p0=function(d,p){p=p||{};var m=typeof d;if(m==="string"&&d.length>0)return i(d);if(m==="number"&&isNaN(d)===!1)return p.long?l(d):o(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function i(d){if(d=String(d),!(d.length>100)){var p=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(d);if(p){var m=parseFloat(p[1]),y=(p[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*s;case"days":case"day":case"d":return m*r;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function o(d){return d>=r?Math.round(d/r)+"d":d>=n?Math.round(d/n)+"h":d>=e?Math.round(d/e)+"m":d>=t?Math.round(d/t)+"s":d+"ms"}function l(d){return u(d,r,"day")||u(d,n,"hour")||u(d,e,"minute")||u(d,t,"second")||d+" ms"}function u(d,p,m){if(!(d<p))return d<p*1.5?Math.floor(d/p)+" "+m:Math.ceil(d/p)+" "+m+"s"}return p0}var YA;function CY(){return YA||(YA=1,(function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=u,e.disable=o,e.enable=i,e.enabled=l,e.humanize=EY(),e.names=[],e.skips=[],e.formatters={};var n;function r(d){var p=0,m;for(m in d)p=(p<<5)-p+d.charCodeAt(m),p|=0;return e.colors[Math.abs(p)%e.colors.length]}function s(d){function p(){if(p.enabled){var m=p,y=+new Date,x=y-(n||y);m.diff=x,m.prev=n,m.curr=y,n=y;for(var T=new Array(arguments.length),w=0;w<T.length;w++)T[w]=arguments[w];T[0]=e.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");var _=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,function(I,k){if(I==="%%")return I;_++;var O=e.formatters[k];if(typeof O=="function"){var B=T[_];I=O.call(m,B),T.splice(_,1),_--}return I}),e.formatArgs.call(m,T);var R=p.log||e.log||console.log.bind(console);R.apply(m,T)}}return p.namespace=d,p.enabled=e.enabled(d),p.useColors=e.useColors(),p.color=r(d),typeof e.init=="function"&&e.init(p),p}function i(d){e.save(d),e.names=[],e.skips=[];for(var p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length,y=0;y<m;y++)p[y]&&(d=p[y].replace(/\*/g,".*?"),d[0]==="-"?e.skips.push(new RegExp("^"+d.substr(1)+"$")):e.names.push(new RegExp("^"+d+"$")))}function o(){e.enable("")}function l(d){var p,m;for(p=0,m=e.skips.length;p<m;p++)if(e.skips[p].test(d))return!1;for(p=0,m=e.names.length;p<m;p++)if(e.names[p].test(d))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}})(up,up.exports)),up.exports}var XA;function AY(){return XA||(XA=1,(function(t,e){var n={};e=t.exports=CY(),e.log=i,e.formatArgs=s,e.save=o,e.load=l,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(d){try{return JSON.stringify(d)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}};function s(d){var p=this.useColors;if(d[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+d[0]+(p?"%c ":" ")+"+"+e.humanize(this.diff),!!p){var m="color: "+this.color;d.splice(1,0,m,"color: inherit");var y=0,x=0;d[0].replace(/%[a-zA-Z%]/g,function(T){T!=="%%"&&(y++,T==="%c"&&(x=y))}),d.splice(x,0,m)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(d){try{d==null?e.storage.removeItem("debug"):e.storage.debug=d}catch{}}function l(){var d;try{d=e.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}e.enable(l());function u(){try{return window.localStorage}catch{}}})(cp,cp.exports)),cp.exports}var dp={exports:{}},ZA;function PY(){return ZA||(ZA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(dp,dp.exports)),dp.exports}var hp={exports:{}},JA;function RY(){return JA||(JA=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(hp,hp.exports)),hp.exports}var fp={exports:{}},pp={exports:{}},eP;function IY(){return eP||(eP=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(pp,pp.exports)),pp.exports}var tP;function kY(){return tP||(tP=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=IY(),r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(fp,fp.exports)),fp.exports}var nP;function NY(){return nP||(nP=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=AY(),r=p(n),s=PY(),i=p(s),o=RY(),l=p(o),u=kY(),d=p(u);function p(x){return x&&x.__esModule?x:{default:x}}var m=(0,r.default)("youtube-player"),y={};y.proxyEvents=function(x){var T={},w=function(M){var E="on"+M.slice(0,1).toUpperCase()+M.slice(1);T[E]=function(P){m('event "%s"',E,P),x.trigger(M,P)}},_=!0,R=!1,I=void 0;try{for(var k=l.default[Symbol.iterator](),O;!(_=(O=k.next()).done);_=!0){var B=O.value;w(B)}}catch(U){R=!0,I=U}finally{try{!_&&k.return&&k.return()}finally{if(R)throw I}}return T},y.promisifyPlayer=function(x){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w={},_=function(E){T&&d.default[E]?w[E]=function(){for(var P=arguments.length,N=Array(P),L=0;L<P;L++)N[L]=arguments[L];return x.then(function(D){var V=d.default[E],X=D.getPlayerState(),q=D[E].apply(D,N);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(X)===-1?new Promise(function(W){var Y=function K(){var ee=D.getPlayerState(),oe=void 0;typeof V.timeout=="number"&&(oe=setTimeout(function(){D.removeEventListener("onStateChange",K),W()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(ee)!==-1&&(D.removeEventListener("onStateChange",K),clearTimeout(oe),W())};D.addEventListener("onStateChange",Y)}).then(function(){return q}):q})}:w[E]=function(){for(var P=arguments.length,N=Array(P),L=0;L<P;L++)N[L]=arguments[L];return x.then(function(D){return D[E].apply(D,N)})}},R=!0,I=!1,k=void 0;try{for(var O=i.default[Symbol.iterator](),B;!(R=(B=O.next()).done);R=!0){var U=B.value;_(U)}}catch(M){I=!0,k=M}finally{try{!R&&O.return&&O.return()}finally{if(I)throw k}}return w},e.default=y,t.exports=e.default})(lp,lp.exports)),lp.exports}var rP;function jY(){return rP||(rP=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},r=bY(),s=d(r),i=SY(),o=d(i),l=NY(),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}var p=void 0;e.default=function(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=(0,s.default)();if(p||(p=(0,o.default)(T)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof m=="string"&&!document.getElementById(m))throw new Error('Element "'+m+'" does not exist.');y.events=u.default.proxyEvents(T);var w=new Promise(function(R){if((typeof m>"u"?"undefined":n(m))==="object"&&m.playVideo instanceof Function){var I=m;R(I)}else p.then(function(k){var O=new k.Player(m,y);return T.on("ready",function(){R(O)}),null})}),_=u.default.promisifyPlayer(w,x);return _.on=T.on,_.off=T.off,_},t.exports=e.default})(op,op.exports)),op.exports}var DY=jY();const MY=mi(DY);var OY=Object.defineProperty,VY=Object.defineProperties,LY=Object.getOwnPropertyDescriptors,sP=Object.getOwnPropertySymbols,FY=Object.prototype.hasOwnProperty,BY=Object.prototype.propertyIsEnumerable,iP=(t,e,n)=>e in t?OY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mx=(t,e)=>{for(var n in e||(e={}))FY.call(e,n)&&iP(t,n,e[n]);if(sP)for(var n of sP(e))BY.call(e,n)&&iP(t,n,e[n]);return t},Ox=(t,e)=>VY(t,LY(e)),zY=(t,e,n)=>new Promise((r,s)=>{var i=u=>{try{l(n.next(u))}catch(d){s(d)}},o=u=>{try{l(n.throw(u))}catch(d){s(d)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,o);l((n=n.apply(t,e)).next())});function UY(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const s=((n=t.opts)==null?void 0:n.playerVars)||{},i=((r=e.opts)==null?void 0:r.playerVars)||{};return s.start!==i.start||s.end!==i.end}function oP(t={}){return Ox(Mx({},t),{height:0,width:0,playerVars:Ox(Mx({},t.playerVars),{autoplay:0,start:0,end:0})})}function $Y(t,e){return t.videoId!==e.videoId||!_Y(oP(t.opts),oP(e.opts))}function HY(t,e){var n,r,s,i;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((s=t.opts)==null?void 0:s.height)!==((i=e.opts)==null?void 0:i.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var WY={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},qY={videoId:et.string,id:et.string,className:et.string,iframeClassName:et.string,style:et.object,title:et.string,loading:et.oneOf(["lazy","eager"]),opts:et.objectOf(et.any),onReady:et.func,onError:et.func,onPlay:et.func,onPause:et.func,onEnd:et.func,onStateChange:et.func,onPlaybackRateChange:et.func,onPlaybackQualityChange:et.func},Dp=class extends Fe.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,s,i,o,l,u,d;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case Dp.PlayerState.ENDED:(i=(s=this.props).onEnd)==null||i.call(s,e);break;case Dp.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,e);break;case Dp.PlayerState.PAUSED:(d=(u=this.props).onPause)==null||d.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Ox(Mx({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=MY(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let i=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(i=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(s=this.internalPlayer)==null||s.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return zY(this,null,function*(){HY(t,this.props)&&this.updatePlayer(),$Y(t,this.props)&&(yield this.resetPlayer()),UY(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Fe.createElement("div",{className:this.props.className,style:this.props.style},Fe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Cg=Dp;Cg.propTypes=qY;Cg.defaultProps=WY;Cg.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var GY=Cg;const KY=({training:t,onQuizComplete:e})=>{const[n,r]=S.useState(0),[s,i]=S.useState([]),o=u=>{const d=[...s,u];if(i(d),n<t.perguntas.length-1)r(n+1);else{let p=0;t.perguntas.forEach((y,x)=>{d[x]===y.respostaCorreta&&p++});const m=Math.round(p/t.perguntas.length*10);e(m)}},l=t.perguntas[n];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Questionário - Pergunta ",n+1," de ",t.perguntas.length]}),h.jsx("div",{className:"w-32 bg-slate-700 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(n+1)/t.perguntas.length*100}%`}})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-xl text-white",children:l.pergunta}),h.jsx("div",{className:"space-y-3",children:l.opcoes.map((u,d)=>h.jsxs(we,{variant:"outline",onClick:()=>o(d),className:"w-full text-left justify-start p-4 h-auto border-slate-600 hover:bg-slate-700",children:[h.jsx("span",{className:"mr-3 w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center text-sm",children:String.fromCharCode(65+d)}),u]},d))})]})]})},mM=({training:t,isOpen:e,onClose:n,onComplete:r})=>{const[s,i]=S.useState(!1),[o,l]=S.useState(!1);S.useRef(null);const{toast:u}=Zn(),{user:d}=Lr(),m=(O=>{if(!O)return null;try{const B=new URL(O);if(B.hostname==="youtu.be")return B.pathname.slice(1);if(B.hostname.includes("youtube.com"))return B.searchParams.get("v")}catch{return null}return null})(t==null?void 0:t.video),y=!!m,x=async()=>{const O=sr(Tn(Pt,"historico"),ir("usuarioId","==",d.id),ir("treinamentoId","==",t.id)),B=await Sn(O);if(!B.empty){const U=B.docs[0];return{id:U.id,...U.data()}}return null},T=O=>{O.data===0&&l(!0)},w=async O=>{const B=await x(),U={concluido:!0,dataConclusao:new Date().toISOString(),notaQuestionario:O,pontosGanhos:O};if(B)await ss("historico",B.id,U);else{const M={usuarioId:d.id,treinamentoId:t.id,...U};await ls("historico",M)}u({title:"Treinamento concluído!",description:O!==null?`Parabéns! Você ganhou ${O} pontos.`:"Você concluiu o treinamento."}),i(!1),r()},_=()=>{if(!(t!=null&&t.perguntas)||t.perguntas.length===0){w(5);return}i(!0)},R=O=>{O&&O.url?window.open(O.url,"_blank"):u({title:"Erro",description:"Não foi possível encontrar o URL do arquivo.",variant:"destructive"})},I=()=>{i(!1),n()},k=(t==null?void 0:t.perguntas)&&t.perguntas.length>0;return h.jsx(as,{open:e,onOpenChange:I,children:h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto scrollbar-thin",children:[h.jsx(Or,{children:h.jsx(Vr,{className:"text-xl",children:t==null?void 0:t.titulo})}),s?h.jsx(KY,{training:t,onQuizComplete:w}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"relative pt-[56.25%] bg-slate-800 rounded-lg overflow-hidden",children:e&&(t!=null&&t.video)?y?h.jsx(GY,{videoId:m,className:"absolute top-0 left-0 w-full h-full",opts:{width:"100%",height:"100%"},onStateChange:T}):h.jsx("iframe",{src:t.video,title:t.titulo,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):h.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:h.jsx("p",{children:"URL de vídeo inválida."})})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-slate-300",children:t==null?void 0:t.descricao}),((t==null?void 0:t.arquivosComplementares)||[]).length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Arquivos Complementares"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.arquivosComplementares.map((O,B)=>h.jsxs(we,{variant:"outline",onClick:()=>R(O),className:"justify-start border-slate-600 hover:bg-slate-700",children:[h.jsx(jw,{className:"w-4 h-4 mr-2"})," ",O.name]},B))})]}),h.jsx("div",{className:"flex justify-end",children:k?h.jsxs(we,{onClick:_,disabled:y&&!o,className:"bg-gradient-to-r from-green-500 to-blue-500 disabled:opacity-50",children:[h.jsx(ra,{className:"w-4 h-4 mr-2"})," Fazer Questionário"]}):h.jsxs(we,{onClick:()=>w(5),disabled:y&&!o,className:"bg-gradient-to-r from-green-500 to-blue-500 disabled:opacity-50",children:[h.jsx(Ja,{className:"w-4 h-4 mr-2"})," Concluir Treinamento"]})})]})]})]})})},QY=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState({}),[u,d]=S.useState(""),[p,m]=S.useState("all"),[y,x]=S.useState(null),{user:T}=Lr(),[w,_]=S.useState(null),[R,I]=S.useState(null),[k,O]=S.useState(!0),[B,U]=S.useState(!1),[M,E]=S.useState(!0),P=async(D=!1)=>{if(B||!T)return;U(!0);const V=await P7(T.departamento,{lastVisibleDept:D?w:null,lastVisibleTodos:D?R:null});if(V.data.length>0){const X=new Map(D?t.map(W=>[W.id,W]):[]);V.data.forEach(W=>X.set(W.id,W));const q=Array.from(X.values()).sort((W,Y)=>new Date(Y.dataPublicacao)-new Date(W.dataPublicacao));e(q),_(V.lastVisibleDept),I(V.lastVisibleTodos)}!V.lastVisibleDept&&!V.lastVisibleTodos&&O(!1),U(!1)},N=async()=>{if(T){E(!0);try{const[D,V]=await Promise.all([gt("categorias"),Sn(sr(Tn(Pt,"historico"),ir("usuarioId","==",T.id)))]);i(D);const X={};V.forEach(q=>{X[q.data().treinamentoId.toString()]={id:q.id,...q.data()}}),l(X),await P(!1)}catch(D){console.error("Erro ao carregar dados iniciais:",D)}finally{E(!1)}}};S.useEffect(()=>{T&&N()},[T]),S.useEffect(()=>{let D=t;u&&(D=D.filter(V=>V.titulo.toLowerCase().includes(u.toLowerCase()))),p!=="all"&&(D=D.filter(V=>V.categoriaId.toString()===p)),r(D)},[t,u,p]);const L=async()=>{x(null);const D=await Sn(sr(Tn(Pt,"historico"),ir("usuarioId","==",T.id))),V={};D.forEach(X=>{V[X.data().treinamentoId.toString()]={id:X.id,...X.data()}}),l(X=>({...X,...V}))};return M?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meus Treinamentos"}),h.jsx("p",{className:"text-slate-400",children:"Acesse os seus treinamentos disponíveis."})]}),h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(Gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{placeholder:"Buscar nos treinamentos carregados...",value:u,onChange:D=>d(D.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white"})]}),h.jsxs(En,{value:p,onValueChange:m,children:[h.jsxs(mn,{className:"w-full sm:w-48 bg-slate-800/50 border-slate-600",children:[h.jsx(nk,{className:"w-4 h-4 mr-2"}),h.jsx(Cn,{placeholder:"Categoria"})]}),h.jsxs(gn,{children:[h.jsx(xt,{value:"all",children:"Todas as categorias"}),s.map(D=>h.jsx(xt,{value:D.id.toString(),children:D.nome},D.id))]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((D,V)=>h.jsx(vY,{training:D,userProgress:o[D.id.toString()],categories:s,onStartTraining:()=>x(D),index:V},D.id))}),n.length===0&&!B&&h.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[h.jsx(Rw,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhum treinamento encontrado."})]}),k&&h.jsx("div",{className:"text-center mt-8",children:h.jsx(we,{onClick:()=>P(!0),disabled:B,children:B?h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Treinamentos"})}),y&&h.jsx(mM,{training:y,isOpen:!!y,onClose:()=>x(null),onComplete:L})]})},YY=({onViewCertificate:t})=>{const{user:e}=Lr(),[n,r]=S.useState({trilhas:[],historico:[],treinamentos:{}}),[s,i]=S.useState(!0),[o,l]=S.useState(null),u=async()=>{if(e){i(!0);try{const[m,y,x]=await Promise.all([gt("trilhas"),gt("historico"),gt("treinamentos")]),T=y.filter(_=>_.usuarioId===e.id&&_.concluido),w=x.reduce((_,R)=>(_[R.id]=R,_),{});r({trilhas:m,historico:T,trainings:w})}catch(m){console.error("Erro ao carregar dados das trilhas:",m)}finally{i(!1)}}};S.useEffect(()=>{u()},[e]);const d=()=>{l(null),u()},p=S.useMemo(()=>n.trilhas.filter(m=>m.ativo&&(m.departamento==="Todos"||trililha.departamento===e.departamento)).map(m=>{var k;const y=((k=m.treinamentos)==null?void 0:k.length)||0;if(y===0)return{...m,completedCount:0,progress:0,isCompleted:!1,steps:[]};const x=new Set(n.historico.map(O=>O.treinamentoId)),T=m.treinamentos.filter(O=>x.has(O)).length,w=T/y*100,_=T===y;let R=!1;const I=m.treinamentos.map(O=>{const B=x.has(O),U=R;return B||(R=!0),{id:O,training:n.trainings[O],isCompleted:B,isLocked:U}});return{...m,completedCount:T,progress:w,isCompleted:_,steps:I}}),[n,e.departamento]);return s?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Minhas Trilhas de Aprendizagem"}),h.jsx("p",{className:"text-slate-400",children:"Siga um caminho de estudos guiado para aprofundar os seus conhecimentos."})]}),h.jsx("div",{className:"space-y-6",children:p.map((m,y)=>h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},children:h.jsxs(nt,{className:`glass-effect border-slate-700 card-hover flex flex-col ${m.isCompleted?"border-green-500/50":""}`,children:[h.jsxs(at,{children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx(uk,{className:"w-8 h-8 text-yellow-400"}),m.isCompleted&&h.jsx(Ja,{className:"w-6 h-6 text-green-400"})]}),h.jsx(lt,{className:"text-white pt-4",children:m.titulo}),h.jsx(Dn,{children:m.descricao}),h.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${m.progress}%`}})}),h.jsxs("span",{className:"text-sm font-semibold text-white",children:[Math.round(m.progress),"%"]})]})]}),h.jsx(it,{className:"space-y-3",children:m.steps.map(x=>x.training?h.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${x.isLocked?"bg-slate-800/30 opacity-60":"bg-slate-800/60"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[x.isCompleted?h.jsx(Ja,{className:"w-5 h-5 text-green-500"}):x.isLocked?h.jsx(Mw,{className:"w-5 h-5 text-slate-500"}):h.jsx(Nw,{className:"w-5 h-5 text-blue-400"}),h.jsx("div",{children:h.jsx("p",{className:`font-medium ${x.isLocked?"text-slate-400":"text-white"}`,children:x.training.titulo})})]}),!x.isLocked&&!x.isCompleted&&h.jsxs(we,{size:"sm",onClick:()=>l(x.training),className:"bg-blue-600 hover:bg-blue-700",children:[h.jsx(sk,{className:"w-4 h-4 mr-2"})," Iniciar"]})]},x.id):null)}),h.jsx(ia,{children:m.isCompleted&&h.jsxs(we,{onClick:()=>t(m),className:"w-full bg-gradient-to-r from-green-500 to-blue-500",children:[h.jsx(ra,{className:"w-4 h-4 mr-2"})," Ver Certificado"]})})]})},m.id))}),o&&h.jsx(mM,{training:o,isOpen:!!o,onClose:()=>l(null),onComplete:d})]})};var[Ag,cZ]=Fr("Tooltip",[pg]),Pg=pg(),gM="TooltipProvider",XY=700,Vx="tooltip.open",[ZY,Q_]=Ag(gM),yM=t=>{const{__scopeTooltip:e,delayDuration:n=XY,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=S.useRef(!0),l=S.useRef(!1),u=S.useRef(0);return S.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),h.jsx(ZY,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};yM.displayName=gM;var Qd="Tooltip",[JY,Rg]=Ag(Qd),vM=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,u=Q_(Qd,t.__scopeTooltip),d=Pg(e),[p,m]=S.useState(null),y=Hi(),x=S.useRef(0),T=o??u.disableHoverableContent,w=l??u.delayDuration,_=S.useRef(!1),[R,I]=hi({prop:r,defaultProp:s??!1,onChange:M=>{M?(u.onOpen(),document.dispatchEvent(new CustomEvent(Vx))):u.onClose(),i==null||i(M)},caller:Qd}),k=S.useMemo(()=>R?_.current?"delayed-open":"instant-open":"closed",[R]),O=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,_.current=!1,I(!0)},[I]),B=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,I(!1)},[I]),U=S.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{_.current=!0,I(!0),x.current=0},w)},[w,I]);return S.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),h.jsx(jj,{...d,children:h.jsx(JY,{scope:e,contentId:y,open:R,stateAttribute:k,trigger:p,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{u.isOpenDelayedRef.current?U():O()},[u.isOpenDelayedRef,U,O]),onTriggerLeave:S.useCallback(()=>{T?B():(window.clearTimeout(x.current),x.current=0)},[B,T]),onOpen:O,onClose:B,disableHoverableContent:T,children:n})})};vM.displayName=Qd;var Lx="TooltipTrigger",xM=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rg(Lx,n),i=Q_(Lx,n),o=Pg(n),l=S.useRef(null),u=wt(e,l,s.onTriggerChange),d=S.useRef(!1),p=S.useRef(!1),m=S.useCallback(()=>d.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),h.jsx(Dj,{asChild:!0,...o,children:h.jsx(Ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Ve(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ve(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ve(t.onBlur,s.onClose),onClick:Ve(t.onClick,s.onClose)})})});xM.displayName=Lx;var eX="TooltipPortal",[uZ,tX]=Ag(eX,{forceMount:void 0}),Fc="TooltipContent",wM=S.forwardRef((t,e)=>{const n=tX(Fc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Rg(Fc,t.__scopeTooltip);return h.jsx(Zi,{present:r||o.open,children:o.disableHoverableContent?h.jsx(_M,{side:s,...i,ref:e}):h.jsx(nX,{side:s,...i,ref:e})})}),nX=S.forwardRef((t,e)=>{const n=Rg(Fc,t.__scopeTooltip),r=Q_(Fc,t.__scopeTooltip),s=S.useRef(null),i=wt(e,s),[o,l]=S.useState(null),{trigger:u,onClose:d}=n,p=s.current,{onPointerInTransitChange:m}=r,y=S.useCallback(()=>{l(null),m(!1)},[m]),x=S.useCallback((T,w)=>{const _=T.currentTarget,R={x:T.clientX,y:T.clientY},I=aX(R,_.getBoundingClientRect()),k=lX(R,I),O=cX(w.getBoundingClientRect()),B=dX([...k,...O]);l(B),m(!0)},[m]);return S.useEffect(()=>()=>y(),[y]),S.useEffect(()=>{if(u&&p){const T=_=>x(_,p),w=_=>x(_,u);return u.addEventListener("pointerleave",T),p.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",T),p.removeEventListener("pointerleave",w)}}},[u,p,x,y]),S.useEffect(()=>{if(o){const T=w=>{const _=w.target,R={x:w.clientX,y:w.clientY},I=(u==null?void 0:u.contains(_))||(p==null?void 0:p.contains(_)),k=!uX(R,o);I?y():k&&(y(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,p,o,d,y]),h.jsx(_M,{...t,ref:i})}),[rX,sX]=Ag(Qd,{isInside:!1}),iX=k6("TooltipContent"),_M=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=Rg(Fc,n),d=Pg(n),{onClose:p}=u;return S.useEffect(()=>(document.addEventListener(Vx,p),()=>document.removeEventListener(Vx,p)),[p]),S.useEffect(()=>{if(u.trigger){const m=y=>{const x=y.target;x!=null&&x.contains(u.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,p]),h.jsx(ih,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:h.jsxs(Mj,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(iX,{children:r}),h.jsx(rX,{scope:n,isInside:!0,children:h.jsx(J6,{id:u.contentId,role:"tooltip",children:s||r})})]})})});wM.displayName=Fc;var bM="TooltipArrow",oX=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Pg(n);return sX(bM,n).isInside?null:h.jsx(Oj,{...s,...r,ref:e})});oX.displayName=bM;function aX(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lX(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function cX(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function uX(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],d=l.x,p=l.y,m=u.x,y=u.y;p>r!=y>r&&n<(m-d)*(r-p)/(y-p)+d&&(s=!s)}return s}function dX(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hX(e)}function hX(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fX=yM,pX=vM,mX=xM,TM=wM;const SM=fX,EM=pX,CM=mX,Y_=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(TM,{ref:r,sideOffset:e,className:We("z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Y_.displayName=TM.displayName;const gX={"Primeiro Simulado":{icon:ok,description:"Concluiu o seu primeiro simulado."},Perfeccionista:{icon:Xm,description:"Obteve 100% de acertos num simulado."},Maratonista:{icon:Ow,description:"Concluiu 5 simulados."},Dedicado:{icon:ra,description:"Concluiu 10 simulados."}},yX=()=>{const{user:t}=Lr(),[e,n]=S.useState(null),[r,s]=S.useState(null),[i,o]=S.useState(!0),[l,u]=S.useState(!1),d=S.useCallback(async()=>{if(!t||!t.id){o(!1);return}l||o(!0);const[x,T,w,_]=await Promise.all([gt("treinamentos"),gt("historico"),qm(ui(Pt,"usuarios",String(t.id))),gt("resultadosSimulados")]);w.exists()&&n(w.data());const R=T.filter(D=>D.usuarioId===t.id),I=_.filter(D=>D.usuarioId===t.id),k=x.filter(D=>D.ativo&&(D.departamento==="Todos"||D.departamento===t.departamento)),O=R.filter(D=>D.concluido),B=O.reduce((D,V)=>D+(V.pontosGanhos||V.notaQuestionario||0),0),U=I.reduce((D,V)=>D+Math.round(V.pontuacao/10),0),M=B+U,E=O.length,P=k.length>0?E/k.length*100:0,N=O.length>0?O.reduce((D,V)=>D+(V.notaQuestionario||0),0)/O.length:0,L=O.sort((D,V)=>new Date(V.dataConclusao)-new Date(D.dataConclusao)).slice(0,5).map(D=>{const V=x.find(X=>X.id===D.treinamentoId);return{...D,trainingTitle:(V==null?void 0:V.titulo)||"Treinamento desconhecido"}});s({totalTrainings:k.length,completedCount:E,completionRate:P,totalPoints:M,avgScore:N,recentCompletions:L}),o(!1),u(!1)},[t,l]);S.useEffect(()=>{d()},[d]);const p=()=>{u(!0)};if(i)return h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})});if(!r)return h.jsx("div",{className:"text-center text-slate-400",children:"Não foi possível carregar o seu progresso."});const m=[{title:"Treinamentos Concluídos",value:r.completedCount,icon:Ja,color:"green"},{title:"Progresso Geral",value:`${r.completionRate.toFixed(0)}%`,icon:zB,color:"blue"},{title:"Pontos Acumulados",value:r.totalPoints,icon:AB,color:"purple"},{title:"Nota Média",value:r.avgScore.toFixed(1),icon:ra,color:"yellow"}],y=(e==null?void 0:e.medalhas)||[];return h.jsxs("div",{className:"space-y-8",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meu Progresso"}),h.jsx("p",{className:"text-slate-400",children:"A sua jornada de conhecimento e conquistas."})]}),h.jsxs(we,{onClick:p,disabled:l,variant:"outline",className:"bg-slate-800/50 border-slate-600 hover:bg-slate-700",children:[h.jsx(ik,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Atualizar"]})]}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsxs(nt,{className:"glass-effect border-purple-500/50 bg-slate-800/50 text-white",children:[h.jsxs(at,{className:"text-center",children:[h.jsx("p",{className:"text-sm font-medium text-slate-400",children:"O SEU TÍTULO ATUAL"}),h.jsx(lt,{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 mt-2",children:(e==null?void 0:e.titulo)||"Iniciante"})]}),h.jsx(it,{children:h.jsx(SM,{children:h.jsx("div",{className:"flex justify-center flex-wrap gap-4",children:Object.entries(gX).map(([x,{icon:T,description:w}])=>{const _=y.includes(x);return h.jsxs(EM,{children:[h.jsx(CM,{asChild:!0,children:h.jsxs("div",{className:`p-3 border rounded-lg flex flex-col items-center justify-center w-28 h-28 transition-all ${_?"border-yellow-400/50 bg-yellow-500/10 text-yellow-300":"border-slate-700 bg-slate-800/50 text-slate-500"}`,children:[h.jsx(T,{className:`w-8 h-8 mb-2 ${_?"":"opacity-50"}`}),h.jsx("p",{className:"font-semibold text-center text-xs",children:x})]})}),h.jsx(Y_,{children:h.jsx("p",{children:w})})]},x)})})})})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((x,T)=>{const w=x.icon;return h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*T},children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full",children:[h.jsxs(at,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(lt,{className:"text-sm font-medium text-slate-200",children:x.title}),h.jsx(w,{className:`h-5 w-5 text-${x.color}-400`})]}),h.jsx(it,{children:h.jsx("div",{className:"text-3xl font-bold text-white",children:x.value})})]})},x.title)})}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsxs(at,{children:[h.jsx(lt,{className:"text-white",children:"Últimos Treinamentos Concluídos"}),h.jsx(Dn,{children:"A sua atividade mais recente na plataforma."})]}),h.jsx(it,{children:r.recentCompletions.length>0?h.jsx("ul",{className:"space-y-3",children:r.recentCompletions.map((x,T)=>h.jsxs(Le.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*T},className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:h.jsx(Rw,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:x.trainingTitle}),h.jsxs("p",{className:"text-xs text-slate-400",children:["Concluído em: ",new Date(x.dataConclusao).toLocaleDateString("pt-BR")]})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("p",{className:"text-sm font-semibold text-green-400",children:["Nota: ",x.notaQuestionario,"/10"]})})]},`${x.id}-${T}`))}):h.jsx("p",{className:"text-center text-slate-400 py-8",children:"Você ainda não concluiu nenhum treinamento."})})]})})]})},vX=()=>{const{user:t}=Lr(),[e,n]=S.useState({usuarios:[],resultadosSimulados:[],departamentos:[]}),[r,s]=S.useState(!0),[i,o]=S.useState("all"),[l,u]=S.useState("all");S.useEffect(()=>{(async()=>{s(!0);const[T,w,_]=await Promise.all([gt("usuarios"),gt("resultadosSimulados"),gt("departamentos")]);n({usuarios:T,resultadosSimulados:w,departamentos:_}),s(!1)})()},[]);const d=S.useMemo(()=>{const{usuarios:x,resultadosSimulados:T}=e;if(!x.length)return[];let w=T;if(l!=="all"){const k=new Date,O=new Date;l==="month"?O.setMonth(k.getMonth()-1):l==="quarter"&&O.setMonth(k.getMonth()-3),w=w.filter(B=>B.dataConclusao&&new Date(B.dataConclusao)>=O)}const _={};w.forEach(k=>{_[k.usuarioId]||(_[k.usuarioId]={totalScore:0,count:0}),_[k.usuarioId].totalScore+=k.pontuacao,_[k.usuarioId].count+=1});let R=x.filter(k=>k.tipo==="funcionario"&&k.ativo);return i!=="all"&&(R=R.filter(k=>k.departamento===i)),R.map(k=>{const O=_[k.id],B=O?O.totalScore/O.count:0;return{id:k.id,nome:k.nome,departamento:k.departamento,pontuacao:Math.round(B),simuladosFeitos:O?O.count:0}}).filter(k=>k.simuladosFeitos>0).sort((k,O)=>O.pontuacao-k.pontuacao||k.nome.localeCompare(O.nome))},[e,i,l]),p=S.useMemo(()=>{const x=d.findIndex(T=>T.id===t.id);return x!==-1?x+1:null},[d,t]),m=x=>x===1?h.jsx(tm,{className:"w-6 h-6 text-yellow-400"}):x===2?h.jsx(Ow,{className:"w-6 h-6 text-gray-300"}):x===3?h.jsx(ra,{className:"w-6 h-6 text-yellow-600"}):h.jsxs("span",{className:"text-slate-400 font-bold",children:[x,"º"]}),y=x=>x===1?"border-yellow-400/50 bg-yellow-500/10":x===2?"border-gray-300/50 bg-gray-500/10":x===3?"border-yellow-600/50 bg-yellow-700/10":"border-slate-700";return r?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Ranking de Desempenho"}),h.jsx("p",{className:"text-slate-400",children:"Veja quem está a destacar-se nos simulados de conhecimento."})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-center",children:[h.jsxs(En,{value:i,onValueChange:o,children:[h.jsx(mn,{className:"bg-slate-800/50 border-slate-600",children:h.jsx(Cn,{placeholder:"Filtrar por Departamento"})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"all",children:"Todos os Departamentos"}),e.departamentos.filter(x=>x.nome!=="Todos").map(x=>h.jsx(xt,{value:x.nome,children:x.nome},x.id))]})]}),h.jsxs(En,{value:l,onValueChange:u,children:[h.jsx(mn,{className:"bg-slate-800/50 border-slate-600",children:h.jsx(Cn,{placeholder:"Filtrar por Período"})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"all",children:"Desde o início"}),h.jsx(xt,{value:"month",children:"Último Mês"}),h.jsx(xt,{value:"quarter",children:"Último Trimestre"})]})]}),p&&h.jsx(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"sm:col-span-1",children:h.jsx(nt,{className:"glass-effect border-blue-500/50 bg-slate-800/50",children:h.jsxs(it,{className:"p-3 text-center",children:[h.jsx("p",{className:"text-sm font-medium text-slate-300",children:"A sua Posição"}),h.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[p,"º"]})]})})})]}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white",children:[h.jsx(at,{children:h.jsx(lt,{children:"Classificação Geral"})}),h.jsx(it,{children:h.jsx("ul",{className:"space-y-3",children:d.length>0?d.map((x,T)=>{const w=T+1;return h.jsxs(Le.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*T},className:`flex items-center justify-between p-3 bg-slate-800/50 rounded-lg border-l-4 ${y(w)} ${x.id===t.id?"border-r-4 border-r-blue-500":""}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-lg font-bold",children:m(w)}),h.jsxs("div",{children:[h.jsx("p",{className:`font-medium ${x.id===t.id?"text-blue-400":"text-white"}`,children:x.nome}),h.jsx("p",{className:"text-xs text-slate-400",children:x.departamento})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-lg font-bold text-white",children:[x.pontuacao," pts"]}),h.jsxs("p",{className:"text-xs text-slate-400",children:[x.simuladosFeitos," ",x.simuladosFeitos===1?"simulado":"simulados"]})]})]},x.id)}):h.jsxs("div",{className:"text-center py-10 text-slate-500",children:[h.jsx(tm,{className:"mx-auto h-10 w-10"}),h.jsx("p",{className:"mt-2 font-semibold",children:"Nenhum resultado para os filtros selecionados."}),h.jsx("p",{className:"text-sm",children:"Tente alargar a sua pesquisa ou complete alguns simulados!"})]})})})]})})]})},xX=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(null),[s,i]=S.useState(!0),[o,l]=S.useState(!1),[u,d]=S.useState(!0),[p,m]=S.useState(""),[y,x]=S.useState(null),T=async(I=!1)=>{if(o)return;l(!0);const O=await dh("knowledgeBase",{lastVisible:I?n:null,orderByField:"dataCriacao",orderDirection:"desc"});O.data.length>0&&(e(B=>I?[...B,...O.data]:O.data),r(O.lastVisible)),O.data.length<15&&i(!1),l(!1),u&&d(!1)};S.useEffect(()=>{T()},[]);const w=t.filter(I=>{const k=p.toLowerCase();return I.titulo.toLowerCase().includes(k)||I.conteudo.toLowerCase().includes(k)||I.categoria.toLowerCase().includes(k)||I.tags&&I.tags.some(O=>O.toLowerCase().includes(k))}),_=I=>I==="link_externo"?h.jsx(Dw,{className:"h-5 w-5 text-purple-400"}):I==="link_treinamento"?h.jsx(ii,{className:"h-5 w-5 text-blue-400"}):h.jsx(tk,{className:"h-5 w-5 text-green-400"}),R=I=>I.type==="link_externo"?h.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Acessar Link Externo"}):I.type==="link_treinamento"?h.jsx("span",{className:"text-blue-400 cursor-pointer hover:underline",children:"Ver Treinamento"}):h.jsx("button",{onClick:()=>x(I),className:"text-blue-400 hover:underline",children:"Ler Artigo Completo"});return u?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Central de Conhecimento"}),h.jsxs("div",{className:"relative",children:[h.jsx(Gc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx(ct,{placeholder:"Pesquisar nos artigos carregados...",className:"pl-10 bg-slate-800/50 border-slate-600",value:p,onChange:I=>m(I.target.value)})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((I,k)=>{var O;return h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},children:h.jsxs(nt,{className:"glass-effect h-full flex flex-col border-slate-700",children:[h.jsxs(at,{children:[h.jsxs("div",{className:"flex items-center gap-3",children:[_(I.type),h.jsx(lt,{className:"text-white text-lg",children:I.titulo})]}),h.jsx(Dn,{children:I.categoria})]}),h.jsx(it,{className:"flex-grow",children:h.jsx("p",{className:"text-slate-300 text-sm line-clamp-3",children:I.conteudo})}),h.jsxs(ia,{className:"flex-col items-start gap-4",children:[h.jsx("div",{className:"flex flex-wrap gap-2 h-6",children:(O=I.tags)==null?void 0:O.map(B=>h.jsx($i,{variant:"secondary",children:B},B))}),h.jsxs("div",{className:"w-full flex justify-between items-center text-xs text-slate-500 pt-2",children:[h.jsx("span",{children:R(I)}),h.jsxs("span",{children:[new Date(I.dataCriacao).toLocaleDateString()," por ",I.autorNome]})]})]})]})},I.id)})}),w.length===0&&!o&&h.jsx("div",{className:"text-center py-12 text-slate-500",children:h.jsx("p",{children:"Nenhum artigo encontrado."})}),s&&h.jsx("div",{className:"text-center mt-8",children:h.jsx(we,{onClick:()=>T(!0),disabled:o,children:o?h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})}),h.jsx(as,{open:!!y,onOpenChange:()=>x(null),children:h.jsxs(Mr,{className:"bg-slate-900 border-slate-700 text-white",children:[h.jsxs(Or,{children:[h.jsx(Vr,{className:"text-2xl",children:y==null?void 0:y.titulo}),h.jsx(Wd,{children:y==null?void 0:y.categoria})]}),h.jsx("div",{className:"py-4 text-slate-300 whitespace-pre-wrap",children:y==null?void 0:y.conteudo})]})})]})},wX=()=>{var N,L;const{user:t}=Lr(),[e,n]=S.useState([]),[r,s]=S.useState([]),[i,o]=S.useState(!1),[l,u]=S.useState(null),[d,p]=S.useState("artigo"),{toast:m}=Zn(),[y,x]=S.useState(null),[T,w]=S.useState(!0),[_,R]=S.useState(!1),[I,k]=S.useState(!0),O=async(D=!1)=>{if(_||!D&&!I)return;R(!0);const V=await dh("knowledgeBase",{lastVisible:D?y:null,orderByField:"dataCriacao",orderDirection:"desc"});V.data.length>0&&(n(X=>D?[...X,...V.data]:V.data),x(V.lastVisible)),(!V.lastVisible||V.data.length<15)&&w(!1),R(!1),I&&k(!1)},B=async()=>{k(!0);const D=await gt("treinamentos");s(D),await O(),k(!1)};S.useEffect(()=>{B()},[]);const U=(D=null)=>{u(D),p(D?D.type:"artigo"),o(!0)},M=async D=>{var q;D.preventDefault();const V=new FormData(D.target),X={type:d,titulo:V.get("titulo"),categoria:V.get("categoria"),conteudo:V.get("conteudo"),tags:((q=V.get("tags"))==null?void 0:q.split(",").map(W=>W.trim()).filter(W=>W))||[],autorNome:t.nome,dataCriacao:(l==null?void 0:l.dataCriacao)||new Date().toISOString()};d==="link_externo"?X.url=V.get("url"):d==="link_treinamento"&&(X.treinamentoId=V.get("treinamentoId")),l?(await ss("knowledgeBase",l.id,X),m({title:"Sucesso!",description:"Postagem atualizada."})):(await ls("knowledgeBase",X),m({title:"Sucesso!",description:"Postagem criada."})),o(!1),await O()},E=async D=>{window.confirm("Tem certeza que deseja excluir esta postagem?")&&(await eo("knowledgeBase",D),m({title:"Sucesso!",description:"Postagem excluída."}),n(V=>V.filter(X=>X.id!==D)))},P=D=>D==="link_externo"?h.jsx(Dw,{className:"h-4 w-4 text-purple-400"}):D==="link_treinamento"?h.jsx(ii,{className:"h-4 w-4 text-blue-400"}):h.jsx(tk,{className:"h-4 w-4 text-green-400"});return I?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciar Conhecimento"}),h.jsxs(we,{onClick:()=>U(),children:[h.jsx(EB,{className:"mr-2 h-4 w-4"})," Nova Postagem"]})]}),h.jsx(as,{open:i,onOpenChange:o,children:h.jsxs(Mr,{className:"bg-slate-900 border-slate-700 text-white",children:[h.jsx(Or,{children:h.jsx(Vr,{children:l?"Editar Postagem":"Nova Postagem"})}),h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[h.jsx(Qe,{children:"Tipo de Postagem"}),h.jsxs(En,{value:d,onValueChange:p,children:[h.jsx(mn,{children:h.jsx(Cn,{})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"artigo",children:"Artigo de Texto"}),h.jsx(xt,{value:"link_externo",children:"Link Externo"}),h.jsx(xt,{value:"link_treinamento",children:"Atalho para Treinamento"})]})]}),h.jsx(ct,{name:"titulo",placeholder:"Título da postagem",defaultValue:l==null?void 0:l.titulo,required:!0}),h.jsx(ct,{name:"categoria",placeholder:"Categoria (Ex: Fiscal, Legislação)",defaultValue:l==null?void 0:l.categoria,required:!0}),d==="link_externo"&&h.jsx(ct,{name:"url",placeholder:"URL do link externo",defaultValue:l==null?void 0:l.url,required:!0}),d==="link_treinamento"&&h.jsxs(En,{name:"treinamentoId",defaultValue:(N=l==null?void 0:l.treinamentoId)==null?void 0:N.toString(),children:[h.jsx(mn,{children:h.jsx(Cn,{placeholder:"Selecione um treinamento"})}),h.jsx(gn,{children:r.map(D=>h.jsx(xt,{value:D.id.toString(),children:D.titulo},D.id))})]}),h.jsx(pi,{name:"conteudo",placeholder:"Descrição ou conteúdo do artigo...",defaultValue:l==null?void 0:l.conteudo,required:!0}),h.jsx(ct,{name:"tags",placeholder:"Tags separadas por vírgula (Ex: eSocial, prazo, guia)",defaultValue:(L=l==null?void 0:l.tags)==null?void 0:L.join(", ")}),h.jsxs(Ds,{children:[h.jsx(we,{type:"button",variant:"ghost",onClick:()=>o(!1),children:"Cancelar"}),h.jsx(we,{type:"submit",children:"Salvar"})]})]})]})}),h.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg",children:e.map(D=>h.jsxs("div",{className:"grid grid-cols-5 items-center p-4 border-b border-slate-700/50 last:border-b-0",children:[h.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[P(D.type),h.jsx("span",{className:"text-white font-medium truncate pr-2",children:D.titulo})]}),h.jsx("div",{className:"text-slate-400 truncate pr-2",children:D.categoria}),h.jsx("div",{className:"text-slate-500 text-xs",children:new Date(D.dataCriacao).toLocaleDateString()}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(we,{variant:"ghost",size:"icon",onClick:()=>U(D),children:h.jsx(Ji,{className:"h-4 w-4"})}),h.jsx(we,{variant:"ghost",size:"icon",onClick:()=>E(D.id),children:h.jsx(Ir,{className:"h-4 w-4 text-red-500"})})]})]},D.id))}),T&&h.jsx("div",{className:"text-center mt-8",children:h.jsx(we,{onClick:()=>O(!0),disabled:_,children:_?h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Artigos"})})]})},_X=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState(""),[o,l]=S.useState(!1),[u,d]=S.useState(null),[p,m]=S.useState(null),[y,x]=S.useState(!0),[T,w]=S.useState(!1),[_,R]=S.useState(!0),I={titulo:"",descricao:"",categoria:"",ativo:!0,perguntas:[],regraTentativa:"unlimited",limiteTentativas:1},[k,O]=S.useState(I),{toast:B}=Zn(),U=async(W=!1)=>{if(T)return;w(!0);const Y=await dh("simulados",{lastVisible:W?p:null,orderByField:"dataCriacao",orderDirection:"desc"});Y.data.length>0&&(e(K=>W?[...K,...Y.data]:Y.data),m(Y.lastVisible)),Y.data.length<15&&x(!1),w(!1)};S.useEffect(()=>{R(!0),U().then(()=>R(!1))},[]),S.useEffect(()=>{r(t.filter(W=>W.titulo.toLowerCase().includes(s.toLowerCase())))},[t,s]);const M=()=>{O(I),d(null)},E=W=>{d(W);const Y={...I,...W};O(Y),l(!0)},P=async W=>{if(W.preventDefault(),k.perguntas.length===0){B({title:"Erro",description:"O simulado precisa ter pelo menos uma pergunta.",variant:"destructive"});return}const Y={...k,limiteTentativas:Number(k.limiteTentativas)};if(u)await ss("simulados",u.id,Y),B({title:"Simulado atualizado!"});else{const K={...Y,dataCriacao:new Date().toISOString()};await ls("simulados",K),B({title:"Simulado criado!"})}l(!1),await U()},N=async W=>{window.confirm("Tem certeza que deseja remover este simulado?")&&(await eo("simulados",W),B({title:"Simulado removido!"}),e(Y=>Y.filter(K=>K.id!==W)))},L=()=>O(W=>({...W,perguntas:[...W.perguntas||[],{pergunta:"",opcoes:["","","",""],respostaCorreta:null}]})),D=W=>O(Y=>({...Y,perguntas:Y.perguntas.filter((K,ee)=>ee!==W)})),V=(W,Y)=>{const K=[...k.perguntas];K[W].pergunta=Y,O({...k,perguntas:K})},X=(W,Y,K)=>{const ee=[...k.perguntas];ee[W].opcoes[Y]=K,O({...k,perguntas:ee})},q=(W,Y)=>{const K=[...k.perguntas];K[W].respostaCorreta=Y,O({...k,perguntas:K})};return _?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Simulados"}),h.jsx("p",{className:"text-slate-400",children:"Crie e edite avaliações de conhecimento."})]}),h.jsxs(as,{open:o,onOpenChange:l,children:[h.jsx(Jc,{asChild:!0,children:h.jsxs(we,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:M,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Novo Simulado"]})}),h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] flex flex-col",children:[h.jsx(Or,{children:h.jsxs(Vr,{children:[u?"Editar":"Novo"," Simulado"]})}),h.jsxs("form",{id:"simuladoForm",onSubmit:P,className:"space-y-4 overflow-y-auto scrollbar-thin pr-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Título"}),h.jsx(ct,{value:k.titulo,onChange:W=>O({...k,titulo:W.target.value}),className:"bg-slate-800/50",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Categoria"}),h.jsx(ct,{value:k.categoria,onChange:W=>O({...k,categoria:W.target.value}),placeholder:"Ex: Sistemas Internos, Segurança",className:"bg-slate-800/50",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Descrição"}),h.jsx(pi,{value:k.descricao,onChange:W=>O({...k,descricao:W.target.value}),className:"bg-slate-800/50"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Kd,{id:"ativo",checked:k.ativo,onCheckedChange:W=>O({...k,ativo:W})}),h.jsx(Qe,{htmlFor:"ativo",children:"Ativo (visível para funcionários)"})]}),h.jsxs("div",{className:"pt-4 border-t border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Regra de Tentativas"}),h.jsxs(En,{value:k.regraTentativa,onValueChange:W=>O({...k,regraTentativa:W}),children:[h.jsx(mn,{children:h.jsx(Cn,{})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"unlimited",children:"Tentativas Ilimitadas"}),h.jsx(xt,{value:"once",children:"Apenas uma vez"}),h.jsx(xt,{value:"monthly",children:"Uma vez por mês"}),h.jsx(xt,{value:"specific_amount",children:"Número específico de vezes"})]})]})]}),k.regraTentativa==="specific_amount"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Limite de Tentativas"}),h.jsx(ct,{type:"number",min:"1",value:k.limiteTentativas,onChange:W=>O({...k,limiteTentativas:W.target.value})})]})]}),h.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Questionário"}),h.jsxs(we,{type:"button",size:"sm",onClick:L,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Adicionar Pergunta"]})]}),(k.perguntas||[]).map((W,Y)=>{var K;return h.jsxs("div",{className:"p-4 border border-slate-700 rounded-lg space-y-3 bg-slate-800/30",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(Qe,{children:["Pergunta ",Y+1]}),h.jsx(we,{type:"button",size:"sm",variant:"destructive",onClick:()=>D(Y),children:h.jsx(Ir,{className:"w-4 h-4"})})]}),h.jsx(pi,{placeholder:"Digite a pergunta...",value:W.pergunta,onChange:ee=>V(Y,ee.target.value),required:!0}),h.jsx(bg,{value:(K=W.respostaCorreta)==null?void 0:K.toString(),onValueChange:ee=>q(Y,parseInt(ee)),children:W.opcoes.map((ee,oe)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tg,{value:oe.toString(),id:`q${Y}o${oe}`}),h.jsx(ct,{placeholder:`Opção ${oe+1}`,value:ee,onChange:$=>X(Y,oe,$.target.value),required:!0})]},oe))})]},Y)})]})]}),h.jsxs(Ds,{className:"pt-4 border-t border-slate-700",children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>l(!1),className:"border-slate-600",children:"Cancelar"}),h.jsx(we,{type:"submit",form:"simuladoForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:u?"Salvar":"Criar"})]})]})]})]}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsxs("div",{className:"relative",children:[h.jsx(Gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{placeholder:"Buscar por título...",value:s,onChange:W=>i(W.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(W=>h.jsx(Le.div,{children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsxs(at,{children:[h.jsx(lt,{className:"text-lg text-white mb-1",children:W.titulo}),h.jsx("p",{className:"text-sm text-slate-400",children:W.categoria})]}),h.jsx(it,{className:"flex-grow",children:h.jsx("p",{className:"text-sm text-slate-300 line-clamp-3",children:W.descricao})}),h.jsxs(ia,{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"text-xs text-slate-400 flex items-center",children:[h.jsx(VB,{className:"w-3 h-3 mr-1.5"})," ",W.regraTentativa||"Ilimitado"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(we,{size:"sm",variant:"outline",className:"border-slate-600",onClick:()=>E(W),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"sm",variant:"destructive",onClick:()=>N(W.id),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})]})},W.id))}),y&&h.jsx("div",{className:"text-center mt-8",children:h.jsx(we,{onClick:()=>U(!0),disabled:T,children:T?h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})})]})},bX=({onStartSimulado:t})=>{const[e,n]=S.useState([]),[r,s]=S.useState([]),[i,o]=S.useState(""),[l,u]=S.useState(null),[d,p]=S.useState(!0),[m,y]=S.useState(!0),{user:x}=Lr();S.useEffect(()=>{(async()=>{if(!x)return;y(!0);const[_,R]=await Promise.all([gt("simulados"),gt("resultadosSimulados")]);n(_.filter(I=>I.ativo)),s(R.filter(I=>I.usuarioId===x.id)),y(!1)})()},[x]);const T=S.useMemo(()=>e.filter(w=>w.titulo.toLowerCase().includes(i.toLowerCase())).map(w=>{const _=r.filter(B=>B.simuladoId===w.id),{regraTentativa:R,limiteTentativas:I}=w;let k=!0,O="";if(R==="once"&&_.length>=1)k=!1,O="Você já completou este simulado.";else if(R==="monthly"){const B=new Date,U=_.sort((M,E)=>new Date(E.dataConclusao)-new Date(M.dataConclusao))[0];if(U){const M=new Date(U.dataConclusao);M.getMonth()===B.getMonth()&&M.getFullYear()===B.getFullYear()&&(k=!1,O="Disponível novamente no próximo mês.")}}else R==="specific_amount"&&_.length>=I&&(k=!1,O=`Limite de ${I} tentativas atingido.`);return{...w,canAttempt:k,reason:O,attemptCount:_.length}}),[e,r,i]);return m?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Simulados Disponíveis"}),h.jsx("p",{className:"text-slate-400",children:"Teste os seus conhecimentos e ganhe pontos."})]}),h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsxs("div",{className:"relative",children:[h.jsx(Gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),h.jsx(ct,{placeholder:"Buscar por título do simulado...",value:i,onChange:w=>o(w.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),h.jsx(SM,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(w=>h.jsx(Le.div,{children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsxs(at,{children:[h.jsx(lt,{className:"text-lg text-white mb-1",children:w.titulo}),h.jsx("p",{className:"text-sm text-slate-400",children:w.categoria})]}),h.jsx(it,{className:"flex-grow",children:h.jsx("p",{className:"text-sm text-slate-300 line-clamp-3",children:w.descricao})}),h.jsxs(ia,{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"text-xs text-slate-500",children:["Tentativas: ",w.attemptCount]}),h.jsxs(EM,{children:[h.jsx(CM,{asChild:!0,children:h.jsx("div",{children:h.jsx(we,{onClick:()=>t(w),disabled:!w.canAttempt,className:"bg-gradient-to-r from-blue-500 to-purple-600 disabled:opacity-50",children:w.canAttempt?"Iniciar Simulado":h.jsx(Mw,{className:"w-4 h-4"})})})}),!w.canAttempt&&h.jsx(Y_,{children:h.jsx("p",{children:w.reason})})]})]})]})},w.id))})})]})};var X_="Progress",Z_=100,[TX,dZ]=Fr(X_),[SX,EX]=TX(X_),AM=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=CX,...o}=t;(s||s===0)&&!aP(s)&&console.error(AX(`${s}`,"Progress"));const l=aP(s)?s:Z_;r!==null&&!lP(r,l)&&console.error(PX(`${r}`,"Progress"));const u=lP(r,l)?r:null,d=Tm(u)?i(u,l):void 0;return h.jsx(SX,{scope:n,value:u,max:l,children:h.jsx(Ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Tm(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":IM(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});AM.displayName=X_;var PM="ProgressIndicator",RM=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=EX(PM,n);return h.jsx(Ue.div,{"data-state":IM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});RM.displayName=PM;function CX(t,e){return`${Math.round(t/e*100)}%`}function IM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Tm(t){return typeof t=="number"}function aP(t){return Tm(t)&&!isNaN(t)&&t>0}function lP(t,e){return Tm(t)&&!isNaN(t)&&t<=e&&t>=0}function AX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Z_}\`.`}function PX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Z_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kM=AM,RX=RM;const NM=S.forwardRef(({className:t,value:e,...n},r)=>h.jsx(kM,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-slate-800",t),...n,children:h.jsx(RX,{className:"h-full w-full flex-1 bg-gradient-to-r from-blue-500 to-purple-600 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));NM.displayName=kM.displayName;const IX=t=>t>=95?"Mestre do Conhecimento":t>=85?"Especialista":t>=70?"Conhecedor":t>=50?"Aprendiz":"Iniciante",kX=({simulado:t,onFinish:e})=>{var I;const{user:n}=Lr(),{toast:r}=Zn(),[s,i]=S.useState(0),[o,l]=S.useState({}),[u,d]=S.useState(!1),[p,m]=S.useState(0),y=t.perguntas[s],x=(s+1)/t.perguntas.length*100,T=(k,O)=>{l(B=>({...B,[k]:O}))},w=()=>{s<t.perguntas.length-1?i(k=>k+1):(_(),d(!0))},_=async()=>{let k=0;t.perguntas.forEach((U,M)=>{o[M]===U.respostaCorreta&&k++});const O=k/t.perguntas.length*100;m(O);const B={usuarioId:n.id,usuarioNome:n.nome,simuladoId:t.id,simuladoTitulo:t.titulo,pontuacao:O,acertos:k,totalPerguntas:t.perguntas.length,dataConclusao:new Date().toISOString()};await ls("resultadosSimulados",B),await R(O)},R=async k=>{try{if(!n||!n.id)return;const O=ui(Pt,"usuarios",String(n.id)),B=await qm(O);if(!B.exists())return;const U=B.data(),E=(await gt("resultadosSimulados")).filter(V=>V.usuarioId===n.id),P=new Set(U.medalhas||[]);E.length>0&&!P.has("Primeiro Simulado")&&P.add("Primeiro Simulado"),k===100&&!P.has("Perfeccionista")&&(r({title:"Nova Conquista!",description:"Você ganhou a medalha 'Perfeccionista'!"}),P.add("Perfeccionista")),E.length>=5&&!P.has("Maratonista")&&(r({title:"Nova Conquista!",description:"Você ganhou a medalha 'Maratonista'!"}),P.add("Maratonista")),E.length>=10&&!P.has("Dedicado")&&(r({title:"Nova Conquista!",description:"Você ganhou a medalha 'Dedicado'!"}),P.add("Dedicado"));const L=E.reduce((V,X)=>V+X.pontuacao,0)/E.length,D=IX(L);U.titulo!==D&&r({title:"Promoção!",description:`O seu título foi atualizado para '${D}'!`}),await fI(O,{medalhas:Array.from(P),titulo:D})}catch(O){console.error("Erro ao atualizar conquistas:",O)}};return u?h.jsx(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white w-full max-w-3xl mx-auto",children:[h.jsxs(at,{className:"text-center",children:[h.jsx(ra,{className:"w-16 h-16 mx-auto text-yellow-400"}),h.jsx(lt,{className:"text-3xl mt-4",children:"Simulado Concluído!"}),h.jsx(Dn,{className:"text-slate-400",children:t.titulo})]}),h.jsxs(it,{className:"space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-lg text-slate-300",children:"A sua pontuação final foi:"}),h.jsxs("p",{className:"text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:[p.toFixed(0),"%"]}),h.jsxs("p",{className:"text-slate-400 mt-2",children:["Você acertou ",Object.values(o).reduce((k,O,B)=>k+(O===t.perguntas[B].respostaCorreta?1:0),0)," de ",t.perguntas.length," perguntas."]})]}),h.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:t.perguntas.map((k,O)=>h.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[h.jsxs("p",{className:"font-semibold",children:[O+1,". ",k.pergunta]}),h.jsxs("p",{className:`text-sm mt-1 ${o[O]===k.respostaCorreta?"text-green-400":"text-red-400"}`,children:["Sua resposta: ",k.opcoes[o[O]],o[O]!==k.respostaCorreta&&h.jsxs("span",{className:"text-slate-400",children:[" | Correta: ",k.opcoes[k.respostaCorreta]]})]})]},O))}),h.jsx(we,{onClick:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600",children:"Voltar para a Lista de Simulados"})]})]})}):h.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},children:h.jsxs(nt,{className:"glass-effect border-slate-700 text-white w-full max-w-3xl mx-auto",children:[h.jsxs(at,{children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx(lt,{className:"text-2xl",children:t.titulo}),h.jsxs(Dn,{className:"text-slate-400",children:["Pergunta ",s+1," de ",t.perguntas.length]})]}),h.jsx(Xm,{className:"w-8 h-8 text-blue-400"})]}),h.jsx(NM,{value:x,className:"mt-4"})]}),h.jsxs(it,{className:"space-y-6",children:[h.jsx("p",{className:"text-lg font-semibold text-slate-200",children:y.pergunta}),h.jsx(bg,{value:(I=o[s])==null?void 0:I.toString(),onValueChange:k=>T(s,parseInt(k)),className:"space-y-3",children:y.opcoes.map((k,O)=>h.jsxs(Qe,{className:"flex items-center p-4 rounded-lg border border-slate-700 hover:bg-slate-800/50 transition-colors cursor-pointer has-[:checked]:bg-blue-500/20 has-[:checked]:border-blue-500",children:[h.jsx(Tg,{value:O.toString(),id:`q${s}o${O}`,className:"mr-3"}),k]},O))}),h.jsx(we,{onClick:w,disabled:o[s]===void 0,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600",children:s<t.perguntas.length-1?"Próxima Pergunta":"Finalizar e Ver Resultado"})]})]})})};var Mp={exports:{}},NX=Mp.exports,cP;function jX(){return cP||(cP=1,(function(t,e){(function(n,r){t.exports=r(Yd())})(typeof self<"u"?self:NX,function(n){return(function(){var r={155:function(R){R.exports=n}},s={};function i(R){var I=s[R];if(I!==void 0)return I.exports;var k=s[R]={exports:{}};return r[R](k,k.exports,i),k.exports}i.d=function(R,I){for(var k in I)i.o(I,k)&&!i.o(R,k)&&Object.defineProperty(R,k,{enumerable:!0,get:I[k]})},i.o=function(R,I){return Object.prototype.hasOwnProperty.call(R,I)},i.r=function(R){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{useReactToPrint:function(){return _}});var l=i(155);function u({level:R="error",messages:I,suppressErrors:k=!1}){k||(R==="error"?console.error(I):R==="warning"?console.warn(I):console.debug(I))}function d(R,I){if(I||!R){const k=document.getElementById("printWindow");k&&document.body.removeChild(k)}}function p(R){return R instanceof Error?R:new Error("Unknown Error")}function m(R,I){const{documentTitle:k,onAfterPrint:O,onPrintError:B,preserveAfterPrint:U,print:M,suppressErrors:E}=I;setTimeout(()=>{var P,N;if(R.contentWindow){let D=function(){O==null||O(),d(U)};var L=D;if(R.contentWindow.focus(),M)M(R).then(D).catch(V=>{B?B("print",p(V)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(R.contentWindow.print){const V=(N=(P=R.contentDocument)===null||P===void 0?void 0:P.title)!==null&&N!==void 0?N:"",X=R.ownerDocument.title;k&&(R.ownerDocument.title=k,R.contentDocument&&(R.contentDocument.title=k)),R.contentWindow.print(),k&&(R.ownerDocument.title=X,R.contentDocument&&(R.contentDocument.title=V))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(V=>{var X,q;return((q=(X=navigator.userAgent)!==null&&X!==void 0?X:navigator.vendor)!==null&&q!==void 0?q:"opera"in window&&window.opera).match(V)})?setTimeout(D,500):D()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function y(R){const I=[],k=document.createTreeWalker(R,NodeFilter.SHOW_ELEMENT,null);let O=k.nextNode();for(;O;)I.push(O),O=k.nextNode();return I}function x(R,I,k){const O=y(R),B=y(I);if(O.length===B.length)for(let U=0;U<O.length;U++){const M=O[U],E=B[U],P=M.shadowRoot;if(P!==null){const N=E.attachShadow({mode:P.mode});N.innerHTML=P.innerHTML,x(P,N,k)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",R,I],suppressErrors:k})}const T=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function w(R,I,k,O){var B,U,M,E,P;const{contentNode:N,clonedContentNode:L,clonedImgNodes:D,clonedVideoNodes:V,numResourcesToLoad:X,originalCanvasNodes:q}=k,{bodyClass:W,fonts:Y,ignoreGlobalStyles:K,pageStyle:ee,nonce:oe,suppressErrors:$,copyShadowRoots:J}=O;R.onload=null;const se=(B=R.contentDocument)!==null&&B!==void 0?B:(U=R.contentWindow)===null||U===void 0?void 0:U.document;if(se){const ve=se.body.appendChild(L);J&&x(N,ve,!!$),Y&&(!((M=R.contentDocument)===null||M===void 0)&&M.fonts&&(!((E=R.contentWindow)===null||E===void 0)&&E.FontFace)?Y.forEach(ue=>{const Z=new FontFace(ue.family,ue.source,{weight:ue.weight,style:ue.style});R.contentDocument.fonts.add(Z),Z.loaded.then(()=>{I(Z)}).catch(me=>{I(Z,["Failed loading the font:",Z,"Load error:",p(me)])})}):(Y.forEach(ue=>{I(ue)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:$})));const be=ee??T,Ee=se.createElement("style");oe&&(Ee.setAttribute("nonce",oe),se.head.setAttribute("nonce",oe)),Ee.appendChild(se.createTextNode(be)),se.head.appendChild(Ee),W&&se.body.classList.add(...W.split(" "));const he=se.querySelectorAll("canvas");for(let ue=0;ue<q.length;++ue){const Z=q[ue],me=he[ue];if(me===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Z],suppressErrors:$});continue}const ge=me.getContext("2d");ge&&ge.drawImage(Z,0,0)}for(let ue=0;ue<D.length;ue++){const Z=D[ue],me=Z.getAttribute("src");if(me){const ge=new Image;ge.onload=()=>{I(Z)},ge.onerror=(Ae,Re,tt,$e,Ke)=>{I(Z,["Error loading <img>",Z,"Error",Ke])},ge.src=me}else I(Z,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Z])}for(let ue=0;ue<V.length;ue++){const Z=V[ue];Z.preload="auto";const me=Z.getAttribute("poster");if(me){const ge=new Image;ge.onload=()=>{I(Z)},ge.onerror=(Ae,Re,tt,$e,Ke)=>{I(Z,["Error loading video poster",me,"for video",Z,"Error:",Ke])},ge.src=me}else Z.readyState>=2?I(Z):Z.src?(Z.onloadeddata=()=>{I(Z)},Z.onerror=(ge,Ae,Re,tt,$e)=>{I(Z,["Error loading video",Z,"Error",$e])},Z.onstalled=()=>{I(Z,["Loading video stalled, skipping",Z])}):I(Z,["Error loading video, `src` is empty",Z])}const de="select",Te=N.querySelectorAll(de),Ce=se.querySelectorAll(de);for(let ue=0;ue<Te.length;ue++)Ce[ue].value=Te[ue].value;if(!K){const ue=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Z=0,me=ue.length;Z<me;++Z){const ge=ue[Z];if(ge.tagName.toLowerCase()==="style"){const Ae=se.createElement(ge.tagName),Re=ge.sheet;if(Re){let tt="";try{const $e=Re.cssRules.length;for(let Ke=0;Ke<$e;++Ke)typeof Re.cssRules[Ke].cssText=="string"&&(tt+=`${Re.cssRules[Ke].cssText}\r
`)}catch($e){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ge,`Original error: ${p($e).message}`],level:"warning"})}Ae.setAttribute("id",`react-to-print-${Z}`),oe&&Ae.setAttribute("nonce",oe),Ae.appendChild(se.createTextNode(tt)),se.head.appendChild(Ae)}}else if(ge.getAttribute("href"))if(ge.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ge],level:"warning"}),I(ge);else{const Ae=se.createElement(ge.tagName);for(let Re=0,tt=ge.attributes.length;Re<tt;++Re){const $e=ge.attributes[Re];$e&&Ae.setAttribute($e.nodeName,(P=$e.nodeValue)!==null&&P!==void 0?P:"")}Ae.onload=()=>{I(Ae)},Ae.onerror=(Re,tt,$e,Ke,Tt)=>{I(Ae,["Failed to load",Ae,"Error:",Tt])},oe&&Ae.setAttribute("nonce",oe),se.head.appendChild(Ae)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ge],level:"warning"}),I(ge)}}}X===0&&m(R,O)}function _({bodyClass:R,contentRef:I,copyShadowRoots:k,documentTitle:O,fonts:B,ignoreGlobalStyles:U,nonce:M,onAfterPrint:E,onBeforePrint:P,onPrintError:N,pageStyle:L,preserveAfterPrint:D,print:V,suppressErrors:X}){return(0,l.useCallback)(q=>{function W(){const Y={bodyClass:R,contentRef:I,copyShadowRoots:k,documentTitle:O,fonts:B,ignoreGlobalStyles:U,nonce:M,onAfterPrint:E,onPrintError:N,pageStyle:L,preserveAfterPrint:D,print:V,suppressErrors:X},K=(function(){const $=document.createElement("iframe");return $.width=`${document.documentElement.clientWidth}px`,$.height=`${document.documentElement.clientHeight}px`,$.style.position="absolute",$.style.top=`-${document.documentElement.clientHeight+100}px`,$.style.left=`-${document.documentElement.clientWidth+100}px`,$.id="printWindow",$.srcdoc="<!DOCTYPE html>",$})(),ee=(function($,J){const{contentRef:se,fonts:ve,ignoreGlobalStyles:be,suppressErrors:Ee}=J,he=(function({contentRef:me,optionalContent:ge,suppressErrors:Ae}){return ge&&typeof ge=="function"?(me&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),ge()):me?me.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Ae})})({contentRef:se,optionalContent:$,suppressErrors:Ee});if(!he)return;const de=he.cloneNode(!0),Te=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Ce=de.querySelectorAll("img"),ue=de.querySelectorAll("video"),Z=ve?ve.length:0;return{contentNode:he,clonedContentNode:de,clonedImgNodes:Ce,clonedVideoNodes:ue,numResourcesToLoad:(be?0:Te.length)+Ce.length+ue.length+Z,originalCanvasNodes:he.querySelectorAll("canvas")}})(q,Y);if(!ee)return void u({messages:["There is nothing to print"],suppressErrors:X});const oe=(function($,J,se){const{suppressErrors:ve}=$,be=[],Ee=[];return function(he,de){be.includes(he)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",he],suppressErrors:ve}):(de?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...de],suppressErrors:ve}),Ee.push(he)):be.push(he),be.length+Ee.length===J&&m(se,$))}})(Y,ee.numResourcesToLoad,K);(function($,J,se,ve){$.onload=()=>{w($,J,se,ve)},document.body.appendChild($)})(K,oe,ee,Y)}d(D,!0),P?P().then(()=>{W()}).catch(Y=>{N==null||N("onBeforePrint",p(Y))}):W()},[R,I,k,O,B,U,M,E,P,N,L,D,V,X])}return o})()})})(Mp)),Mp.exports}var DX=jX();const MX=({certificateData:t,onBack:e})=>{const n=S.useRef(null),{user:r,learningPath:s,completionDate:i}=t,o=DX.useReactToPrint({contentRef:n,documentTitle:`Certificado-${r.nome}-${s.titulo}`});return h.jsxs("div",{className:"space-y-6 bg-slate-800 p-6 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-center no-print",children:[h.jsxs(we,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:[h.jsx(_B,{className:"w-4 h-4 mr-2"}),"Voltar para as Trilhas"]}),h.jsxs(we,{onClick:o,className:"bg-gradient-to-r from-blue-500 to-purple-600",children:[h.jsx(jw,{className:"w-4 h-4 mr-2"}),"Baixar / Imprimir"]})]}),h.jsx("div",{ref:n,className:"certificate-a4 bg-white text-gray-800 rounded-lg shadow-2xl mx-auto flex items-center justify-center",children:h.jsxs("div",{className:"w-full h-full border-2 border-blue-800 p-8 flex flex-col justify-between text-center bg-slate-50",children:[h.jsxs("div",{className:"w-full flex justify-between items-start",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"NTW Contabilidade e Gestão Empresarial"}),h.jsx("p",{className:"text-xs text-gray-500",children:"PLATAFORMA DE TREINAMENTO"})]}),h.jsx("img",{src:"https://i.ibb.co/kgfKn9NC/logo-1.png",alt:"Logo NTW",className:"w-28"})]}),h.jsxs("div",{className:"flex flex-col items-center mt-8",children:[h.jsx("p",{className:"text-lg text-gray-600",children:"Certificamos que"}),h.jsx("p",{className:"text-4xl font-bold text-blue-900 mt-2",children:r.nome}),h.jsx("div",{className:"w-3/4 h-px bg-gray-300 mt-4"}),h.jsx("p",{className:"text-base text-gray-600 mt-4 max-w-2xl",children:"concluiu com sucesso a Trilha de Aprendizagem"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-800 mt-2",children:['"',s.titulo,'"']})]}),h.jsxs("div",{className:"w-full flex justify-between items-end mt-12 text-sm",children:[h.jsxs("div",{className:"w-1/3 text-center",children:[h.jsx("p",{className:"border-t-2 border-gray-400 pt-2 font-semibold",children:"Diretoria"}),h.jsx("p",{className:"text-xs",children:"NTW Contabilidade"})]}),h.jsxs("div",{className:"w-1/3 text-center",children:[h.jsx("p",{className:"font-semibold",children:i.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}),h.jsx("p",{className:"text-xs",children:"Data de Conclusão"})]})]})]})})]})},OX=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState(!0),[u,d]=S.useState(!1),[p,m]=S.useState(null),{toast:y}=Zn(),x={usuarioId:"",usuarioNome:"",titulo:"",descricao:"",status:"Em Andamento",metas:[]},[T,w]=S.useState(x);S.useEffect(()=>{(async()=>{l(!0);const[N,L,D,V]=await Promise.all([gt("pdis"),gt("usuarios"),gt("treinamentos"),gt("simulados")]);e(N),r(L.filter(q=>q.tipo==="funcionario"&&q.ativo));const X=[...D.map(q=>({...q,tipo:"Treinamento"})),...V.map(q=>({...q,tipo:"Simulado"}))];i(X),l(!1)})()},[]);const _=(P=null)=>{P?(m(P),w(P)):(m(null),w(x)),d(!0)},R=async P=>{window.confirm("Tem certeza que deseja apagar este PDI?")&&(await eo("pdis",P),y({title:"PDI apagado com sucesso!"}),e(N=>N.filter(L=>L.id!==P)))},I=async P=>{if(P.preventDefault(),!T.usuarioId||!T.usuarioNome){y({title:"Erro",description:"Por favor, selecione um funcionário.",variant:"destructive"});return}if(p)await ss("pdis",p.id,T),y({title:"PDI atualizado com sucesso!"});else{const L={...T,dataCriacao:new Date().toISOString()};await ls("pdis",L),y({title:"PDI criado com sucesso!"})}d(!1);const N=await gt("pdis");e(N)},k=P=>{const N=n.find(L=>String(L.id)===String(P));w({...T,usuarioId:String(P),usuarioNome:N?N.nome:""})},O=()=>{w(P=>({...P,metas:[...P.metas,{titulo:"",descricao:"",conteudos:[]}]}))},B=P=>{w(N=>({...N,metas:N.metas.filter((L,D)=>D!==P)}))},U=(P,N,L)=>{const D=[...T.metas];D[P][N]=L,w(V=>({...V,metas:D}))},M=(P,N)=>{const L=s.find(X=>X.id===N);if(!L)return;const D=[...T.metas],V=D[P].conteudos||[];V.some(X=>X.id===N)||(V.push({id:L.id,titulo:L.titulo,tipo:L.tipo}),D[P].conteudos=V,w(X=>({...X,metas:D})))},E=(P,N)=>{const L=[...T.metas];L[P].conteudos=L[P].conteudos.filter(D=>D.id!==N),w(D=>({...D,metas:L}))};return o?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Planos de Desenvolvimento (PDI)"}),h.jsx("p",{className:"text-slate-400",children:"Crie e acompanhe planos de carreira individuais."})]}),h.jsxs(we,{onClick:()=>_(),children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Novo PDI"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(P=>h.jsx(Le.div,{children:h.jsxs(nt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[h.jsxs(at,{children:[h.jsx(lt,{className:"text-white",children:P.titulo}),h.jsxs(Dn,{children:["Para: ",h.jsx("span",{className:"font-semibold text-blue-400",children:P.usuarioNome})]})]}),h.jsxs(it,{className:"flex-grow",children:[h.jsx("p",{className:"text-sm text-slate-300 line-clamp-3",children:P.descricao}),h.jsx($i,{className:"mt-4",children:P.status})]}),h.jsxs(ia,{className:"flex justify-end space-x-2",children:[h.jsx(we,{size:"sm",variant:"outline",onClick:()=>_(P),children:h.jsx(Ji,{className:"w-4 h-4"})}),h.jsx(we,{size:"sm",variant:"destructive",onClick:()=>R(P.id),children:h.jsx(Ir,{className:"w-4 h-4"})})]})]})},P.id))}),h.jsx(as,{open:u,onOpenChange:d,children:h.jsxs(Mr,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] flex flex-col",children:[h.jsx(Or,{children:h.jsxs(Vr,{children:[p?"Editar":"Novo"," PDI"]})}),h.jsx("div",{className:"flex-grow overflow-y-auto scrollbar-thin pr-4",children:h.jsxs("form",{id:"pdiForm",onSubmit:I,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{children:"Funcionário"}),n.length>0?h.jsxs(En,{value:T.usuarioId,onValueChange:k,required:!0,children:[h.jsx(mn,{children:h.jsx(Cn,{placeholder:"Selecione..."})}),h.jsx(gn,{children:n.map(P=>h.jsx(xt,{value:String(P.id),children:P.nome},P.id))})]}):h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Carregando funcionários..."})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Título do PDI"}),h.jsx(ct,{value:T.titulo,onChange:P=>w({...T,titulo:P.target.value}),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Descrição / Objetivo"}),h.jsx(pi,{value:T.descricao,onChange:P=>w({...T,descricao:P.target.value})})]}),h.jsxs("div",{children:[h.jsx(Qe,{children:"Status"}),h.jsxs(En,{value:T.status,onValueChange:P=>w({...T,status:P}),children:[h.jsx(mn,{children:h.jsx(Cn,{})}),h.jsxs(gn,{children:[h.jsx(xt,{value:"Em Andamento",children:"Em Andamento"}),h.jsx(xt,{value:"Concluído",children:"Concluído"})]})]})]}),h.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Metas"}),h.jsxs(we,{type:"button",size:"sm",variant:"outline",onClick:O,children:[h.jsx(js,{className:"w-4 h-4 mr-2"})," Adicionar Meta"]})]}),T.metas.map((P,N)=>h.jsxs("div",{className:"p-4 border border-slate-600 rounded-lg space-y-4 bg-slate-800/50",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(Qe,{children:["Meta ",N+1]}),h.jsx(we,{type:"button",size:"sm",variant:"destructive",onClick:()=>B(N),children:h.jsx(Ir,{className:"w-4 h-4"})})]}),h.jsx(ct,{placeholder:"Título da meta...",value:P.titulo,onChange:L=>U(N,"titulo",L.target.value),required:!0}),h.jsx(pi,{placeholder:"Descrição da meta...",value:P.descricao,onChange:L=>U(N,"descricao",L.target.value)}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Conteúdos Associados"}),h.jsxs(En,{onValueChange:L=>M(N,L),children:[h.jsx(mn,{children:h.jsx(Cn,{placeholder:"Adicionar treinamento ou simulado..."})}),h.jsx(gn,{children:s.map(L=>h.jsxs(xt,{value:L.id,children:[L.titulo," (",L.tipo,")"]},L.id))})]}),h.jsx("div",{className:"space-y-2 pt-2",children:(P.conteudos||[]).map(L=>h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 p-2 rounded text-sm",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[L.tipo==="Treinamento"?h.jsx(ii,{className:"w-4 h-4 text-green-400"}):h.jsx(Nc,{className:"w-4 h-4 text-blue-400"}),h.jsx("span",{children:L.titulo})]}),h.jsx(we,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>E(N,L.id),children:h.jsx(Ir,{className:"w-4 h-4 text-red-500"})})]},L.id))})]})]},N))]})]})}),h.jsxs(Ds,{className:"pt-4 border-t border-slate-700",children:[h.jsx(we,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),h.jsx(we,{type:"submit",form:"pdiForm",children:p?"Salvar Alterações":"Criar PDI"})]})]})})]})},uP=()=>{const{user:t}=Lr(),[e,n]=S.useState(null),[r,s]=S.useState({historico:[],resultados:[]}),[i,o]=S.useState(!0);S.useEffect(()=>{(async()=>{if(!t||!t.id)return;o(!0);const d=sr(Tn(Pt,"pdis"),ir("usuarioId","==",String(t.id))),p=sr(Tn(Pt,"historico"),ir("usuarioId","==",t.id),ir("concluido","==",!0)),m=sr(Tn(Pt,"resultadosSimulados"),ir("usuarioId","==",t.id)),[y,x,T]=await Promise.all([Sn(d),Sn(p),Sn(m)]);if(!y.empty){const R=y.docs[0];n({id:R.id,...R.data()})}const w=[];x.forEach(R=>w.push({id:R.id,...R.data()}));const _=[];T.forEach(R=>_.push({id:R.id,...R.data()})),s({historico:w,resultados:_}),o(!1)})()},[t]);const l=S.useMemo(()=>{if(!e)return null;const u=new Set([...r.historico.map(x=>x.treinamentoId),...r.resultados.map(x=>x.simuladoId)]);let d=0,p=0;const m=e.metas.map(x=>{const T=x.conteudos.map(w=>{const _=u.has(w.id);return _&&p++,d++,{...w,isCompleted:_}});return{...x,conteudos:T}}),y=d>0?p/d*100:0;return{...e,metas:m,progress:y}},[e,r]);return i?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Bt,{className:"h-10 w-10 animate-spin text-blue-500"})}):l?h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meu Plano de Desenvolvimento"}),h.jsx("p",{className:"text-slate-400",children:l.titulo})]}),h.jsx(nt,{className:"glass-effect border-slate-700",children:h.jsxs(at,{children:[h.jsx(lt,{children:"Progresso Geral"}),h.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:`${l.progress}%`}})}),h.jsxs("span",{className:"text-sm font-semibold text-white",children:[Math.round(l.progress),"%"]})]})]})}),l.metas.map((u,d)=>h.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(d+1)*.1},children:h.jsxs(nt,{className:"glass-effect border-slate-700",children:[h.jsx(at,{children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Xm,{className:"w-6 h-6 text-purple-400"}),h.jsxs("div",{children:[h.jsx(lt,{className:"text-white",children:u.titulo}),h.jsx(Dn,{children:u.descricao})]})]})}),h.jsx(it,{className:"space-y-3 pt-4 border-t border-slate-700",children:u.conteudos.map(p=>h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-800/50 rounded-lg",children:[p.isCompleted?h.jsx(Ja,{className:"w-5 h-5 text-green-500"}):h.jsx(Nw,{className:"w-5 h-5 text-slate-500"}),p.tipo==="Treinamento"?h.jsx(ii,{className:"w-5 h-5 text-green-400"}):h.jsx(Nc,{className:"w-5 h-5 text-blue-400"}),h.jsx("span",{className:`flex-1 ${p.isCompleted?"text-slate-400 line-through":"text-white"}`,children:p.titulo})]},p.id))})]})},d))]}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(X0,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nenhum Plano de Desenvolvimento"}),h.jsx("p",{className:"text-slate-400 mt-2",children:"Ainda não foi criado um PDI para si. Fale com o seu gestor."})]})},VX="database",LX="main",Sm={usuarios:[{id:1,nome:"Admin Sistema",email:"admin@empresa.com",senha:"123456",tipo:"admin",departamento:"Todos",ativo:!0,dataCriacao:"2025-01-01"},{id:2,nome:"João Silva",email:"joao@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-01-15"},{id:3,nome:"Maria Oliveira",email:"maria@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Fiscal",ativo:!0,dataCriacao:"2025-02-01"},{id:4,nome:"Pedro Martins",email:"pedro@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-03-10"}],categorias:[{id:1,nome:"Gestta",cor:"#3b82f6"},{id:2,nome:"Domínio",cor:"#8b5cf6"}],departamentos:[{id:1,nome:"Contabilidade"},{id:2,nome:"Fiscal"},{id:3,nome:"Recursos Humanos"},{id:4,nome:"Todos"}],treinamentos:[{id:1,titulo:"Onboarding de Novos Colaboradores",descricao:"Tudo o que você precisa saber para começar na NTW.",categoriaId:1,conteudos:[{type:"video",title:"Vídeo de Boas-vindas",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],questionario:[{pergunta:"Qual o principal valor da empresa?",opcoes:["Inovação","Cliente em primeiro lugar","Trabalho em equipe","Todos acima"],respostaCorreta:"Todos acima"}]},{id:2,titulo:"Introdução ao Simples Nacional",descricao:"Entenda os conceitos básicos.",categoriaId:2,conteudos:[{type:"video",title:"Vídeo Aula",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],questionario:[{pergunta:"Qual o limite de faturamento?",opcoes:["R$ 4.8 milhões","R$ 3.6 milhões"],respostaCorreta:"R$ 4.8 milhões"}]}],historico:[{id:1,usuarioId:2,treinamentoId:1,concluido:!0,notaQuestionario:100,dataConclusao:"2025-06-18T10:00:00Z"},{id:2,usuarioId:3,treinamentoId:1,concluido:!0,notaQuestionario:90,dataConclusao:new Date().toISOString()},{id:3,usuarioId:3,treinamentoId:2,concluido:!0,notaQuestionario:95,dataConclusao:new Date().toISOString()},{id:4,usuarioId:4,treinamentoId:1,concluido:!0,notaQuestionario:80,dataConclusao:"2025-01-20T15:00:00Z"}],trilhas:[],knowledgeBase:[{id:1,type:"artigo",categoria:"Processos Fiscais",titulo:"Como emitir uma Certidão Negativa de Débitos (CND)?",conteudo:"O processo para emitir a CND envolve acessar o site da Receita Federal ou do órgão estadual/municipal correspondente, preencher com o CNPJ da empresa e seguir os passos indicados na tela. Geralmente, a emissão é instantânea se não houver pendências. É crucial verificar a validade do documento após a emissão.",tags:["CND","Fiscal","Certidão"],autorNome:"Admin Sistema",dataCriacao:"2025-08-15T10:00:00Z"},{id:2,type:"link_externo",categoria:"Legislação",titulo:"Portal do eSocial - Acesso Direto",url:"https://www.gov.br/esocial/pt-br",conteudo:"Link direto para o portal oficial do eSocial. Use para consultas e downloads de manuais atualizados.",tags:["eSocial","Governo","Link"],autorNome:"Admin Sistema",dataCriacao:"2025-08-16T11:30:00Z"},{id:3,type:"link_treinamento",categoria:"Treinamento Relacionado",titulo:"Relembre: Introdução ao Simples Nacional",treinamentoId:2,conteudo:"Este é um atalho rápido para o treinamento sobre o Simples Nacional. Ideal para rever conceitos chave antes de atender um cliente.",tags:["Simples Nacional","Revisão","Treinamento"],autorNome:"Admin Sistema",dataCriacao:"2025-08-17T14:00:00Z"}]};let Sd=null;const FX=async()=>{const t=ui(Pt,LX,VX),e=await qm(t);return e.exists()?(console.log("Banco de dados carregado do Firestore."),Sd=e.data()):(console.log("Nenhum banco de dados encontrado. Criando um novo no Firestore."),await Zp(t,Sm),Sd=Sm),Sd},BX=()=>Sd||(console.warn("A base de dados ainda não foi inicializada. Usando dados mock temporariamente."),{...Sm,knowledgeBase:Sm.knowledgeBase||[]}),zX=()=>{const{user:t,logout:e,isAdmin:n,loading:r}=Lr(),[s,i]=S.useState(""),[o,l]=S.useState(null),[u,d]=S.useState(null);S.useEffect(()=>{t&&i(n()?"dashboard":"meu-pdi")},[t,n]),S.useEffect(()=>{localStorage.getItem("customTheme")},[]);const p=()=>{e(),i("")},m=_=>{l(_),i("fazendo-simulado")},y=()=>{l(null),i("meus-simulados")},x=_=>{d({user:t,learningPath:_,completionDate:new Date}),i("ver-certificado")},T=()=>{d(null),i("minhas-trilhas")},w=()=>{if(s==="ver-certificado"&&u)return h.jsx(MX,{certificateData:u,onBack:T});if(s==="fazendo-simulado"&&o)return h.jsx(kX,{simulado:o,onFinish:y});switch(s){case"dashboard":return h.jsx(wA,{setActiveTab:i});case"usuarios":return h.jsx(bQ,{});case"pdi":return h.jsx(OX,{});case"treinamentos":return h.jsx(KQ,{});case"trilhas":return h.jsx(rY,{});case"categorias":return h.jsx(YQ,{});case"departamentos":return h.jsx(ZQ,{});case"relatorios":return h.jsx(cY,{});case"gerenciar-conhecimento":return h.jsx(wX,{});case"configuracoes":return h.jsx(yY,{});case"simulados":return h.jsx(_X,{});case"meu-pdi":return h.jsx(uP,{});case"meus-treinamentos":return h.jsx(QY,{});case"minhas-trilhas":return h.jsx(YY,{onViewCertificate:x});case"meus-simulados":return h.jsx(bX,{onStartSimulado:m});case"progresso":return h.jsx(yX,{});case"ranking":return h.jsx(vX,{});case"base-de-conhecimento":return h.jsx(xX,{});default:return n()?h.jsx(wA,{setActiveTab:i}):h.jsx(uP,{})}};return r?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):t?h.jsxs("div",{className:"flex h-screen bg-slate-900",children:[h.jsx(A7,{activeTab:s,setActiveTab:i,onLogout:p}),h.jsx("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:w()})]}):h.jsx(C7,{})},UX=async()=>{const t=ui(Pt,"internal","migrationStatus"),e=await qm(t);if(e.exists()&&e.data().migrated)return;console.log("--- INICIANDO MIGRAÇÃO DE DADOS ---");const n=BX(),r=["usuarios","categorias","departamentos","treinamentos","historico","trilhas","knowledgeBase"];for(const s of r)if(n[s]&&Array.isArray(n[s]))for(const i of n[s])i&&i.id&&await Zp(ui(Pt,s,i.id.toString()),i);await Zp(t,{migrated:!0,date:new Date().toISOString()}),console.log("--- MIGRAÇÃO CONCLUÍDA COM SUCESSO ---")};function $X(){const[t,e]=S.useState(!1);return S.useEffect(()=>{(async()=>{await FX(),await UX(),e(!0)})()},[]),t?h.jsxs(xI,{children:[h.jsx(x0,{children:h.jsx("title",{children:"Central de Treinamento"})}),h.jsx(zX,{}),h.jsx(XB,{})]}):h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:[h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"}),h.jsx("p",{className:"text-white ml-4",children:"Inicializando..."})]})}GO.createRoot(document.getElementById("root")).render(h.jsx(Fe.StrictMode,{children:h.jsx(xI,{children:h.jsx($X,{})})}));
