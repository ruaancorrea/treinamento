function WN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $m={exports:{}},Oc={},qm={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function GN(){if(e_)return Je;e_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,C={};function T(z,X,oe){this.props=z,this.context=X,this.refs=C,this.updater=oe||E}T.prototype.isReactComponent={},T.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},T.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=T.prototype;function R(z,X,oe){this.props=z,this.context=X,this.refs=C,this.updater=oe||E}var N=R.prototype=new V;N.constructor=R,P(N,T.prototype),N.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,q={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(z,X,oe){var _e,Se={},Ie=null,pe=null;if(X!=null)for(_e in X.ref!==void 0&&(pe=X.ref),X.key!==void 0&&(Ie=""+X.key),X)$.call(X,_e)&&!j.hasOwnProperty(_e)&&(Se[_e]=X[_e]);var fe=arguments.length-2;if(fe===1)Se.children=oe;else if(1<fe){for(var xe=Array(fe),Ee=0;Ee<fe;Ee++)xe[Ee]=arguments[Ee+2];Se.children=xe}if(z&&z.defaultProps)for(_e in fe=z.defaultProps,fe)Se[_e]===void 0&&(Se[_e]=fe[_e]);return{$$typeof:t,type:z,key:Ie,ref:pe,props:Se,_owner:q.current}}function A(z,X){return{$$typeof:t,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(oe){return X[oe]})}var F=/\/+/g;function O(z,X){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):X.toString(36)}function G(z,X,oe,_e,Se){var Ie=typeof z;(Ie==="undefined"||Ie==="boolean")&&(z=null);var pe=!1;if(z===null)pe=!0;else switch(Ie){case"string":case"number":pe=!0;break;case"object":switch(z.$$typeof){case t:case e:pe=!0}}if(pe)return pe=z,Se=Se(pe),z=_e===""?"."+O(pe,0):_e,U(Se)?(oe="",z!=null&&(oe=z.replace(F,"$&/")+"/"),G(Se,X,oe,"",function(Ee){return Ee})):Se!=null&&(k(Se)&&(Se=A(Se,oe+(!Se.key||pe&&pe.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+z)),X.push(Se)),1;if(pe=0,_e=_e===""?".":_e+":",U(z))for(var fe=0;fe<z.length;fe++){Ie=z[fe];var xe=_e+O(Ie,fe);pe+=G(Ie,X,oe,xe,Se)}else if(xe=v(z),typeof xe=="function")for(z=xe.call(z),fe=0;!(Ie=z.next()).done;)Ie=Ie.value,xe=_e+O(Ie,fe++),pe+=G(Ie,X,oe,xe,Se);else if(Ie==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return pe}function re(z,X,oe){if(z==null)return z;var _e=[],Se=0;return G(z,_e,"","",function(Ie){return X.call(oe,Ie,Se++)}),_e}function ae(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(oe){(z._status===0||z._status===-1)&&(z._status=1,z._result=oe)},function(oe){(z._status===0||z._status===-1)&&(z._status=2,z._result=oe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var se={current:null},K={transition:null},ee={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:K,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:re,forEach:function(z,X,oe){re(z,function(){X.apply(this,arguments)},oe)},count:function(z){var X=0;return re(z,function(){X++}),X},toArray:function(z){return re(z,function(X){return X})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Je.Component=T,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=R,Je.StrictMode=r,Je.Suspense=h,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Je.act=le,Je.cloneElement=function(z,X,oe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var _e=P({},z.props),Se=z.key,Ie=z.ref,pe=z._owner;if(X!=null){if(X.ref!==void 0&&(Ie=X.ref,pe=q.current),X.key!==void 0&&(Se=""+X.key),z.type&&z.type.defaultProps)var fe=z.type.defaultProps;for(xe in X)$.call(X,xe)&&!j.hasOwnProperty(xe)&&(_e[xe]=X[xe]===void 0&&fe!==void 0?fe[xe]:X[xe])}var xe=arguments.length-2;if(xe===1)_e.children=oe;else if(1<xe){fe=Array(xe);for(var Ee=0;Ee<xe;Ee++)fe[Ee]=arguments[Ee+2];_e.children=fe}return{$$typeof:t,type:z.type,key:Se,ref:Ie,props:_e,_owner:pe}},Je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Je.createElement=S,Je.createFactory=function(z){var X=S.bind(null,z);return X.type=z,X},Je.createRef=function(){return{current:null}},Je.forwardRef=function(z){return{$$typeof:c,render:z}},Je.isValidElement=k,Je.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ae}},Je.memo=function(z,X){return{$$typeof:d,type:z,compare:X===void 0?null:X}},Je.startTransition=function(z){var X=K.transition;K.transition={};try{z()}finally{K.transition=X}},Je.unstable_act=le,Je.useCallback=function(z,X){return se.current.useCallback(z,X)},Je.useContext=function(z){return se.current.useContext(z)},Je.useDebugValue=function(){},Je.useDeferredValue=function(z){return se.current.useDeferredValue(z)},Je.useEffect=function(z,X){return se.current.useEffect(z,X)},Je.useId=function(){return se.current.useId()},Je.useImperativeHandle=function(z,X,oe){return se.current.useImperativeHandle(z,X,oe)},Je.useInsertionEffect=function(z,X){return se.current.useInsertionEffect(z,X)},Je.useLayoutEffect=function(z,X){return se.current.useLayoutEffect(z,X)},Je.useMemo=function(z,X){return se.current.useMemo(z,X)},Je.useReducer=function(z,X,oe){return se.current.useReducer(z,X,oe)},Je.useRef=function(z){return se.current.useRef(z)},Je.useState=function(z){return se.current.useState(z)},Je.useSyncExternalStore=function(z,X,oe){return se.current.useSyncExternalStore(z,X,oe)},Je.useTransition=function(){return se.current.useTransition()},Je.version="18.3.1",Je}var t_;function _f(){return t_||(t_=1,qm.exports=GN()),qm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function KN(){if(n_)return Oc;n_=1;var t=_f(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,d){var g,y={},v=null,E=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(E=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:c,key:v,ref:E,props:y,_owner:i.current}}return Oc.Fragment=n,Oc.jsx=l,Oc.jsxs=l,Oc}var r_;function QN(){return r_||(r_=1,$m.exports=KN()),$m.exports}var p=QN(),b=_f();const ze=Ds(b),q1=WN({__proto__:null,default:ze},[b]);var Jd={},Hm={exports:{}},Kn={},Wm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function YN(){return s_||(s_=1,(function(t){function e(K,ee){var le=K.length;K.push(ee);e:for(;0<le;){var z=le-1>>>1,X=K[z];if(0<i(X,ee))K[z]=ee,K[le]=X,le=z;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],le=K.pop();if(le!==ee){K[0]=le;e:for(var z=0,X=K.length,oe=X>>>1;z<oe;){var _e=2*(z+1)-1,Se=K[_e],Ie=_e+1,pe=K[Ie];if(0>i(Se,le))Ie<X&&0>i(pe,Se)?(K[z]=pe,K[Ie]=le,z=Ie):(K[z]=Se,K[_e]=le,z=_e);else if(Ie<X&&0>i(pe,le))K[z]=pe,K[Ie]=le,z=Ie;else break e}}return ee}function i(K,ee){var le=K.sortIndex-ee.sortIndex;return le!==0?le:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],g=1,y=null,v=3,E=!1,P=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=K)r(d),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(d)}}function U(K){if(C=!1,N(K),!P)if(n(h)!==null)P=!0,ae($);else{var ee=n(d);ee!==null&&se(U,ee.startTime-K)}}function $(K,ee){P=!1,C&&(C=!1,V(S),S=-1),E=!0;var le=v;try{for(N(ee),y=n(h);y!==null&&(!(y.expirationTime>ee)||K&&!M());){var z=y.callback;if(typeof z=="function"){y.callback=null,v=y.priorityLevel;var X=z(y.expirationTime<=ee);ee=t.unstable_now(),typeof X=="function"?y.callback=X:y===n(h)&&r(h),N(ee)}else r(h);y=n(h)}if(y!==null)var oe=!0;else{var _e=n(d);_e!==null&&se(U,_e.startTime-ee),oe=!1}return oe}finally{y=null,v=le,E=!1}}var q=!1,j=null,S=-1,A=5,k=-1;function M(){return!(t.unstable_now()-k<A)}function F(){if(j!==null){var K=t.unstable_now();k=K;var ee=!0;try{ee=j(!0,K)}finally{ee?O():(q=!1,j=null)}}else q=!1}var O;if(typeof R=="function")O=function(){R(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,re=G.port2;G.port1.onmessage=F,O=function(){re.postMessage(null)}}else O=function(){T(F,0)};function ae(K){j=K,q||(q=!0,O())}function se(K,ee){S=T(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){P||E||(P=!0,ae($))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var le=v;v=ee;try{return K()}finally{v=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=v;v=K;try{return ee()}finally{v=le}},t.unstable_scheduleCallback=function(K,ee,le){var z=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,K={id:g++,callback:ee,priorityLevel:K,startTime:le,expirationTime:X,sortIndex:-1},le>z?(K.sortIndex=le,e(d,K),n(h)===null&&K===n(d)&&(C?(V(S),S=-1):C=!0,se(U,le-z))):(K.sortIndex=X,e(h,K),P||E||(P=!0,ae($))),K},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(K){var ee=v;return function(){var le=v;v=ee;try{return K.apply(this,arguments)}finally{v=le}}}})(Gm)),Gm}var i_;function XN(){return i_||(i_=1,Wm.exports=YN()),Wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function JN(){if(o_)return Kn;o_=1;var t=_f(),e=XN();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return h.call(y,s)?!0:h.call(g,s)?!1:d.test(s)?y[s]=!0:(g[s]=!0,!1)}function E(s,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,u,m){if(o===null||typeof o>"u"||E(s,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,u,m,w,_,D){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=D}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];T[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(V,R);T[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(V,R);T[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(V,R);T[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,o,u,m){var w=T.hasOwnProperty(o)?T[o]:null;(w!==null?w.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,w,m)&&(u=null),m||w===null?v(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):w.mustUseProperty?s[w.propertyName]=u===null?w.type===3?!1:"":u:(o=w.attributeName,m=w.attributeNamespace,u===null?s.removeAttribute(o):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,m?s.setAttributeNS(m,o,u):s.setAttribute(o,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),q=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),K=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,z;function X(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var oe=!1;function _e(s,o){if(!s||oe)return"";oe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var m=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){m=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){m=Z}s()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var w=Z.stack.split(`
`),_=m.stack.split(`
`),D=w.length-1,B=_.length-1;1<=D&&0<=B&&w[D]!==_[B];)B--;for(;1<=D&&0<=B;D--,B--)if(w[D]!==_[B]){if(D!==1||B!==1)do if(D--,B--,0>B||w[D]!==_[B]){var H=`
`+w[D].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=D&&0<=B);break}}}finally{oe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function Se(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function Ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case q:return"Portal";case A:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case G:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case k:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case re:return o=s.displayName||null,o!==null?o:Ie(s.type)||"Memo";case ae:o=s._payload,s=s._init;try{return Ie(s(o))}catch{}}return null}function pe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ee(s){var o=xe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return w.call(this)},set:function(D){m=""+D,_.call(this,D)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function we(s){s._valueTracker||(s._valueTracker=Ee(s))}function te(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return s&&(m=xe(s)?s.checked?"true":"false":s.value),s=m,s!==u?(o.setValue(s),!0):!1}function ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function be(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function De(s,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=fe(o.value!=null?o.value:u),s._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function je(s,o){o=o.checked,o!=null&&N(s,"checked",o,!1)}function ht(s,o){je(s,o);var u=fe(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?tt(s,o.type,u):o.hasOwnProperty("defaultValue")&&tt(s,o.type,fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ze(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function tt(s,o,u){(o!=="number"||ye(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var mt=Array.isArray;function Tn(s,o,u,m){if(s=s.options,o){o={};for(var w=0;w<u.length;w++)o["$"+u[w]]=!0;for(u=0;u<s.length;u++)w=o.hasOwnProperty("$"+s[u].value),s[u].selected!==w&&(s[u].selected=w),w&&m&&(s[u].defaultSelected=!0)}else{for(u=""+fe(u),o=null,w=0;w<s.length;w++){if(s[w].value===u){s[w].selected=!0,m&&(s[w].defaultSelected=!0);return}o!==null||s[w].disabled||(o=s[w])}o!==null&&(o.selected=!0)}}function Sn(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function dr(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(mt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:fe(u)}}function Nt(s,o){var u=fe(o.value),m=fe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),m!=null&&(s.defaultValue=""+m)}function Cn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Xe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Xe(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var tn,Ls=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,w){MSApp.execUnsafeLocalFunction(function(){return s(o,u,m,w)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=tn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ir(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(s){an.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Un[o]=Un[s]})});function Rr(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Un.hasOwnProperty(s)&&Un[s]?(""+o).trim():o+"px"}function pi(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,w=Rr(u,o[u],m);u==="float"&&(u="cssFloat"),m?s.setProperty(u,w):s[u]=w}}var Ql=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(s,o){if(o){if(Ql[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Xl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function ua(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var da=null,hr=null,rs=null;function ha(s){if(s=_c(s)){if(typeof da!="function")throw Error(n(280));var o=s.stateNode;o&&(o=fd(o),da(s.stateNode,s.type,o))}}function ss(s){hr?rs?rs.push(s):rs=[s]:hr=s}function Jl(){if(hr){var s=hr,o=rs;if(rs=hr=null,ha(s),o)for(s=0;s<o.length;s++)ha(o[s])}}function mo(s,o){return s(o)}function Zl(){}var Fs=!1;function ec(s,o,u){if(Fs)return s(o,u);Fs=!0;try{return mo(s,o,u)}finally{Fs=!1,(hr!==null||rs!==null)&&(Zl(),Jl())}}function zt(s,o){var u=s.stateNode;if(u===null)return null;var m=fd(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var fa=!1;if(c)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){fa=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{fa=!1}function go(s,o,u,m,w,_,D,B,H){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(u,Z)}catch(de){this.onError(de)}}var yo=!1,pa=null,kr=!1,tc=null,yp={onError:function(s){yo=!0,pa=s}};function ma(s,o,u,m,w,_,D,B,H){yo=!1,pa=null,go.apply(yp,arguments)}function Lu(s,o,u,m,w,_,D,B,H){if(ma.apply(this,arguments),yo){if(yo){var Z=pa;yo=!1,pa=null}else throw Error(n(198));kr||(kr=!0,tc=Z)}}function Dr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function vo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function jr(s){if(Dr(s)!==s)throw Error(n(188))}function Fu(s){var o=s.alternate;if(!o){if(o=Dr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,m=o;;){var w=u.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===u)return jr(w),s;if(_===m)return jr(w),o;_=_.sibling}throw Error(n(188))}if(u.return!==m.return)u=w,m=_;else{for(var D=!1,B=w.child;B;){if(B===u){D=!0,u=w,m=_;break}if(B===m){D=!0,m=w,u=_;break}B=B.sibling}if(!D){for(B=_.child;B;){if(B===u){D=!0,u=_,m=w;break}if(B===m){D=!0,m=_,u=w;break}B=B.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function nc(s){return s=Fu(s),s!==null?ga(s):null}function ga(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ga(s);if(o!==null)return o;s=s.sibling}return null}var ya=e.unstable_scheduleCallback,rc=e.unstable_cancelCallback,Uu=e.unstable_shouldYield,vp=e.unstable_requestPaint,wt=e.unstable_now,Bu=e.unstable_getCurrentPriorityLevel,wo=e.unstable_ImmediatePriority,mi=e.unstable_UserBlockingPriority,fr=e.unstable_NormalPriority,sc=e.unstable_LowPriority,zu=e.unstable_IdlePriority,xo=null,Zn=null;function $u(s){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(xo,s,void 0,(s.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Hu,ic=Math.log,qu=Math.LN2;function Hu(s){return s>>>=0,s===0?32:31-(ic(s)/qu|0)|0}var va=64,wa=4194304;function gi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _o(s,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,w=s.suspendedLanes,_=s.pingedLanes,D=u&268435455;if(D!==0){var B=D&~w;B!==0?m=gi(B):(_&=D,_!==0&&(m=gi(_)))}else D=u&~w,D!==0?m=gi(D):_!==0&&(m=gi(_));if(m===0)return 0;if(o!==0&&o!==m&&(o&w)===0&&(w=m&-m,_=o&-o,w>=_||w===16&&(_&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)u=31-Vn(o),w=1<<u,m|=s[u],o&=~w;return m}function wp(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(s,o){for(var u=s.suspendedLanes,m=s.pingedLanes,w=s.expirationTimes,_=s.pendingLanes;0<_;){var D=31-Vn(_),B=1<<D,H=w[D];H===-1?((B&u)===0||(B&m)!==0)&&(w[D]=wp(B,o)):H<=o&&(s.expiredLanes|=B),_&=~B}}function er(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Eo(){var s=va;return va<<=1,(va&4194240)===0&&(va=64),s}function yi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function vi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Vn(o),s[o]=u}function yt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<u;){var w=31-Vn(u),_=1<<w;o[w]=0,m[w]=-1,s[w]=-1,u&=~_}}function wi(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var m=31-Vn(u),w=1<<m;w&o|s[m]&o&&(s[m]|=o),u&=~w}}var st=0;function xi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wu,xa,Gu,Ku,Qu,oc=!1,is=[],fn=null,Vr=null,Or=null,_i=new Map,pr=new Map,os=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yu(s,o){switch(s){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":_i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(o.pointerId)}}function Bn(s,o,u,m,w,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},o!==null&&(o=_c(o),o!==null&&xa(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),s)}function _p(s,o,u,m,w){switch(o){case"focusin":return fn=Bn(fn,s,o,u,m,w),!0;case"dragenter":return Vr=Bn(Vr,s,o,u,m,w),!0;case"mouseover":return Or=Bn(Or,s,o,u,m,w),!0;case"pointerover":var _=w.pointerId;return _i.set(_,Bn(_i.get(_)||null,s,o,u,m,w)),!0;case"gotpointercapture":return _=w.pointerId,pr.set(_,Bn(pr.get(_)||null,s,o,u,m,w)),!0}return!1}function Xu(s){var o=Ao(s.target);if(o!==null){var u=Dr(o);if(u!==null){if(o=u.tag,o===13){if(o=vo(u),o!==null){s.blockedOn=o,Qu(s.priority,function(){Gu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bs(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=_a(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);po=m,u.target.dispatchEvent(m),po=null}else return o=_c(u),o!==null&&xa(o),s.blockedOn=u,!1;o.shift()}return!0}function To(s,o,u){Bs(s)&&u.delete(o)}function Ju(){oc=!1,fn!==null&&Bs(fn)&&(fn=null),Vr!==null&&Bs(Vr)&&(Vr=null),Or!==null&&Bs(Or)&&(Or=null),_i.forEach(To),pr.forEach(To)}function Mr(s,o){s.blockedOn===o&&(s.blockedOn=null,oc||(oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ju)))}function Lr(s){function o(w){return Mr(w,s)}if(0<is.length){Mr(is[0],s);for(var u=1;u<is.length;u++){var m=is[u];m.blockedOn===s&&(m.blockedOn=null)}}for(fn!==null&&Mr(fn,s),Vr!==null&&Mr(Vr,s),Or!==null&&Mr(Or,s),_i.forEach(o),pr.forEach(o),u=0;u<os.length;u++)m=os[u],m.blockedOn===s&&(m.blockedOn=null);for(;0<os.length&&(u=os[0],u.blockedOn===null);)Xu(u),u.blockedOn===null&&os.shift()}var zs=U.ReactCurrentBatchConfig,Ei=!0;function Pt(s,o,u,m){var w=st,_=zs.transition;zs.transition=null;try{st=1,ac(s,o,u,m)}finally{st=w,zs.transition=_}}function Ep(s,o,u,m){var w=st,_=zs.transition;zs.transition=null;try{st=4,ac(s,o,u,m)}finally{st=w,zs.transition=_}}function ac(s,o,u,m){if(Ei){var w=_a(s,o,u,m);if(w===null)Dp(s,o,m,So,u),Yu(s,m);else if(_p(w,s,o,u,m))m.stopPropagation();else if(Yu(s,m),o&4&&-1<xp.indexOf(s)){for(;w!==null;){var _=_c(w);if(_!==null&&Wu(_),_=_a(s,o,u,m),_===null&&Dp(s,o,m,So,u),_===w)break;w=_}w!==null&&m.stopPropagation()}else Dp(s,o,m,null,u)}}var So=null;function _a(s,o,u,m){if(So=null,s=ua(m),s=Ao(s),s!==null)if(o=Dr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=vo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return So=s,null}function lc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bu()){case wo:return 1;case mi:return 4;case fr:case sc:return 16;case zu:return 536870912;default:return 16}default:return 16}}var tr=null,Ea=null,zn=null;function cc(){if(zn)return zn;var s,o=Ea,u=o.length,m,w="value"in tr?tr.value:tr.textContent,_=w.length;for(s=0;s<u&&o[s]===w[s];s++);var D=u-s;for(m=1;m<=D&&o[u-m]===w[_-m];m++);return zn=w.slice(s,1<m?1-m:void 0)}function Ta(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function as(){return!0}function uc(){return!1}function pn(s){function o(u,m,w,_,D){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(u=s[B],this[B]=u?u(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?as:uc,this.isPropagationStopped=uc,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),o}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=pn(Fr),ls=le({},Fr,{view:0,detail:0}),Tp=pn(ls),Ca,$s,Ti,Co=le({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ti&&(Ti&&s.type==="mousemove"?(Ca=s.screenX-Ti.screenX,$s=s.screenY-Ti.screenY):$s=Ca=0,Ti=s),Ca)},movementY:function(s){return"movementY"in s?s.movementY:$s}}),ba=pn(Co),dc=le({},Co,{dataTransfer:0}),Zu=pn(dc),Aa=le({},ls,{relatedTarget:0}),Pa=pn(Aa),ed=le({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),qs=pn(ed),td=le({},Fr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nd=pn(td),rd=le({},Fr,{data:0}),hc=pn(rd),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function id(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=sd[s])?!!o[s]:!1}function cs(){return id}var f=le({},ls,{key:function(s){if(s.key){var o=Ia[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?On[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(s){return s.type==="keypress"?Ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=pn(f),I=le({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L=pn(I),Q=le({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),ne=pn(Q),ge=le({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=pn(ge),nn=le({},Co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=pn(nn),ln=[9,13,27,32],Kt=c&&"CompositionEvent"in window,mr=null;c&&"documentMode"in document&&(mr=document.documentMode);var nr=c&&"TextEvent"in window&&!mr,bo=c&&(!Kt||mr&&8<mr&&11>=mr),Ra=" ",K0=!1;function Q0(s,o){switch(s){case"keyup":return ln.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Na=!1;function $R(s,o){switch(s){case"compositionend":return Y0(o);case"keypress":return o.which!==32?null:(K0=!0,Ra);case"textInput":return s=o.data,s===Ra&&K0?null:s;default:return null}}function qR(s,o){if(Na)return s==="compositionend"||!Kt&&Q0(s,o)?(s=cc(),zn=Ea=tr=null,Na=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bo&&o.locale!=="ko"?null:o.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!HR[s.type]:o==="textarea"}function J0(s,o,u,m){ss(m),o=ud(o,"onChange"),0<o.length&&(u=new Sa("onChange","change",null,u,m),s.push({event:u,listeners:o}))}var fc=null,pc=null;function WR(s){gw(s,0)}function od(s){var o=Oa(s);if(te(o))return s}function GR(s,o){if(s==="change")return o}var Z0=!1;if(c){var Sp;if(c){var Cp="oninput"in document;if(!Cp){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Cp=typeof ew.oninput=="function"}Sp=Cp}else Sp=!1;Z0=Sp&&(!document.documentMode||9<document.documentMode)}function tw(){fc&&(fc.detachEvent("onpropertychange",nw),pc=fc=null)}function nw(s){if(s.propertyName==="value"&&od(pc)){var o=[];J0(o,pc,s,ua(s)),ec(WR,o)}}function KR(s,o,u){s==="focusin"?(tw(),fc=o,pc=u,fc.attachEvent("onpropertychange",nw)):s==="focusout"&&tw()}function QR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return od(pc)}function YR(s,o){if(s==="click")return od(o)}function XR(s,o){if(s==="input"||s==="change")return od(o)}function JR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ur=typeof Object.is=="function"?Object.is:JR;function mc(s,o){if(Ur(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!h.call(o,w)||!Ur(s[w],o[w]))return!1}return!0}function rw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sw(s,o){var u=rw(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=o&&m>=o)return{node:u,offset:o-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rw(u)}}function iw(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?iw(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ow(){for(var s=window,o=ye();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ye(s.document)}return o}function bp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function ZR(s){var o=ow(),u=s.focusedElem,m=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&iw(u.ownerDocument.documentElement,u)){if(m!==null&&bp(u)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var w=u.textContent.length,_=Math.min(m.start,w);m=m.end===void 0?_:Math.min(m.end,w),!s.extend&&_>m&&(w=m,m=_,_=w),w=sw(u,_);var D=sw(u,m);w&&D&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==D.node||s.focusOffset!==D.offset)&&(o=o.createRange(),o.setStart(w.node,w.offset),s.removeAllRanges(),_>m?(s.addRange(o),s.extend(D.node,D.offset)):(o.setEnd(D.node,D.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var eN=c&&"documentMode"in document&&11>=document.documentMode,ka=null,Ap=null,gc=null,Pp=!1;function aw(s,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Pp||ka==null||ka!==ye(m)||(m=ka,"selectionStart"in m&&bp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),gc&&mc(gc,m)||(gc=m,m=ud(Ap,"onSelect"),0<m.length&&(o=new Sa("onSelect","select",null,o,u),s.push({event:o,listeners:m}),o.target=ka)))}function ad(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Da={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},Ip={},lw={};c&&(lw=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function ld(s){if(Ip[s])return Ip[s];if(!Da[s])return s;var o=Da[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in lw)return Ip[s]=o[u];return s}var cw=ld("animationend"),uw=ld("animationiteration"),dw=ld("animationstart"),hw=ld("transitionend"),fw=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(s,o){fw.set(s,o),a(o,[s])}for(var Rp=0;Rp<pw.length;Rp++){var Np=pw[Rp],tN=Np.toLowerCase(),nN=Np[0].toUpperCase()+Np.slice(1);Si(tN,"on"+nN)}Si(cw,"onAnimationEnd"),Si(uw,"onAnimationIteration"),Si(dw,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(hw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function mw(s,o,u){var m=s.type||"unknown-event";s.currentTarget=u,Lu(m,o,void 0,s),s.currentTarget=null}function gw(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],w=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var D=m.length-1;0<=D;D--){var B=m[D],H=B.instance,Z=B.currentTarget;if(B=B.listener,H!==_&&w.isPropagationStopped())break e;mw(w,B,Z),_=H}else for(D=0;D<m.length;D++){if(B=m[D],H=B.instance,Z=B.currentTarget,B=B.listener,H!==_&&w.isPropagationStopped())break e;mw(w,B,Z),_=H}}}if(kr)throw s=tc,kr=!1,tc=null,s}function _t(s,o){var u=o[Fp];u===void 0&&(u=o[Fp]=new Set);var m=s+"__bubble";u.has(m)||(yw(o,s,2,!1),u.add(m))}function kp(s,o,u){var m=0;o&&(m|=4),yw(u,s,m,o)}var cd="_reactListening"+Math.random().toString(36).slice(2);function vc(s){if(!s[cd]){s[cd]=!0,r.forEach(function(u){u!=="selectionchange"&&(rN.has(u)||kp(u,!1,s),kp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[cd]||(o[cd]=!0,kp("selectionchange",!1,o))}}function yw(s,o,u,m){switch(lc(o)){case 1:var w=Pt;break;case 4:w=Ep;break;default:w=ac}u=w.bind(null,o,u,s),w=void 0,!fa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),m?w!==void 0?s.addEventListener(o,u,{capture:!0,passive:w}):s.addEventListener(o,u,!0):w!==void 0?s.addEventListener(o,u,{passive:w}):s.addEventListener(o,u,!1)}function Dp(s,o,u,m,w){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var B=m.stateNode.containerInfo;if(B===w||B.nodeType===8&&B.parentNode===w)break;if(D===4)for(D=m.return;D!==null;){var H=D.tag;if((H===3||H===4)&&(H=D.stateNode.containerInfo,H===w||H.nodeType===8&&H.parentNode===w))return;D=D.return}for(;B!==null;){if(D=Ao(B),D===null)return;if(H=D.tag,H===5||H===6){m=_=D;continue e}B=B.parentNode}}m=m.return}ec(function(){var Z=_,de=ua(u),he=[];e:{var ue=fw.get(s);if(ue!==void 0){var Te=Sa,Pe=s;switch(s){case"keypress":if(Ta(u)===0)break e;case"keydown":case"keyup":Te=x;break;case"focusin":Pe="focus",Te=Pa;break;case"focusout":Pe="blur",Te=Pa;break;case"beforeblur":case"afterblur":Te=Pa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ne;break;case cw:case uw:case dw:Te=qs;break;case hw:Te=gt;break;case"scroll":Te=Tp;break;case"wheel":Te=ot;break;case"copy":case"cut":case"paste":Te=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=L}var Re=(o&4)!==0,$t=!Re&&s==="scroll",Y=Re?ue!==null?ue+"Capture":null:ue;Re=[];for(var W=Z,J;W!==null;){J=W;var me=J.stateNode;if(J.tag===5&&me!==null&&(J=me,Y!==null&&(me=zt(W,Y),me!=null&&Re.push(wc(W,me,J)))),$t)break;W=W.return}0<Re.length&&(ue=new Te(ue,Pe,null,u,de),he.push({event:ue,listeners:Re}))}}if((o&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",ue&&u!==po&&(Pe=u.relatedTarget||u.fromElement)&&(Ao(Pe)||Pe[Hs]))break e;if((Te||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Te?(Pe=u.relatedTarget||u.toElement,Te=Z,Pe=Pe?Ao(Pe):null,Pe!==null&&($t=Dr(Pe),Pe!==$t||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Te=null,Pe=Z),Te!==Pe)){if(Re=ba,me="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Re=L,me="onPointerLeave",Y="onPointerEnter",W="pointer"),$t=Te==null?ue:Oa(Te),J=Pe==null?ue:Oa(Pe),ue=new Re(me,W+"leave",Te,u,de),ue.target=$t,ue.relatedTarget=J,me=null,Ao(de)===Z&&(Re=new Re(Y,W+"enter",Pe,u,de),Re.target=J,Re.relatedTarget=$t,me=Re),$t=me,Te&&Pe)t:{for(Re=Te,Y=Pe,W=0,J=Re;J;J=ja(J))W++;for(J=0,me=Y;me;me=ja(me))J++;for(;0<W-J;)Re=ja(Re),W--;for(;0<J-W;)Y=ja(Y),J--;for(;W--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=ja(Re),Y=ja(Y)}Re=null}else Re=null;Te!==null&&vw(he,ue,Te,Re,!1),Pe!==null&&$t!==null&&vw(he,$t,Pe,Re,!0)}}e:{if(ue=Z?Oa(Z):window,Te=ue.nodeName&&ue.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ue.type==="file")var Ne=GR;else if(X0(ue))if(Z0)Ne=XR;else{Ne=QR;var Oe=KR}else(Te=ue.nodeName)&&Te.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ne=YR);if(Ne&&(Ne=Ne(s,Z))){J0(he,Ne,u,de);break e}Oe&&Oe(s,ue,Z),s==="focusout"&&(Oe=ue._wrapperState)&&Oe.controlled&&ue.type==="number"&&tt(ue,"number",ue.value)}switch(Oe=Z?Oa(Z):window,s){case"focusin":(X0(Oe)||Oe.contentEditable==="true")&&(ka=Oe,Ap=Z,gc=null);break;case"focusout":gc=Ap=ka=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,aw(he,u,de);break;case"selectionchange":if(eN)break;case"keydown":case"keyup":aw(he,u,de)}var Me;if(Kt)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Na?Q0(s,u)&&($e="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&($e="onCompositionStart");$e&&(bo&&u.locale!=="ko"&&(Na||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Na&&(Me=cc()):(tr=de,Ea="value"in tr?tr.value:tr.textContent,Na=!0)),Oe=ud(Z,$e),0<Oe.length&&($e=new hc($e,s,null,u,de),he.push({event:$e,listeners:Oe}),Me?$e.data=Me:(Me=Y0(u),Me!==null&&($e.data=Me)))),(Me=nr?$R(s,u):qR(s,u))&&(Z=ud(Z,"onBeforeInput"),0<Z.length&&(de=new hc("onBeforeInput","beforeinput",null,u,de),he.push({event:de,listeners:Z}),de.data=Me))}gw(he,o)})}function wc(s,o,u){return{instance:s,listener:o,currentTarget:u}}function ud(s,o){for(var u=o+"Capture",m=[];s!==null;){var w=s,_=w.stateNode;w.tag===5&&_!==null&&(w=_,_=zt(s,u),_!=null&&m.unshift(wc(s,_,w)),_=zt(s,o),_!=null&&m.push(wc(s,_,w))),s=s.return}return m}function ja(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function vw(s,o,u,m,w){for(var _=o._reactName,D=[];u!==null&&u!==m;){var B=u,H=B.alternate,Z=B.stateNode;if(H!==null&&H===m)break;B.tag===5&&Z!==null&&(B=Z,w?(H=zt(u,_),H!=null&&D.unshift(wc(u,H,B))):w||(H=zt(u,_),H!=null&&D.push(wc(u,H,B)))),u=u.return}D.length!==0&&s.push({event:o,listeners:D})}var sN=/\r\n?/g,iN=/\u0000|\uFFFD/g;function ww(s){return(typeof s=="string"?s:""+s).replace(sN,`
`).replace(iN,"")}function dd(s,o,u){if(o=ww(o),ww(s)!==o&&u)throw Error(n(425))}function hd(){}var jp=null,Vp=null;function Op(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mp=typeof setTimeout=="function"?setTimeout:void 0,oN=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,aN=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(s){return xw.resolve(null).then(s).catch(lN)}:Mp;function lN(s){setTimeout(function(){throw s})}function Lp(s,o){var u=o,m=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(m===0){s.removeChild(w),Lr(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=w}while(u);Lr(o)}function Ci(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function _w(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Va=Math.random().toString(36).slice(2),us="__reactFiber$"+Va,xc="__reactProps$"+Va,Hs="__reactContainer$"+Va,Fp="__reactEvents$"+Va,cN="__reactListeners$"+Va,uN="__reactHandles$"+Va;function Ao(s){var o=s[us];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Hs]||u[us]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=_w(s);s!==null;){if(u=s[us])return u;s=_w(s)}return o}s=u,u=s.parentNode}return null}function _c(s){return s=s[us]||s[Hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Oa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function fd(s){return s[xc]||null}var Up=[],Ma=-1;function bi(s){return{current:s}}function Et(s){0>Ma||(s.current=Up[Ma],Up[Ma]=null,Ma--)}function xt(s,o){Ma++,Up[Ma]=s.current,s.current=o}var Ai={},bn=bi(Ai),$n=bi(!1),Po=Ai;function La(s,o){var u=s.type.contextTypes;if(!u)return Ai;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var w={},_;for(_ in u)w[_]=o[_];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=w),w}function qn(s){return s=s.childContextTypes,s!=null}function pd(){Et($n),Et(bn)}function Ew(s,o,u){if(bn.current!==Ai)throw Error(n(168));xt(bn,o),xt($n,u)}function Tw(s,o,u){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var w in m)if(!(w in o))throw Error(n(108,pe(s)||"Unknown",w));return le({},u,m)}function md(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ai,Po=bn.current,xt(bn,s),xt($n,$n.current),!0}function Sw(s,o,u){var m=s.stateNode;if(!m)throw Error(n(169));u?(s=Tw(s,o,Po),m.__reactInternalMemoizedMergedChildContext=s,Et($n),Et(bn),xt(bn,s)):Et($n),xt($n,u)}var Ws=null,gd=!1,Bp=!1;function Cw(s){Ws===null?Ws=[s]:Ws.push(s)}function dN(s){gd=!0,Cw(s)}function Pi(){if(!Bp&&Ws!==null){Bp=!0;var s=0,o=st;try{var u=Ws;for(st=1;s<u.length;s++){var m=u[s];do m=m(!0);while(m!==null)}Ws=null,gd=!1}catch(w){throw Ws!==null&&(Ws=Ws.slice(s+1)),ya(wo,Pi),w}finally{st=o,Bp=!1}}return null}var Fa=[],Ua=0,yd=null,vd=0,gr=[],yr=0,Io=null,Gs=1,Ks="";function Ro(s,o){Fa[Ua++]=vd,Fa[Ua++]=yd,yd=s,vd=o}function bw(s,o,u){gr[yr++]=Gs,gr[yr++]=Ks,gr[yr++]=Io,Io=s;var m=Gs;s=Ks;var w=32-Vn(m)-1;m&=~(1<<w),u+=1;var _=32-Vn(o)+w;if(30<_){var D=w-w%5;_=(m&(1<<D)-1).toString(32),m>>=D,w-=D,Gs=1<<32-Vn(o)+w|u<<w|m,Ks=_+s}else Gs=1<<_|u<<w|m,Ks=s}function zp(s){s.return!==null&&(Ro(s,1),bw(s,1,0))}function $p(s){for(;s===yd;)yd=Fa[--Ua],Fa[Ua]=null,vd=Fa[--Ua],Fa[Ua]=null;for(;s===Io;)Io=gr[--yr],gr[yr]=null,Ks=gr[--yr],gr[yr]=null,Gs=gr[--yr],gr[yr]=null}var rr=null,sr=null,It=!1,Br=null;function Aw(s,o){var u=_r(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Pw(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,rr=s,sr=Ci(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,rr=s,sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Io!==null?{id:Gs,overflow:Ks}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=_r(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,rr=s,sr=null,!0):!1;default:return!1}}function qp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hp(s){if(It){var o=sr;if(o){var u=o;if(!Pw(s,o)){if(qp(s))throw Error(n(418));o=Ci(u.nextSibling);var m=rr;o&&Pw(s,o)?Aw(m,u):(s.flags=s.flags&-4097|2,It=!1,rr=s)}}else{if(qp(s))throw Error(n(418));s.flags=s.flags&-4097|2,It=!1,rr=s}}}function Iw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rr=s}function wd(s){if(s!==rr)return!1;if(!It)return Iw(s),It=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Op(s.type,s.memoizedProps)),o&&(o=sr)){if(qp(s))throw Rw(),Error(n(418));for(;o;)Aw(s,o),o=Ci(o.nextSibling)}if(Iw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){sr=Ci(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}sr=null}}else sr=rr?Ci(s.stateNode.nextSibling):null;return!0}function Rw(){for(var s=sr;s;)s=Ci(s.nextSibling)}function Ba(){sr=rr=null,It=!1}function Wp(s){Br===null?Br=[s]:Br.push(s)}var hN=U.ReactCurrentBatchConfig;function Ec(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,s));var w=m,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(D){var B=w.refs;D===null?delete B[_]:B[_]=D},o._stringRef=_,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function xd(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Nw(s){var o=s._init;return o(s._payload)}function kw(s){function o(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function u(Y,W){if(!s)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function m(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function w(Y,W){return Y=Oi(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function D(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function B(Y,W,J,me){return W===null||W.tag!==6?(W=Mm(J,Y.mode,me),W.return=Y,W):(W=w(W,J),W.return=Y,W)}function H(Y,W,J,me){var Ne=J.type;return Ne===j?de(Y,W,J.props.children,me,J.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ae&&Nw(Ne)===W.type)?(me=w(W,J.props),me.ref=Ec(Y,W,J),me.return=Y,me):(me=qd(J.type,J.key,J.props,null,Y.mode,me),me.ref=Ec(Y,W,J),me.return=Y,me)}function Z(Y,W,J,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Lm(J,Y.mode,me),W.return=Y,W):(W=w(W,J.children||[]),W.return=Y,W)}function de(Y,W,J,me,Ne){return W===null||W.tag!==7?(W=Lo(J,Y.mode,me,Ne),W.return=Y,W):(W=w(W,J),W.return=Y,W)}function he(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Mm(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return J=qd(W.type,W.key,W.props,null,Y.mode,J),J.ref=Ec(Y,null,W),J.return=Y,J;case q:return W=Lm(W,Y.mode,J),W.return=Y,W;case ae:var me=W._init;return he(Y,me(W._payload),J)}if(mt(W)||ee(W))return W=Lo(W,Y.mode,J,null),W.return=Y,W;xd(Y,W)}return null}function ue(Y,W,J,me){var Ne=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ne!==null?null:B(Y,W,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Ne?H(Y,W,J,me):null;case q:return J.key===Ne?Z(Y,W,J,me):null;case ae:return Ne=J._init,ue(Y,W,Ne(J._payload),me)}if(mt(J)||ee(J))return Ne!==null?null:de(Y,W,J,me,null);xd(Y,J)}return null}function Te(Y,W,J,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number")return Y=Y.get(J)||null,B(W,Y,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case $:return Y=Y.get(me.key===null?J:me.key)||null,H(W,Y,me,Ne);case q:return Y=Y.get(me.key===null?J:me.key)||null,Z(W,Y,me,Ne);case ae:var Oe=me._init;return Te(Y,W,J,Oe(me._payload),Ne)}if(mt(me)||ee(me))return Y=Y.get(J)||null,de(W,Y,me,Ne,null);xd(W,me)}return null}function Pe(Y,W,J,me){for(var Ne=null,Oe=null,Me=W,$e=W=0,dn=null;Me!==null&&$e<J.length;$e++){Me.index>$e?(dn=Me,Me=null):dn=Me.sibling;var ut=ue(Y,Me,J[$e],me);if(ut===null){Me===null&&(Me=dn);break}s&&Me&&ut.alternate===null&&o(Y,Me),W=_(ut,W,$e),Oe===null?Ne=ut:Oe.sibling=ut,Oe=ut,Me=dn}if($e===J.length)return u(Y,Me),It&&Ro(Y,$e),Ne;if(Me===null){for(;$e<J.length;$e++)Me=he(Y,J[$e],me),Me!==null&&(W=_(Me,W,$e),Oe===null?Ne=Me:Oe.sibling=Me,Oe=Me);return It&&Ro(Y,$e),Ne}for(Me=m(Y,Me);$e<J.length;$e++)dn=Te(Me,Y,$e,J[$e],me),dn!==null&&(s&&dn.alternate!==null&&Me.delete(dn.key===null?$e:dn.key),W=_(dn,W,$e),Oe===null?Ne=dn:Oe.sibling=dn,Oe=dn);return s&&Me.forEach(function(Mi){return o(Y,Mi)}),It&&Ro(Y,$e),Ne}function Re(Y,W,J,me){var Ne=ee(J);if(typeof Ne!="function")throw Error(n(150));if(J=Ne.call(J),J==null)throw Error(n(151));for(var Oe=Ne=null,Me=W,$e=W=0,dn=null,ut=J.next();Me!==null&&!ut.done;$e++,ut=J.next()){Me.index>$e?(dn=Me,Me=null):dn=Me.sibling;var Mi=ue(Y,Me,ut.value,me);if(Mi===null){Me===null&&(Me=dn);break}s&&Me&&Mi.alternate===null&&o(Y,Me),W=_(Mi,W,$e),Oe===null?Ne=Mi:Oe.sibling=Mi,Oe=Mi,Me=dn}if(ut.done)return u(Y,Me),It&&Ro(Y,$e),Ne;if(Me===null){for(;!ut.done;$e++,ut=J.next())ut=he(Y,ut.value,me),ut!==null&&(W=_(ut,W,$e),Oe===null?Ne=ut:Oe.sibling=ut,Oe=ut);return It&&Ro(Y,$e),Ne}for(Me=m(Y,Me);!ut.done;$e++,ut=J.next())ut=Te(Me,Y,$e,ut.value,me),ut!==null&&(s&&ut.alternate!==null&&Me.delete(ut.key===null?$e:ut.key),W=_(ut,W,$e),Oe===null?Ne=ut:Oe.sibling=ut,Oe=ut);return s&&Me.forEach(function(HN){return o(Y,HN)}),It&&Ro(Y,$e),Ne}function $t(Y,W,J,me){if(typeof J=="object"&&J!==null&&J.type===j&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Ne=J.key,Oe=W;Oe!==null;){if(Oe.key===Ne){if(Ne=J.type,Ne===j){if(Oe.tag===7){u(Y,Oe.sibling),W=w(Oe,J.props.children),W.return=Y,Y=W;break e}}else if(Oe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ae&&Nw(Ne)===Oe.type){u(Y,Oe.sibling),W=w(Oe,J.props),W.ref=Ec(Y,Oe,J),W.return=Y,Y=W;break e}u(Y,Oe);break}else o(Y,Oe);Oe=Oe.sibling}J.type===j?(W=Lo(J.props.children,Y.mode,me,J.key),W.return=Y,Y=W):(me=qd(J.type,J.key,J.props,null,Y.mode,me),me.ref=Ec(Y,W,J),me.return=Y,Y=me)}return D(Y);case q:e:{for(Oe=J.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){u(Y,W.sibling),W=w(W,J.children||[]),W.return=Y,Y=W;break e}else{u(Y,W);break}else o(Y,W);W=W.sibling}W=Lm(J,Y.mode,me),W.return=Y,Y=W}return D(Y);case ae:return Oe=J._init,$t(Y,W,Oe(J._payload),me)}if(mt(J))return Pe(Y,W,J,me);if(ee(J))return Re(Y,W,J,me);xd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(u(Y,W.sibling),W=w(W,J),W.return=Y,Y=W):(u(Y,W),W=Mm(J,Y.mode,me),W.return=Y,Y=W),D(Y)):u(Y,W)}return $t}var za=kw(!0),Dw=kw(!1),_d=bi(null),Ed=null,$a=null,Gp=null;function Kp(){Gp=$a=Ed=null}function Qp(s){var o=_d.current;Et(_d),s._currentValue=o}function Yp(s,o,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===u)break;s=s.return}}function qa(s,o){Ed=s,Gp=$a=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Hn=!0),s.firstContext=null)}function vr(s){var o=s._currentValue;if(Gp!==s)if(s={context:s,memoizedValue:o,next:null},$a===null){if(Ed===null)throw Error(n(308));$a=s,Ed.dependencies={lanes:0,firstContext:s}}else $a=$a.next=s;return o}var No=null;function Xp(s){No===null?No=[s]:No.push(s)}function jw(s,o,u,m){var w=o.interleaved;return w===null?(u.next=u,Xp(o)):(u.next=w.next,w.next=u),o.interleaved=u,Qs(s,m)}function Qs(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ii=!1;function Jp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ys(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(s,o,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(ct&2)!==0){var w=m.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),m.pending=o,Qs(s,u)}return w=m.interleaved,w===null?(o.next=o,Xp(m)):(o.next=w.next,w.next=o),m.interleaved=o,Qs(s,u)}function Td(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,wi(s,u)}}function Ow(s,o){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var D={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?w=_=D:_=_.next=D,u=u.next}while(u!==null);_===null?w=_=o:_=_.next=o}else w=_=o;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,effects:m.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Sd(s,o,u,m){var w=s.updateQueue;Ii=!1;var _=w.firstBaseUpdate,D=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var H=B,Z=H.next;H.next=null,D===null?_=Z:D.next=Z,D=H;var de=s.alternate;de!==null&&(de=de.updateQueue,B=de.lastBaseUpdate,B!==D&&(B===null?de.firstBaseUpdate=Z:B.next=Z,de.lastBaseUpdate=H))}if(_!==null){var he=w.baseState;D=0,de=Z=H=null,B=_;do{var ue=B.lane,Te=B.eventTime;if((m&ue)===ue){de!==null&&(de=de.next={eventTime:Te,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Pe=s,Re=B;switch(ue=o,Te=u,Re.tag){case 1:if(Pe=Re.payload,typeof Pe=="function"){he=Pe.call(Te,he,ue);break e}he=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Re.payload,ue=typeof Pe=="function"?Pe.call(Te,he,ue):Pe,ue==null)break e;he=le({},he,ue);break e;case 2:Ii=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,ue=w.effects,ue===null?w.effects=[B]:ue.push(B))}else Te={eventTime:Te,lane:ue,tag:B.tag,payload:B.payload,callback:B.callback,next:null},de===null?(Z=de=Te,H=he):de=de.next=Te,D|=ue;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,w.lastBaseUpdate=ue,w.shared.pending=null}}while(!0);if(de===null&&(H=he),w.baseState=H,w.firstBaseUpdate=Z,w.lastBaseUpdate=de,o=w.shared.interleaved,o!==null){w=o;do D|=w.lane,w=w.next;while(w!==o)}else _===null&&(w.shared.lanes=0);jo|=D,s.lanes=D,s.memoizedState=he}}function Mw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],w=m.callback;if(w!==null){if(m.callback=null,m=u,typeof w!="function")throw Error(n(191,w));w.call(m)}}}var Tc={},ds=bi(Tc),Sc=bi(Tc),Cc=bi(Tc);function ko(s){if(s===Tc)throw Error(n(174));return s}function Zp(s,o){switch(xt(Cc,o),xt(Sc,s),xt(ds,Tc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:it(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=it(o,s)}Et(ds),xt(ds,o)}function Ha(){Et(ds),Et(Sc),Et(Cc)}function Lw(s){ko(Cc.current);var o=ko(ds.current),u=it(o,s.type);o!==u&&(xt(Sc,s),xt(ds,u))}function em(s){Sc.current===s&&(Et(ds),Et(Sc))}var kt=bi(0);function Cd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tm=[];function nm(){for(var s=0;s<tm.length;s++)tm[s]._workInProgressVersionPrimary=null;tm.length=0}var bd=U.ReactCurrentDispatcher,rm=U.ReactCurrentBatchConfig,Do=0,Dt=null,rn=null,cn=null,Ad=!1,bc=!1,Ac=0,fN=0;function An(){throw Error(n(321))}function sm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Ur(s[u],o[u]))return!1;return!0}function im(s,o,u,m,w,_){if(Do=_,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,bd.current=s===null||s.memoizedState===null?yN:vN,s=u(m,w),bc){_=0;do{if(bc=!1,Ac=0,25<=_)throw Error(n(301));_+=1,cn=rn=null,o.updateQueue=null,bd.current=wN,s=u(m,w)}while(bc)}if(bd.current=Rd,o=rn!==null&&rn.next!==null,Do=0,cn=rn=Dt=null,Ad=!1,o)throw Error(n(300));return s}function om(){var s=Ac!==0;return Ac=0,s}function hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Dt.memoizedState=cn=s:cn=cn.next=s,cn}function wr(){if(rn===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var o=cn===null?Dt.memoizedState:cn.next;if(o!==null)cn=o,rn=s;else{if(s===null)throw Error(n(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},cn===null?Dt.memoizedState=cn=s:cn=cn.next=s}return cn}function Pc(s,o){return typeof o=="function"?o(s):o}function am(s){var o=wr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=rn,w=m.baseQueue,_=u.pending;if(_!==null){if(w!==null){var D=w.next;w.next=_.next,_.next=D}m.baseQueue=w=_,u.pending=null}if(w!==null){_=w.next,m=m.baseState;var B=D=null,H=null,Z=_;do{var de=Z.lane;if((Do&de)===de)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:s(m,Z.action);else{var he={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?(B=H=he,D=m):H=H.next=he,Dt.lanes|=de,jo|=de}Z=Z.next}while(Z!==null&&Z!==_);H===null?D=m:H.next=B,Ur(m,o.memoizedState)||(Hn=!0),o.memoizedState=m,o.baseState=D,o.baseQueue=H,u.lastRenderedState=m}if(s=u.interleaved,s!==null){w=s;do _=w.lane,Dt.lanes|=_,jo|=_,w=w.next;while(w!==s)}else w===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function lm(s){var o=wr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=u.dispatch,w=u.pending,_=o.memoizedState;if(w!==null){u.pending=null;var D=w=w.next;do _=s(_,D.action),D=D.next;while(D!==w);Ur(_,o.memoizedState)||(Hn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,m]}function Fw(){}function Uw(s,o){var u=Dt,m=wr(),w=o(),_=!Ur(m.memoizedState,w);if(_&&(m.memoizedState=w,Hn=!0),m=m.queue,cm($w.bind(null,u,m,s),[s]),m.getSnapshot!==o||_||cn!==null&&cn.memoizedState.tag&1){if(u.flags|=2048,Ic(9,zw.bind(null,u,m,w,o),void 0,null),un===null)throw Error(n(349));(Do&30)!==0||Bw(u,o,w)}return w}function Bw(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function zw(s,o,u,m){o.value=u,o.getSnapshot=m,qw(o)&&Hw(s)}function $w(s,o,u){return u(function(){qw(o)&&Hw(s)})}function qw(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Ur(s,u)}catch{return!0}}function Hw(s){var o=Qs(s,1);o!==null&&Hr(o,s,1,-1)}function Ww(s){var o=hs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:s},o.queue=s,s=s.dispatch=gN.bind(null,Dt,s),[o.memoizedState,s]}function Ic(s,o,u,m){return s={tag:s,create:o,destroy:u,deps:m,next:null},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,o.lastEffect=s)),s}function Gw(){return wr().memoizedState}function Pd(s,o,u,m){var w=hs();Dt.flags|=s,w.memoizedState=Ic(1|o,u,void 0,m===void 0?null:m)}function Id(s,o,u,m){var w=wr();m=m===void 0?null:m;var _=void 0;if(rn!==null){var D=rn.memoizedState;if(_=D.destroy,m!==null&&sm(m,D.deps)){w.memoizedState=Ic(o,u,_,m);return}}Dt.flags|=s,w.memoizedState=Ic(1|o,u,_,m)}function Kw(s,o){return Pd(8390656,8,s,o)}function cm(s,o){return Id(2048,8,s,o)}function Qw(s,o){return Id(4,2,s,o)}function Yw(s,o){return Id(4,4,s,o)}function Xw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Jw(s,o,u){return u=u!=null?u.concat([s]):null,Id(4,4,Xw.bind(null,o,s),u)}function um(){}function Zw(s,o){var u=wr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&sm(o,m[1])?m[0]:(u.memoizedState=[s,o],s)}function ex(s,o){var u=wr();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&sm(o,m[1])?m[0]:(s=s(),u.memoizedState=[s,o],s)}function tx(s,o,u){return(Do&21)===0?(s.baseState&&(s.baseState=!1,Hn=!0),s.memoizedState=u):(Ur(u,o)||(u=Eo(),Dt.lanes|=u,jo|=u,s.baseState=!0),o)}function pN(s,o){var u=st;st=u!==0&&4>u?u:4,s(!0);var m=rm.transition;rm.transition={};try{s(!1),o()}finally{st=u,rm.transition=m}}function nx(){return wr().memoizedState}function mN(s,o,u){var m=ji(s);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},rx(s))sx(o,u);else if(u=jw(s,o,u,m),u!==null){var w=Ln();Hr(u,s,m,w),ix(u,o,m)}}function gN(s,o,u){var m=ji(s),w={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(rx(s))sx(o,w);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var D=o.lastRenderedState,B=_(D,u);if(w.hasEagerState=!0,w.eagerState=B,Ur(B,D)){var H=o.interleaved;H===null?(w.next=w,Xp(o)):(w.next=H.next,H.next=w),o.interleaved=w;return}}catch{}finally{}u=jw(s,o,w,m),u!==null&&(w=Ln(),Hr(u,s,m,w),ix(u,o,m))}}function rx(s){var o=s.alternate;return s===Dt||o!==null&&o===Dt}function sx(s,o){bc=Ad=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function ix(s,o,u){if((u&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,wi(s,u)}}var Rd={readContext:vr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},yN={readContext:vr,useCallback:function(s,o){return hs().memoizedState=[s,o===void 0?null:o],s},useContext:vr,useEffect:Kw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Pd(4194308,4,Xw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Pd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Pd(4,2,s,o)},useMemo:function(s,o){var u=hs();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var m=hs();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=mN.bind(null,Dt,s),[m.memoizedState,s]},useRef:function(s){var o=hs();return s={current:s},o.memoizedState=s},useState:Ww,useDebugValue:um,useDeferredValue:function(s){return hs().memoizedState=s},useTransition:function(){var s=Ww(!1),o=s[0];return s=pN.bind(null,s[1]),hs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var m=Dt,w=hs();if(It){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),un===null)throw Error(n(349));(Do&30)!==0||Bw(m,o,u)}w.memoizedState=u;var _={value:u,getSnapshot:o};return w.queue=_,Kw($w.bind(null,m,_,s),[s]),m.flags|=2048,Ic(9,zw.bind(null,m,_,u,o),void 0,null),u},useId:function(){var s=hs(),o=un.identifierPrefix;if(It){var u=Ks,m=Gs;u=(m&~(1<<32-Vn(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ac++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=fN++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},vN={readContext:vr,useCallback:Zw,useContext:vr,useEffect:cm,useImperativeHandle:Jw,useInsertionEffect:Qw,useLayoutEffect:Yw,useMemo:ex,useReducer:am,useRef:Gw,useState:function(){return am(Pc)},useDebugValue:um,useDeferredValue:function(s){var o=wr();return tx(o,rn.memoizedState,s)},useTransition:function(){var s=am(Pc)[0],o=wr().memoizedState;return[s,o]},useMutableSource:Fw,useSyncExternalStore:Uw,useId:nx,unstable_isNewReconciler:!1},wN={readContext:vr,useCallback:Zw,useContext:vr,useEffect:cm,useImperativeHandle:Jw,useInsertionEffect:Qw,useLayoutEffect:Yw,useMemo:ex,useReducer:lm,useRef:Gw,useState:function(){return lm(Pc)},useDebugValue:um,useDeferredValue:function(s){var o=wr();return rn===null?o.memoizedState=s:tx(o,rn.memoizedState,s)},useTransition:function(){var s=lm(Pc)[0],o=wr().memoizedState;return[s,o]},useMutableSource:Fw,useSyncExternalStore:Uw,useId:nx,unstable_isNewReconciler:!1};function zr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function dm(s,o,u,m){o=s.memoizedState,u=u(m,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Nd={isMounted:function(s){return(s=s._reactInternals)?Dr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var m=Ln(),w=ji(s),_=Ys(m,w);_.payload=o,u!=null&&(_.callback=u),o=Ri(s,_,w),o!==null&&(Hr(o,s,w,m),Td(o,s,w))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var m=Ln(),w=ji(s),_=Ys(m,w);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ri(s,_,w),o!==null&&(Hr(o,s,w,m),Td(o,s,w))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Ln(),m=ji(s),w=Ys(u,m);w.tag=2,o!=null&&(w.callback=o),o=Ri(s,w,m),o!==null&&(Hr(o,s,m,u),Td(o,s,m))}};function ox(s,o,u,m,w,_,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,D):o.prototype&&o.prototype.isPureReactComponent?!mc(u,m)||!mc(w,_):!0}function ax(s,o,u){var m=!1,w=Ai,_=o.contextType;return typeof _=="object"&&_!==null?_=vr(_):(w=qn(o)?Po:bn.current,m=o.contextTypes,_=(m=m!=null)?La(s,w):Ai),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nd,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=_),o}function lx(s,o,u,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==s&&Nd.enqueueReplaceState(o,o.state,null)}function hm(s,o,u,m){var w=s.stateNode;w.props=u,w.state=s.memoizedState,w.refs={},Jp(s);var _=o.contextType;typeof _=="object"&&_!==null?w.context=vr(_):(_=qn(o)?Po:bn.current,w.context=La(s,_)),w.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(dm(s,o,_,u),w.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(o=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),o!==w.state&&Nd.enqueueReplaceState(w,w.state,null),Sd(s,u,w,m),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Wa(s,o){try{var u="",m=o;do u+=Se(m),m=m.return;while(m);var w=u}catch(_){w=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:w,digest:null}}function fm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function pm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var xN=typeof WeakMap=="function"?WeakMap:Map;function cx(s,o,u){u=Ys(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){Ld||(Ld=!0,Im=m),pm(s,o)},u}function ux(s,o,u){u=Ys(-1,u),u.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var w=o.value;u.payload=function(){return m(w)},u.callback=function(){pm(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){pm(s,o),typeof m!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})}),u}function dx(s,o,u){var m=s.pingCache;if(m===null){m=s.pingCache=new xN;var w=new Set;m.set(o,w)}else w=m.get(o),w===void 0&&(w=new Set,m.set(o,w));w.has(u)||(w.add(u),s=jN.bind(null,s,o,u),o.then(s,s))}function hx(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function fx(s,o,u,m,w){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ys(-1,1),o.tag=2,Ri(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var _N=U.ReactCurrentOwner,Hn=!1;function Mn(s,o,u,m){o.child=s===null?Dw(o,null,u,m):za(o,s.child,u,m)}function px(s,o,u,m,w){u=u.render;var _=o.ref;return qa(o,w),m=im(s,o,u,m,_,w),u=om(),s!==null&&!Hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~w,Xs(s,o,w)):(It&&u&&zp(o),o.flags|=1,Mn(s,o,m,w),o.child)}function mx(s,o,u,m,w){if(s===null){var _=u.type;return typeof _=="function"&&!Om(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,gx(s,o,_,m,w)):(s=qd(u.type,null,m,o,o.mode,w),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&w)===0){var D=_.memoizedProps;if(u=u.compare,u=u!==null?u:mc,u(D,m)&&s.ref===o.ref)return Xs(s,o,w)}return o.flags|=1,s=Oi(_,m),s.ref=o.ref,s.return=o,o.child=s}function gx(s,o,u,m,w){if(s!==null){var _=s.memoizedProps;if(mc(_,m)&&s.ref===o.ref)if(Hn=!1,o.pendingProps=m=_,(s.lanes&w)!==0)(s.flags&131072)!==0&&(Hn=!0);else return o.lanes=s.lanes,Xs(s,o,w)}return mm(s,o,u,m,w)}function yx(s,o,u){var m=o.pendingProps,w=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Ka,ir),ir|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,xt(Ka,ir),ir|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:u,xt(Ka,ir),ir|=m}else _!==null?(m=_.baseLanes|u,o.memoizedState=null):m=u,xt(Ka,ir),ir|=m;return Mn(s,o,w,u),o.child}function vx(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function mm(s,o,u,m,w){var _=qn(u)?Po:bn.current;return _=La(o,_),qa(o,w),u=im(s,o,u,m,_,w),m=om(),s!==null&&!Hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~w,Xs(s,o,w)):(It&&m&&zp(o),o.flags|=1,Mn(s,o,u,w),o.child)}function wx(s,o,u,m,w){if(qn(u)){var _=!0;md(o)}else _=!1;if(qa(o,w),o.stateNode===null)Dd(s,o),ax(o,u,m),hm(o,u,m,w),m=!0;else if(s===null){var D=o.stateNode,B=o.memoizedProps;D.props=B;var H=D.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=vr(Z):(Z=qn(u)?Po:bn.current,Z=La(o,Z));var de=u.getDerivedStateFromProps,he=typeof de=="function"||typeof D.getSnapshotBeforeUpdate=="function";he||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(B!==m||H!==Z)&&lx(o,D,m,Z),Ii=!1;var ue=o.memoizedState;D.state=ue,Sd(o,m,D,w),H=o.memoizedState,B!==m||ue!==H||$n.current||Ii?(typeof de=="function"&&(dm(o,u,de,m),H=o.memoizedState),(B=Ii||ox(o,u,B,m,ue,H,Z))?(he||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(o.flags|=4194308)):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=H),D.props=m,D.state=H,D.context=Z,m=B):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{D=o.stateNode,Vw(s,o),B=o.memoizedProps,Z=o.type===o.elementType?B:zr(o.type,B),D.props=Z,he=o.pendingProps,ue=D.context,H=u.contextType,typeof H=="object"&&H!==null?H=vr(H):(H=qn(u)?Po:bn.current,H=La(o,H));var Te=u.getDerivedStateFromProps;(de=typeof Te=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(B!==he||ue!==H)&&lx(o,D,m,H),Ii=!1,ue=o.memoizedState,D.state=ue,Sd(o,m,D,w);var Pe=o.memoizedState;B!==he||ue!==Pe||$n.current||Ii?(typeof Te=="function"&&(dm(o,u,Te,m),Pe=o.memoizedState),(Z=Ii||ox(o,u,Z,m,ue,Pe,H)||!1)?(de||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,Pe,H),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,Pe,H)),typeof D.componentDidUpdate=="function"&&(o.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof D.componentDidUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Pe),D.props=m,D.state=Pe,D.context=H,m=Z):(typeof D.componentDidUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),m=!1)}return gm(s,o,u,m,_,w)}function gm(s,o,u,m,w,_){vx(s,o);var D=(o.flags&128)!==0;if(!m&&!D)return w&&Sw(o,u,!1),Xs(s,o,_);m=o.stateNode,_N.current=o;var B=D&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&D?(o.child=za(o,s.child,null,_),o.child=za(o,null,B,_)):Mn(s,o,B,_),o.memoizedState=m.state,w&&Sw(o,u,!0),o.child}function xx(s){var o=s.stateNode;o.pendingContext?Ew(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Ew(s,o.context,!1),Zp(s,o.containerInfo)}function _x(s,o,u,m,w){return Ba(),Wp(w),o.flags|=256,Mn(s,o,u,m),o.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ex(s,o,u){var m=o.pendingProps,w=kt.current,_=!1,D=(o.flags&128)!==0,B;if((B=D)||(B=s!==null&&s.memoizedState===null?!1:(w&2)!==0),B?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),xt(kt,w&1),s===null)return Hp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(D=m.children,s=m.fallback,_?(m=o.mode,_=o.child,D={mode:"hidden",children:D},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=D):_=Hd(D,m,0,null),s=Lo(s,m,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=vm(u),o.memoizedState=ym,s):wm(o,D));if(w=s.memoizedState,w!==null&&(B=w.dehydrated,B!==null))return EN(s,o,D,m,B,w,u);if(_){_=m.fallback,D=o.mode,w=s.child,B=w.sibling;var H={mode:"hidden",children:m.children};return(D&1)===0&&o.child!==w?(m=o.child,m.childLanes=0,m.pendingProps=H,o.deletions=null):(m=Oi(w,H),m.subtreeFlags=w.subtreeFlags&14680064),B!==null?_=Oi(B,_):(_=Lo(_,D,u,null),_.flags|=2),_.return=o,m.return=o,m.sibling=_,o.child=m,m=_,_=o.child,D=s.child.memoizedState,D=D===null?vm(u):{baseLanes:D.baseLanes|u,cachePool:null,transitions:D.transitions},_.memoizedState=D,_.childLanes=s.childLanes&~u,o.memoizedState=ym,m}return _=s.child,s=_.sibling,m=Oi(_,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=m,o.memoizedState=null,m}function wm(s,o){return o=Hd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function kd(s,o,u,m){return m!==null&&Wp(m),za(o,s.child,null,u),s=wm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function EN(s,o,u,m,w,_,D){if(u)return o.flags&256?(o.flags&=-257,m=fm(Error(n(422))),kd(s,o,D,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=m.fallback,w=o.mode,m=Hd({mode:"visible",children:m.children},w,0,null),_=Lo(_,w,D,null),_.flags|=2,m.return=o,_.return=o,m.sibling=_,o.child=m,(o.mode&1)!==0&&za(o,s.child,null,D),o.child.memoizedState=vm(D),o.memoizedState=ym,_);if((o.mode&1)===0)return kd(s,o,D,null);if(w.data==="$!"){if(m=w.nextSibling&&w.nextSibling.dataset,m)var B=m.dgst;return m=B,_=Error(n(419)),m=fm(_,m,void 0),kd(s,o,D,m)}if(B=(D&s.childLanes)!==0,Hn||B){if(m=un,m!==null){switch(D&-D){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(m.suspendedLanes|D))!==0?0:w,w!==0&&w!==_.retryLane&&(_.retryLane=w,Qs(s,w),Hr(m,s,w,-1))}return Vm(),m=fm(Error(n(421))),kd(s,o,D,m)}return w.data==="$?"?(o.flags|=128,o.child=s.child,o=VN.bind(null,s),w._reactRetry=o,null):(s=_.treeContext,sr=Ci(w.nextSibling),rr=o,It=!0,Br=null,s!==null&&(gr[yr++]=Gs,gr[yr++]=Ks,gr[yr++]=Io,Gs=s.id,Ks=s.overflow,Io=o),o=wm(o,m.children),o.flags|=4096,o)}function Tx(s,o,u){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),Yp(s.return,o,u)}function xm(s,o,u,m,w){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=u,_.tailMode=w)}function Sx(s,o,u){var m=o.pendingProps,w=m.revealOrder,_=m.tail;if(Mn(s,o,m.children,u),m=kt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tx(s,u,o);else if(s.tag===19)Tx(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(xt(kt,m),(o.mode&1)===0)o.memoizedState=null;else switch(w){case"forwards":for(u=o.child,w=null;u!==null;)s=u.alternate,s!==null&&Cd(s)===null&&(w=u),u=u.sibling;u=w,u===null?(w=o.child,o.child=null):(w=u.sibling,u.sibling=null),xm(o,!1,w,u,_);break;case"backwards":for(u=null,w=o.child,o.child=null;w!==null;){if(s=w.alternate,s!==null&&Cd(s)===null){o.child=w;break}s=w.sibling,w.sibling=u,u=w,w=s}xm(o,!0,u,null,_);break;case"together":xm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Xs(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),jo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Oi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Oi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function TN(s,o,u){switch(o.tag){case 3:xx(o),Ba();break;case 5:Lw(o);break;case 1:qn(o.type)&&md(o);break;case 4:Zp(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,w=o.memoizedProps.value;xt(_d,m._currentValue),m._currentValue=w;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(xt(kt,kt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Ex(s,o,u):(xt(kt,kt.current&1),s=Xs(s,o,u),s!==null?s.sibling:null);xt(kt,kt.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(s.flags&128)!==0){if(m)return Sx(s,o,u);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),xt(kt,kt.current),m)break;return null;case 22:case 23:return o.lanes=0,yx(s,o,u)}return Xs(s,o,u)}var Cx,_m,bx,Ax;Cx=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_m=function(){},bx=function(s,o,u,m){var w=s.memoizedProps;if(w!==m){s=o.stateNode,ko(ds.current);var _=null;switch(u){case"input":w=be(s,w),m=be(s,m),_=[];break;case"select":w=le({},w,{value:void 0}),m=le({},m,{value:void 0}),_=[];break;case"textarea":w=Sn(s,w),m=Sn(s,m),_=[];break;default:typeof w.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=hd)}Yl(u,m);var D;u=null;for(Z in w)if(!m.hasOwnProperty(Z)&&w.hasOwnProperty(Z)&&w[Z]!=null)if(Z==="style"){var B=w[Z];for(D in B)B.hasOwnProperty(D)&&(u||(u={}),u[D]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in m){var H=m[Z];if(B=w!=null?w[Z]:void 0,m.hasOwnProperty(Z)&&H!==B&&(H!=null||B!=null))if(Z==="style")if(B){for(D in B)!B.hasOwnProperty(D)||H&&H.hasOwnProperty(D)||(u||(u={}),u[D]="");for(D in H)H.hasOwnProperty(D)&&B[D]!==H[D]&&(u||(u={}),u[D]=H[D])}else u||(_||(_=[]),_.push(Z,u)),u=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(_=_||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&_t("scroll",s),_||B===H||(_=[])):(_=_||[]).push(Z,H))}u&&(_=_||[]).push("style",u);var Z=_;(o.updateQueue=Z)&&(o.flags|=4)}},Ax=function(s,o,u,m){u!==m&&(o.flags|=4)};function Rc(s,o){if(!It)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Pn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(o)for(var w=s.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&14680064,m|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=m,s.childLanes=u,o}function SN(s,o,u){var m=o.pendingProps;switch($p(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(o),null;case 1:return qn(o.type)&&pd(),Pn(o),null;case 3:return m=o.stateNode,Ha(),Et($n),Et(bn),nm(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(wd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Br!==null&&(km(Br),Br=null))),_m(s,o),Pn(o),null;case 5:em(o);var w=ko(Cc.current);if(u=o.type,s!==null&&o.stateNode!=null)bx(s,o,u,m,w),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Pn(o),null}if(s=ko(ds.current),wd(o)){m=o.stateNode,u=o.type;var _=o.memoizedProps;switch(m[us]=o,m[xc]=_,s=(o.mode&1)!==0,u){case"dialog":_t("cancel",m),_t("close",m);break;case"iframe":case"object":case"embed":_t("load",m);break;case"video":case"audio":for(w=0;w<yc.length;w++)_t(yc[w],m);break;case"source":_t("error",m);break;case"img":case"image":case"link":_t("error",m),_t("load",m);break;case"details":_t("toggle",m);break;case"input":De(m,_),_t("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},_t("invalid",m);break;case"textarea":dr(m,_),_t("invalid",m)}Yl(u,_),w=null;for(var D in _)if(_.hasOwnProperty(D)){var B=_[D];D==="children"?typeof B=="string"?m.textContent!==B&&(_.suppressHydrationWarning!==!0&&dd(m.textContent,B,s),w=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(_.suppressHydrationWarning!==!0&&dd(m.textContent,B,s),w=["children",""+B]):i.hasOwnProperty(D)&&B!=null&&D==="onScroll"&&_t("scroll",m)}switch(u){case"input":we(m),Ze(m,_,!0);break;case"textarea":we(m),Cn(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=hd)}m=w,o.updateQueue=m,m!==null&&(o.flags|=4)}else{D=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xe(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=D.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=D.createElement(u,{is:m.is}):(s=D.createElement(u),u==="select"&&(D=s,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):s=D.createElementNS(s,u),s[us]=o,s[xc]=m,Cx(s,o,!1,!1),o.stateNode=s;e:{switch(D=Xl(u,m),u){case"dialog":_t("cancel",s),_t("close",s),w=m;break;case"iframe":case"object":case"embed":_t("load",s),w=m;break;case"video":case"audio":for(w=0;w<yc.length;w++)_t(yc[w],s);w=m;break;case"source":_t("error",s),w=m;break;case"img":case"image":case"link":_t("error",s),_t("load",s),w=m;break;case"details":_t("toggle",s),w=m;break;case"input":De(s,m),w=be(s,m),_t("invalid",s);break;case"option":w=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},w=le({},m,{value:void 0}),_t("invalid",s);break;case"textarea":dr(s,m),w=Sn(s,m),_t("invalid",s);break;default:w=m}Yl(u,w),B=w;for(_ in B)if(B.hasOwnProperty(_)){var H=B[_];_==="style"?pi(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ls(s,H)):_==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&Ir(s,H):typeof H=="number"&&Ir(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?H!=null&&_==="onScroll"&&_t("scroll",s):H!=null&&N(s,_,H,D))}switch(u){case"input":we(s),Ze(s,m,!1);break;case"textarea":we(s),Cn(s);break;case"option":m.value!=null&&s.setAttribute("value",""+fe(m.value));break;case"select":s.multiple=!!m.multiple,_=m.value,_!=null?Tn(s,!!m.multiple,_,!1):m.defaultValue!=null&&Tn(s,!!m.multiple,m.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=hd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pn(o),null;case 6:if(s&&o.stateNode!=null)Ax(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(u=ko(Cc.current),ko(ds.current),wd(o)){if(m=o.stateNode,u=o.memoizedProps,m[us]=o,(_=m.nodeValue!==u)&&(s=rr,s!==null))switch(s.tag){case 3:dd(m.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&dd(m.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[us]=o,o.stateNode=m}return Pn(o),null;case 13:if(Et(kt),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(It&&sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Rw(),Ba(),o.flags|=98560,_=!1;else if(_=wd(o),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[us]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pn(o),_=!1}else Br!==null&&(km(Br),Br=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(kt.current&1)!==0?sn===0&&(sn=3):Vm())),o.updateQueue!==null&&(o.flags|=4),Pn(o),null);case 4:return Ha(),_m(s,o),s===null&&vc(o.stateNode.containerInfo),Pn(o),null;case 10:return Qp(o.type._context),Pn(o),null;case 17:return qn(o.type)&&pd(),Pn(o),null;case 19:if(Et(kt),_=o.memoizedState,_===null)return Pn(o),null;if(m=(o.flags&128)!==0,D=_.rendering,D===null)if(m)Rc(_,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(D=Cd(s),D!==null){for(o.flags|=128,Rc(_,!1),m=D.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)_=u,s=m,_.flags&=14680066,D=_.alternate,D===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=D.childLanes,_.lanes=D.lanes,_.child=D.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=D.memoizedProps,_.memoizedState=D.memoizedState,_.updateQueue=D.updateQueue,_.type=D.type,s=D.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(kt,kt.current&1|2),o.child}s=s.sibling}_.tail!==null&&wt()>Qa&&(o.flags|=128,m=!0,Rc(_,!1),o.lanes=4194304)}else{if(!m)if(s=Cd(D),s!==null){if(o.flags|=128,m=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Rc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!D.alternate&&!It)return Pn(o),null}else 2*wt()-_.renderingStartTime>Qa&&u!==1073741824&&(o.flags|=128,m=!0,Rc(_,!1),o.lanes=4194304);_.isBackwards?(D.sibling=o.child,o.child=D):(u=_.last,u!==null?u.sibling=D:o.child=D,_.last=D)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=wt(),o.sibling=null,u=kt.current,xt(kt,m?u&1|2:u&1),o):(Pn(o),null);case 22:case 23:return jm(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(ir&1073741824)!==0&&(Pn(o),o.subtreeFlags&6&&(o.flags|=8192)):Pn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function CN(s,o){switch($p(o),o.tag){case 1:return qn(o.type)&&pd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ha(),Et($n),Et(bn),nm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return em(o),null;case 13:if(Et(kt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ba()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Et(kt),null;case 4:return Ha(),null;case 10:return Qp(o.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var jd=!1,In=!1,bN=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Ga(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Lt(s,o,m)}else u.current=null}function Em(s,o,u){try{u()}catch(m){Lt(s,o,m)}}var Px=!1;function AN(s,o){if(jp=Ei,s=ow(),bp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var D=0,B=-1,H=-1,Z=0,de=0,he=s,ue=null;t:for(;;){for(var Te;he!==u||w!==0&&he.nodeType!==3||(B=D+w),he!==_||m!==0&&he.nodeType!==3||(H=D+m),he.nodeType===3&&(D+=he.nodeValue.length),(Te=he.firstChild)!==null;)ue=he,he=Te;for(;;){if(he===s)break t;if(ue===u&&++Z===w&&(B=D),ue===_&&++de===m&&(H=D),(Te=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=Te}u=B===-1||H===-1?null:{start:B,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vp={focusedElem:s,selectionRange:u},Ei=!1,Ae=o;Ae!==null;)if(o=Ae,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ae=s;else for(;Ae!==null;){o=Ae;try{var Pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Re=Pe.memoizedProps,$t=Pe.memoizedState,Y=o.stateNode,W=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Re:zr(o.type,Re),$t);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Lt(o,o.return,me)}if(s=o.sibling,s!==null){s.return=o.return,Ae=s;break}Ae=o.return}return Pe=Px,Px=!1,Pe}function Nc(s,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&s)===s){var _=w.destroy;w.destroy=void 0,_!==void 0&&Em(o,u,_)}w=w.next}while(w!==m)}}function Vd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function Tm(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Ix(s){var o=s.alternate;o!==null&&(s.alternate=null,Ix(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[us],delete o[xc],delete o[Fp],delete o[cN],delete o[uN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Rx(s){return s.tag===5||s.tag===3||s.tag===4}function Nx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Rx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sm(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=hd));else if(m!==4&&(s=s.child,s!==null))for(Sm(s,o,u),s=s.sibling;s!==null;)Sm(s,o,u),s=s.sibling}function Cm(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Cm(s,o,u),s=s.sibling;s!==null;)Cm(s,o,u),s=s.sibling}var mn=null,$r=!1;function Ni(s,o,u){for(u=u.child;u!==null;)kx(s,o,u),u=u.sibling}function kx(s,o,u){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(xo,u)}catch{}switch(u.tag){case 5:In||Ga(u,o);case 6:var m=mn,w=$r;mn=null,Ni(s,o,u),mn=m,$r=w,mn!==null&&($r?(s=mn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):mn.removeChild(u.stateNode));break;case 18:mn!==null&&($r?(s=mn,u=u.stateNode,s.nodeType===8?Lp(s.parentNode,u):s.nodeType===1&&Lp(s,u),Lr(s)):Lp(mn,u.stateNode));break;case 4:m=mn,w=$r,mn=u.stateNode.containerInfo,$r=!0,Ni(s,o,u),mn=m,$r=w;break;case 0:case 11:case 14:case 15:if(!In&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){w=m=m.next;do{var _=w,D=_.destroy;_=_.tag,D!==void 0&&((_&2)!==0||(_&4)!==0)&&Em(u,o,D),w=w.next}while(w!==m)}Ni(s,o,u);break;case 1:if(!In&&(Ga(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(B){Lt(u,o,B)}Ni(s,o,u);break;case 21:Ni(s,o,u);break;case 22:u.mode&1?(In=(m=In)||u.memoizedState!==null,Ni(s,o,u),In=m):Ni(s,o,u);break;default:Ni(s,o,u)}}function Dx(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new bN),o.forEach(function(m){var w=ON.bind(null,s,m);u.has(m)||(u.add(m),m.then(w,w))})}}function qr(s,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];try{var _=s,D=o,B=D;e:for(;B!==null;){switch(B.tag){case 5:mn=B.stateNode,$r=!1;break e;case 3:mn=B.stateNode.containerInfo,$r=!0;break e;case 4:mn=B.stateNode.containerInfo,$r=!0;break e}B=B.return}if(mn===null)throw Error(n(160));kx(_,D,w),mn=null,$r=!1;var H=w.alternate;H!==null&&(H.return=null),w.return=null}catch(Z){Lt(w,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)jx(o,s),o=o.sibling}function jx(s,o){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(qr(o,s),fs(s),m&4){try{Nc(3,s,s.return),Vd(3,s)}catch(Re){Lt(s,s.return,Re)}try{Nc(5,s,s.return)}catch(Re){Lt(s,s.return,Re)}}break;case 1:qr(o,s),fs(s),m&512&&u!==null&&Ga(u,u.return);break;case 5:if(qr(o,s),fs(s),m&512&&u!==null&&Ga(u,u.return),s.flags&32){var w=s.stateNode;try{Ir(w,"")}catch(Re){Lt(s,s.return,Re)}}if(m&4&&(w=s.stateNode,w!=null)){var _=s.memoizedProps,D=u!==null?u.memoizedProps:_,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&_.type==="radio"&&_.name!=null&&je(w,_),Xl(B,D);var Z=Xl(B,_);for(D=0;D<H.length;D+=2){var de=H[D],he=H[D+1];de==="style"?pi(w,he):de==="dangerouslySetInnerHTML"?Ls(w,he):de==="children"?Ir(w,he):N(w,de,he,Z)}switch(B){case"input":ht(w,_);break;case"textarea":Nt(w,_);break;case"select":var ue=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!_.multiple;var Te=_.value;Te!=null?Tn(w,!!_.multiple,Te,!1):ue!==!!_.multiple&&(_.defaultValue!=null?Tn(w,!!_.multiple,_.defaultValue,!0):Tn(w,!!_.multiple,_.multiple?[]:"",!1))}w[xc]=_}catch(Re){Lt(s,s.return,Re)}}break;case 6:if(qr(o,s),fs(s),m&4){if(s.stateNode===null)throw Error(n(162));w=s.stateNode,_=s.memoizedProps;try{w.nodeValue=_}catch(Re){Lt(s,s.return,Re)}}break;case 3:if(qr(o,s),fs(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Lr(o.containerInfo)}catch(Re){Lt(s,s.return,Re)}break;case 4:qr(o,s),fs(s);break;case 13:qr(o,s),fs(s),w=s.child,w.flags&8192&&(_=w.memoizedState!==null,w.stateNode.isHidden=_,!_||w.alternate!==null&&w.alternate.memoizedState!==null||(Pm=wt())),m&4&&Dx(s);break;case 22:if(de=u!==null&&u.memoizedState!==null,s.mode&1?(In=(Z=In)||de,qr(o,s),In=Z):qr(o,s),fs(s),m&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!de&&(s.mode&1)!==0)for(Ae=s,de=s.child;de!==null;){for(he=Ae=de;Ae!==null;){switch(ue=Ae,Te=ue.child,ue.tag){case 0:case 11:case 14:case 15:Nc(4,ue,ue.return);break;case 1:Ga(ue,ue.return);var Pe=ue.stateNode;if(typeof Pe.componentWillUnmount=="function"){m=ue,u=ue.return;try{o=m,Pe.props=o.memoizedProps,Pe.state=o.memoizedState,Pe.componentWillUnmount()}catch(Re){Lt(m,u,Re)}}break;case 5:Ga(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Mx(he);continue}}Te!==null?(Te.return=ue,Ae=Te):Mx(he)}de=de.sibling}e:for(de=null,he=s;;){if(he.tag===5){if(de===null){de=he;try{w=he.stateNode,Z?(_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(B=he.stateNode,H=he.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Rr("display",D))}catch(Re){Lt(s,s.return,Re)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(Re){Lt(s,s.return,Re)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:qr(o,s),fs(s),m&4&&Dx(s);break;case 21:break;default:qr(o,s),fs(s)}}function fs(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Rx(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var w=m.stateNode;m.flags&32&&(Ir(w,""),m.flags&=-33);var _=Nx(s);Cm(s,_,w);break;case 3:case 4:var D=m.stateNode.containerInfo,B=Nx(s);Sm(s,B,D);break;default:throw Error(n(161))}}catch(H){Lt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function PN(s,o,u){Ae=s,Vx(s)}function Vx(s,o,u){for(var m=(s.mode&1)!==0;Ae!==null;){var w=Ae,_=w.child;if(w.tag===22&&m){var D=w.memoizedState!==null||jd;if(!D){var B=w.alternate,H=B!==null&&B.memoizedState!==null||In;B=jd;var Z=In;if(jd=D,(In=H)&&!Z)for(Ae=w;Ae!==null;)D=Ae,H=D.child,D.tag===22&&D.memoizedState!==null?Lx(w):H!==null?(H.return=D,Ae=H):Lx(w);for(;_!==null;)Ae=_,Vx(_),_=_.sibling;Ae=w,jd=B,In=Z}Ox(s)}else(w.subtreeFlags&8772)!==0&&_!==null?(_.return=w,Ae=_):Ox(s)}}function Ox(s){for(;Ae!==null;){var o=Ae;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:In||Vd(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!In)if(u===null)m.componentDidMount();else{var w=o.elementType===o.type?u.memoizedProps:zr(o.type,u.memoizedProps);m.componentDidUpdate(w,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Mw(o,_,m);break;case 3:var D=o.updateQueue;if(D!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Mw(o,D,u)}break;case 5:var B=o.stateNode;if(u===null&&o.flags&4){u=B;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&Lr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}In||o.flags&512&&Tm(o)}catch(ue){Lt(o,o.return,ue)}}if(o===s){Ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function Mx(s){for(;Ae!==null;){var o=Ae;if(o===s){Ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function Lx(s){for(;Ae!==null;){var o=Ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Vd(4,o)}catch(H){Lt(o,u,H)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var w=o.return;try{m.componentDidMount()}catch(H){Lt(o,w,H)}}var _=o.return;try{Tm(o)}catch(H){Lt(o,_,H)}break;case 5:var D=o.return;try{Tm(o)}catch(H){Lt(o,D,H)}}}catch(H){Lt(o,o.return,H)}if(o===s){Ae=null;break}var B=o.sibling;if(B!==null){B.return=o.return,Ae=B;break}Ae=o.return}}var IN=Math.ceil,Od=U.ReactCurrentDispatcher,bm=U.ReactCurrentOwner,xr=U.ReactCurrentBatchConfig,ct=0,un=null,Qt=null,gn=0,ir=0,Ka=bi(0),sn=0,kc=null,jo=0,Md=0,Am=0,Dc=null,Wn=null,Pm=0,Qa=1/0,Js=null,Ld=!1,Im=null,ki=null,Fd=!1,Di=null,Ud=0,jc=0,Rm=null,Bd=-1,zd=0;function Ln(){return(ct&6)!==0?wt():Bd!==-1?Bd:Bd=wt()}function ji(s){return(s.mode&1)===0?1:(ct&2)!==0&&gn!==0?gn&-gn:hN.transition!==null?(zd===0&&(zd=Eo()),zd):(s=st,s!==0||(s=window.event,s=s===void 0?16:lc(s.type)),s)}function Hr(s,o,u,m){if(50<jc)throw jc=0,Rm=null,Error(n(185));vi(s,u,m),((ct&2)===0||s!==un)&&(s===un&&((ct&2)===0&&(Md|=u),sn===4&&Vi(s,gn)),Gn(s,m),u===1&&ct===0&&(o.mode&1)===0&&(Qa=wt()+500,gd&&Pi()))}function Gn(s,o){var u=s.callbackNode;Us(s,o);var m=_o(s,s===un?gn:0);if(m===0)u!==null&&rc(u),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(u!=null&&rc(u),o===1)s.tag===0?dN(Ux.bind(null,s)):Cw(Ux.bind(null,s)),aN(function(){(ct&6)===0&&Pi()}),u=null;else{switch(xi(m)){case 1:u=wo;break;case 4:u=mi;break;case 16:u=fr;break;case 536870912:u=zu;break;default:u=fr}u=Kx(u,Fx.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Fx(s,o){if(Bd=-1,zd=0,(ct&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Ya()&&s.callbackNode!==u)return null;var m=_o(s,s===un?gn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=$d(s,m);else{o=m;var w=ct;ct|=2;var _=zx();(un!==s||gn!==o)&&(Js=null,Qa=wt()+500,Oo(s,o));do try{kN();break}catch(B){Bx(s,B)}while(!0);Kp(),Od.current=_,ct=w,Qt!==null?o=0:(un=null,gn=0,o=sn)}if(o!==0){if(o===2&&(w=er(s),w!==0&&(m=w,o=Nm(s,w))),o===1)throw u=kc,Oo(s,0),Vi(s,m),Gn(s,wt()),u;if(o===6)Vi(s,m);else{if(w=s.current.alternate,(m&30)===0&&!RN(w)&&(o=$d(s,m),o===2&&(_=er(s),_!==0&&(m=_,o=Nm(s,_))),o===1))throw u=kc,Oo(s,0),Vi(s,m),Gn(s,wt()),u;switch(s.finishedWork=w,s.finishedLanes=m,o){case 0:case 1:throw Error(n(345));case 2:Mo(s,Wn,Js);break;case 3:if(Vi(s,m),(m&130023424)===m&&(o=Pm+500-wt(),10<o)){if(_o(s,0)!==0)break;if(w=s.suspendedLanes,(w&m)!==m){Ln(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=Mp(Mo.bind(null,s,Wn,Js),o);break}Mo(s,Wn,Js);break;case 4:if(Vi(s,m),(m&4194240)===m)break;for(o=s.eventTimes,w=-1;0<m;){var D=31-Vn(m);_=1<<D,D=o[D],D>w&&(w=D),m&=~_}if(m=w,m=wt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*IN(m/1960))-m,10<m){s.timeoutHandle=Mp(Mo.bind(null,s,Wn,Js),m);break}Mo(s,Wn,Js);break;case 5:Mo(s,Wn,Js);break;default:throw Error(n(329))}}}return Gn(s,wt()),s.callbackNode===u?Fx.bind(null,s):null}function Nm(s,o){var u=Dc;return s.current.memoizedState.isDehydrated&&(Oo(s,o).flags|=256),s=$d(s,o),s!==2&&(o=Wn,Wn=u,o!==null&&km(o)),s}function km(s){Wn===null?Wn=s:Wn.push.apply(Wn,s)}function RN(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var w=u[m],_=w.getSnapshot;w=w.value;try{if(!Ur(_(),w))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(s,o){for(o&=~Am,o&=~Md,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Vn(o),m=1<<u;s[u]=-1,o&=~m}}function Ux(s){if((ct&6)!==0)throw Error(n(327));Ya();var o=_o(s,0);if((o&1)===0)return Gn(s,wt()),null;var u=$d(s,o);if(s.tag!==0&&u===2){var m=er(s);m!==0&&(o=m,u=Nm(s,m))}if(u===1)throw u=kc,Oo(s,0),Vi(s,o),Gn(s,wt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Mo(s,Wn,Js),Gn(s,wt()),null}function Dm(s,o){var u=ct;ct|=1;try{return s(o)}finally{ct=u,ct===0&&(Qa=wt()+500,gd&&Pi())}}function Vo(s){Di!==null&&Di.tag===0&&(ct&6)===0&&Ya();var o=ct;ct|=1;var u=xr.transition,m=st;try{if(xr.transition=null,st=1,s)return s()}finally{st=m,xr.transition=u,ct=o,(ct&6)===0&&Pi()}}function jm(){ir=Ka.current,Et(Ka)}function Oo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,oN(u)),Qt!==null)for(u=Qt.return;u!==null;){var m=u;switch($p(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&pd();break;case 3:Ha(),Et($n),Et(bn),nm();break;case 5:em(m);break;case 4:Ha();break;case 13:Et(kt);break;case 19:Et(kt);break;case 10:Qp(m.type._context);break;case 22:case 23:jm()}u=u.return}if(un=s,Qt=s=Oi(s.current,null),gn=ir=o,sn=0,kc=null,Am=Md=jo=0,Wn=Dc=null,No!==null){for(o=0;o<No.length;o++)if(u=No[o],m=u.interleaved,m!==null){u.interleaved=null;var w=m.next,_=u.pending;if(_!==null){var D=_.next;_.next=w,m.next=D}u.pending=m}No=null}return s}function Bx(s,o){do{var u=Qt;try{if(Kp(),bd.current=Rd,Ad){for(var m=Dt.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}Ad=!1}if(Do=0,cn=rn=Dt=null,bc=!1,Ac=0,bm.current=null,u===null||u.return===null){sn=1,kc=o,Qt=null;break}e:{var _=s,D=u.return,B=u,H=o;if(o=gn,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,de=B,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Te=hx(D);if(Te!==null){Te.flags&=-257,fx(Te,D,B,_,o),Te.mode&1&&dx(_,Z,o),o=Te,H=Z;var Pe=o.updateQueue;if(Pe===null){var Re=new Set;Re.add(H),o.updateQueue=Re}else Pe.add(H);break e}else{if((o&1)===0){dx(_,Z,o),Vm();break e}H=Error(n(426))}}else if(It&&B.mode&1){var $t=hx(D);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),fx($t,D,B,_,o),Wp(Wa(H,B));break e}}_=H=Wa(H,B),sn!==4&&(sn=2),Dc===null?Dc=[_]:Dc.push(_),_=D;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var Y=cx(_,H,o);Ow(_,Y);break e;case 1:B=H;var W=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ki===null||!ki.has(J)))){_.flags|=65536,o&=-o,_.lanes|=o;var me=ux(_,B,o);Ow(_,me);break e}}_=_.return}while(_!==null)}qx(u)}catch(Ne){o=Ne,Qt===u&&u!==null&&(Qt=u=u.return);continue}break}while(!0)}function zx(){var s=Od.current;return Od.current=Rd,s===null?Rd:s}function Vm(){(sn===0||sn===3||sn===2)&&(sn=4),un===null||(jo&268435455)===0&&(Md&268435455)===0||Vi(un,gn)}function $d(s,o){var u=ct;ct|=2;var m=zx();(un!==s||gn!==o)&&(Js=null,Oo(s,o));do try{NN();break}catch(w){Bx(s,w)}while(!0);if(Kp(),ct=u,Od.current=m,Qt!==null)throw Error(n(261));return un=null,gn=0,sn}function NN(){for(;Qt!==null;)$x(Qt)}function kN(){for(;Qt!==null&&!Uu();)$x(Qt)}function $x(s){var o=Gx(s.alternate,s,ir);s.memoizedProps=s.pendingProps,o===null?qx(s):Qt=o,bm.current=null}function qx(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=SN(u,o,ir),u!==null){Qt=u;return}}else{if(u=CN(u,o),u!==null){u.flags&=32767,Qt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{sn=6,Qt=null;return}}if(o=o.sibling,o!==null){Qt=o;return}Qt=o=s}while(o!==null);sn===0&&(sn=5)}function Mo(s,o,u){var m=st,w=xr.transition;try{xr.transition=null,st=1,DN(s,o,u,m)}finally{xr.transition=w,st=m}return null}function DN(s,o,u,m){do Ya();while(Di!==null);if((ct&6)!==0)throw Error(n(327));u=s.finishedWork;var w=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(yt(s,_),s===un&&(Qt=un=null,gn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fd||(Fd=!0,Kx(fr,function(){return Ya(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=xr.transition,xr.transition=null;var D=st;st=1;var B=ct;ct|=4,bm.current=null,AN(s,u),jx(u,s),ZR(Vp),Ei=!!jp,Vp=jp=null,s.current=u,PN(u),vp(),ct=B,st=D,xr.transition=_}else s.current=u;if(Fd&&(Fd=!1,Di=s,Ud=w),_=s.pendingLanes,_===0&&(ki=null),$u(u.stateNode),Gn(s,wt()),o!==null)for(m=s.onRecoverableError,u=0;u<o.length;u++)w=o[u],m(w.value,{componentStack:w.stack,digest:w.digest});if(Ld)throw Ld=!1,s=Im,Im=null,s;return(Ud&1)!==0&&s.tag!==0&&Ya(),_=s.pendingLanes,(_&1)!==0?s===Rm?jc++:(jc=0,Rm=s):jc=0,Pi(),null}function Ya(){if(Di!==null){var s=xi(Ud),o=xr.transition,u=st;try{if(xr.transition=null,st=16>s?16:s,Di===null)var m=!1;else{if(s=Di,Di=null,Ud=0,(ct&6)!==0)throw Error(n(331));var w=ct;for(ct|=4,Ae=s.current;Ae!==null;){var _=Ae,D=_.child;if((Ae.flags&16)!==0){var B=_.deletions;if(B!==null){for(var H=0;H<B.length;H++){var Z=B[H];for(Ae=Z;Ae!==null;){var de=Ae;switch(de.tag){case 0:case 11:case 15:Nc(8,de,_)}var he=de.child;if(he!==null)he.return=de,Ae=he;else for(;Ae!==null;){de=Ae;var ue=de.sibling,Te=de.return;if(Ix(de),de===Z){Ae=null;break}if(ue!==null){ue.return=Te,Ae=ue;break}Ae=Te}}}var Pe=_.alternate;if(Pe!==null){var Re=Pe.child;if(Re!==null){Pe.child=null;do{var $t=Re.sibling;Re.sibling=null,Re=$t}while(Re!==null)}}Ae=_}}if((_.subtreeFlags&2064)!==0&&D!==null)D.return=_,Ae=D;else e:for(;Ae!==null;){if(_=Ae,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Nc(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,Ae=Y;break e}Ae=_.return}}var W=s.current;for(Ae=W;Ae!==null;){D=Ae;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,Ae=J;else e:for(D=W;Ae!==null;){if(B=Ae,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Vd(9,B)}}catch(Ne){Lt(B,B.return,Ne)}if(B===D){Ae=null;break e}var me=B.sibling;if(me!==null){me.return=B.return,Ae=me;break e}Ae=B.return}}if(ct=w,Pi(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(xo,s)}catch{}m=!0}return m}finally{st=u,xr.transition=o}}return!1}function Hx(s,o,u){o=Wa(u,o),o=cx(s,o,1),s=Ri(s,o,1),o=Ln(),s!==null&&(vi(s,1,o),Gn(s,o))}function Lt(s,o,u){if(s.tag===3)Hx(s,s,u);else for(;o!==null;){if(o.tag===3){Hx(o,s,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ki===null||!ki.has(m))){s=Wa(u,s),s=ux(o,s,1),o=Ri(o,s,1),s=Ln(),o!==null&&(vi(o,1,s),Gn(o,s));break}}o=o.return}}function jN(s,o,u){var m=s.pingCache;m!==null&&m.delete(o),o=Ln(),s.pingedLanes|=s.suspendedLanes&u,un===s&&(gn&u)===u&&(sn===4||sn===3&&(gn&130023424)===gn&&500>wt()-Pm?Oo(s,0):Am|=u),Gn(s,o)}function Wx(s,o){o===0&&((s.mode&1)===0?o=1:(o=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var u=Ln();s=Qs(s,o),s!==null&&(vi(s,o,u),Gn(s,u))}function VN(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Wx(s,u)}function ON(s,o){var u=0;switch(s.tag){case 13:var m=s.stateNode,w=s.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(o),Wx(s,u)}var Gx;Gx=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||$n.current)Hn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Hn=!1,TN(s,o,u);Hn=(s.flags&131072)!==0}else Hn=!1,It&&(o.flags&1048576)!==0&&bw(o,vd,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Dd(s,o),s=o.pendingProps;var w=La(o,bn.current);qa(o,u),w=im(null,o,m,s,w,u);var _=om();return o.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,qn(m)?(_=!0,md(o)):_=!1,o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Jp(o),w.updater=Nd,o.stateNode=w,w._reactInternals=o,hm(o,m,s,u),o=gm(null,o,m,!0,_,u)):(o.tag=0,It&&_&&zp(o),Mn(null,o,w,u),o=o.child),o;case 16:m=o.elementType;e:{switch(Dd(s,o),s=o.pendingProps,w=m._init,m=w(m._payload),o.type=m,w=o.tag=LN(m),s=zr(m,s),w){case 0:o=mm(null,o,m,s,u);break e;case 1:o=wx(null,o,m,s,u);break e;case 11:o=px(null,o,m,s,u);break e;case 14:o=mx(null,o,m,zr(m.type,s),u);break e}throw Error(n(306,m,""))}return o;case 0:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:zr(m,w),mm(s,o,m,w,u);case 1:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:zr(m,w),wx(s,o,m,w,u);case 3:e:{if(xx(o),s===null)throw Error(n(387));m=o.pendingProps,_=o.memoizedState,w=_.element,Vw(s,o),Sd(o,m,null,u);var D=o.memoizedState;if(m=D.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){w=Wa(Error(n(423)),o),o=_x(s,o,m,u,w);break e}else if(m!==w){w=Wa(Error(n(424)),o),o=_x(s,o,m,u,w);break e}else for(sr=Ci(o.stateNode.containerInfo.firstChild),rr=o,It=!0,Br=null,u=Dw(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ba(),m===w){o=Xs(s,o,u);break e}Mn(s,o,m,u)}o=o.child}return o;case 5:return Lw(o),s===null&&Hp(o),m=o.type,w=o.pendingProps,_=s!==null?s.memoizedProps:null,D=w.children,Op(m,w)?D=null:_!==null&&Op(m,_)&&(o.flags|=32),vx(s,o),Mn(s,o,D,u),o.child;case 6:return s===null&&Hp(o),null;case 13:return Ex(s,o,u);case 4:return Zp(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=za(o,null,m,u):Mn(s,o,m,u),o.child;case 11:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:zr(m,w),px(s,o,m,w,u);case 7:return Mn(s,o,o.pendingProps,u),o.child;case 8:return Mn(s,o,o.pendingProps.children,u),o.child;case 12:return Mn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,w=o.pendingProps,_=o.memoizedProps,D=w.value,xt(_d,m._currentValue),m._currentValue=D,_!==null)if(Ur(_.value,D)){if(_.children===w.children&&!$n.current){o=Xs(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var B=_.dependencies;if(B!==null){D=_.child;for(var H=B.firstContext;H!==null;){if(H.context===m){if(_.tag===1){H=Ys(-1,u&-u),H.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?H.next=H:(H.next=de.next,de.next=H),Z.pending=H}}_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),Yp(_.return,u,o),B.lanes|=u;break}H=H.next}}else if(_.tag===10)D=_.type===o.type?null:_.child;else if(_.tag===18){if(D=_.return,D===null)throw Error(n(341));D.lanes|=u,B=D.alternate,B!==null&&(B.lanes|=u),Yp(D,u,o),D=_.sibling}else D=_.child;if(D!==null)D.return=_;else for(D=_;D!==null;){if(D===o){D=null;break}if(_=D.sibling,_!==null){_.return=D.return,D=_;break}D=D.return}_=D}Mn(s,o,w.children,u),o=o.child}return o;case 9:return w=o.type,m=o.pendingProps.children,qa(o,u),w=vr(w),m=m(w),o.flags|=1,Mn(s,o,m,u),o.child;case 14:return m=o.type,w=zr(m,o.pendingProps),w=zr(m.type,w),mx(s,o,m,w,u);case 15:return gx(s,o,o.type,o.pendingProps,u);case 17:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:zr(m,w),Dd(s,o),o.tag=1,qn(m)?(s=!0,md(o)):s=!1,qa(o,u),ax(o,m,w),hm(o,m,w,u),gm(null,o,m,!0,s,u);case 19:return Sx(s,o,u);case 22:return yx(s,o,u)}throw Error(n(156,o.tag))};function Kx(s,o){return ya(s,o)}function MN(s,o,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(s,o,u,m){return new MN(s,o,u,m)}function Om(s){return s=s.prototype,!(!s||!s.isReactComponent)}function LN(s){if(typeof s=="function")return Om(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===re)return 14}return 2}function Oi(s,o){var u=s.alternate;return u===null?(u=_r(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function qd(s,o,u,m,w,_){var D=2;if(m=s,typeof s=="function")Om(s)&&(D=1);else if(typeof s=="string")D=5;else e:switch(s){case j:return Lo(u.children,w,_,o);case S:D=8,w|=8;break;case A:return s=_r(12,u,o,w|2),s.elementType=A,s.lanes=_,s;case O:return s=_r(13,u,o,w),s.elementType=O,s.lanes=_,s;case G:return s=_r(19,u,o,w),s.elementType=G,s.lanes=_,s;case se:return Hd(u,w,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:D=10;break e;case M:D=9;break e;case F:D=11;break e;case re:D=14;break e;case ae:D=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=_r(D,u,o,w),o.elementType=s,o.type=m,o.lanes=_,o}function Lo(s,o,u,m){return s=_r(7,s,m,o),s.lanes=u,s}function Hd(s,o,u,m){return s=_r(22,s,m,o),s.elementType=se,s.lanes=u,s.stateNode={isHidden:!1},s}function Mm(s,o,u){return s=_r(6,s,null,o),s.lanes=u,s}function Lm(s,o,u){return o=_r(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function FN(s,o,u,m,w){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=m,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Fm(s,o,u,m,w,_,D,B,H){return s=new FN(s,o,u,B,H),o===1?(o=1,_===!0&&(o|=8)):o=0,_=_r(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(_),s}function UN(s,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:s,containerInfo:o,implementation:u}}function Qx(s){if(!s)return Ai;s=s._reactInternals;e:{if(Dr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(qn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(qn(u))return Tw(s,u,o)}return o}function Yx(s,o,u,m,w,_,D,B,H){return s=Fm(u,m,!0,s,w,_,D,B,H),s.context=Qx(null),u=s.current,m=Ln(),w=ji(u),_=Ys(m,w),_.callback=o??null,Ri(u,_,w),s.current.lanes=w,vi(s,w,m),Gn(s,m),s}function Wd(s,o,u,m){var w=o.current,_=Ln(),D=ji(w);return u=Qx(u),o.context===null?o.context=u:o.pendingContext=u,o=Ys(_,D),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Ri(w,o,D),s!==null&&(Hr(s,w,D,_),Td(s,w,D)),D}function Gd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Xx(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Um(s,o){Xx(s,o),(s=s.alternate)&&Xx(s,o)}function BN(){return null}var Jx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bm(s){this._internalRoot=s}Kd.prototype.render=Bm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Wd(s,o,null,null)},Kd.prototype.unmount=Bm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Vo(function(){Wd(null,s,null,null)}),o[Hs]=null}};function Kd(s){this._internalRoot=s}Kd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ku();s={blockedOn:null,target:s,priority:o};for(var u=0;u<os.length&&o!==0&&o<os[u].priority;u++);os.splice(u,0,s),u===0&&Xu(s)}};function zm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Qd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Zx(){}function zN(s,o,u,m,w){if(w){if(typeof m=="function"){var _=m;m=function(){var Z=Gd(D);_.call(Z)}}var D=Yx(o,m,s,0,null,!1,!1,"",Zx);return s._reactRootContainer=D,s[Hs]=D.current,vc(s.nodeType===8?s.parentNode:s),Vo(),D}for(;w=s.lastChild;)s.removeChild(w);if(typeof m=="function"){var B=m;m=function(){var Z=Gd(H);B.call(Z)}}var H=Fm(s,0,!1,null,null,!1,!1,"",Zx);return s._reactRootContainer=H,s[Hs]=H.current,vc(s.nodeType===8?s.parentNode:s),Vo(function(){Wd(o,H,u,m)}),H}function Yd(s,o,u,m,w){var _=u._reactRootContainer;if(_){var D=_;if(typeof w=="function"){var B=w;w=function(){var H=Gd(D);B.call(H)}}Wd(o,D,s,w)}else D=zN(u,o,s,w,m);return Gd(D)}Wu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=gi(o.pendingLanes);u!==0&&(wi(o,u|1),Gn(o,wt()),(ct&6)===0&&(Qa=wt()+500,Pi()))}break;case 13:Vo(function(){var m=Qs(s,1);if(m!==null){var w=Ln();Hr(m,s,1,w)}}),Um(s,1)}},xa=function(s){if(s.tag===13){var o=Qs(s,134217728);if(o!==null){var u=Ln();Hr(o,s,134217728,u)}Um(s,134217728)}},Gu=function(s){if(s.tag===13){var o=ji(s),u=Qs(s,o);if(u!==null){var m=Ln();Hr(u,s,o,m)}Um(s,o)}},Ku=function(){return st},Qu=function(s,o){var u=st;try{return st=s,o()}finally{st=u}},da=function(s,o,u){switch(o){case"input":if(ht(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==s&&m.form===s.form){var w=fd(m);if(!w)throw Error(n(90));te(m),ht(m,w)}}}break;case"textarea":Nt(s,u);break;case"select":o=u.value,o!=null&&Tn(s,!!u.multiple,o,!1)}},mo=Dm,Zl=Vo;var $N={usingClientEntryPoint:!1,Events:[_c,Oa,fd,ss,Jl,Dm]},Vc={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qN={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=nc(s),s===null?null:s.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||BN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{xo=Xd.inject(qN),Zn=Xd}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$N,Kn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(o))throw Error(n(200));return UN(s,o,null,u)},Kn.createRoot=function(s,o){if(!zm(s))throw Error(n(299));var u=!1,m="",w=Jx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=Fm(s,1,!1,null,null,u,!1,m,w),s[Hs]=o.current,vc(s.nodeType===8?s.parentNode:s),new Bm(o)},Kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=nc(o),s=s===null?null:s.stateNode,s},Kn.flushSync=function(s){return Vo(s)},Kn.hydrate=function(s,o,u){if(!Qd(o))throw Error(n(200));return Yd(null,s,o,!0,u)},Kn.hydrateRoot=function(s,o,u){if(!zm(s))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,w=!1,_="",D=Jx;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),o=Yx(o,null,s,1,u??null,w,!1,_,D),s[Hs]=o.current,vc(s),m)for(s=0;s<m.length;s++)u=m[s],w=u._getVersion,w=w(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,w]:o.mutableSourceEagerHydrationData.push(u,w);return new Kd(o)},Kn.render=function(s,o,u){if(!Qd(o))throw Error(n(200));return Yd(null,s,o,!1,u)},Kn.unmountComponentAtNode=function(s){if(!Qd(s))throw Error(n(40));return s._reactRootContainer?(Vo(function(){Yd(null,null,s,!1,function(){s._reactRootContainer=null,s[Hs]=null})}),!0):!1},Kn.unstable_batchedUpdates=Dm,Kn.unstable_renderSubtreeIntoContainer=function(s,o,u,m){if(!Qd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Yd(s,o,u,!1,m)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var a_;function H1(){if(a_)return Hm.exports;a_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hm.exports=JN(),Hm.exports}var l_;function ZN(){if(l_)return Jd;l_=1;var t=H1();return Jd.createRoot=t.createRoot,Jd.hydrateRoot=t.hydrateRoot,Jd}var e2=ZN();const t2=Ds(e2);var Km={exports:{}},Qm,c_;function n2(){if(c_)return Qm;c_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qm=t,Qm}var Ym,u_;function r2(){if(u_)return Ym;u_=1;var t=n2();function e(){}function n(){}return n.resetWarningCache=e,Ym=function(){function r(l,c,h,d,g,y){if(y!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Ym}var d_;function s2(){return d_||(d_=1,Km.exports=r2()()),Km.exports}var i2=s2();const Ye=Ds(i2);var Xm,h_;function o2(){if(h_)return Xm;h_=1;function t(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=_f(),n=t(e);function r(c,h,d){return h in c?Object.defineProperty(c,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[h]=d,c}function i(c,h){c.prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,h,d){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof h!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function g(y){return y.displayName||y.name||"Component"}return function(v){if(typeof v!="function")throw new Error("Expected WrappedComponent to be a React component.");var E=[],P;function C(){P=c(E.map(function(V){return V.props})),T.canUseDOM?h(P):d&&(P=d(P))}var T=(function(V){i(R,V);function R(){return V.apply(this,arguments)||this}R.peek=function(){return P},R.rewind=function(){if(R.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var $=P;return P=void 0,E=[],$};var N=R.prototype;return N.UNSAFE_componentWillMount=function(){E.push(this),C()},N.componentDidUpdate=function(){C()},N.componentWillUnmount=function(){var $=E.indexOf(this);E.splice($,1),C()},N.render=function(){return n.createElement(v,this.props)},R})(e.PureComponent);return r(T,"displayName","SideEffect("+g(v)+")"),r(T,"canUseDOM",a),T}}return Xm=l,Xm}var a2=o2();const l2=Ds(a2);var Jm,f_;function c2(){if(f_)return Jm;f_=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,h,d;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(h=c;h--!==0;)if(!i(a[h],l[h]))return!1;return!0}var g;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(g=a.entries();!(h=g.next()).done;)if(!l.has(h.value[0]))return!1;for(g=a.entries();!(h=g.next()).done;)if(!i(h.value[1],l.get(h.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(g=a.entries();!(h=g.next()).done;)if(!l.has(h.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(h=c;h--!==0;)if(a[h]!==l[h])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(d=Object.keys(a),c=d.length,c!==Object.keys(l).length)return!1;for(h=c;h--!==0;)if(!Object.prototype.hasOwnProperty.call(l,d[h]))return!1;if(t&&a instanceof Element)return!1;for(h=c;h--!==0;)if(!((d[h]==="_owner"||d[h]==="__v"||d[h]==="__o")&&a.$$typeof)&&!i(a[d[h]],l[d[h]]))return!1;return!0}return a!==a&&l!==l}return Jm=function(l,c){try{return i(l,c)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},Jm}var u2=c2();const d2=Ds(u2);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Zm,p_;function h2(){if(p_)return Zm;p_=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var h=Object.getOwnPropertyNames(l).map(function(g){return l[g]});if(h.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(g){d[g]=g}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Zm=i()?Object.assign:function(a,l){for(var c,h=r(a),d,g=1;g<arguments.length;g++){c=Object(arguments[g]);for(var y in c)e.call(c,y)&&(h[y]=c[y]);if(t){d=t(c);for(var v=0;v<d.length;v++)n.call(c,d[v])&&(h[d[v]]=c[d[v]])}}return h},Zm}var f2=h2();const p2=Ds(f2);var Ho={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ke={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ke).map(function(t){return Ke[t]});var Rt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Lh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},iu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},m2=Object.keys(Lh).reduce(function(t,e){return t[Lh[e]]=e,t},{}),g2=[Ke.NOSCRIPT,Ke.SCRIPT,Ke.STYLE],Kr="data-react-helmet",y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v2=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w2=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x2=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},m_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},_2=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Gg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},E2=function(e){var n=ul(e,Ke.TITLE),r=ul(e,iu.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=ul(e,iu.DEFAULT_TITLE);return n||i||void 0},T2=function(e){return ul(e,iu.ON_CHANGE_CLIENT_STATE)||function(){}},eg=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Qn({},r,i)},{})},S2=function(e,n){return n.filter(function(r){return typeof r[Ke.BASE]<"u"}).map(function(r){return r[Ke.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var a=Object.keys(i),l=0;l<a.length;l++){var c=a[l],h=c.toLowerCase();if(e.indexOf(h)!==-1&&i[h])return r.concat(i)}return r},[])},Mc=function(e,n,r){var i={};return r.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&P2("Helmet: "+e+' should be of type "Array". Instead found type "'+y2(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,l){var c={};l.filter(function(v){for(var E=void 0,P=Object.keys(v),C=0;C<P.length;C++){var T=P[C],V=T.toLowerCase();n.indexOf(V)!==-1&&!(E===Rt.REL&&v[E].toLowerCase()==="canonical")&&!(V===Rt.REL&&v[V].toLowerCase()==="stylesheet")&&(E=V),n.indexOf(T)!==-1&&(T===Rt.INNER_HTML||T===Rt.CSS_TEXT||T===Rt.ITEM_PROP)&&(E=T)}if(!E||!v[E])return!1;var R=v[E].toLowerCase();return i[E]||(i[E]={}),c[E]||(c[E]={}),i[E][R]?!1:(c[E][R]=!0,!0)}).reverse().forEach(function(v){return a.push(v)});for(var h=Object.keys(c),d=0;d<h.length;d++){var g=h[d],y=p2({},i[g],c[g]);i[g]=y}return a},[]).reverse()},ul=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},C2=function(e){return{baseTag:S2([Rt.HREF,Rt.TARGET],e),bodyAttributes:eg(Ho.BODY,e),defer:ul(e,iu.DEFER),encode:ul(e,iu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:eg(Ho.HTML,e),linkTags:Mc(Ke.LINK,[Rt.REL,Rt.HREF],e),metaTags:Mc(Ke.META,[Rt.NAME,Rt.CHARSET,Rt.HTTPEQUIV,Rt.PROPERTY,Rt.ITEM_PROP],e),noscriptTags:Mc(Ke.NOSCRIPT,[Rt.INNER_HTML],e),onChangeClientState:T2(e),scriptTags:Mc(Ke.SCRIPT,[Rt.SRC,Rt.INNER_HTML],e),styleTags:Mc(Ke.STYLE,[Rt.CSS_TEXT],e),title:E2(e),titleAttributes:eg(Ho.TITLE,e)}},Kg=(function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Kg(e)},0)}})(),g_=function(e){return clearTimeout(e)},b2=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Kg:global.requestAnimationFrame||Kg,A2=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||g_:global.cancelAnimationFrame||g_,P2=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Lc=null,I2=function(e){Lc&&A2(Lc),e.defer?Lc=b2(function(){y_(e,function(){Lc=null})}):(y_(e),Lc=null)},y_=function(e,n){var r=e.baseTag,i=e.bodyAttributes,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,h=e.noscriptTags,d=e.onChangeClientState,g=e.scriptTags,y=e.styleTags,v=e.title,E=e.titleAttributes;Qg(Ke.BODY,i),Qg(Ke.HTML,a),R2(v,E);var P={baseTag:Xa(Ke.BASE,r),linkTags:Xa(Ke.LINK,l),metaTags:Xa(Ke.META,c),noscriptTags:Xa(Ke.NOSCRIPT,h),scriptTags:Xa(Ke.SCRIPT,g),styleTags:Xa(Ke.STYLE,y)},C={},T={};Object.keys(P).forEach(function(V){var R=P[V],N=R.newTags,U=R.oldTags;N.length&&(C[V]=N),U.length&&(T[V]=P[V].oldTags)}),n&&n(),d(e,C,T)},W1=function(e){return Array.isArray(e)?e.join(""):e},R2=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=W1(e)),Qg(Ke.TITLE,n)},Qg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Kr),a=i?i.split(","):[],l=[].concat(a),c=Object.keys(n),h=0;h<c.length;h++){var d=c[h],g=n[d]||"";r.getAttribute(d)!==g&&r.setAttribute(d,g),a.indexOf(d)===-1&&a.push(d);var y=l.indexOf(d);y!==-1&&l.splice(y,1)}for(var v=l.length-1;v>=0;v--)r.removeAttribute(l[v]);a.length===l.length?r.removeAttribute(Kr):r.getAttribute(Kr)!==c.join(",")&&r.setAttribute(Kr,c.join(","))}},Xa=function(e,n){var r=document.head||document.querySelector(Ke.HEAD),i=r.querySelectorAll(e+"["+Kr+"]"),a=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(h){var d=document.createElement(e);for(var g in h)if(h.hasOwnProperty(g))if(g===Rt.INNER_HTML)d.innerHTML=h.innerHTML;else if(g===Rt.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=h.cssText:d.appendChild(document.createTextNode(h.cssText));else{var y=typeof h[g]>"u"?"":h[g];d.setAttribute(g,y)}d.setAttribute(Kr,"true"),a.some(function(v,E){return c=E,d.isEqualNode(v)})?a.splice(c,1):l.push(d)}),a.forEach(function(h){return h.parentNode.removeChild(h)}),l.forEach(function(h){return r.appendChild(h)}),{oldTags:a,newTags:l}},G1=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},N2=function(e,n,r,i){var a=G1(r),l=W1(n);return a?"<"+e+" "+Kr+'="true" '+a+">"+Gg(l,i)+"</"+e+">":"<"+e+" "+Kr+'="true">'+Gg(l,i)+"</"+e+">"},k2=function(e,n,r){return n.reduce(function(i,a){var l=Object.keys(a).filter(function(d){return!(d===Rt.INNER_HTML||d===Rt.CSS_TEXT)}).reduce(function(d,g){var y=typeof a[g]>"u"?g:g+'="'+Gg(a[g],r)+'"';return d?d+" "+y:y},""),c=a.innerHTML||a.cssText||"",h=g2.indexOf(e)===-1;return i+"<"+e+" "+Kr+'="true" '+l+(h?"/>":">"+c+"</"+e+">")},"")},K1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Lh[i]||i]=e[i],r},n)},D2=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[m2[i]||i]=e[i],r},n)},j2=function(e,n,r){var i,a=(i={key:n},i[Kr]=!0,i),l=K1(r,a);return[ze.createElement(Ke.TITLE,l,n)]},V2=function(e,n){return n.map(function(r,i){var a,l=(a={key:i},a[Kr]=!0,a);return Object.keys(r).forEach(function(c){var h=Lh[c]||c;if(h===Rt.INNER_HTML||h===Rt.CSS_TEXT){var d=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:d}}else l[h]=r[c]}),ze.createElement(e,l)})},Zs=function(e,n,r){switch(e){case Ke.TITLE:return{toComponent:function(){return j2(e,n.title,n.titleAttributes)},toString:function(){return N2(e,n.title,n.titleAttributes,r)}};case Ho.BODY:case Ho.HTML:return{toComponent:function(){return K1(n)},toString:function(){return G1(n)}};default:return{toComponent:function(){return V2(e,n)},toString:function(){return k2(e,n,r)}}}},Q1=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,h=e.noscriptTags,d=e.scriptTags,g=e.styleTags,y=e.title,v=y===void 0?"":y,E=e.titleAttributes;return{base:Zs(Ke.BASE,n,i),bodyAttributes:Zs(Ho.BODY,r,i),htmlAttributes:Zs(Ho.HTML,a,i),link:Zs(Ke.LINK,l,i),meta:Zs(Ke.META,c,i),noscript:Zs(Ke.NOSCRIPT,h,i),script:Zs(Ke.SCRIPT,d,i),style:Zs(Ke.STYLE,g,i),title:Zs(Ke.TITLE,{title:v,titleAttributes:E},i)}},O2=function(e){var n,r;return r=n=(function(i){x2(a,i);function a(){return v2(this,a),_2(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!d2(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,h){if(!h)return null;switch(c.type){case Ke.SCRIPT:case Ke.NOSCRIPT:return{innerHTML:h};case Ke.STYLE:return{cssText:h}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var h,d=c.child,g=c.arrayTypeChildren,y=c.newChildProps,v=c.nestedChildren;return Qn({},g,(h={},h[d.type]=[].concat(g[d.type]||[],[Qn({},y,this.mapNestedChildrenToProps(d,v))]),h))},a.prototype.mapObjectTypeChildren=function(c){var h,d,g=c.child,y=c.newProps,v=c.newChildProps,E=c.nestedChildren;switch(g.type){case Ke.TITLE:return Qn({},y,(h={},h[g.type]=E,h.titleAttributes=Qn({},v),h));case Ke.BODY:return Qn({},y,{bodyAttributes:Qn({},v)});case Ke.HTML:return Qn({},y,{htmlAttributes:Qn({},v)})}return Qn({},y,(d={},d[g.type]=Qn({},v),d))},a.prototype.mapArrayTypeChildrenToProps=function(c,h){var d=Qn({},h);return Object.keys(c).forEach(function(g){var y;d=Qn({},d,(y={},y[g]=c[g],y))}),d},a.prototype.warnOnInvalidChildren=function(c,h){return!0},a.prototype.mapChildrenToProps=function(c,h){var d=this,g={};return ze.Children.forEach(c,function(y){if(!(!y||!y.props)){var v=y.props,E=v.children,P=m_(v,["children"]),C=D2(P);switch(d.warnOnInvalidChildren(y,E),y.type){case Ke.LINK:case Ke.META:case Ke.NOSCRIPT:case Ke.SCRIPT:case Ke.STYLE:g=d.flattenArrayTypeChildren({child:y,arrayTypeChildren:g,newChildProps:C,nestedChildren:E});break;default:h=d.mapObjectTypeChildren({child:y,newProps:h,newChildProps:C,nestedChildren:E});break}}}),h=this.mapArrayTypeChildrenToProps(g,h),h},a.prototype.render=function(){var c=this.props,h=c.children,d=m_(c,["children"]),g=Qn({},d);return h&&(g=this.mapChildrenToProps(h,g)),ze.createElement(e,g)},w2(a,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),a})(ze.Component),n.propTypes={base:Ye.object,bodyAttributes:Ye.object,children:Ye.oneOfType([Ye.arrayOf(Ye.node),Ye.node]),defaultTitle:Ye.string,defer:Ye.bool,encodeSpecialCharacters:Ye.bool,htmlAttributes:Ye.object,link:Ye.arrayOf(Ye.object),meta:Ye.arrayOf(Ye.object),noscript:Ye.arrayOf(Ye.object),onChangeClientState:Ye.func,script:Ye.arrayOf(Ye.object),style:Ye.arrayOf(Ye.object),title:Ye.string,titleAttributes:Ye.object,titleTemplate:Ye.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=Q1({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},M2=function(){return null},L2=l2(C2,I2,Q1)(M2),Yg=O2(L2);Yg.renderStatic=Yg.rewind;const F2=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},X1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,g=a>>2,y=(a&3)<<4|c>>4;let v=(c&15)<<2|d>>6,E=d&63;h||(E=64,l||(v=64)),r.push(n[g],n[y],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||d==null||y==null)throw new B2;const v=a<<2|c>>4;if(r.push(v),d!==64){const E=c<<4&240|d>>2;if(r.push(E),y!==64){const P=d<<6&192|y;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(t){const e=Y1(t);return X1.encodeByteArray(e,!0)},Fh=function(t){return z2(t).replace(/\./g,"")},$2=function(t){try{return X1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=()=>q2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof v_>"u")return;const t=v_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$2(t[1]);return e&&JSON.parse(e)},tv=()=>{try{return F2()||H2()||W2()||G2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K2=t=>{var e,n;return(n=(e=tv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},J1=t=>{const e=K2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z1=()=>{var t;return(t=tv())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fh(JSON.stringify(n)),Fh(JSON.stringify(l)),""].join(".")}const Yc={};function Y2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?t.emulator.push(e):t.prod.push(e);return t}function X2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w_=!1;function nS(t,e){if(typeof window>"u"||typeof document>"u"||!Ef(window.location.host)||Yc[t]===e||Yc[t]||w_)return;Yc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=Y2().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{w_=!0,l()},v}function g(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=X2(r),E=n("text"),P=document.getElementById(E)||document.createElement("span"),C=n("learnmore"),T=document.getElementById(C)||document.createElement("a"),V=n("preprendIcon"),R=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),g(T,C);const U=d();h(R,V),N.append(R,P,T,U),document.body.appendChild(N)}a?(P.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z2(){var e;const t=(e=tv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ek(){return!Z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tk(){try{return typeof indexedDB=="object"}catch{return!1}}function nk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="FirebaseError";class ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rk,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rS.prototype.create)}}class rS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?sk(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ra(i,c,r)}}function sk(t,e){return t.replace(ik,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ik=/\{\$([^}]+)}/g;function Uh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(x_(a)&&x_(l)){if(!Uh(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class vl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ok=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lk(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ak(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ak(t){return t===Uo?void 0:t}function lk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ok(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const uk={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},dk=lt.INFO,hk={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},fk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sS{constructor(e){this.name=e,this._logLevel=dk,this._logHandler=fk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const pk=(t,e)=>e.some(n=>t instanceof n);let __,E_;function mk(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gk(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,Xg=new WeakMap,oS=new WeakMap,tg=new WeakMap,nv=new WeakMap;function yk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n($i(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&iS.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function vk(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wk(t){Jg=t(Jg)}function xk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return oS.set(r,e.sort?e.sort():[e]),$i(r)}:gk().includes(t)?function(...e){return t.apply(ng(this),e),$i(iS.get(this))}:function(...e){return $i(t.apply(ng(this),e))}}function _k(t){return typeof t=="function"?xk(t):(t instanceof IDBTransaction&&vk(t),pk(t,mk())?new Proxy(t,Jg):t)}function $i(t){if(t instanceof IDBRequest)return yk(t);if(tg.has(t))return tg.get(t);const e=_k(t);return e!==t&&(tg.set(t,e),nv.set(e,t)),e}const ng=t=>nv.get(t);function Ek(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=$i(l);return r&&l.addEventListener("upgradeneeded",h=>{r($i(l.result),h.oldVersion,h.newVersion,$i(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Tk=["get","getKey","getAll","getAllKeys","count"],Sk=["put","add","delete","clear"],rg=new Map;function T_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Tk.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&h.done]))[0]};return rg.set(e,a),a}wk(t=>({...t,get:(e,n,r)=>T_(e,n)||t.get(e,n,r),has:(e,n)=>!!T_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",S_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new sS("@firebase/app"),Ak="@firebase/app-compat",Pk="@firebase/analytics-compat",Ik="@firebase/analytics",Rk="@firebase/app-check-compat",Nk="@firebase/app-check",kk="@firebase/auth",Dk="@firebase/auth-compat",jk="@firebase/database",Vk="@firebase/data-connect",Ok="@firebase/database-compat",Mk="@firebase/functions",Lk="@firebase/functions-compat",Fk="@firebase/installations",Uk="@firebase/installations-compat",Bk="@firebase/messaging",zk="@firebase/messaging-compat",$k="@firebase/performance",qk="@firebase/performance-compat",Hk="@firebase/remote-config",Wk="@firebase/remote-config-compat",Gk="@firebase/storage",Kk="@firebase/storage-compat",Qk="@firebase/firestore",Yk="@firebase/ai",Xk="@firebase/firestore-compat",Jk="firebase",Zk="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",eD={[Zg]:"fire-core",[Ak]:"fire-core-compat",[Ik]:"fire-analytics",[Pk]:"fire-analytics-compat",[Nk]:"fire-app-check",[Rk]:"fire-app-check-compat",[kk]:"fire-auth",[Dk]:"fire-auth-compat",[jk]:"fire-rtdb",[Vk]:"fire-data-connect",[Ok]:"fire-rtdb-compat",[Mk]:"fire-fn",[Lk]:"fire-fn-compat",[Fk]:"fire-iid",[Uk]:"fire-iid-compat",[Bk]:"fire-fcm",[zk]:"fire-fcm-compat",[$k]:"fire-perf",[qk]:"fire-perf-compat",[Hk]:"fire-rc",[Wk]:"fire-rc-compat",[Gk]:"fire-gcs",[Kk]:"fire-gcs-compat",[Qk]:"fire-fst",[Xk]:"fire-fst-compat",[Yk]:"fire-vertex","fire-js":"fire-js",[Jk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,tD=new Map,ty=new Map;function C_(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ou(t){const e=t.name;if(ty.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(const n of Bh.values())C_(n,t);for(const n of tD.values())C_(n,t);return!0}function aS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lS(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new rS("app","Firebase",nD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=Zk;function uS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ey,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=Z1()),!n)throw qi.create("no-options");const a=Bh.get(i);if(a){if(Uh(n,a.options)&&Uh(r,a.config))return a;throw qi.create("duplicate-app",{appName:i})}const l=new ck(i);for(const h of ty.values())l.addComponent(h);const c=new rD(n,r,l);return Bh.set(i,c),c}function dS(t=ey){const e=Bh.get(t);if(!e&&t===ey&&Z1())return uS();if(!e)throw qi.create("no-app",{appName:t});return e}function Hi(t,e,n){let r=eD[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}ou(new vl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebase-heartbeat-database",iD=1,au="firebase-heartbeat-store";let sg=null;function hS(){return sg||(sg=Ek(sD,iD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),sg}async function oD(t){try{const n=(await hS()).transaction(au),r=await n.objectStore(au).get(fS(t));return await n.done,r}catch(e){if(e instanceof ra)si.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function b_(t,e){try{const r=(await hS()).transaction(au,"readwrite");await r.objectStore(au).put(e,fS(t)),await r.done}catch(n){if(n instanceof ra)si.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,lD=30;class cD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=A_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lD){const l=hD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:r,unsentEntries:i}=uD(this._heartbeatsCache.heartbeats),a=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return si.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function uD(t,e=aD){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),P_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tk()?nk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function P_(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function hD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){ou(new vl("platform-logger",e=>new Ck(e),"PRIVATE")),ou(new vl("heartbeat",e=>new cD(e),"PRIVATE")),Hi(Zg,S_,t),Hi(Zg,S_,"esm2020"),Hi("fire-js","")}fD("");var pD="firebase",mD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(pD,mD,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,pS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,S){function A(){}A.prototype=S.prototype,j.D=S.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(k,M,F){for(var O=Array(arguments.length-2),G=2;G<arguments.length;G++)O[G-2]=arguments[G];return S.prototype[M].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,S,A){A||(A=0);var k=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)k[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;16>M;++M)k[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=j.g[0],A=j.g[1],M=j.g[2];var F=j.g[3],O=S+(F^A&(M^F))+k[0]+3614090360&4294967295;S=A+(O<<7&4294967295|O>>>25),O=F+(M^S&(A^M))+k[1]+3905402710&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(A^F&(S^A))+k[2]+606105819&4294967295,M=F+(O<<17&4294967295|O>>>15),O=A+(S^M&(F^S))+k[3]+3250441966&4294967295,A=M+(O<<22&4294967295|O>>>10),O=S+(F^A&(M^F))+k[4]+4118548399&4294967295,S=A+(O<<7&4294967295|O>>>25),O=F+(M^S&(A^M))+k[5]+1200080426&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(A^F&(S^A))+k[6]+2821735955&4294967295,M=F+(O<<17&4294967295|O>>>15),O=A+(S^M&(F^S))+k[7]+4249261313&4294967295,A=M+(O<<22&4294967295|O>>>10),O=S+(F^A&(M^F))+k[8]+1770035416&4294967295,S=A+(O<<7&4294967295|O>>>25),O=F+(M^S&(A^M))+k[9]+2336552879&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(A^F&(S^A))+k[10]+4294925233&4294967295,M=F+(O<<17&4294967295|O>>>15),O=A+(S^M&(F^S))+k[11]+2304563134&4294967295,A=M+(O<<22&4294967295|O>>>10),O=S+(F^A&(M^F))+k[12]+1804603682&4294967295,S=A+(O<<7&4294967295|O>>>25),O=F+(M^S&(A^M))+k[13]+4254626195&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(A^F&(S^A))+k[14]+2792965006&4294967295,M=F+(O<<17&4294967295|O>>>15),O=A+(S^M&(F^S))+k[15]+1236535329&4294967295,A=M+(O<<22&4294967295|O>>>10),O=S+(M^F&(A^M))+k[1]+4129170786&4294967295,S=A+(O<<5&4294967295|O>>>27),O=F+(A^M&(S^A))+k[6]+3225465664&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^A&(F^S))+k[11]+643717713&4294967295,M=F+(O<<14&4294967295|O>>>18),O=A+(F^S&(M^F))+k[0]+3921069994&4294967295,A=M+(O<<20&4294967295|O>>>12),O=S+(M^F&(A^M))+k[5]+3593408605&4294967295,S=A+(O<<5&4294967295|O>>>27),O=F+(A^M&(S^A))+k[10]+38016083&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^A&(F^S))+k[15]+3634488961&4294967295,M=F+(O<<14&4294967295|O>>>18),O=A+(F^S&(M^F))+k[4]+3889429448&4294967295,A=M+(O<<20&4294967295|O>>>12),O=S+(M^F&(A^M))+k[9]+568446438&4294967295,S=A+(O<<5&4294967295|O>>>27),O=F+(A^M&(S^A))+k[14]+3275163606&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^A&(F^S))+k[3]+4107603335&4294967295,M=F+(O<<14&4294967295|O>>>18),O=A+(F^S&(M^F))+k[8]+1163531501&4294967295,A=M+(O<<20&4294967295|O>>>12),O=S+(M^F&(A^M))+k[13]+2850285829&4294967295,S=A+(O<<5&4294967295|O>>>27),O=F+(A^M&(S^A))+k[2]+4243563512&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^A&(F^S))+k[7]+1735328473&4294967295,M=F+(O<<14&4294967295|O>>>18),O=A+(F^S&(M^F))+k[12]+2368359562&4294967295,A=M+(O<<20&4294967295|O>>>12),O=S+(A^M^F)+k[5]+4294588738&4294967295,S=A+(O<<4&4294967295|O>>>28),O=F+(S^A^M)+k[8]+2272392833&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^A)+k[11]+1839030562&4294967295,M=F+(O<<16&4294967295|O>>>16),O=A+(M^F^S)+k[14]+4259657740&4294967295,A=M+(O<<23&4294967295|O>>>9),O=S+(A^M^F)+k[1]+2763975236&4294967295,S=A+(O<<4&4294967295|O>>>28),O=F+(S^A^M)+k[4]+1272893353&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^A)+k[7]+4139469664&4294967295,M=F+(O<<16&4294967295|O>>>16),O=A+(M^F^S)+k[10]+3200236656&4294967295,A=M+(O<<23&4294967295|O>>>9),O=S+(A^M^F)+k[13]+681279174&4294967295,S=A+(O<<4&4294967295|O>>>28),O=F+(S^A^M)+k[0]+3936430074&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^A)+k[3]+3572445317&4294967295,M=F+(O<<16&4294967295|O>>>16),O=A+(M^F^S)+k[6]+76029189&4294967295,A=M+(O<<23&4294967295|O>>>9),O=S+(A^M^F)+k[9]+3654602809&4294967295,S=A+(O<<4&4294967295|O>>>28),O=F+(S^A^M)+k[12]+3873151461&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^A)+k[15]+530742520&4294967295,M=F+(O<<16&4294967295|O>>>16),O=A+(M^F^S)+k[2]+3299628645&4294967295,A=M+(O<<23&4294967295|O>>>9),O=S+(M^(A|~F))+k[0]+4096336452&4294967295,S=A+(O<<6&4294967295|O>>>26),O=F+(A^(S|~M))+k[7]+1126891415&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~A))+k[14]+2878612391&4294967295,M=F+(O<<15&4294967295|O>>>17),O=A+(F^(M|~S))+k[5]+4237533241&4294967295,A=M+(O<<21&4294967295|O>>>11),O=S+(M^(A|~F))+k[12]+1700485571&4294967295,S=A+(O<<6&4294967295|O>>>26),O=F+(A^(S|~M))+k[3]+2399980690&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~A))+k[10]+4293915773&4294967295,M=F+(O<<15&4294967295|O>>>17),O=A+(F^(M|~S))+k[1]+2240044497&4294967295,A=M+(O<<21&4294967295|O>>>11),O=S+(M^(A|~F))+k[8]+1873313359&4294967295,S=A+(O<<6&4294967295|O>>>26),O=F+(A^(S|~M))+k[15]+4264355552&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~A))+k[6]+2734768916&4294967295,M=F+(O<<15&4294967295|O>>>17),O=A+(F^(M|~S))+k[13]+1309151649&4294967295,A=M+(O<<21&4294967295|O>>>11),O=S+(M^(A|~F))+k[4]+4149444226&4294967295,S=A+(O<<6&4294967295|O>>>26),O=F+(A^(S|~M))+k[11]+3174756917&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~A))+k[2]+718787259&4294967295,M=F+(O<<15&4294967295|O>>>17),O=A+(F^(M|~S))+k[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+F&4294967295}r.prototype.u=function(j,S){S===void 0&&(S=j.length);for(var A=S-this.blockSize,k=this.B,M=this.h,F=0;F<S;){if(M==0)for(;F<=A;)i(this,j,F),F+=this.blockSize;if(typeof j=="string"){for(;F<S;)if(k[M++]=j.charCodeAt(F++),M==this.blockSize){i(this,k),M=0;break}}else for(;F<S;)if(k[M++]=j[F++],M==this.blockSize){i(this,k),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;var A=8*this.o;for(S=j.length-8;S<j.length;++S)j[S]=A&255,A/=256;for(this.u(j),j=Array(16),S=A=0;4>S;++S)for(var k=0;32>k;k+=8)j[A++]=this.g[S]>>>k&255;return j};function a(j,S){var A=c;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=S(j)}function l(j,S){this.h=S;for(var A=[],k=!0,M=j.length-1;0<=M;M--){var F=j[M]|0;k&&F==S||(A[M]=F,k=!1)}this.g=A}var c={};function h(j){return-128<=j&&128>j?a(j,function(S){return new l([S|0],0>S?-1:0)}):new l([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return y;if(0>j)return T(d(-j));for(var S=[],A=1,k=0;j>=A;k++)S[k]=j/A|0,A*=4294967296;return new l(S,0)}function g(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return T(g(j.substring(1),S));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(S,8)),k=y,M=0;M<j.length;M+=8){var F=Math.min(8,j.length-M),O=parseInt(j.substring(M,M+F),S);8>F?(F=d(Math.pow(S,F)),k=k.j(F).add(d(O))):(k=k.j(A),k=k.add(d(O)))}return k}var y=h(0),v=h(1),E=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-T(this).m();for(var j=0,S=1,A=0;A<this.g.length;A++){var k=this.i(A);j+=(0<=k?k:4294967296+k)*S,S*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(P(this))return"0";if(C(this))return"-"+T(this).toString(j);for(var S=d(Math.pow(j,6)),A=this,k="";;){var M=U(A,S).g;A=V(A,M.j(S));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=M,P(A))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function P(j){if(j.h!=0)return!1;for(var S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function C(j){return j.h==-1}t.l=function(j){return j=V(this,j),C(j)?-1:P(j)?0:1};function T(j){for(var S=j.g.length,A=[],k=0;k<S;k++)A[k]=~j.g[k];return new l(A,~j.h).add(v)}t.abs=function(){return C(this)?T(this):this},t.add=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],k=0,M=0;M<=S;M++){var F=k+(this.i(M)&65535)+(j.i(M)&65535),O=(F>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);k=O>>>16,F&=65535,O&=65535,A[M]=O<<16|F}return new l(A,A[A.length-1]&-2147483648?-1:0)};function V(j,S){return j.add(T(S))}t.j=function(j){if(P(this)||P(j))return y;if(C(this))return C(j)?T(this).j(T(j)):T(T(this).j(j));if(C(j))return T(this.j(T(j)));if(0>this.l(E)&&0>j.l(E))return d(this.m()*j.m());for(var S=this.g.length+j.g.length,A=[],k=0;k<2*S;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<j.g.length;M++){var F=this.i(k)>>>16,O=this.i(k)&65535,G=j.i(M)>>>16,re=j.i(M)&65535;A[2*k+2*M]+=O*re,R(A,2*k+2*M),A[2*k+2*M+1]+=F*re,R(A,2*k+2*M+1),A[2*k+2*M+1]+=O*G,R(A,2*k+2*M+1),A[2*k+2*M+2]+=F*G,R(A,2*k+2*M+2)}for(k=0;k<S;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=S;k<2*S;k++)A[k]=0;return new l(A,0)};function R(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function N(j,S){this.g=j,this.h=S}function U(j,S){if(P(S))throw Error("division by zero");if(P(j))return new N(y,y);if(C(j))return S=U(T(j),S),new N(T(S.g),T(S.h));if(C(S))return S=U(j,T(S)),new N(T(S.g),S.h);if(30<j.g.length){if(C(j)||C(S))throw Error("slowDivide_ only works with positive integers.");for(var A=v,k=S;0>=k.l(j);)A=$(A),k=$(k);var M=q(A,1),F=q(k,1);for(k=q(k,2),A=q(A,2);!P(k);){var O=F.add(k);0>=O.l(j)&&(M=M.add(A),F=O),k=q(k,1),A=q(A,1)}return S=V(j,M.j(S)),new N(M,S)}for(M=y;0<=j.l(S);){for(A=Math.max(1,Math.floor(j.m()/S.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=d(A),O=F.j(S);C(O)||0<O.l(j);)A-=k,F=d(A),O=F.j(S);P(F)&&(F=v),M=M.add(F),j=V(j,O)}return new N(M,j)}t.A=function(j){return U(this,j).h},t.and=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)&j.i(k);return new l(A,this.h&j.h)},t.or=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)|j.i(k);return new l(A,this.h|j.h)},t.xor=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)^j.i(k);return new l(A,this.h^j.h)};function $(j){for(var S=j.g.length+1,A=[],k=0;k<S;k++)A[k]=j.i(k)<<1|j.i(k-1)>>>31;return new l(A,j.h)}function q(j,S){var A=S>>5;S%=32;for(var k=j.g.length-A,M=[],F=0;F<k;F++)M[F]=0<S?j.i(F+A)>>>S|j.i(F+A+1)<<32-S:j.i(F+A);return new l(M,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,Wi=l}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mS,zc,gS,Sh,ny,yS,vS,wS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,I){return f==Array.prototype||f==Object.prototype||(f[x]=I.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var x=0;x<f.length;++x){var I=f[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(f,x){if(x)e:{var I=r;f=f.split(".");for(var L=0;L<f.length-1;L++){var Q=f[L];if(!(Q in I))break e;I=I[Q]}f=f[f.length-1],L=I[f],x=x(L),x!=L&&x!=null&&e(I,f,{configurable:!0,writable:!0,value:x})}}function a(f,x){f instanceof String&&(f+="");var I=0,L=!1,Q={next:function(){if(!L&&I<f.length){var ne=I++;return{value:x(ne,f[ne]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return a(this,function(x,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function d(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function g(f,x,I){return f.call.apply(f.bind,arguments)}function y(f,x,I){if(!f)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,L),f.apply(x,Q)}}return function(){return f.apply(x,arguments)}}function v(f,x,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,v.apply(null,arguments)}function E(f,x){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),f.apply(this,L)}}function P(f,x){function I(){}I.prototype=x.prototype,f.aa=x.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(L,Q,ne){for(var ge=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)ge[gt-2]=arguments[gt];return x.prototype[Q].apply(L,ge)}}function C(f){const x=f.length;if(0<x){const I=Array(x);for(let L=0;L<x;L++)I[L]=f[L];return I}return[]}function T(f,x){for(let I=1;I<arguments.length;I++){const L=arguments[I];if(h(L)){const Q=f.length||0,ne=L.length||0;f.length=Q+ne;for(let ge=0;ge<ne;ge++)f[Q+ge]=L[ge]}else f.push(L)}}class V{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function R(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var $=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function q(f,x,I){for(const L in f)x.call(I,f[L],L,f)}function j(f,x){for(const I in f)x.call(void 0,f[I],I,f)}function S(f){const x={};for(const I in f)x[I]=f[I];return x}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,x){let I,L;for(let Q=1;Q<arguments.length;Q++){L=arguments[Q];for(I in L)f[I]=L[I];for(let ne=0;ne<A.length;ne++)I=A[ne],Object.prototype.hasOwnProperty.call(L,I)&&(f[I]=L[I])}}function M(f){var x=1;f=f.split(":");const I=[];for(;0<x&&f.length;)I.push(f.shift()),x--;return f.length&&I.push(f.join(":")),I}function F(f){c.setTimeout(()=>{throw f},0)}function O(){var f=ee;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class G{constructor(){this.h=this.g=null}add(x,I){const L=re.get();L.set(x,I),this.h?this.h.next=L:this.g=L,this.h=L}}var re=new V(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let se,K=!1,ee=new G,le=()=>{const f=c.Promise.resolve(void 0);se=()=>{f.then(z)}};var z=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(I){F(I)}var x=re;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}K=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};c.addEventListener("test",I,x),c.removeEventListener("test",I,x)}catch{}return f})();function Se(f,x){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,L=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if($){e:{try{U(x.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(x=null)}}else I=="mouseover"?x=f.fromElement:I=="mouseout"&&(x=f.toElement);this.relatedTarget=x,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Se.aa.h.call(this)}}P(Se,oe);var Ie={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),fe=0;function xe(f,x,I,L,Q){this.listener=f,this.proxy=null,this.src=x,this.type=I,this.capture=!!L,this.ha=Q,this.key=++fe,this.da=this.fa=!1}function Ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function we(f){this.src=f,this.g={},this.h=0}we.prototype.add=function(f,x,I,L,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ge=ye(f,x,L,Q);return-1<ge?(x=f[ge],I||(x.fa=!1)):(x=new xe(x,this.src,ne,!!L,Q),x.fa=I,f.push(x)),x};function te(f,x){var I=x.type;if(I in f.g){var L=f.g[I],Q=Array.prototype.indexOf.call(L,x,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(L,Q,1),ne&&(Ee(x),f.g[I].length==0&&(delete f.g[I],f.h--))}}function ye(f,x,I,L){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==x&&ne.capture==!!I&&ne.ha==L)return Q}return-1}var be="closure_lm_"+(1e6*Math.random()|0),De={};function je(f,x,I,L,Q){if(Array.isArray(x)){for(var ne=0;ne<x.length;ne++)je(f,x[ne],I,L,Q);return null}return I=Cn(I),f&&f[pe]?f.K(x,I,d(L)?!!L.capture:!1,Q):ht(f,x,I,!1,L,Q)}function ht(f,x,I,L,Q,ne){if(!x)throw Error("Invalid event type");var ge=d(Q)?!!Q.capture:!!Q,gt=dr(f);if(gt||(f[be]=gt=new we(f)),I=gt.add(x,I,L,ge,ne),I.proxy)return I;if(L=Ze(),I.proxy=L,L.src=f,L.listener=I,f.addEventListener)_e||(Q=ge),Q===void 0&&(Q=!1),f.addEventListener(x.toString(),L,Q);else if(f.attachEvent)f.attachEvent(Tn(x.toString()),L);else if(f.addListener&&f.removeListener)f.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ze(){function f(I){return x.call(f.src,f.listener,I)}const x=Sn;return f}function tt(f,x,I,L,Q){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)tt(f,x[ne],I,L,Q);else L=d(L)?!!L.capture:!!L,I=Cn(I),f&&f[pe]?(f=f.i,x=String(x).toString(),x in f.g&&(ne=f.g[x],I=ye(ne,I,L,Q),-1<I&&(Ee(ne[I]),Array.prototype.splice.call(ne,I,1),ne.length==0&&(delete f.g[x],f.h--)))):f&&(f=dr(f))&&(x=f.g[x.toString()],f=-1,x&&(f=ye(x,I,L,Q)),(I=-1<f?x[f]:null)&&mt(I))}function mt(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[pe])te(x.i,f);else{var I=f.type,L=f.proxy;x.removeEventListener?x.removeEventListener(I,L,f.capture):x.detachEvent?x.detachEvent(Tn(I),L):x.addListener&&x.removeListener&&x.removeListener(L),(I=dr(x))?(te(I,f),I.h==0&&(I.src=null,x[be]=null)):Ee(f)}}}function Tn(f){return f in De?De[f]:De[f]="on"+f}function Sn(f,x){if(f.da)f=!0;else{x=new Se(x,this);var I=f.listener,L=f.ha||f.src;f.fa&&mt(f),f=I.call(L,x)}return f}function dr(f){return f=f[be],f instanceof we?f:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(f){return typeof f=="function"?f:(f[Nt]||(f[Nt]=function(x){return f.handleEvent(x)}),f[Nt])}function Xe(){X.call(this),this.i=new we(this),this.M=this,this.F=null}P(Xe,X),Xe.prototype[pe]=!0,Xe.prototype.removeEventListener=function(f,x,I,L){tt(this,f,x,I,L)};function it(f,x){var I,L=f.F;if(L)for(I=[];L;L=L.F)I.push(L);if(f=f.M,L=x.type||x,typeof x=="string")x=new oe(x,f);else if(x instanceof oe)x.target=x.target||f;else{var Q=x;x=new oe(L,f),k(x,Q)}if(Q=!0,I)for(var ne=I.length-1;0<=ne;ne--){var ge=x.g=I[ne];Q=tn(ge,L,!0,x)&&Q}if(ge=x.g=f,Q=tn(ge,L,!0,x)&&Q,Q=tn(ge,L,!1,x)&&Q,I)for(ne=0;ne<I.length;ne++)ge=x.g=I[ne],Q=tn(ge,L,!1,x)&&Q}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var I=f.g[x],L=0;L<I.length;L++)Ee(I[L]);delete f.g[x],f.h--}}this.F=null},Xe.prototype.K=function(f,x,I,L){return this.i.add(String(f),x,!1,I,L)},Xe.prototype.L=function(f,x,I,L){return this.i.add(String(f),x,!0,I,L)};function tn(f,x,I,L){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var Q=!0,ne=0;ne<x.length;++ne){var ge=x[ne];if(ge&&!ge.da&&ge.capture==I){var gt=ge.listener,nn=ge.ha||ge.src;ge.fa&&te(f.i,ge),Q=gt.call(nn,L)!==!1&&Q}}return Q&&!L.defaultPrevented}function Ls(f,x,I){if(typeof f=="function")I&&(f=v(f,I));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(f,x||0)}function Ir(f){f.g=Ls(()=>{f.g=null,f.i&&(f.i=!1,Ir(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Un extends X{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ir(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(f){X.call(this),this.h=f,this.g={}}P(an,X);var Rr=[];function pi(f){q(f.g,function(x,I){this.g.hasOwnProperty(I)&&mt(x)},f),f.g={}}an.prototype.N=function(){an.aa.N.call(this),pi(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ql=c.JSON.stringify,Yl=c.JSON.parse,Xl=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function po(){}po.prototype.h=null;function ua(f){return f.h||(f.h=f.i())}function da(){}var hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){oe.call(this,"d")}P(rs,oe);function ha(){oe.call(this,"c")}P(ha,oe);var ss={},Jl=null;function mo(){return Jl=Jl||new Xe}ss.La="serverreachability";function Zl(f){oe.call(this,ss.La,f)}P(Zl,oe);function Fs(f){const x=mo();it(x,new Zl(x))}ss.STAT_EVENT="statevent";function ec(f,x){oe.call(this,ss.STAT_EVENT,f),this.stat=x}P(ec,oe);function zt(f){const x=mo();it(x,new ec(x,f))}ss.Ma="timingevent";function fa(f,x){oe.call(this,ss.Ma,f),this.size=x}P(fa,oe);function Nr(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function yo(f,x,I,L,Q,ne){f.info(function(){if(f.g)if(ne)for(var ge="",gt=ne.split("&"),nn=0;nn<gt.length;nn++){var ot=gt[nn].split("=");if(1<ot.length){var ln=ot[0];ot=ot[1];var Kt=ln.split("_");ge=2<=Kt.length&&Kt[1]=="type"?ge+(ln+"="+ot+"&"):ge+(ln+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+L+") [attempt "+Q+"]: "+x+`
`+I+`
`+ge})}function pa(f,x,I,L,Q,ne,ge){f.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Q+"]: "+x+`
`+I+`
`+ne+" "+ge})}function kr(f,x,I,L){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+yp(f,I)+(L?" "+L:"")})}function tc(f,x){f.info(function(){return"TIMEOUT: "+x})}go.prototype.info=function(){};function yp(f,x){if(!f.g)return x;if(!x)return null;try{var I=JSON.parse(x);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var L=I[f];if(!(2>L.length)){var Q=L[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Ql(I)}catch{return x}}var ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function vo(){}P(vo,po),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},Dr=new vo;function jr(f,x,I,L){this.j=f,this.i=x,this.l=I,this.R=L||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}var nc={},ga={};function ya(f,x,I){f.L=1,f.v=wi(er(x)),f.m=I,f.P=!0,rc(f,null)}function rc(f,x){f.F=Date.now(),wt(f),f.A=er(f.v);var I=f.A,L=f.R;Array.isArray(L)||(L=[String(L)]),_i(I.i,"t",L),f.C=0,I=f.j.J,f.h=new Fu,f.g=rd(f.j,I?x:null,!f.m),0<f.O&&(f.M=new Un(v(f.Y,f,f.g),f.O)),x=f.U,I=f.g,L=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Rr[0]=Q.toString()),Q=Rr);for(var ne=0;ne<Q.length;ne++){var ge=je(I,Q[ne],L||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Fs(),yo(f.i,f.u,f.A,f.l,f.R,f.m)}jr.prototype.ca=function(f){f=f.target;const x=this.M;x&&zn(f)==3?x.j():this.Y(f)},jr.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=zn(this.g);var x=this.g.Ba();const mr=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||Kt!=4||x==7||(x==8||0>=mr?Fs(3):Fs(2)),wo(this);var I=this.g.Z();this.X=I;t:if(Uu(this)){var L=cc(this.g);f="";var Q=L.length,ne=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),mi(this);var ge="";break t}this.h.i=new c.TextDecoder}for(x=0;x<Q;x++)this.h.h=!0,f+=this.h.i.decode(L[x],{stream:!(ne&&x==Q-1)});L.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,pa(this.i,this.u,this.A,this.l,this.R,Kt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,nn=this.g;if((gt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(gt)){var ot=gt;break t}}ot=null}if(I=ot)kr(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sc(this,I);else{this.o=!1,this.s=3,zt(12),fr(this),mi(this);break e}}if(this.P){I=!0;let nr;for(;!this.J&&this.C<ge.length;)if(nr=vp(this,ge),nr==ga){Kt==4&&(this.s=4,zt(14),I=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==nc){this.s=4,zt(15),kr(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else kr(this.i,this.l,nr,null),sc(this,nr);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ge.length!=0||this.h.h||(this.s=1,zt(16),I=!1),this.o=this.o&&I,!I)kr(this.i,this.l,ge,"[Invalid Chunked Response]"),fr(this),mi(this);else if(0<ge.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),dc(ln),ln.M=!0,zt(11))}}else kr(this.i,this.l,ge,null),sc(this,ge);Kt==4&&fr(this),this.o&&!this.J&&(Kt==4?Pa(this.j,this):(this.o=!1,wt(this)))}else Ta(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),fr(this),mi(this)}}}catch{}finally{}};function Uu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vp(f,x){var I=f.C,L=x.indexOf(`
`,I);return L==-1?ga:(I=Number(x.substring(I,L)),isNaN(I)?nc:(L+=1,L+I>x.length?ga:(x=x.slice(L,L+I),f.C=L+I,x)))}jr.prototype.cancel=function(){this.J=!0,fr(this)};function wt(f){f.S=Date.now()+f.I,Bu(f,f.I)}function Bu(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Nr(v(f.ba,f),x)}function wo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}jr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(tc(this.i,this.A),this.L!=2&&(Fs(),zt(17)),fr(this),this.s=2,mi(this)):Bu(this,this.S-f)};function mi(f){f.j.G==0||f.J||Pa(f.j,f)}function fr(f){wo(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,pi(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function sc(f,x){try{var I=f.j;if(I.G!=0&&(I.g==f||Vn(I.h,f))){if(!f.K&&Vn(I.h,f)&&I.G==3){try{var L=I.Da.g.parse(x)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Q=L;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)Aa(I),Fr(I);else break e;ba(I),zt(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Nr(v(I.Za,I),6e3));if(1>=$u(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else qs(I,11)}else if((f.K||I.g==f)&&Aa(I),!R(x))for(Q=I.Da.g.parse(x),x=0;x<Q.length;x++){let ot=Q[x];if(I.T=ot[0],ot=ot[1],I.G==2)if(ot[0]=="c"){I.K=ot[1],I.ia=ot[2];const ln=ot[3];ln!=null&&(I.la=ln,I.j.info("VER="+I.la));const Kt=ot[4];Kt!=null&&(I.Aa=Kt,I.j.info("SVER="+I.Aa));const mr=ot[5];mr!=null&&typeof mr=="number"&&0<mr&&(L=1.5*mr,I.L=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const nr=f.g;if(nr){const bo=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var ne=L.h;ne.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ic(ne,ne.h),ne.h=null))}if(L.D){const Ra=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(L.ya=Ra,yt(L.I,L.D,Ra))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),L=I;var ge=f;if(L.qa=nd(L,L.J?L.ia:null,L.W),ge.K){qu(L.h,ge);var gt=ge,nn=L.L;nn&&(gt.I=nn),gt.B&&(wo(gt),wt(gt)),L.g=ge}else Co(L);0<I.i.length&&ls(I)}else ot[0]!="stop"&&ot[0]!="close"||qs(I,7);else I.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?qs(I,7):pn(I):ot[0]!="noop"&&I.l&&I.l.ta(ot),I.v=0)}}Fs(4)}catch{}}var zu=class{constructor(f,x){this.g=f,this.map=x}};function xo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $u(f){return f.h?1:f.g?f.g.size:0}function Vn(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function ic(f,x){f.g?f.g.add(x):f.h=x}function qu(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}xo.prototype.cancel=function(){if(this.i=Hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Hu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const I of f.g.values())x=x.concat(I.D);return x}return C(f.i)}function va(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var x=[],I=f.length,L=0;L<I;L++)x.push(f[L]);return x}x=[],I=0;for(L in f)x[I++]=f[L];return x}function wa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var x=[];f=f.length;for(var I=0;I<f;I++)x.push(I);return x}x=[],I=0;for(const L in f)x[I++]=L;return x}}}function gi(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var I=wa(f),L=va(f),Q=L.length,ne=0;ne<Q;ne++)x.call(void 0,L[ne],I&&I[ne],f)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wp(f,x){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var L=f[I].indexOf("="),Q=null;if(0<=L){var ne=f[I].substring(0,L);Q=f[I].substring(L+1)}else ne=f[I];x(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Us(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Us){this.h=f.h,Eo(this,f.j),this.o=f.o,this.g=f.g,yi(this,f.s),this.l=f.l;var x=f.i,I=new is;I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),vi(this,I),this.m=f.m}else f&&(x=String(f).match(_o))?(this.h=!1,Eo(this,x[1]||"",!0),this.o=st(x[2]||""),this.g=st(x[3]||"",!0),yi(this,x[4]),this.l=st(x[5]||"",!0),vi(this,x[6]||"",!0),this.m=st(x[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Us.prototype.toString=function(){var f=[],x=this.j;x&&f.push(xi(x,xa,!0),":");var I=this.g;return(I||x=="file")&&(f.push("//"),(x=this.o)&&f.push(xi(x,xa,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(xi(I,I.charAt(0)=="/"?Ku:Gu,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",xi(I,oc)),f.join("")};function er(f){return new Us(f)}function Eo(f,x,I){f.j=I?st(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function yi(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function vi(f,x,I){x instanceof is?(f.i=x,os(f.i,f.h)):(I||(x=xi(x,Qu)),f.i=new is(x,f.h))}function yt(f,x,I){f.i.set(x,I)}function wi(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function st(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xi(f,x,I){return typeof f=="string"?(f=encodeURI(f).replace(x,Wu),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xa=/[#\/\?@]/g,Gu=/[#\?:]/g,Ku=/[#\?]/g,Qu=/[#\?@]/g,oc=/#/g;function is(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function fn(f){f.g||(f.g=new Map,f.h=0,f.i&&wp(f.i,function(x,I){f.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}t=is.prototype,t.add=function(f,x){fn(this),this.i=null,f=pr(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(x),this.h+=1,this};function Vr(f,x){fn(f),x=pr(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Or(f,x){return fn(f),x=pr(f,x),f.g.has(x)}t.forEach=function(f,x){fn(this),this.g.forEach(function(I,L){I.forEach(function(Q){f.call(x,Q,L,this)},this)},this)},t.na=function(){fn(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),I=[];for(let L=0;L<x.length;L++){const Q=f[L];for(let ne=0;ne<Q.length;ne++)I.push(x[L])}return I},t.V=function(f){fn(this);let x=[];if(typeof f=="string")Or(this,f)&&(x=x.concat(this.g.get(pr(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)x=x.concat(f[I])}return x},t.set=function(f,x){return fn(this),this.i=null,f=pr(this,f),Or(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function _i(f,x,I){Vr(f,x),0<I.length&&(f.i=null,f.g.set(pr(f,x),C(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var I=0;I<x.length;I++){var L=x[I];const ne=encodeURIComponent(String(L)),ge=this.V(L);for(L=0;L<ge.length;L++){var Q=ne;ge[L]!==""&&(Q+="="+encodeURIComponent(String(ge[L]))),f.push(Q)}}return this.i=f.join("&")};function pr(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function os(f,x){x&&!f.j&&(fn(f),f.i=null,f.g.forEach(function(I,L){var Q=L.toLowerCase();L!=Q&&(Vr(this,L),_i(this,Q,I))},f)),f.j=x}function xp(f,x){const I=new go;if(c.Image){const L=new Image;L.onload=E(Bn,I,"TestLoadImage: loaded",!0,x,L),L.onerror=E(Bn,I,"TestLoadImage: error",!1,x,L),L.onabort=E(Bn,I,"TestLoadImage: abort",!1,x,L),L.ontimeout=E(Bn,I,"TestLoadImage: timeout",!1,x,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=f}else x(!1)}function Yu(f,x){const I=new go,L=new AbortController,Q=setTimeout(()=>{L.abort(),Bn(I,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:L.signal}).then(ne=>{clearTimeout(Q),ne.ok?Bn(I,"TestPingServer: ok",!0,x):Bn(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Bn(I,"TestPingServer: error",!1,x)})}function Bn(f,x,I,L,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),L(I)}catch{}}function _p(){this.g=new Xl}function Xu(f,x,I){const L=I||"";try{gi(f,function(Q,ne){let ge=Q;d(Q)&&(ge=Ql(Q)),x.push(L+ne+"="+encodeURIComponent(ge))})}catch(Q){throw x.push(L+"type="+encodeURIComponent("_badmap")),Q}}function Bs(f){this.l=f.Ub||null,this.j=f.eb||!1}P(Bs,po),Bs.prototype.g=function(){return new To(this.l,this.j)},Bs.prototype.i=(function(f){return function(){return f}})({});function To(f,x){Xe.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(To,Xe),t=To.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Lr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ju(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ju(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Mr(this):Lr(this),this.readyState==3&&Ju(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Mr(this))},t.Qa=function(f){this.g&&(this.response=f,Mr(this))},t.ga=function(){this.g&&Mr(this)};function Mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Lr(f)}t.setRequestHeader=function(f,x){this.u.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=x.next();return f.join(`\r
`)};function Lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zs(f){let x="";return q(f,function(I,L){x+=L,x+=":",x+=I,x+=`\r
`}),x}function Ei(f,x,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=zs(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):yt(f,x,I))}function Pt(f){Xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Pt,Xe);var Ep=/^https?$/i,ac=["POST","PUT"];t=Pt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,x,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?ua(this.o):ua(Dr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(ne){So(this,ne);return}if(f=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Q in L)I.set(Q,L[Q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ne of L.keys())I.set(ne,L.get(ne));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ac,x,void 0))||L||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of I)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){So(this,ne)}};function So(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,_a(f),tr(f)}function _a(f){f.A||(f.A=!0,it(f,"complete"),it(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,it(this,"complete"),it(this,"abort"),tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lc(this):this.bb())},t.bb=function(){lc(this)};function lc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||zn(f)!=4||f.Z()!=2)){if(f.u&&zn(f)==4)Ls(f.Ea,0,f);else if(it(f,"readystatechange"),zn(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var L;if(L=ge===0){var Q=String(f.D).match(_o)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),L=!Ep.test(Q?Q.toLowerCase():"")}I=L}if(I)it(f,"complete"),it(f,"success");else{f.m=6;try{var ne=2<zn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",_a(f)}}finally{tr(f)}}}}function tr(f,x){if(f.g){Ea(f);const I=f.g,L=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||it(f,"ready");try{I.onreadystatechange=L}catch{}}}function Ea(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function zn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Yl(x)}};function cc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(f){const x={};f=(f.g&&2<=zn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<f.length;L++){if(R(f[L]))continue;var I=M(f[L]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=x[Q]||[];x[Q]=ne,ne.push(I)}j(x,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(f,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||x}function uc(f){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,f),this.cb=as("retryDelaySeedMs",1e4,f),this.Wa=as("forwardChannelMaxRetries",2,f),this.wa=as("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(f&&f.concurrentRequestLimit),this.Da=new _p,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uc.prototype,t.la=8,t.G=1,t.connect=function(f,x,I,L){zt(0),this.W=f,this.H=x||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.I=nd(this,null,this.W),ls(this)};function pn(f){if(Sa(f),f.G==3){var x=f.U++,I=er(f.I);if(yt(I,"SID",f.K),yt(I,"RID",x),yt(I,"TYPE","terminate"),$s(f,I),x=new jr(f,f.j,x),x.L=2,x.v=wi(er(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=x.v,I=!0),I||(x.g=rd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wt(x)}td(f)}function Fr(f){f.g&&(dc(f),f.g.cancel(),f.g=null)}function Sa(f){Fr(f),f.u&&(c.clearTimeout(f.u),f.u=null),Aa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function ls(f){if(!Zn(f.h)&&!f.s){f.s=!0;var x=f.Ga;se||le(),K||(se(),K=!0),ee.add(x,f),f.B=0}}function Tp(f,x){return $u(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Nr(v(f.Ga,f,x),ed(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new jr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=S(ne),k(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(x+=L,4096<x){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=Ti(this,Q,x),I=er(this.I),yt(I,"RID",f),yt(I,"CVER",22),this.D&&yt(I,"X-HTTP-Session-Id",this.D),$s(this,I),ne&&(this.O?x="headers="+encodeURIComponent(String(zs(ne)))+"&"+x:this.m&&Ei(I,this.m,ne)),ic(this.h,Q),this.Ua&&yt(I,"TYPE","init"),this.P?(yt(I,"$req",x),yt(I,"SID","null"),Q.T=!0,ya(Q,I,null)):ya(Q,I,x),this.G=2}}else this.G==3&&(f?Ca(this,f):this.i.length==0||Zn(this.h)||Ca(this))};function Ca(f,x){var I;x?I=x.l:I=f.U++;const L=er(f.I);yt(L,"SID",f.K),yt(L,"RID",I),yt(L,"AID",f.T),$s(f,L),f.m&&f.o&&Ei(L,f.m,f.o),I=new jr(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),x&&(f.i=x.D.concat(f.i)),x=Ti(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ic(f.h,I),ya(I,L,x)}function $s(f,x){f.H&&q(f.H,function(I,L){yt(x,L,I)}),f.l&&gi({},function(I,L){yt(x,L,I)})}function Ti(f,x,I){I=Math.min(f.i.length,I);var L=f.l?v(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ge=["count="+I];ne==-1?0<I?(ne=Q[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let gt=!0;for(let nn=0;nn<I;nn++){let ot=Q[nn].g;const ln=Q[nn].map;if(ot-=ne,0>ot)ne=Math.max(0,Q[nn].g-100),gt=!1;else try{Xu(ln,ge,"req"+ot+"_")}catch{L&&L(ln)}}if(gt){L=ge.join("&");break e}}}return f=f.i.splice(0,I),x.D=f,L}function Co(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;se||le(),K||(se(),K=!0),ee.add(x,f),f.v=0}}function ba(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Nr(v(f.Fa,f),ed(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Nr(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Fr(this),Zu(this))};function dc(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Zu(f){f.g=new jr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=er(f.qa);yt(x,"RID","rpc"),yt(x,"SID",f.K),yt(x,"AID",f.T),yt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(x,"TO",f.ja),yt(x,"TYPE","xmlhttp"),$s(f,x),f.m&&f.o&&Ei(x,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=wi(er(x)),I.m=null,I.P=!0,rc(I,f)}t.Za=function(){this.C!=null&&(this.C=null,Fr(this),ba(this),zt(19))};function Aa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Pa(f,x){var I=null;if(f.g==x){Aa(f),dc(f),f.g=null;var L=2}else if(Vn(f.h,x))I=x.D,qu(f.h,x),L=1;else return;if(f.G!=0){if(x.o)if(L==1){I=x.m?x.m.length:0,x=Date.now()-x.F;var Q=f.B;L=mo(),it(L,new fa(L,I)),ls(f)}else Co(f);else if(Q=x.s,Q==3||Q==0&&0<x.X||!(L==1&&Tp(f,x)||L==2&&ba(f)))switch(I&&0<I.length&&(x=f.h,x.i=x.i.concat(I)),Q){case 1:qs(f,5);break;case 4:qs(f,10);break;case 3:qs(f,6);break;default:qs(f,2)}}}function ed(f,x){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*x}function qs(f,x){if(f.j.info("Error code "+x),x==2){var I=v(f.fb,f),L=f.Xa;const Q=!L;L=new Us(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Eo(L,"https"),wi(L),Q?xp(L.toString(),I):Yu(L.toString(),I)}else zt(2);f.G=0,f.l&&f.l.sa(x),td(f),Sa(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function td(f){if(f.G=0,f.ka=[],f.l){const x=Hu(f.h);(x.length!=0||f.i.length!=0)&&(T(f.ka,x),T(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function nd(f,x,I){var L=I instanceof Us?er(I):new Us(I);if(L.g!="")x&&(L.g=x+"."+L.g),yi(L,L.s);else{var Q=c.location;L=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new Us(null);L&&Eo(ne,L),x&&(ne.g=x),Q&&yi(ne,Q),I&&(ne.l=I),L=ne}return I=f.D,x=f.ya,I&&x&&yt(L,I,x),yt(L,"VER",f.la),$s(f,L),L}function rd(f,x,I){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new Pt(new Bs({eb:I})):new Pt(f.pa),x.Ha(f.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}t=hc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ia(){}Ia.prototype.g=function(f,x){return new On(f,x)};function On(f,x){Xe.call(this),this.g=new uc(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!R(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new cs(this)}P(On,Xe),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){pn(this.g)},On.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=Ql(f),f=I);x.i.push(new zu(x.Ya++,f)),x.G==3&&ls(x)},On.prototype.N=function(){this.g.l=null,delete this.j,pn(this.g),delete this.g,On.aa.N.call(this)};function sd(f){rs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const I in x){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}P(sd,rs);function id(){ha.call(this),this.status=1}P(id,ha);function cs(f){this.g=f}P(cs,hc),cs.prototype.ua=function(){it(this.g,"a")},cs.prototype.ta=function(f){it(this.g,new sd(f))},cs.prototype.sa=function(f){it(this.g,new id)},cs.prototype.ra=function(){it(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,wS=function(){return new Ia},vS=function(){return mo()},yS=ss,ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,Sh=ma,Lu.COMPLETE="complete",gS=Lu,da.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,zc=da,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,mS=Pt}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",N_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new sS("@firebase/firestore");function tl(){return Qo.logLevel}function Ce(t,...e){if(Qo.logLevel<=lt.DEBUG){const n=e.map(rv);Qo.debug(`Firestore (${Vl}): ${t}`,...n)}}function ii(t,...e){if(Qo.logLevel<=lt.ERROR){const n=e.map(rv);Qo.error(`Firestore (${Vl}): ${t}`,...n)}}function wl(t,...e){if(Qo.logLevel<=lt.WARN){const n=e.map(rv);Qo.warn(`Firestore (${Vl}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xS(t,r,n)}function xS(t,e,n){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ii(r),new Error(r)}function pt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xS(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kn.UNAUTHENTICATED)))}shutdown(){}}class yD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ti,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ti)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new _S(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class wD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ED(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function ry(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return ig(i)===ig(a)?nt(i,a):ig(i)?1:-1}return nt(t.length,e.length)}const TD=55296,SD=57343;function ig(t){const e=t.charCodeAt(0);return e>=TD&&e<=SD}function xl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ps.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return nt(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),i=ps.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ps.extractNumericId(e).compare(ps.extractNumericId(n)):ry(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class vt extends ps{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends ps{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return CD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new wn([D_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(vt.fromString(e))}static fromName(e){return new ke(vt.fromString(e).popFirst(5))}static empty(){return new ke(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e,n){if(!n)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bD(t,e,n,r){if(e===!0&&r===!0)throw new ve(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j_(t){if(!ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V_(t){if(ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!TS(t))throw new ve(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ve(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*M_);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O_)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Zt("string",bt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new bt(0,0))}static max(){return new He(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function AD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Yi(i,ke.empty(),e)}function PD(t){return new Yi(t.readTime,t.key,lu)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(He.min(),ke.empty(),lu)}static max(){return new Yi(He.max(),ke.empty(),lu)}}function ID(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==RD)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(h=>r(h)))})),l=!0,a===i&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((i=>i?ce.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next((g=>{l[d]=g,++c,c===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new ce(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function kD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-1;function Cf(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function DD(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="";function jD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L_(e)),e=VD(t.get(n),e);return L_(e)}function VD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case SS:n+="";break;default:n+=a}}return n}function L_(t){return t+SS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new on(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bS("Invalid base64 string: "+a):a}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const OD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=OD.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="server_timestamp",PS="__type__",IS="__previous_value__",RS="__local_write_time__";function bf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PS])==null?void 0:r.stringValue)===AS}function Af(t){const e=t.mapValue.fields[IS];return bf(e)?Af(e):e}function cu(t){const e=Xi(t.mapValue.fields[RS].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,i,a,l,c,h,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const $h="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="__type__",LD="__max__",th={mapValue:{}},kS="__vector__",qh="value";function Zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bf(t)?4:UD(t)?9007199254740991:FD(t)?10:11:Fe(28295,{value:t})}function bs(t,e){if(t===e)return!0;const n=Zi(t);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Xi(i.timestampValue),c=Xi(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ji(i.bytesValue).isEqual(Ji(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ht(i.geoPointValue.latitude)===Ht(a.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ht(i.integerValue)===Ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ht(i.doubleValue),c=Ht(a.doubleValue);return l===c?zh(l)===zh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(F_(l)!==F_(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!bs(l[h],c[h])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function du(t,e){return(t.values||[]).find((n=>bs(n,e)))!==void 0}function _l(t,e){if(t===e)return 0;const n=Zi(t),r=Zi(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Ht(a.integerValue||a.doubleValue),h=Ht(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return B_(t.timestampValue,e.timestampValue);case 4:return B_(cu(t),cu(e));case 5:return ry(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=Ji(a),h=Ji(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=nt(c[d],h[d]);if(g!==0)return g}return nt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=nt(Ht(a.latitude),Ht(l.latitude));return c!==0?c:nt(Ht(a.longitude),Ht(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return z_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var v,E,P,C;const c=a.fields||{},h=l.fields||{},d=(v=c[qh])==null?void 0:v.arrayValue,g=(E=h[qh])==null?void 0:E.arrayValue,y=nt(((P=d==null?void 0:d.values)==null?void 0:P.length)||0,((C=g==null?void 0:g.values)==null?void 0:C.length)||0);return y!==0?y:z_(d,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===th.mapValue&&l===th.mapValue)return 0;if(a===th.mapValue)return 1;if(l===th.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const v=ry(h[y],g[y]);if(v!==0)return v;const E=_l(c[h[y]],d[g[y]]);if(E!==0)return E}return nt(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function B_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Xi(t),r=Xi(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function z_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=_l(n[i],r[i]);if(a)return a}return nt(n.length,r.length)}function El(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ji(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=sy(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${sy(n.fields[l])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function Ch(t){switch(Zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Ch(e):16;case 5:return 2*t.stringValue.length;case 6:return Ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ch(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return lo(r.fields,((a,l)=>{i+=a.length+Ch(l)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function Hh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iy(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function $_(t){return!!t&&"nullValue"in t}function q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function FD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NS])==null?void 0:r.stringValue)===kS}function Xc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return{...t}}function UD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Xc(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Xn(Xc(this.value))}}function DS(t){const e=[];return lo(t.fields,((n,r)=>{const i=new wn([n]);if(bh(r)){const a=DS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,He.min(),He.min(),He.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Dn(e,2,n,He.min(),He.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,He.min(),He.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=_l(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function BD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jS=class{};class Xt extends jS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $D(e,n,r):n==="array-contains"?new WD(e,r):n==="in"?new GD(e,r):n==="not-in"?new KD(e,r):n==="array-contains-any"?new QD(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qD(e,r):new HD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends jS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yr(e,n)}matches(e){return VS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VS(t){return t.op==="and"}function OS(t){return zD(t)&&VS(t)}function zD(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function oy(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+El(t.value);if(OS(t))return t.filters.map((e=>oy(e))).join(",");{const e=t.filters.map((n=>oy(n))).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof Xt?(function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&bs(r.value,i.value)})(t,e):t instanceof Yr?(function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&MS(l,i.filters[c])),!0):!1})(t,e):void Fe(19439)}function LS(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(t):t instanceof Yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(LS).join(" ,")+"}"})(t):"Filter"}class $D extends Xt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class qD extends Xt{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class HD extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function FS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class WD extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ov(n)&&du(n.arrayValue,this.value)}}class GD extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class KD extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class QD extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function G_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new YD(t,e,n,r,i,a,l)}function av(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>oy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>El(r))).join(",")),e.Te=n}return e.Te}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W_(t.startAt,e.startAt)&&W_(t.endAt,e.endAt)}function ay(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XD(t,e,n,r,i,a,l,c){return new sa(t,e,n,r,i,a,l,c)}function cv(t){return new sa(t)}function K_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uv(t){return t.collectionGroup!==null}function dl(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new on(wn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new hu(a,r))})),n.has(wn.keyField().canonicalString())||e.Ie.push(new hu(wn.keyField(),r))}return e.Ie}function vs(t){const e=We(t);return e.Ee||(e.Ee=JD(e,dl(t))),e.Ee}function JD(t,e){if(t.limitType==="F")return G_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new hu(i.field,a)}));const n=t.endAt?new Tl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tl(t.startAt.position,t.startAt.inclusive):null;return G_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ly(t,e){const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wh(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pf(t,e){return lv(vs(t),vs(e))&&t.limitType===e.limitType}function US(t){return`${av(vs(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>LS(i))).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>El(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>El(i))).join(",")),`Target(${r})`})(vs(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of dl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const d=H_(l,c,h);return l.inclusive?d<=0:d<0})(r.startAt,dl(r),i)||r.endAt&&!(function(l,c,h){const d=H_(l,c,h);return l.inclusive?d>=0:d>0})(r.endAt,dl(r),i))})(t,e)}function ZD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BS(t){return(e,n)=>{let r=!1;for(const i of dl(t)){const a=ej(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function ej(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?_l(h,d):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return CS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new Mt(ke.comparator);function oi(){return tj}const zS=new Mt(ke.comparator);function $c(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function $S(t){let e=zS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $o(){return Jc()}function qS(){return Jc()}function Jc(){return new ia((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nj=new Mt(ke.comparator),rj=new on(ke.comparator);function rt(...t){let e=rj;for(const n of t)e=e.add(n);return e}const sj=new on(nt);function ij(){return sj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function HS(t){return{integerValue:""+t}}function oj(t,e){return DD(e)?HS(e):dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function aj(t,e,n){return t instanceof Gh?(function(i,a){const l={fields:{[PS]:{stringValue:AS},[RS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&bf(a)&&(a=Af(a)),a&&(l.fields[IS]=a),{mapValue:l}})(n,e):t instanceof fu?GS(t,e):t instanceof pu?KS(t,e):(function(i,a){const l=WS(i,a),c=Q_(l)+Q_(i.Ae);return iy(l)&&iy(i.Ae)?HS(c):dv(i.serializer,c)})(t,e)}function lj(t,e,n){return t instanceof fu?GS(t,e):t instanceof pu?KS(t,e):n}function WS(t,e){return t instanceof Kh?(function(r){return iy(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Gh extends Rf{}class fu extends Rf{constructor(e){super(),this.elements=e}}function GS(t,e){const n=QS(e);for(const r of t.elements)n.some((i=>bs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends Rf{constructor(e){super(),this.elements=e}}function KS(t,e){let n=QS(e);for(const r of t.elements)n=n.filter((i=>!bs(i,r)));return{arrayValue:{values:n}}}class Kh extends Rf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q_(t){return Ht(t.integerValue||t.doubleValue)}function QS(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cj(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof fu&&i instanceof fu||r instanceof pu&&i instanceof pu?xl(r.elements,i.elements,bs):r instanceof Kh&&i instanceof Kh?bs(r.Ae,i.Ae):r instanceof Gh&&i instanceof Gh})(t.transform,e.transform)}class uj{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nf{}function YS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kf(t.key,Jn.none()):new Su(t.key,t.data,Jn.none());{const n=t.data,r=Xn.empty();let i=new on(wn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new co(t.key,r,new ar(i.toArray()),Jn.none())}}function dj(t,e,n){t instanceof Su?(function(i,a,l){const c=i.value.clone(),h=X_(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(i,a,l){if(!Ah(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=X_(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(XS(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Zc(t,e,n,r){return t instanceof Su?(function(a,l,c,h){if(!Ah(a.precondition,l))return c;const d=a.value.clone(),g=J_(a.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof co?(function(a,l,c,h){if(!Ah(a.precondition,l))return c;const d=J_(a.fieldTransforms,h,l),g=l.data;return g.setAll(XS(a)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,l,c){return Ah(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function hj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=WS(r.transform,i||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,a))}return n||null}function Y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xl(r,i,((a,l)=>cj(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends Nf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Nf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function X_(t,e,n){const r=new Map;pt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,lj(l,c,n[i]))}return r}function J_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,aj(a,l,e))}return r}class kf extends Nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fj extends Nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dj(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qS();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=YS(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,r)=>Y_(n,r)))&&xl(this.baseMutations,e.baseMutations,((n,r)=>Y_(n,r)))}}class hv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return nj})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new hv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mj=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,at;function yj(t){switch(t){case ie.OK:return Fe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function JS(t){if(t===void 0)return ii("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Yt.OK:return ie.OK;case Yt.CANCELLED:return ie.CANCELLED;case Yt.UNKNOWN:return ie.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ie.INTERNAL;case Yt.UNAVAILABLE:return ie.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ie.NOT_FOUND;case Yt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Yt.ABORTED:return ie.ABORTED;case Yt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Yt.DATA_LOSS:return ie.DATA_LOSS;default:return Fe(39323,{code:t})}}(at=Yt||(Yt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Wi([4294967295,4294967295],0);function Z_(t){const e=vj().encode(t),n=new pS;return n.update(e),new Uint8Array(n.digest())}function eE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([i,a],0)]}class fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(r<0)throw new qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Wi.fromNumber(r)));return i.compare(wj)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z_(e),[r,i]=eE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fv(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=Z_(e),[r,i]=eE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Df(He.min(),i,new Mt(nt),oi(),rt())}}class Cu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ZS{constructor(e,n){this.targetId=e,this.Ce=n}}class eC{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tE{constructor(){this.ve=0,this.Fe=nE(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:a})}})),new Cu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xj{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=nh(),this.He=nh(),this.Ye=new Mt(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(ay(a))if(r===0){const l=new ke(a.path);this.et(n,l,Dn.newNoDocument(l,He.min()))}else pt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Ji(r).toUint8Array()}catch(h){if(h instanceof bS)return wl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new fv(l,i,a)}catch(h){return wl(h instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&ay(c.target)){const h=new ke(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Dn.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=rt();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Df(e,n,this.Ye,this.je,r);return this.je=oi(),this.Je=nh(),this.He=nh(),this.Ye=new Mt(nt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new Mt(ke.comparator)}function nE(){return new Mt(ke.comparator)}const _j={asc:"ASCENDING",desc:"DESCENDING"},Ej={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tj={and:"AND",or:"OR"};class Sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cy(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cj(t,e){return Qh(t,e.toTimestamp())}function ws(t){return pt(!!t,49232),He.fromTimestamp((function(n){const r=Xi(n);return new bt(r.seconds,r.nanos)})(t))}function pv(t,e){return uy(t,e).canonicalString()}function uy(t,e){const n=(function(i){return new vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nC(t){const e=vt.fromString(t);return pt(aC(e),10190,{key:e.toString()}),e}function dy(t,e){return pv(t.databaseId,e.path)}function og(t,e){const n=nC(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(sC(n))}function rC(t,e){return pv(t.databaseId,e)}function bj(t){const e=nC(t);return e.length===4?vt.emptyPath():sC(e)}function hy(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sC(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rE(t,e,n){return{name:dy(t,e),fields:n.value.mapValue.fields}}function Aj(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,g){return d.useProto3Json?(pt(g===void 0||typeof g=="string",58123),xn.fromBase64String(g||"")):(pt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),xn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const g=d.code===void 0?ie.UNKNOWN:JS(d.code);return new ve(g,d.message||"")})(l);n=new eC(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=og(t,r.document.name),a=ws(r.document.updateTime),l=r.document.createTime?ws(r.document.createTime):He.min(),c=new Xn({mapValue:{fields:r.document.fields}}),h=Dn.newFoundDocument(i,a,l,c),d=r.targetIds||[],g=r.removedTargetIds||[];n=new Ph(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=og(t,r.document),a=r.readTime?ws(r.readTime):He.min(),l=Dn.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Ph([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=og(t,r.document),a=r.removedTargetIds||[];n=new Ph([],a,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new gj(i,a),c=r.targetId;n=new ZS(c,l)}}return n}function Pj(t,e){let n;if(e instanceof Su)n={update:rE(t,e.key,e.value)};else if(e instanceof kf)n={delete:dy(t,e.key)};else if(e instanceof co)n={update:rE(t,e.key,e.data),updateMask:Mj(e.fieldMask)};else{if(!(e instanceof fj))return Fe(16599,{Vt:e.type});n={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Gh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Fe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Cj(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(t,e.precondition)),n}function Ij(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?ws(i.updateTime):ws(a);return l.isEqual(He.min())&&(l=ws(a)),new uj(l,i.transformResults||[])})(n,e)))):[]}function Rj(t,e){return{documents:[rC(t,e.path)]}}function Nj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rC(t,i);const a=(function(d){if(d.length!==0)return oC(Yr.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(d){if(d.length!==0)return d.map((g=>(function(v){return{field:rl(v.field),direction:jj(v.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=cy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function kj(t){let e=bj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(y){const v=iC(y);return v instanceof Yr&&OS(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((v=>(function(P){return new hu(sl(P.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let v;return v=typeof y=="object"?y.value:y,Cf(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(y){const v=!!y.before,E=y.values||[];return new Tl(E,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(y){const v=!y.before,E=y.values||[];return new Tl(E,v)})(n.endAt)),XD(e,i,l,a,c,"F",h,d)}function Dj(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sl(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sl(n.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sl(n.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(sl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yr.create(n.compositeFilter.filters.map((r=>iC(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function jj(t){return _j[t]}function Vj(t){return Ej[t]}function Oj(t){return Tj[t]}function rl(t){return{fieldPath:t.canonicalString()}}function sl(t){return wn.fromServerFormat(t.fieldPath)}function oC(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(q_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:Vj(n.op),value:n.value}}})(t):t instanceof Yr?(function(n){const r=n.getFilters().map((i=>oC(i)));return r.length===1?r[0]:{compositeFilter:{op:Oj(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function Mj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,i,a=He.min(),l=He.min(),c=xn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.yt=e}}function Fj(t){const e=kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.Cn=new Bj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Yi.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Bj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lC=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(lC,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",zj=1048576;function oE([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class $j{constructor(e){this.Ir=e,this.buffer=new on(oE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?Ce(iE,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class Hj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Sf.ce);const r=new $j(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(sE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(d=Date.now(),tl()<=lt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y}))))}}function Wj(t,e){return new Hj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Zc(r.mutation,i,ar.empty(),bt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const i=$o();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=$c();return a.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=oi();const l=Jc(),c=(function(){return Jc()})();return n.forEach(((h,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof co)?a=a.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),Zc(g.mutation,d,g.mutation.getFieldMask(),bt.now())):l.set(d.key,ar.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((d,g)=>l.set(d,g))),n.forEach(((d,g)=>c.set(d,new Kj(g,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Jc();let i=new Mt(((l,c)=>l-c)),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let g=r.get(h)||ar.empty();g=c.applyToLocalView(d,g),r.set(h,g);const y=(i.get(c.batchId)||rt()).add(h);i=i.insert(c.batchId,y)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,y=qS();g.forEach((v=>{if(!a.has(v)){const E=YS(n.get(v),r.get(v));E!==null&&y.set(v,E),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,y))}return ce.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ce.resolve($o());let c=lu,h=a;return l.next((d=>ce.forEach(d,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(g)?ce.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{h=h.insert(g,v)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,h,d,rt()))).next((g=>({batchId:c,changes:$S(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=$c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=$c();return this.indexManager.getCollectionParents(e,a).next((c=>ce.forEach(c,(h=>{const d=(function(y,v){return new sa(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((g=>{g.forEach(((y,v)=>{l=l.insert(y,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Dn.newInvalidDocument(g)))}));let c=$c();return l.forEach(((h,d)=>{const g=a.get(h);g!==void 0&&Zc(g.mutation,d,ar.empty(),bt.now()),If(n,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ws(i.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Fj(i.bundledQuery),readTime:ws(i.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.overlays=new Mt(ke.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return ce.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=$o(),a=n.length+1,l=new ke(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Mt(((d,g)=>d-g));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=a.get(d.largestBatchId);g===null&&(g=$o(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=$o(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=i)););return ce.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mj(n,r));let a=this.qr.get(n);a===void 0&&(a=rt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Qr=new on(hn.$r),this.Ur=new on(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new vt([])),r=new hn(n,e),i=new hn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new vt([])),r=new hn(n,e),i=new hn(n,e+1);let a=rt();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(hn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pj(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new hn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?iv:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(nt);return n.forEach((i=>{const a=new hn(i,0),l=new hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new hn(new ke(a),0);let c=new on(nt);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Yr)),!0)}),l),ce.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,(i=>{const a=new hn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),i=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.ri=e,this.docs=(function(){return new Mt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dn.newInvalidDocument(i))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=oi();const l=n.path,c=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||ID(PD(g),r)<=0||(i.has(g.key)||If(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}ii(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tV(this)}getSize(e){return ce.resolve(this.size)}}class tV extends Gj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.si=new ia((n=>av(n)),lv),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new mv,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ce.waitFor(a).next((()=>i))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ce.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new Jj,this.referenceDelegate=e(this),this.Pi=new nV(this),this.indexManager=new Uj,this.remoteDocumentCache=(function(i){return new eV(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Lj(n),this.Ii=new Yj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Zj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new rV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rV extends ND{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Ri=new mv,this.Vi=null}static mi(e){return new gv(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const i=ke.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new ia((r=>jD(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Wj(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ce.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,He.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=rt(),i=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ek()?8:kD(J2())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new sV;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(tl()<=lt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(tl()<=lt.DEBUG&&Ce("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(tl()<=lt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):ce.resolve())}ys(e,n){if(K_(n))return ce.resolve(null);let r=vs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Wh(n,null,"F"),r=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=rt(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(e,Wh(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,i){return K_(n)||i.isEqual(He.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ce.resolve(null):(tl()<=lt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nl(n)),this.vs(e,l,n,AD(i,lu)).next((c=>c)))}))}Ds(e,n){let r=new on(BS(e));return n.forEach(((i,a)=>{If(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return tl()<=lt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",nl(n)),this.ps.getDocumentsMatchingQuery(e,n,Yi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LocalStore",oV=3e8;class aV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mt(nt),this.xs=new ia((a=>av(a)),lv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lV(t,e,n,r){return new aV(t,e,n,r)}async function uC(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let h=rt();for(const d of i){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of a){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function cV(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,g){const y=d.batch,v=y.keys();let E=ce.resolve();return v.forEach((P=>{E=E.next((()=>g.getEntry(h,P))).next((C=>{const T=d.docVersions.get(P);pt(T!==null,48541),C.version.compareTo(T)<0&&(y.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),g.addEntry(C)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=rt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function dC(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uV(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((g,y)=>{const v=i.get(y);if(!v)return;c.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,y))));let E=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(xn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),i=i.insert(y,E),(function(C,T,V){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=oV?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(v,E,g)&&c.push(n.Pi.updateTargetData(a,E))}));let h=oi(),d=rt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),c.push(dV(a,l,e.documentUpdates).next((g=>{h=g.ks,d=g.qs}))),!r.isEqual(He.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(g)}return ce.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,d))).next((()=>h))})).then((a=>(n.Ms=i,a)))}function dV(t,e,n){let r=rt(),i=rt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=oi();return n.forEach(((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(He.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Ce(vv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function hV(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fV(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ce.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function fy(t,e,n){const r=We(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ml(l))throw l;Ce(vv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function aE(t,e,n){const r=We(t);let i=He.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,g){const y=We(h),v=y.xs.get(g);return v!==void 0?ce.resolve(y.Ms.get(v)):y.Pi.getTargetData(d,g)})(r,l,vs(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:He.min(),n?a:rt()))).next((c=>(pV(r,ZD(e),c),{documents:c,Qs:a})))))}function pV(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class lE{constructor(){this.activeTargetIds=ij()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class uE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(cE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function py(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="RestConnection",yV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=py(),c=this.zo(e,n.toUriEncodedString());Ce(ag,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:d}=new URL(c),g=Ef(d);return this.Jo(e,c,h,r,g).then((y=>(Ce(ag,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw wl(ag,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=yV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class xV extends vV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=py();return new Promise(((c,h)=>{const d=new mS;d.setWithCredentials(!0),d.listenOnce(gS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Sh.NO_ERROR:const y=d.getResponseJson();Ce(Rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Sh.TIMEOUT:Ce(Rn,`RPC '${e}' ${l} timed out`),h(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const v=d.getStatus();if(Ce(Rn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const P=E==null?void 0:E.error;if(P&&P.status&&P.message){const C=(function(V){const R=V.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(R)>=0?R:ie.UNKNOWN})(P.status);h(new ve(C,P.message))}else h(new ve(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ce(Rn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);Ce(Rn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=py(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=wS(),c=vS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Ce(Rn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=l.createWebChannel(g,h);this.I_(y);let v=!1,E=!1;const P=new wV({Yo:T=>{E?Ce(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(v||(Ce(Rn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),Ce(Rn,`RPC '${e}' stream ${i} sending:`,T),y.send(T))},Zo:()=>y.close()}),C=(T,V,R)=>{T.listen(V,(N=>{try{R(N)}catch(U){setTimeout((()=>{throw U}),0)}}))};return C(y,zc.EventType.OPEN,(()=>{E||(Ce(Rn,`RPC '${e}' stream ${i} transport opened.`),P.o_())})),C(y,zc.EventType.CLOSE,(()=>{E||(E=!0,Ce(Rn,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(y))})),C(y,zc.EventType.ERROR,(T=>{E||(E=!0,wl(Rn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),P.a_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),C(y,zc.EventType.MESSAGE,(T=>{var V;if(!E){const R=T.data[0];pt(!!R,16349);const N=R,U=(N==null?void 0:N.error)||((V=N[0])==null?void 0:V.error);if(U){Ce(Rn,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let q=(function(A){const k=Yt[A];if(k!==void 0)return JS(k)})($),j=U.message;q===void 0&&(q=ie.INTERNAL,j="Unknown error status: "+$+" with message "+U.message),E=!0,P.a_(new ve(q,j)),y.close()}else Ce(Rn,`RPC '${e}' stream ${i} received:`,R),P.u_(R)}})),C(c,yS.STAT_EVENT,(T=>{T.stat===ny.PROXY?Ce(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===ny.NOPROXY&&Ce(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){return new Sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class fC{constructor(e,n,r,i,a,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _V extends fC{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Aj(this.serializer,e),r=(function(a){if(!("targetChange"in a))return He.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?ws(l.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hy(this.serializer),n.addTarget=(function(a,l){let c;const h=l.target;if(c=ay(h)?{documents:Rj(a,h)}:{query:Nj(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=tC(a,l.resumeToken);const d=cy(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(He.min())>0){c.readTime=Qh(a,l.snapshotVersion.toTimestamp());const d=cy(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=Dj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hy(this.serializer),n.removeTarget=e,this.q_(n)}}class EV extends fC{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ij(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Pj(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{}class SV extends TV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,uy(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(ie.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,uy(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ii(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class bV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{oa(this)&&(Ce(Yo,"Restarting streams for network reachability change."),await(async function(h){const d=We(h);d.Ea.add(4),await bu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Vf(d)})(this))}))})),this.Ra=new CV(r,i)}}async function Vf(t){if(oa(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function pC(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ev(n)?_v(n):Ll(n).O_()&&xv(n,e))}function wv(t,e){const n=We(t),r=Ll(n);n.Ia.delete(e),r.O_()&&mC(n,e),n.Ia.size===0&&(r.O_()?r.L_():oa(n)&&n.Ra.set("Unknown"))}function xv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Y_(e)}function mC(t,e){t.Va.Ue(e),Ll(t).Z_(e)}function _v(t){t.Va=new xj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Ra.ua()}function Ev(t){return oa(t)&&!Ll(t).x_()&&t.Ia.size>0}function oa(t){return We(t).Ea.size===0}function gC(t){t.Va=void 0}async function AV(t){t.Ra.set("Online")}async function PV(t){t.Ia.forEach(((e,n)=>{xv(t,e)}))}async function IV(t,e){gC(t),Ev(t)?(t.Ra.ha(e),_v(t)):t.Ra.set("Unknown")}async function RV(t,e,n){if(t.Ra.set("Online"),e instanceof eC&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Ce(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Ph?t.Va.Ze(e):e instanceof ZS?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await dC(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(xn.EMPTY_BYTE_STRING,g.snapshotVersion)),mC(a,h);const y=new zi(g.target,h,d,g.sequenceNumber);xv(a,y)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Ce(Yo,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!Ml(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>dC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(Yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vf(t)}))}function yC(t,e){return e().catch((n=>Xh(t,n,e)))}async function Of(t){const e=We(t),n=eo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iv;for(;NV(e);)try{const i=await hV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,kV(e,i)}catch(i){await Xh(e,i)}vC(e)&&wC(e)}function NV(t){return oa(t)&&t.Ta.length<10}function kV(t,e){t.Ta.push(e);const n=eo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function vC(t){return oa(t)&&!eo(t).x_()&&t.Ta.length>0}function wC(t){eo(t).start()}async function DV(t){eo(t).ra()}async function jV(t){const e=eo(t);for(const n of t.Ta)e.ea(n.mutations)}async function VV(t,e,n){const r=t.Ta.shift(),i=hv.from(r,e,n);await yC(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Of(t)}async function OV(t,e){e&&eo(t).X_&&await(async function(r,i){if((function(l){return yj(l)&&l!==ie.ABORTED})(i.code)){const a=r.Ta.shift();eo(r).B_(),await yC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Of(r)}})(t,e),vC(t)&&wC(t)}async function hE(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ce(Yo,"RemoteStore received new credentials");const r=oa(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function MV(t,e){const n=We(t);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Ll(t){return t.ma||(t.ma=(function(n,r,i){const a=We(n);return a.sa(),new _V(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:AV.bind(null,t),t_:PV.bind(null,t),r_:IV.bind(null,t),H_:RV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ev(t)?_v(t):t.Ra.set("Unknown")):(await t.ma.stop(),gC(t))}))),t.ma}function eo(t){return t.fa||(t.fa=(function(n,r,i){const a=We(n);return a.sa(),new EV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:DV.bind(null,t),r_:OV.bind(null,t),ta:jV.bind(null,t),na:VV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Of(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(Yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new Tv(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(t,e){if(ii("AsyncQueue",`${e}: ${t}`),Ml(t))return new ve(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.ga=new Mt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cl{constructor(e,n,r,i,a,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Cl(e,n,hl.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FV{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),a=i.queries;i.queries=pE(),a.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function pE(){return new ia((t=>US(t)),Pf)}async function xC(t,e){const n=We(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new LV,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Sv(l,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Cv(n)}async function _C(t,e){const n=We(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UV(t,e){const n=We(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&Cv(n)}function BV(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Cv(t){t.Ca.forEach((e=>{e.next()}))}var my,mE;(mE=my||(my={})).Ma="default",mE.Cache="cache";class EC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.key=e}}class SC{constructor(e){this.key=e}}class zV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=BS(e),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new fE,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,y)=>{const v=i.get(g),E=If(this.query,y)?y:null,P=!!v&&this.mutatedKeys.has(v.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;v&&E?v.data.isEqual(E.data)?P!==C&&(r.track({type:3,doc:E}),T=!0):this.su(v,E)||(r.track({type:2,doc:E}),T=!0,(h&&this.eu(E,h)>0||d&&this.eu(E,d)<0)&&(c=!0)):!v&&E?(r.track({type:0,doc:E}),T=!0):v&&!E&&(r.track({type:1,doc:v}),T=!0,(h||d)&&(c=!0)),T&&(E?(l=l.add(E),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(E,P){const C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:T})}};return C(E)-C(P)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new Cl(this.query,e.tu,a,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new SC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new TC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bv="SyncEngine";class $V{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qV{constructor(e){this.key=e,this.hu=!1}}class HV{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ia((c=>US(c)),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(ke.comparator),this.Au=new Map,this.Ru=new mv,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WV(t,e,n=!0){const r=RC(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await CC(r,e,n,!0),i}async function GV(t,e){const n=RC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,r){const i=await fV(t.localStore,vs(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await KV(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&pC(t.remoteStore,i),c}async function KV(t,e,n,r,i){t.pu=(y,v,E)=>(async function(C,T,V,R){let N=T.view.ru(V);N.Cs&&(N=await aE(C.localStore,T.query,!1).then((({documents:j})=>T.view.ru(j,N))));const U=R&&R.targetChanges.get(T.targetId),$=R&&R.targetMismatches.get(T.targetId)!=null,q=T.view.applyChanges(N,C.isPrimaryClient,U,$);return yE(C,T.targetId,q.au),q.snapshot})(t,y,v,E);const a=await aE(t.localStore,e,!0),l=new zV(e,a.Qs),c=l.ru(a.documents),h=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,h);yE(t,n,d.au);const g=new $V(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function QV(t,e,n){const r=We(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Pf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fy(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wv(r.remoteStore,i.targetId),gy(r,i.targetId)})).catch(Ol)):(gy(r,i.targetId),await fy(r.localStore,i.targetId,!0))}async function YV(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wv(n.remoteStore,r.targetId))}async function XV(t,e,n){const r=sO(t);try{const i=await(function(l,c){const h=We(l),d=bt.now(),g=c.reduce(((E,P)=>E.add(P.key)),rt());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let P=oi(),C=rt();return h.Ns.getEntries(E,g).next((T=>{P=T,P.forEach(((V,R)=>{R.isValidDocument()||(C=C.add(V))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,P))).next((T=>{y=T;const V=[];for(const R of c){const N=hj(R,y.get(R.key).overlayedDocument);N!=null&&V.push(new co(R.key,N,DS(N.value.mapValue),Jn.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,V,c)})).next((T=>{v=T;const V=T.applyToLocalDocumentSet(y,C);return h.documentOverlayCache.saveOverlays(E,T.batchId,V)}))})).then((()=>({batchId:v.batchId,changes:$S(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Mt(nt)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await Au(r,i.changes),await Of(r.remoteStore)}catch(i){const a=Sv(i,"Failed to persist write");n.reject(a)}}async function bC(t,e){const n=We(t);try{const r=await uV(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?pt(l.hu,14607):i.removedDocuments.size>0&&(pt(l.hu,42227),l.hu=!1))})),await Au(n,r,e)}catch(r){await Ol(r)}}function gE(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=We(l);h.onlineState=c;let d=!1;h.queries.forEach(((g,y)=>{for(const v of y.Sa)v.va(c)&&(d=!0)})),d&&Cv(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JV(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Mt(ke.comparator);l=l.insert(a,Dn.newNoDocument(a,He.min()));const c=rt().add(a),h=new Df(He.min(),new Map,new Mt(nt),l,c);await bC(r,h),r.du=r.du.remove(a),r.Au.delete(e),Av(r)}else await fy(r.localStore,e,!1).then((()=>gy(r,e,n))).catch(Ol)}async function ZV(t,e){const n=We(t),r=e.batch.batchId;try{const i=await cV(n.localStore,e);PC(n,r,null),AC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,i)}catch(i){await Ol(i)}}async function eO(t,e,n){const r=We(t);try{const i=await(function(l,c){const h=We(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next((y=>(pt(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(d,y)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>h.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);PC(r,e,n),AC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,i)}catch(i){await Ol(i)}}function AC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function PC(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||IC(t,r)}))}function IC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Av(t))}function yE(t,e,n){for(const r of n)r instanceof TC?(t.Ru.addReference(r.key,e),tO(t,r)):r instanceof SC?(Ce(bv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IC(t,r.key)):Fe(19791,{wu:r})}function tO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(bv,"New document in limbo: "+n),t.Eu.add(r),Av(t))}function Av(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(vt.fromString(e)),r=t.fu.next();t.Au.set(r,new qV(n)),t.du=t.du.insert(n,r),pC(t.remoteStore,new zi(vs(cv(n.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function Au(t,e,n){const r=We(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((d=>{var g;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){i.push(d);const y=yv.As(h.targetId,d);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,d){const g=We(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ce.forEach(d,(v=>ce.forEach(v.Es,(E=>g.persistence.referenceDelegate.addReference(y,v.targetId,E))).next((()=>ce.forEach(v.ds,(E=>g.persistence.referenceDelegate.removeReference(y,v.targetId,E)))))))))}catch(y){if(!Ml(y))throw y;Ce(vv,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const E=g.Ms.get(v),P=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(P);g.Ms=g.Ms.insert(v,C)}}})(r.localStore,a))}async function nO(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ce(bv,"User change. New user:",e.toKey());const r=await uC(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((h=>{h.reject(new ve(ie.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.Ls)}}function rO(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let i=rt();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function RC(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JV.bind(null,e),e.Pu.H_=UV.bind(null,e.eventManager),e.Pu.yu=BV.bind(null,e.eventManager),e}function sO(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eO.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lV(this.persistence,new iV,e.initialUser,this.serializer)}Cu(e){return new cC(gv.mi,this.serializer)}Du(e){return new mV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class iO extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pt(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new cC((r=>Yh.mi(r,n)),this.serializer)}}class yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await MV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FV})()}createDatastore(e){const n=jf(e.databaseInfo.databaseId),r=(function(a){return new xV(a)})(e.databaseInfo);return(function(a,l,c,h){return new SV(a,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new bV(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return uE.v()?new uE:new gV})())}createSyncEngine(e,n){return(function(i,a,l,c,h,d,g){const y=new HV(i,a,l,c,h,d);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=We(i);Ce(Yo,"RemoteStore shutting down."),a.Ea.add(5),await bu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class oO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Ce(to,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ce(to,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(to,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await uC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aO(t);Ce(to,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>hE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>hE(e.remoteStore,i))),t._onlineComponents=e}async function aO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(to,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new Jh)}}else Ce(to,"Using default OfflineComponentProvider"),await cg(t,new iO(void 0));return t._offlineComponents}async function kC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(to,"Using user provided OnlineComponentProvider"),await vE(t,t._uninitializedComponentsProvider._online)):(Ce(to,"Using default OnlineComponentProvider"),await vE(t,new yy))),t._onlineComponents}function lO(t){return kC(t).then((e=>e.syncEngine))}async function DC(t){const e=await kC(t),n=e.eventManager;return n.onListen=WV.bind(null,e.syncEngine),n.onUnlisten=QV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YV.bind(null,e.syncEngine),n}function cO(t,e,n={}){const r=new ti;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,d){const g=new NC({next:v=>{g.Nu(),l.enqueueAndForget((()=>_C(a,y)));const E=v.docs.has(c);!E&&v.fromCache?d.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&h&&h.source==="server"?d.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new EC(cv(c.path),g,{includeMetadataChanges:!0,qa:!0});return xC(a,y)})(await DC(t),t.asyncQueue,e,n,r))),r.promise}function uO(t,e,n={}){const r=new ti;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,d){const g=new NC({next:v=>{g.Nu(),l.enqueueAndForget((()=>_C(a,y))),v.fromCache&&h.source==="server"?d.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new EC(c,g,{includeMetadataChanges:!0,qa:!0});return xC(a,y)})(await DC(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firestore.googleapis.com",xE=!0;class _E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VC,this.ssl=xE}else this.host=e.host,this.ssl=e.ssl??xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zj)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gD;switch(r.type){case"firstParty":return new xD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wE.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),wE.delete(n),r.terminate())})(this),Promise.resolve()}}function dO(t,e,n,r={}){var d;t=Cs(t,Mf);const i=Ef(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(eS(`https://${c}`),nS("Firestore",!0)),a.host!==VC&&a.host!==c&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!Uh(h,l)&&(t._setSettings(h),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=kn.MOCK_USER;else{g=tS(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new kn(v)}t._authCredentials=new yD(new _S(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,en._jsonSchema))return new en(e,r||null,new ke(vt.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Zt("string",en._jsonSchemaVersion),referencePath:Zt("string")};class Gi extends fi{constructor(e,n,r){super(e,n,cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ke(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Ut(t,e,...n){if(t=Cr(t),ES("collection","path",e),t instanceof Mf){const r=vt.fromString(e,...n);return V_(r),new Gi(t,null,r)}{if(!(t instanceof en||t instanceof Gi))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return V_(r),new Gi(t.firestore,null,r)}}function bl(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=sv.newId()),ES("doc","path",e),t instanceof Mf){const r=vt.fromString(e,...n);return j_(r),new en(t,null,new ke(r))}{if(!(t instanceof en||t instanceof Gi))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return j_(r),new en(t.firestore,t instanceof Gi?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hC(this,"async_queue_retry"),this._c=()=>{const r=lg();r&&Ce(EE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;Ce(EE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ii("INTERNAL UNHANDLED ERROR: ",SE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Tv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:SE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function SE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class aa extends Mf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function hO(t,e){const n=typeof t=="object"?t:dS(),r=typeof t=="string"?t:$h,i=aS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=J1("firestore");a&&dO(i,...a)}return i}function Lf(t){if(t._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fO(t),t._firestoreClient}function fO(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,h,d,g){return new MD(c,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,jC(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(xn.fromBase64String(e))}catch(n){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Zt("string",Sr._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xs._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,xs._jsonSchema))return new xs(e.latitude,e.longitude)}}xs._jsonSchemaVersion="firestore/geoPoint/1.0",xs._jsonSchema={type:Zt("string",xs._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,_s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _s(e.vectorValues);throw new ve(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Zt("string",_s._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^__.*__$/;class mO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class OC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class Iv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Iv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MC(this.Ac)&&pO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jf(e)}Cc(e,n,r,i=!1){return new Iv({Ac:e,methodName:n,Dc:r,path:wn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(t){const e=t._freezeSettings(),n=jf(t._databaseId);return new gO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rv(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Nv("Data must be an object, but it was:",l,r);const c=FC(r,l);let h,d;if(a.merge)h=new ar(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const v=vy(e,y,n);if(!l.contains(v))throw new ve(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);BC(g,v)||g.push(v)}h=new ar(g),d=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,d=l.fieldTransforms;return new mO(new Xn(c),h,d)}class Uf extends Pv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function yO(t,e,n,r){const i=t.Cc(1,e,n);Nv("Data must be an object, but it was:",i,r);const a=[],l=Xn.empty();lo(r,((h,d)=>{const g=kv(e,h,n);d=Cr(d);const y=i.yc(g);if(d instanceof Uf)a.push(g);else{const v=Iu(d,y);v!=null&&(a.push(g),l.set(g,v))}}));const c=new ar(a);return new OC(l,c,i.fieldTransforms)}function vO(t,e,n,r,i,a){const l=t.Cc(1,e,n),c=[vy(e,r,n)],h=[i];if(a.length%2!=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(vy(e,a[v])),h.push(a[v+1]);const d=[],g=Xn.empty();for(let v=c.length-1;v>=0;--v)if(!BC(d,c[v])){const E=c[v];let P=h[v];P=Cr(P);const C=l.yc(E);if(P instanceof Uf)d.push(E);else{const T=Iu(P,C);T!=null&&(d.push(E),g.set(E,T))}}const y=new ar(d);return new OC(g,y,l.fieldTransforms)}function LC(t,e,n,r=!1){return Iu(n,t.Cc(r?4:3,e))}function Iu(t,e){if(UC(t=Cr(t)))return Nv("Unsupported field value:",e,t),FC(t,e);if(t instanceof Pv)return(function(r,i){if(!MC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let h=Iu(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:Qh(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(i.serializer,a)}}if(r instanceof xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:tC(i.serializer,r._byteString)};if(r instanceof en){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _s)return(function(l,c){return{mapValue:{fields:{[NS]:{stringValue:kS},[qh]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return dv(c.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Tf(r)}`)})(t,e)}function FC(t,e){const n={};return CS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,((r,i)=>{const a=Iu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function UC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof xs||t instanceof Sr||t instanceof en||t instanceof Pv||t instanceof _s)}function Nv(t,e,n){if(!UC(n)||!TS(n)){const r=Tf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vy(t,e,n){if((e=Cr(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return kv(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const wO=new RegExp("[~\\*/\\[\\]]");function kv(t,e,n){if(e.search(wO)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ve(ie.INVALID_ARGUMENT,c+t+h)}function BC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xO extends Dv{data(){return super.data()}}function Bf(t,e){return typeof e=="string"?kv(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jv{}class zf extends jv{}function ai(t,e,...n){let r=[];e instanceof jv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof Vv)).length,c=a.filter((h=>h instanceof $f)).length;if(l>1||l>0&&c>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class $f extends zf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $f(e,n,r)}_apply(e){const n=this._parse(e);return zC(e._query,n),new fi(e.firestore,e.converter,ly(e._query,n))}_parse(e){const n=Pu(e.firestore);return(function(a,l,c,h,d,g,y){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bE(y,g);const P=[];for(const C of y)P.push(CE(h,a,C));v={arrayValue:{values:P}}}else v=CE(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bE(y,g),v=LC(c,l,y,g==="in"||g==="not-in");return Xt.create(d,g,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gs(t,e,n){const r=e,i=Bf("where",t);return $f._create(i,r,n)}class Vv extends jv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)zC(l,h),l=ly(l,h)})(e._query,n),new fi(e.firestore,e.converter,ly(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ov extends zf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ov(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(a,l)})(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new sa(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function EO(t,e="asc"){const n=e,r=Bf("orderBy",t);return Ov._create(r,n)}class Mv extends zf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mv(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}}function TO(t){return Mv._create("limit",t,"F")}class Lv extends zf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Lv(e,n,r)}_apply(e){const n=CO(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,(function(i,a){return new sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function SO(...t){return Lv._create("startAfter",t,!1)}function CO(t,e,n,r){if(n[0]=Cr(n[0]),n[0]instanceof Dv)return(function(a,l,c,h,d){if(!h)throw new ve(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const y of dl(a))if(y.field.isKeyField())g.push(Hh(l,h.key));else{const v=h.data.field(y.field);if(bf(v))throw new ve(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const E=y.field.canonicalString();throw new ve(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(v)}return new Tl(g,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Pu(t.firestore);return(function(l,c,h,d,g,y){const v=l.explicitOrderBy;if(g.length>v.length)throw new ve(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let P=0;P<g.length;P++){const C=g[P];if(v[P].field.isKeyField()){if(typeof C!="string")throw new ve(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof C}`);if(!uv(l)&&C.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${C}' contains a slash.`);const T=l.path.child(vt.fromString(C));if(!ke.isDocumentKey(T))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const V=new ke(T);E.push(Hh(c,V))}else{const T=LC(h,d,C);E.push(T)}}return new Tl(E,y)})(t._query,t.firestore._databaseId,i,e,n,r)}}function CE(t,e,n){if(typeof(n=Cr(n))=="string"){if(n==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uv(e)&&n.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hh(t,new ke(r))}if(n instanceof en)return Hh(t,n._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zC(t,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bO{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[qh].arrayValue)==null?void 0:i.values)==null?void 0:a.map((l=>Ht(l.doubleValue)));return new _s(n)}convertGeoPoint(e){return new xs(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);pt(aC(r),9688,{name:e});const i=new uu(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return i.isEqual(n)||ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends Dv{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:Zt("string",Wo._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Ih extends Wo{data(e={}){return super.data(e)}}class fl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ih(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Ih(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const h=new Ih(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:AO(c.type),doc:h,oldIndex:d,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){t=Cs(t,en);const e=Cs(t.firestore,aa);return cO(Lf(e),t._key).then((n=>RO(e,t,n)))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Zt("string",fl._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class qC extends bO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Bt(t){t=Cs(t,fi);const e=Cs(t.firestore,aa),n=Lf(e),r=new qC(e);return _O(t._query),uO(n,t._query).then((i=>new fl(e,r,t,i)))}function ef(t,e,n){t=Cs(t,en);const r=Cs(t.firestore,aa),i=Fv(t.converter,e,n);return qf(r,[Rv(Pu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function PO(t){return qf(Cs(t.firestore,aa),[new kf(t._key,Jn.none())])}function IO(t,e){const n=Cs(t.firestore,aa),r=bl(t),i=Fv(t.converter,e);return qf(n,[Rv(Pu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then((()=>r))}function qf(t,e){return(function(r,i){const a=new ti;return r.asyncQueue.enqueueAndForget((async()=>XV(await lO(r),i,a))),a.promise})(Lf(t),e)}function RO(t,e,n){const r=n.docs.get(e._key),i=new qC(t);return new Wo(t,i,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pu(e)}set(e,n,r){this._verifyNotCommitted();const i=ug(e,this._firestore),a=Fv(i.converter,n,r),l=Rv(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Jn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=ug(e,this._firestore);let l;return l=typeof(n=Cr(n))=="string"||n instanceof Ff?vO(this._dataReader,"WriteBatch.update",a._key,n,r,i):yO(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ug(e,this._firestore);return this._mutations=this._mutations.concat(new kf(n._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ug(t,e){if((t=Cr(t)).firestore!==e)throw new ve(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){return Lf(t=Cs(t,aa)),new NO(t,(e=>qf(t,e)))}(function(e,n=!0){(function(i){Vl=i})(cS),ou(new vl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new aa(new vD(r.getProvider("auth-internal")),new _D(l,r.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(d.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Hi(R_,N_,e),Hi(R_,N_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebasestorage.googleapis.com",kO="storageBucket",DO=120*1e3,jO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends ra{constructor(e,n,r=0){super(dg(e),`Firebase Storage: ${n} (${dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var As;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(As||(As={}));function dg(t){return"storage/"+t}function VO(){const t="An unknown error occurred, please check the error payload for server response.";return new js(As.UNKNOWN,t)}function OO(){return new js(As.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MO(){return new js(As.CANCELED,"User canceled the upload/download.")}function LO(t){return new js(As.INVALID_URL,"Invalid URL '"+t+"'.")}function FO(t){return new js(As.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PE(t){return new js(As.INVALID_ARGUMENT,t)}function WC(){return new js(As.APP_DELETED,"The Firebase app was deleted.")}function UO(t){return new js(As.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw FO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function d(U){U.path_=decodeURIComponent(U.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${g}/b/${i}/o${v}`,"i"),P={bucket:1,path:3},C=n===HC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",V=new RegExp(`^https?://${C}/${i}/${T}`,"i"),N=[{regex:c,indices:h,postModify:a},{regex:E,indices:P,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let U=0;U<N.length;U++){const $=N[U],q=$.regex.exec(e);if(q){const j=q[$.indices.bucket];let S=q[$.indices.path];S||(S=""),r=new Qr(j,S),$.postModify(r);break}}if(r==null)throw LO(e);return r}}class BO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t,e,n){let r=1,i=null,a=null,l=!1,c=0;function h(){return c===2}let d=!1;function g(...T){d||(d=!0,e.apply(null,T))}function y(T){i=setTimeout(()=>{i=null,t(E,h())},T)}function v(){a&&clearTimeout(a)}function E(T,...V){if(d){v();return}if(T){v(),g.call(null,T,...V);return}if(h()||l){v(),g.call(null,T,...V);return}r<64&&(r*=2);let N;c===1?(c=2,N=0):N=(r+Math.random())*1e3,y(N)}let P=!1;function C(T){P||(P=!0,v(),!d&&(i!==null?(T||(c=2),clearTimeout(i),y(0)):T||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,C(!0)},n),C}function $O(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){return t!==void 0}function IE(t,e,n,r){if(r<e)throw PE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw PE(`Invalid value for '${t}'. Expected ${n} or less.`)}function HO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var tf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tf||(tf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r,i,a,l,c,h,d,g,y,v=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,C)=>{this.resolve_=P,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===tf.NO_ERROR,h=a.getStatus();if(!c||WO(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===tf.ABORT;r(!1,new sh(!1,null,g));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new sh(d,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());qO(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=VO();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?WC():MO();l(h)}else{const h=OO();l(h)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=zO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$O(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JO(t,e,n,r,i,a,l=!0,c=!1){const h=HO(t.urlParams),d=t.url+h,g=Object.assign({},t.headers);return YO(g,e),KO(g,n),QO(g,a),XO(g,r),new GO(d,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nf(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eM(this._location.path)}get storage(){return this._service}get parent(){const e=ZO(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new nf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UO(e)}}function RE(t,e){const n=e==null?void 0:e[kO];return n==null?null:Qr.makeFromBucketSpec(n,t)}function tM(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ef(e);i&&(eS(`https://${t.host}/b`),nS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:tS(a,t.app.options.projectId))}class nM{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=HC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DO,this._maxUploadRetryTime=jO,this._requests=new Set,i!=null?this._bucket=Qr.makeFromBucketSpec(i,this._host):this._bucket=RE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=RE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lS(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new BO(WC());{const l=JO(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const NE="@firebase/storage",kE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="storage";function rM(t=dS(),e){t=Cr(t);const r=aS(t,GC).getImmediate({identifier:e}),i=J1("storage");return i&&sM(r,...i),r}function sM(t,e,n,r={}){tM(t,e,n,r)}function iM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nM(n,r,i,e,cS)}function oM(){ou(new vl(GC,iM,"PUBLIC").setMultipleInstances(!0)),Hi(NE,kE,""),Hi(NE,kE,"esm2020")}oM();const aM={apiKey:"AIzaSyBKPk8NyeQWn1Aygwf8q36cRxpC2AR-Leo",authDomain:"central-treinamento.firebaseapp.com",projectId:"central-treinamento",storageBucket:"central-treinamento.appspot.com",messagingSenderId:"205424196328",appId:"1:205424196328:web:9caf94e132c3768091a75d"},KC=uS(aM),ft=hO(KC);rM(KC);const QC=b.createContext(),Vs=()=>{const t=b.useContext(QC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},YC=({children:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{const d=localStorage.getItem("currentUser");d&&n(JSON.parse(d)),i(!1)},[]);const h={user:e,login:async(d,g)=>{try{const y=Ut(ft,"usuarios"),v=ai(y,gs("email","==",d)),E=await Bt(v);if(E.empty)return{success:!1,error:"Credenciais invlidas ou usurio no encontrado"};const P=E.docs[0],C={id:P.id,...P.data()};if(C.senha===g&&C.ativo){const T={...C};return delete T.senha,n(T),localStorage.setItem("currentUser",JSON.stringify(T)),{success:!0,user:T}}else return{success:!1,error:"Credenciais invlidas ou usurio inativo"}}catch(y){return console.error("Erro no login:",y),{success:!1,error:"Ocorreu um erro no servidor. Tente novamente."}}},logout:()=>{n(null),localStorage.removeItem("currentUser")},isAdmin:()=>(e==null?void 0:e.tipo)==="admin",loading:r};return p.jsx(QC.Provider,{value:h,children:t})};function XC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XC(t))&&(r&&(r+=" "),r+=e);return r}const Uv="-",lM=t=>{const e=uM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(Uv);return c[0]===""&&c.length!==1&&c.shift(),ZC(c,e)||cM(l)},getConflictingClassGroupIds:(l,c)=>{const h=n[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},ZC=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ZC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Uv);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},DE=/^\[(.+)\]$/,cM=t=>{if(DE.test(t)){const e=DE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hM(Object.entries(t.classGroups),n).forEach(([a,l])=>{wy(l,r,a,e)}),r},wy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:jE(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(dM(i)){wy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{wy(l,jE(e,a),n,r)})})},jE=(t,e)=>{let n=t;return e.split(Uv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dM=t=>t.isThemeGetter,hM=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[n,i]}):t,fM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},eb="!",pM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=c=>{const h=[];let d=0,g=0,y;for(let T=0;T<c.length;T++){let V=c[T];if(d===0){if(V===i&&(r||c.slice(T,T+a)===e)){h.push(c.slice(g,T)),g=T+a;continue}if(V==="/"){y=T;continue}}V==="["?d++:V==="]"&&d--}const v=h.length===0?c:c.substring(g),E=v.startsWith(eb),P=E?v.substring(1):v,C=y&&y>g?y-g:void 0;return{modifiers:h,hasImportantModifier:E,baseClassName:P,maybePostfixModifierPosition:C}};return n?c=>n({className:c,parseClassName:l}):l},mM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},gM=t=>({cache:fM(t.cacheSize),parseClassName:pM(t),...lM(t)}),yM=/\s+/,vM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(yM);let c="";for(let h=l.length-1;h>=0;h-=1){const d=l[h],{modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:E}=n(d);let P=!!E,C=r(P?v.substring(0,E):v);if(!C){if(!P){c=d+(c.length>0?" "+c:c);continue}if(C=r(v),!C){c=d+(c.length>0?" "+c:c);continue}P=!1}const T=mM(g).join(":"),V=y?T+eb:T,R=V+C;if(a.includes(R))continue;a.push(R);const N=i(C,P);for(let U=0;U<N.length;++U){const $=N[U];a.push(V+$)}c=d+(c.length>0?" "+c:c)}return c};function wM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tb(e))&&(r&&(r+=" "),r+=n);return r}const tb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tb(t[r]))&&(n&&(n+=" "),n+=e);return n};function xM(t,...e){let n,r,i,a=l;function l(h){const d=e.reduce((g,y)=>y(g),t());return n=gM(d),r=n.cache.get,i=n.cache.set,a=c,c(h)}function c(h){const d=r(h);if(d)return d;const g=vM(h,n);return i(h,g),g}return function(){return a(wM.apply(null,arguments))}}const Tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nb=/^\[(?:([a-z-]+):)?(.+)\]$/i,_M=/^\d+\/\d+$/,EM=new Set(["px","full","screen"]),TM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ei=t=>pl(t)||EM.has(t)||_M.test(t),Li=t=>Fl(t,"length",VM),pl=t=>!!t&&!Number.isNaN(Number(t)),hg=t=>Fl(t,"number",pl),Fc=t=>!!t&&Number.isInteger(Number(t)),PM=t=>t.endsWith("%")&&pl(t.slice(0,-1)),Qe=t=>nb.test(t),Fi=t=>TM.test(t),IM=new Set(["length","size","percentage"]),RM=t=>Fl(t,IM,rb),NM=t=>Fl(t,"position",rb),kM=new Set(["image","url"]),DM=t=>Fl(t,kM,MM),jM=t=>Fl(t,"",OM),Uc=()=>!0,Fl=(t,e,n)=>{const r=nb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},VM=t=>SM.test(t)&&!CM.test(t),rb=()=>!1,OM=t=>bM.test(t),MM=t=>AM.test(t),LM=()=>{const t=Tt("colors"),e=Tt("spacing"),n=Tt("blur"),r=Tt("brightness"),i=Tt("borderColor"),a=Tt("borderRadius"),l=Tt("borderSpacing"),c=Tt("borderWidth"),h=Tt("contrast"),d=Tt("grayscale"),g=Tt("hueRotate"),y=Tt("invert"),v=Tt("gap"),E=Tt("gradientColorStops"),P=Tt("gradientColorStopPositions"),C=Tt("inset"),T=Tt("margin"),V=Tt("opacity"),R=Tt("padding"),N=Tt("saturate"),U=Tt("scale"),$=Tt("sepia"),q=Tt("skew"),j=Tt("space"),S=Tt("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Qe,e],F=()=>[Qe,e],O=()=>["",ei,Li],G=()=>["auto",pl,Qe],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Qe],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[pl,Qe];return{cacheSize:500,separator:":",theme:{colors:[Uc],spacing:[ei,Li],blur:["none","",Fi,Qe],brightness:z(),borderColor:[t],borderRadius:["none","","full",Fi,Qe],borderSpacing:F(),borderWidth:O(),contrast:z(),grayscale:ee(),hueRotate:z(),invert:ee(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[PM,Li],inset:M(),margin:M(),opacity:z(),padding:F(),saturate:z(),scale:z(),sepia:ee(),skew:z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Fi]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Qe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fc,Qe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Fc,Qe]}],"grid-cols":[{"grid-cols":[Uc]}],"col-start-end":[{col:["auto",{span:["full",Fc,Qe]},Qe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Uc]}],"row-start-end":[{row:["auto",{span:[Fc,Qe]},Qe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[Fi]},Fi]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fi,Li]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hg]}],"font-family":[{font:[Uc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",pl,hg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ei,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[V]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ei,Li]}],"underline-offset":[{"underline-offset":["auto",ei,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[V]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),NM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[V]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[V]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[ei,Qe]}],"outline-w":[{outline:[ei,Li]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[V]}],"ring-offset-w":[{"ring-offset":[ei,Li]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fi,jM]}],"shadow-color":[{shadow:[Uc]}],opacity:[{opacity:[V]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Fi,Qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[N]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[V]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[Fc,Qe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ei,Li,hg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FM=xM(LM);function et(...t){return FM(JC(t))}var Ul=H1();const UM=Ds(Ul);function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function VE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sb(...t){return e=>{let n=!1;const r=t.map(i=>{const a=VE(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():VE(t[i],null)}}}}function dt(...t){return b.useCallback(sb(...t),t)}function BM(t,e){const n=b.createContext(e),r=a=>{const{children:l,...c}=a,h=b.useMemo(()=>c,Object.values(c));return p.jsx(n.Provider,{value:h,children:l})};r.displayName=t+"Provider";function i(a){const l=b.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Os(t,e=[]){let n=[];function r(a,l){const c=b.createContext(l),h=n.length;n=[...n,l];const d=y=>{var V;const{scope:v,children:E,...P}=y,C=((V=v==null?void 0:v[t])==null?void 0:V[h])||c,T=b.useMemo(()=>P,Object.values(P));return p.jsx(C.Provider,{value:T,children:E})};d.displayName=a+"Provider";function g(y,v){var C;const E=((C=v==null?void 0:v[t])==null?void 0:C[h])||c,P=b.useContext(E);if(P)return P;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,g]}const i=()=>{const a=n.map(l=>b.createContext(l));return function(c){const h=(c==null?void 0:c[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return i.scopeName=t,[r,zM(i,...e)]}function zM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:h,scopeName:d})=>{const y=h(a)[`__scope${d}`];return{...c,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Al(t){const e=qM(t),n=b.forwardRef((r,i)=>{const{children:a,...l}=r,c=b.Children.toArray(a),h=c.find(WM);if(h){const d=h.props.children,g=c.map(y=>y===h?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:y);return p.jsx(e,{...l,ref:i,children:b.isValidElement(d)?b.cloneElement(d,void 0,g):null})}return p.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var $M=Al("Slot");function qM(t){const e=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const l=KM(i),c=GM(a,i.props);return i.type!==b.Fragment&&(c.ref=r?sb(r,l):l),b.cloneElement(i,c)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HM=Symbol("radix.slottable");function WM(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HM}function GM(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const h=a(...c);return i(...c),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function KM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Bv(t){const e=t+"CollectionProvider",[n,r]=Os(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:T,children:V}=C,R=ze.useRef(null),N=ze.useRef(new Map).current;return p.jsx(i,{scope:T,itemMap:N,collectionRef:R,children:V})};l.displayName=e;const c=t+"CollectionSlot",h=Al(c),d=ze.forwardRef((C,T)=>{const{scope:V,children:R}=C,N=a(c,V),U=dt(T,N.collectionRef);return p.jsx(h,{ref:U,children:R})});d.displayName=c;const g=t+"CollectionItemSlot",y="data-radix-collection-item",v=Al(g),E=ze.forwardRef((C,T)=>{const{scope:V,children:R,...N}=C,U=ze.useRef(null),$=dt(T,U),q=a(g,V);return ze.useEffect(()=>(q.itemMap.set(U,{ref:U,...N}),()=>void q.itemMap.delete(U))),p.jsx(v,{[y]:"",ref:$,children:R})});E.displayName=g;function P(C){const T=a(t+"CollectionConsumer",C);return ze.useCallback(()=>{const R=T.collectionRef.current;if(!R)return[];const N=Array.from(R.querySelectorAll(`[${y}]`));return Array.from(T.itemMap.values()).sort((q,j)=>N.indexOf(q.ref.current)-N.indexOf(j.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:d,ItemSlot:E},P,r]}var QM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=QM.reduce((t,e)=>{const n=Al(`Primitive.${e}`),r=b.forwardRef((i,a)=>{const{asChild:l,...c}=i,h=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(h,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ib(t,e){t&&Ul.flushSync(()=>t.dispatchEvent(e))}function br(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function YM(t,e=globalThis==null?void 0:globalThis.document){const n=br(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XM="DismissableLayer",xy="dismissableLayer.update",JM="dismissableLayer.pointerDownOutside",ZM="dismissableLayer.focusOutside",OE,ob=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hf=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=t,d=b.useContext(ob),[g,y]=b.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=b.useState({}),P=dt(e,j=>y(j)),C=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),V=C.indexOf(T),R=g?C.indexOf(g):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,U=R>=V,$=t4(j=>{const S=j.target,A=[...d.branches].some(k=>k.contains(S));!U||A||(i==null||i(j),l==null||l(j),j.defaultPrevented||c==null||c())},v),q=n4(j=>{const S=j.target;[...d.branches].some(k=>k.contains(S))||(a==null||a(j),l==null||l(j),j.defaultPrevented||c==null||c())},v);return YM(j=>{R===d.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},v),b.useEffect(()=>{if(g)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(g)),d.layers.add(g),ME(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=OE)}},[g,v,n,d]),b.useEffect(()=>()=>{g&&(d.layers.delete(g),d.layersWithOutsidePointerEventsDisabled.delete(g),ME())},[g,d]),b.useEffect(()=>{const j=()=>E({});return document.addEventListener(xy,j),()=>document.removeEventListener(xy,j)},[]),p.jsx(Ge.div,{...h,ref:P,style:{pointerEvents:N?U?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,q.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,$.onPointerDownCapture)})});Hf.displayName=XM;var e4="DismissableLayerBranch",ab=b.forwardRef((t,e)=>{const n=b.useContext(ob),r=b.useRef(null),i=dt(e,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),p.jsx(Ge.div,{...t,ref:i})});ab.displayName=e4;function t4(t,e=globalThis==null?void 0:globalThis.document){const n=br(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let h=function(){lb(JM,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function n4(t,e=globalThis==null?void 0:globalThis.document){const n=br(t),r=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!r.current&&lb(ZM,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ME(){const t=new CustomEvent(xy);document.dispatchEvent(t)}function lb(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ib(i,a):i.dispatchEvent(a)}var r4=Hf,s4=ab,_n=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},i4="Portal",Wf=b.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=b.useState(!1);_n(()=>a(!0),[]);const l=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?UM.createPortal(p.jsx(Ge.div,{...r,ref:e}),l):null});Wf.displayName=i4;function o4(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var la=t=>{const{present:e,children:n}=t,r=a4(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=dt(r.ref,l4(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:a}):null};la.displayName="Presence";function a4(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),a=b.useRef("none"),l=t?"mounted":"unmounted",[c,h]=o4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=ih(r.current);a.current=c==="mounted"?d:"none"},[c]),_n(()=>{const d=r.current,g=i.current;if(g!==t){const v=a.current,E=ih(d);t?h("MOUNT"):E==="none"||(d==null?void 0:d.display)==="none"?h("UNMOUNT"):h(g&&v!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),_n(()=>{if(e){let d;const g=e.ownerDocument.defaultView??window,y=E=>{const C=ih(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&C&&(h("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=E=>{E.target===e&&(a.current=ih(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ih(t){return(t==null?void 0:t.animationName)||"none"}function l4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var c4=q1[" useInsertionEffect ".trim().toString()]||_n;function no({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=u4({defaultProp:e,onChange:n}),c=t!==void 0,h=c?t:i;{const g=b.useRef(t!==void 0);b.useEffect(()=>{const y=g.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const d=b.useCallback(g=>{var y;if(c){const v=d4(g)?g(t):g;v!==t&&((y=l.current)==null||y.call(l,v))}else a(g)},[c,t,a,l]);return[h,d]}function u4({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),a=b.useRef(e);return c4(()=>{a.current=e},[e]),b.useEffect(()=>{var l;i.current!==n&&((l=a.current)==null||l.call(a,n),i.current=n)},[n,i]),[n,r,a]}function d4(t){return typeof t=="function"}var cb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h4="VisuallyHidden",zv=b.forwardRef((t,e)=>p.jsx(Ge.span,{...t,ref:e,style:{...cb,...t.style}}));zv.displayName=h4;var $v="ToastProvider",[qv,f4,p4]=Bv("Toast"),[ub,D7]=Os("Toast",[p4]),[m4,Gf]=ub($v),db=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=t,[c,h]=b.useState(null),[d,g]=b.useState(0),y=b.useRef(!1),v=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$v}\`. Expected non-empty \`string\`.`),p.jsx(qv.Provider,{scope:e,children:p.jsx(m4,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:c,onViewportChange:h,onToastAdd:b.useCallback(()=>g(E=>E+1),[]),onToastRemove:b.useCallback(()=>g(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:v,children:l})})};db.displayName=$v;var hb="ToastViewport",g4=["F8"],_y="toast.viewportPause",Ey="toast.viewportResume",fb=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=g4,label:i="Notifications ({hotkey})",...a}=t,l=Gf(hb,n),c=f4(n),h=b.useRef(null),d=b.useRef(null),g=b.useRef(null),y=b.useRef(null),v=dt(e,y,l.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=l.toastCount>0;b.useEffect(()=>{const T=V=>{var N;r.length!==0&&r.every(U=>V[U]||V.code===U)&&((N=y.current)==null||N.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),b.useEffect(()=>{const T=h.current,V=y.current;if(P&&T&&V){const R=()=>{if(!l.isClosePausedRef.current){const q=new CustomEvent(_y);V.dispatchEvent(q),l.isClosePausedRef.current=!0}},N=()=>{if(l.isClosePausedRef.current){const q=new CustomEvent(Ey);V.dispatchEvent(q),l.isClosePausedRef.current=!1}},U=q=>{!T.contains(q.relatedTarget)&&N()},$=()=>{T.contains(document.activeElement)||N()};return T.addEventListener("focusin",R),T.addEventListener("focusout",U),T.addEventListener("pointermove",R),T.addEventListener("pointerleave",$),window.addEventListener("blur",R),window.addEventListener("focus",N),()=>{T.removeEventListener("focusin",R),T.removeEventListener("focusout",U),T.removeEventListener("pointermove",R),T.removeEventListener("pointerleave",$),window.removeEventListener("blur",R),window.removeEventListener("focus",N)}}},[P,l.isClosePausedRef]);const C=b.useCallback(({tabbingDirection:T})=>{const R=c().map(N=>{const U=N.ref.current,$=[U,...I4(U)];return T==="forwards"?$:$.reverse()});return(T==="forwards"?R.reverse():R).flat()},[c]);return b.useEffect(()=>{const T=y.current;if(T){const V=R=>{var $,q,j;const N=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!N){const S=document.activeElement,A=R.shiftKey;if(R.target===T&&A){($=d.current)==null||$.focus();return}const F=C({tabbingDirection:A?"backwards":"forwards"}),O=F.findIndex(G=>G===S);fg(F.slice(O+1))?R.preventDefault():A?(q=d.current)==null||q.focus():(j=g.current)==null||j.focus()}};return T.addEventListener("keydown",V),()=>T.removeEventListener("keydown",V)}},[c,C]),p.jsxs(s4,{ref:h,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&p.jsx(Ty,{ref:d,onFocusFromOutsideViewport:()=>{const T=C({tabbingDirection:"forwards"});fg(T)}}),p.jsx(qv.Slot,{scope:n,children:p.jsx(Ge.ol,{tabIndex:-1,...a,ref:v})}),P&&p.jsx(Ty,{ref:g,onFocusFromOutsideViewport:()=>{const T=C({tabbingDirection:"backwards"});fg(T)}})]})});fb.displayName=hb;var pb="ToastFocusProxy",Ty=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Gf(pb,n);return p.jsx(zv,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var d;const c=l.relatedTarget;!((d=a.viewport)!=null&&d.contains(c))&&r()}})});Ty.displayName=pb;var Ru="Toast",y4="toast.swipeStart",v4="toast.swipeMove",w4="toast.swipeCancel",x4="toast.swipeEnd",mb=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...l}=t,[c,h]=no({prop:r,defaultProp:i??!0,onChange:a,caller:Ru});return p.jsx(la,{present:n||c,children:p.jsx(T4,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:br(t.onPause),onResume:br(t.onResume),onSwipeStart:qe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(t.onSwipeMove,d=>{const{x:g,y}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:qe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(t.onSwipeEnd,d=>{const{x:g,y}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});mb.displayName=Ru;var[_4,E4]=ub(Ru,{onClose(){}}),T4=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:d,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:v,onSwipeEnd:E,...P}=t,C=Gf(Ru,n),[T,V]=b.useState(null),R=dt(e,G=>V(G)),N=b.useRef(null),U=b.useRef(null),$=i||C.duration,q=b.useRef(0),j=b.useRef($),S=b.useRef(0),{onToastAdd:A,onToastRemove:k}=C,M=br(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=C.viewport)==null||re.focus()),l()}),F=b.useCallback(G=>{!G||G===1/0||(window.clearTimeout(S.current),q.current=new Date().getTime(),S.current=window.setTimeout(M,G))},[M]);b.useEffect(()=>{const G=C.viewport;if(G){const re=()=>{F(j.current),d==null||d()},ae=()=>{const se=new Date().getTime()-q.current;j.current=j.current-se,window.clearTimeout(S.current),h==null||h()};return G.addEventListener(_y,ae),G.addEventListener(Ey,re),()=>{G.removeEventListener(_y,ae),G.removeEventListener(Ey,re)}}},[C.viewport,$,h,d,F]),b.useEffect(()=>{a&&!C.isClosePausedRef.current&&F($)},[a,$,C.isClosePausedRef,F]),b.useEffect(()=>(A(),()=>k()),[A,k]);const O=b.useMemo(()=>T?Eb(T):null,[T]);return C.viewport?p.jsxs(p.Fragment,{children:[O&&p.jsx(S4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:O}),p.jsx(_4,{scope:n,onClose:M,children:Ul.createPortal(p.jsx(qv.ItemSlot,{scope:n,children:p.jsx(r4,{asChild:!0,onEscapeKeyDown:qe(c,()=>{C.isFocusedToastEscapeKeyDownRef.current||M(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ge.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":C.swipeDirection,...P,ref:R,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qe(t.onKeyDown,G=>{G.key==="Escape"&&(c==null||c(G.nativeEvent),G.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:qe(t.onPointerDown,G=>{G.button===0&&(N.current={x:G.clientX,y:G.clientY})}),onPointerMove:qe(t.onPointerMove,G=>{if(!N.current)return;const re=G.clientX-N.current.x,ae=G.clientY-N.current.y,se=!!U.current,K=["left","right"].includes(C.swipeDirection),ee=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,le=K?ee(0,re):0,z=K?0:ee(0,ae),X=G.pointerType==="touch"?10:2,oe={x:le,y:z},_e={originalEvent:G,delta:oe};se?(U.current=oe,oh(v4,y,_e,{discrete:!1})):LE(oe,C.swipeDirection,X)?(U.current=oe,oh(y4,g,_e,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(re)>X||Math.abs(ae)>X)&&(N.current=null)}),onPointerUp:qe(t.onPointerUp,G=>{const re=U.current,ae=G.target;if(ae.hasPointerCapture(G.pointerId)&&ae.releasePointerCapture(G.pointerId),U.current=null,N.current=null,re){const se=G.currentTarget,K={originalEvent:G,delta:re};LE(re,C.swipeDirection,C.swipeThreshold)?oh(x4,E,K,{discrete:!0}):oh(w4,v,K,{discrete:!0}),se.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),S4=t=>{const{__scopeToast:e,children:n,...r}=t,i=Gf(Ru,e),[a,l]=b.useState(!1),[c,h]=b.useState(!1);return A4(()=>l(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:p.jsx(Wf,{asChild:!0,children:p.jsx(zv,{...r,children:a&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},C4="ToastTitle",gb=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ge.div,{...r,ref:e})});gb.displayName=C4;var b4="ToastDescription",yb=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ge.div,{...r,ref:e})});yb.displayName=b4;var vb="ToastAction",wb=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(_b,{altText:n,asChild:!0,children:p.jsx(Hv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vb}\`. Expected non-empty \`string\`.`),null)});wb.displayName=vb;var xb="ToastClose",Hv=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=E4(xb,n);return p.jsx(_b,{asChild:!0,children:p.jsx(Ge.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,i.onClose)})})});Hv.displayName=xb;var _b=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Eb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),P4(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...Eb(r))}}),e}function oh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ib(i,a):i.dispatchEvent(a)}var LE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function A4(t=()=>{}){const e=br(t);_n(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function P4(t){return t.nodeType===t.ELEMENT_NODE}function I4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var R4=db,Tb=fb,Sb=mb,Cb=gb,bb=yb,Ab=wb,Pb=Hv;const FE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,UE=JC,Kf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return UE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(d=>{const g=n==null?void 0:n[d],y=a==null?void 0:a[d];if(g===null)return null;const v=FE(g)||FE(y);return i[d][v]}),c=n&&Object.entries(n).reduce((d,g)=>{let[y,v]=g;return v===void 0||(d[y]=v),d},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,g)=>{let{class:y,className:v,...E}=g;return Object.entries(E).every(P=>{let[C,T]=P;return Array.isArray(T)?T.includes({...a,...c}[C]):{...a,...c}[C]===T})?[...d,y,v]:d},[]);return UE(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ib=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},h)=>b.createElement("svg",{ref:h,...k4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ib("lucide",i),...c},[...l.map(([d,g])=>b.createElement(d,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(D4,{ref:a,iconNode:e,className:Ib(`lucide-${N4(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ue("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ue("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Ue("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Ue("FileCog",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3.2 12.9-.9-.4",key:"1i3dj5"}],["path",{d:"m3.2 15.1-.9.4",key:"1fvgj0"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5",key:"1yo3oz"}],["path",{d:"m4.9 11.2-.4-.9",key:"otmhb9"}],["path",{d:"m4.9 16.8-.4.9",key:"1b8z07"}],["path",{d:"m7.5 10.3-.4.9",key:"11k65u"}],["path",{d:"m7.5 17.7-.4-.9",key:"431x55"}],["path",{d:"m9.7 12.5-.9.4",key:"87sjan"}],["path",{d:"m9.7 15.5-.9-.4",key:"khqm91"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Ue("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Ue("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Ue("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ue("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Ue("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Ue("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Ue("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tL=R4,Bb=ze.forwardRef(({className:t,...e},n)=>p.jsx(Tb,{ref:n,className:et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Bb.displayName=Tb.displayName;const nL=Kf("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zb=ze.forwardRef(({className:t,variant:e,...n},r)=>{const{dismiss:i,...a}=n;return p.jsx(Sb,{ref:r,className:et(nL({variant:e}),t),...a})});zb.displayName=Sb.displayName;const rL=ze.forwardRef(({className:t,...e},n)=>p.jsx(Ab,{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));rL.displayName=Ab.displayName;const $b=ze.forwardRef(({className:t,...e},n)=>p.jsx(Pb,{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Ub,{className:"h-4 w-4"})}));$b.displayName=Pb.displayName;const qb=ze.forwardRef(({className:t,...e},n)=>p.jsx(Cb,{ref:n,className:et("text-sm font-semibold",t),...e}));qb.displayName=Cb.displayName;const Hb=ze.forwardRef(({className:t,...e},n)=>p.jsx(bb,{ref:n,className:et("text-sm opacity-90",t),...e}));Hb.displayName=bb.displayName;const sL=1;let pg=0;function iL(){return pg=(pg+1)%Number.MAX_VALUE,pg.toString()}const Fn={state:{toasts:[]},listeners:[],getState:()=>Fn.state,setState:t=>{typeof t=="function"?Fn.state=t(Fn.state):Fn.state={...Fn.state,...t},Fn.listeners.forEach(e=>e(Fn.state))},subscribe:t=>(Fn.listeners.push(t),()=>{Fn.listeners=Fn.listeners.filter(e=>e!==t)})},oL=({...t})=>{const e=iL(),n=i=>Fn.setState(a=>({...a,toasts:a.toasts.map(l=>l.id===e?{...l,...i}:l)})),r=()=>Fn.setState(i=>({...i,toasts:i.toasts.filter(a=>a.id!==e)}));return Fn.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,sL)})),{id:e,dismiss:r,update:n}};function ts(){const[t,e]=b.useState(Fn.getState());return b.useEffect(()=>Fn.subscribe(r=>{e(r)}),[]),b.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:oL,toasts:t.toasts}}function aL(){const{toasts:t}=ts();return p.jsxs(tL,{children:[t.map(({id:e,title:n,description:r,action:i,...a})=>p.jsxs(zb,{...a,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(qb,{children:n}),r&&p.jsx(Hb,{children:r})]}),i,p.jsx($b,{})]},e)),p.jsx(Bb,{})]})}const Wb=b.createContext({});function lL(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yv=b.createContext(null),Gb=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cL(t=!0){const e=b.useContext(Yv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=b.useId();b.useEffect(()=>{t&&i(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Xv=typeof window<"u",uL=Xv?b.useLayoutEffect:b.useEffect,lr=t=>t;let Kb=lr;function Jv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ni=t=>t*1e3,ri=t=>t/1e3,dL={useManualTiming:!1};function hL(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(h.schedule(d),t()),d(l)}const h={schedule:(d,g=!1,y=!1)=>{const E=y&&r?e:n;return g&&a.add(d),E.has(d)||E.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(l=d,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,h.process(d))}};return h}const ah=["read","resolveKeyframes","update","preRender","render","postRender"],fL=40;function Qb(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ah.reduce((V,R)=>(V[R]=hL(a),V),{}),{read:c,resolveKeyframes:h,update:d,preRender:g,render:y,postRender:v}=l,E=()=>{const V=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(V-i.timestamp,fL),1),i.timestamp=V,i.isProcessing=!0,c.process(i),h.process(i),d.process(i),g.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},P=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:ah.reduce((V,R)=>{const N=l[R];return V[R]=(U,$=!1,q=!1)=>(n||P(),N.schedule(U,$,q)),V},{}),cancel:V=>{for(let R=0;R<ah.length;R++)l[ah[R]].cancel(V)},state:i,steps:l}}const{schedule:At,cancel:ro,state:yn,steps:mg}=Qb(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0),Yb=b.createContext({strict:!1}),BE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nl={};for(const t in BE)Nl[t]={isEnabled:e=>BE[t].some(n=>!!e[n])};function pL(t){for(const e in t)Nl[e]={...Nl[e],...t[e]}}const mL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function of(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mL.has(t)}let Xb=t=>!of(t);function gL(t){t&&(Xb=e=>e.startsWith("on")?!of(e):t(e))}try{gL(require("@emotion/is-prop-valid").default)}catch{}function yL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Xb(i)||n===!0&&of(i)||!e&&!of(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Xf=b.createContext({});function mu(t){return typeof t=="string"||Array.isArray(t)}function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e0=["initial",...Zv];function Zf(t){return Jf(t.animate)||e0.some(e=>mu(t[e]))}function Jb(t){return!!(Zf(t)||t.variants)}function wL(t,e){if(Zf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mu(n)?n:void 0,animate:mu(r)?r:void 0}}return t.inherit!==!1?e:{}}function xL(t){const{initial:e,animate:n}=wL(t,b.useContext(Xf));return b.useMemo(()=>({initial:e,animate:n}),[zE(e),zE(n)])}function zE(t){return Array.isArray(t)?t.join(" "):t}const _L=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EL(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):il(n)&&(n.current=r))},[e])}const t0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TL="framerAppearId",Zb="data-"+t0(TL),{schedule:n0}=Qb(queueMicrotask,!1),eA=b.createContext({});function SL(t,e,n,r,i){var a,l;const{visualElement:c}=b.useContext(Xf),h=b.useContext(Yb),d=b.useContext(Yv),g=b.useContext(Gb).reducedMotion,y=b.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,E=b.useContext(eA);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&CL(y.current,n,i,E);const P=b.useRef(!1);b.useInsertionEffect(()=>{v&&P.current&&v.update(n,d)});const C=n[Zb],T=b.useRef(!!C&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return uL(()=>{v&&(P.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),n0.render(v.render),T.current&&v.animationState&&v.animationState.animateChanges())}),b.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)===null||V===void 0||V.call(window,C)}),T.current=!1))}),v}function CL(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&il(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:d})}function tA(t){if(t)return t.options.allowProjection!==!1?t.projection:tA(t.parent)}function bL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&pL(t);function c(d,g){let y;const v={...b.useContext(Gb),...d,layoutId:AL(d)},{isStatic:E}=v,P=xL(d),C=r(d,E);if(!E&&Xv){PL();const T=IL(v);y=T.MeasureLayout,P.visualElement=SL(i,C,v,e,T.ProjectionNode)}return p.jsxs(Xf.Provider,{value:P,children:[y&&P.visualElement?p.jsx(y,{visualElement:P.visualElement,...v}):null,n(i,d,EL(C,P.visualElement,g),C,E,P.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const h=b.forwardRef(c);return h[_L]=i,h}function AL({layoutId:t}){const e=b.useContext(Wb).id;return e&&t!==void 0?e+"-"+t:t}function PL(t,e){b.useContext(Yb).strict}function IL(t){const{drag:e,layout:n}=Nl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const RL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r0(t){return typeof t!="string"||t.includes("-")?!1:!!(RL.indexOf(t)>-1||/[A-Z]/u.test(t))}function $E(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s0(t,e,n,r){if(typeof e=="function"){const[i,a]=$E(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=$E(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const by=t=>Array.isArray(t),NL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kL=t=>by(t)?t[t.length-1]||0:t,jn=t=>!!(t&&t.getVelocity);function Rh(t){const e=jn(t)?t.get():t;return NL(e)?e.toValue():e}function DL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:jL(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const nA=t=>(e,n)=>{const r=b.useContext(Xf),i=b.useContext(Yv),a=()=>DL(t,e,r,i);return n?a():lL(a)};function jL(t,e,n,r){const i={},a=r(t,{});for(const v in a)i[v]=Rh(a[v]);let{initial:l,animate:c}=t;const h=Zf(t),d=Jb(t);e&&d&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!Jf(y)){const v=Array.isArray(y)?y:[y];for(let E=0;E<v.length;E++){const P=s0(t,v[E]);if(P){const{transitionEnd:C,transition:T,...V}=P;for(const R in V){let N=V[R];if(Array.isArray(N)){const U=g?N.length-1:0;N=N[U]}N!==null&&(i[R]=N)}for(const R in C)i[R]=C[R]}}}return i}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ca=new Set($l),rA=t=>e=>typeof e=="string"&&e.startsWith(t),sA=rA("--"),VL=rA("var(--"),i0=t=>VL(t)?OL.test(t.split("/*")[0].trim()):!1,OL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,li=(t,e,n)=>n>e?e:n<t?t:n,ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...ql,transform:t=>li(0,1,t)},lh={...ql,default:1},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ui=Nu("deg"),Es=Nu("%"),Le=Nu("px"),ML=Nu("vh"),LL=Nu("vw"),qE={...Es,parse:t=>Es.parse(t)/100,transform:t=>Es.transform(t*100)},FL={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},UL={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:Ui,skewX:Ui,skewY:Ui,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:gu,originX:qE,originY:qE,originZ:Le},HE={...ql,transform:Math.round},o0={...FL,...UL,zIndex:HE,size:Le,fillOpacity:gu,strokeOpacity:gu,numOctaves:HE},BL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zL=$l.length;function $L(t,e,n){let r="",i=!0;for(let a=0;a<zL;a++){const l=$l[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const d=iA(c,o0[l]);if(!h){i=!1;const g=BL[l]||l;r+=`${g}(${d}) `}n&&(e[l]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function a0(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const d=e[h];if(ca.has(h)){l=!0;continue}else if(sA(h)){i[h]=d;continue}else{const g=iA(d,o0[h]);h.startsWith("origin")?(c=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=$L(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${d} ${g}`}}const qL={offset:"stroke-dashoffset",array:"stroke-dasharray"},HL={offset:"strokeDashoffset",array:"strokeDasharray"};function WL(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?qL:HL;t[a.offset]=Le.transform(-r);const l=Le.transform(e),c=Le.transform(n);t[a.array]=`${l} ${c}`}function WE(t,e,n){return typeof t=="string"?t:Le.transform(e+n*t)}function GL(t,e,n){const r=WE(e,t.x,t.width),i=WE(n,t.y,t.height);return`${r} ${i}`}function l0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...d},g,y){if(a0(t,d,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E,dimensions:P}=t;v.transform&&(P&&(E.transform=v.transform),delete v.transform),P&&(i!==void 0||a!==void 0||E.transform)&&(E.transformOrigin=GL(P,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),l!==void 0&&WL(v,l,c,h,!1)}const c0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oA=()=>({...c0(),attrs:{}}),u0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const lA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cA(t,e,n,r){aA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(lA.has(i)?i:t0(i),e.attrs[i])}const af={};function KL(t){Object.assign(af,t)}function uA(t,{layout:e,layoutId:n}){return ca.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!af[t]||t==="opacity")}function d0(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(jn(i[l])||e.style&&jn(e.style[l])||uA(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function dA(t,e,n){const r=d0(t,e,n);for(const i in t)if(jn(t[i])||jn(e[i])){const a=$l.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function QL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const GE=["x","y","width","height","cx","cy","r"],YL={useVisualState:nA({scrapeMotionValuesFromProps:dA,createRenderState:oA,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(ca.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<GE.length;c++){const h=GE[c];t[h]!==e[h]&&(l=!0)}l&&At.read(()=>{QL(n,r),At.render(()=>{l0(r,i,u0(n.tagName),t.transformTemplate),cA(n,r)})})}})},XL={useVisualState:nA({scrapeMotionValuesFromProps:d0,createRenderState:c0})};function hA(t,e,n){for(const r in e)!jn(e[r])&&!uA(r,n)&&(t[r]=e[r])}function JL({transformTemplate:t},e){return b.useMemo(()=>{const n=c0();return a0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZL(t,e){const n=t.style||{},r={};return hA(r,n,t),Object.assign(r,JL(t,e)),r}function eF(t,e){const n={},r=ZL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function tF(t,e,n,r){const i=b.useMemo(()=>{const a=oA();return l0(a,e,u0(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};hA(a,t.style,t),i.style={...a,...i.style}}return i}function nF(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(r0(n)?tF:eF)(r,a,l,n),d=yL(r,typeof n=="string",t),g=n!==b.Fragment?{...d,...h,ref:i}:{},{children:y}=r,v=b.useMemo(()=>jn(y)?y.get():y,[y]);return b.createElement(n,{...g,children:v})}}function rF(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...r0(r)?YL:XL,preloadedFeatures:t,useRender:nF(i),createVisualElement:e,Component:r};return bL(l)}}function fA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ep(t,e,n){const r=t.getProps();return s0(r,e,n!==void 0?n:r.custom,t)}const sF=Jv(()=>window.ScrollTimeline!==void 0);class iF{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(sF()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class oF extends iF{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function h0(t,e){return t?t[e]||t.default||t:void 0}const Ay=2e4;function pA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ay;)e+=n,r=t.next(e);return e>=Ay?1/0:e}function f0(t){return typeof t=="function"}function KE(t,e){t.timeline=e,t.onfinish=null}const p0=t=>Array.isArray(t)&&typeof t[0]=="number",aF={linearEasing:void 0};function lF(t,e){const n=Jv(t);return()=>{var r;return(r=aF[e])!==null&&r!==void 0?r:n()}}const lf=lF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Rl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function gA(t){return!!(typeof t=="function"&&lf()||!t||typeof t=="string"&&(t in Py||lf())||p0(t)||Array.isArray(t)&&t.every(gA))}const Wc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Py={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function yA(t,e){if(t)return typeof t=="function"&&lf()?mA(t,e):p0(t)?Wc(t):Array.isArray(t)?t.map(n=>yA(n,e)||Py.easeOut):Py[t]}const Wr={x:!1,y:!1};function vA(){return Wr.x||Wr.y}function cF(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function wA(t,e){const n=cF(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function QE(t){return e=>{e.pointerType==="touch"||vA()||t(e)}}function uF(t,e,n={}){const[r,i,a]=wA(t,n),l=QE(c=>{const{target:h}=c,d=e(c);if(typeof d!="function"||!h)return;const g=QE(y=>{d(y),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const xA=(t,e)=>e?t===e?!0:xA(t,e.parentElement):!1,m0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hF(t){return dF.has(t.tagName)||t.tabIndex!==-1}const Gc=new WeakSet;function YE(t){return e=>{e.key==="Enter"&&t(e)}}function gg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YE(()=>{if(Gc.has(n))return;gg(n,"down");const i=YE(()=>{gg(n,"up")}),a=()=>gg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XE(t){return m0(t)&&!vA()}function pF(t,e,n={}){const[r,i,a]=wA(t,n),l=c=>{const h=c.currentTarget;if(!XE(c)||Gc.has(h))return;Gc.add(h);const d=e(c),g=(E,P)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!XE(E)||!Gc.has(h))&&(Gc.delete(h),typeof d=="function"&&d(E,{success:P}))},y=E=>{g(E,n.useGlobalTarget||xA(h,E.target))},v=E=>{g(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return r.forEach(c=>{!hF(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",d=>fF(d,i),i)}),a}function mF(t){return t==="x"||t==="y"?Wr[t]?null:(Wr[t]=!0,()=>{Wr[t]=!1}):Wr.x||Wr.y?null:(Wr.x=Wr.y=!0,()=>{Wr.x=Wr.y=!1})}const _A=new Set(["width","height","top","left","right","bottom",...$l]);let Nh;function gF(){Nh=void 0}const Ts={now:()=>(Nh===void 0&&Ts.set(yn.isProcessing||dL.useManualTiming?yn.timestamp:performance.now()),Nh),set:t=>{Nh=t,queueMicrotask(gF)}};function g0(t,e){t.indexOf(e)===-1&&t.push(e)}function y0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class v0{constructor(){this.subscriptions=[]}add(e){return g0(this.subscriptions,e),()=>y0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function EA(t,e){return e?t*(1e3/e):0}const JE=30,yF=t=>!isNaN(parseFloat(t));class vF{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Ts.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ts.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new v0);const r=this.events[e].add(n);return e==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JE);return EA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yu(t,e){return new vF(t,e)}function wF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yu(n))}function xF(t,e){const n=ep(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=kL(a[l]);wF(t,l,c)}}function _F(t){return!!(jn(t)&&t.add)}function Iy(t,e){const n=t.getValue("willChange");if(_F(n))return n.add(e)}function TA(t){return t.props[Zb]}const SA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EF=1e-7,TF=12;function SF(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=SA(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>EF&&++c<TF);return l}function ku(t,e,n,r){if(t===e&&n===r)return lr;const i=a=>SF(a,0,1,t,n);return a=>a===0||a===1?a:SA(i(a),e,r)}const CA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bA=t=>e=>1-t(1-e),AA=ku(.33,1.53,.69,.99),w0=bA(AA),PA=CA(w0),IA=t=>(t*=2)<1?.5*w0(t):.5*(2-Math.pow(2,-10*(t-1))),x0=t=>1-Math.sin(Math.acos(t)),RA=bA(x0),NA=CA(x0),kA=t=>/^0[^.\s]+$/u.test(t);function CF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kA(t):!0}const eu=t=>Math.round(t*1e5)/1e5,_0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bF(t){return t==null}const AF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E0=(t,e)=>n=>!!(typeof n=="string"&&AF.test(n)&&n.startsWith(t)||e&&!bF(n)&&Object.prototype.hasOwnProperty.call(n,e)),DA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(_0);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},PF=t=>li(0,255,t),yg={...ql,transform:t=>Math.round(PF(t))},qo={test:E0("rgb","red"),parse:DA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yg.transform(t)+", "+yg.transform(e)+", "+yg.transform(n)+", "+eu(gu.transform(r))+")"};function IF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ry={test:E0("#"),parse:IF,transform:qo.transform},ol={test:E0("hsl","hue"),parse:DA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Es.transform(eu(e))+", "+Es.transform(eu(n))+", "+eu(gu.transform(r))+")"},Nn={test:t=>qo.test(t)||Ry.test(t)||ol.test(t),parse:t=>qo.test(t)?qo.parse(t):ol.test(t)?ol.parse(t):Ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):ol.transform(t)},RF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(RF))===null||n===void 0?void 0:n.length)||0)>0}const jA="number",VA="color",kF="var",DF="var(",ZE="${}",jF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(jF,h=>(Nn.test(h)?(r.color.push(a),i.push(VA),n.push(Nn.parse(h))):h.startsWith(DF)?(r.var.push(a),i.push(kF),n.push(h)):(r.number.push(a),i.push(jA),n.push(parseFloat(h))),++a,ZE)).split(ZE);return{values:n,split:c,indexes:r,types:i}}function OA(t){return vu(t).values}function MA(t){const{split:e,types:n}=vu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===jA?a+=eu(i[l]):c===VA?a+=Nn.transform(i[l]):a+=i[l]}return a}}const VF=t=>typeof t=="number"?0:t;function OF(t){const e=OA(t);return MA(t)(e.map(VF))}const so={test:NF,parse:OA,createTransformer:MA,getAnimatableNone:OF},MF=new Set(["brightness","contrast","saturate","opacity"]);function LF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_0)||[];if(!r)return t;const i=n.replace(r,"");let a=MF.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const FF=/\b([a-z-]*)\(.*?\)/gu,Ny={...so,getAnimatableNone:t=>{const e=t.match(FF);return e?e.map(LF).join(" "):t}},UF={...o0,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:Ny,WebkitFilter:Ny},T0=t=>UF[t];function LA(t,e){let n=T0(t);return n!==Ny&&(n=so),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BF=new Set(["auto","none","0"]);function zF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!BF.has(a)&&vu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=LA(n,i)}const eT=t=>t===ql||t===Le,tT=(t,e)=>parseFloat(t.split(", ")[e]),nT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return tT(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?tT(a[1],t):0}},$F=new Set(["x","y","z"]),qF=$l.filter(t=>!$F.has(t));function HF(t){const e=[];return qF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const kl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nT(4,13),y:nT(5,14)};kl.translateX=kl.x;kl.translateY=kl.y;const Go=new Set;let ky=!1,Dy=!1;function FA(){if(Dy){const t=Array.from(Go).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=HF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dy=!1,ky=!1,Go.forEach(t=>t.complete()),Go.clear()}function UA(){Go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dy=!0)})}function WF(){UA(),FA()}class S0{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Go.add(this),ky||(ky=!0,At.read(UA),At.resolveKeyframes(FA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const BA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),GF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KF(t){const e=GF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function zA(t,e,n=1){const[r,i]=KF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return BA(l)?parseFloat(l):l}return i0(i)?zA(i,e,n+1):i}const $A=t=>e=>e.test(t),QF={test:t=>t==="auto",parse:t=>t},qA=[ql,Le,Es,Ui,LL,ML,QF],rT=t=>qA.find($A(t));class HA extends S0{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),i0(d))){const g=zA(d,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!_A.has(r)||e.length!==2)return;const[i,a]=e,l=rT(i),c=rT(a);if(l!==c)if(eT(l)&&eT(c))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)CF(e[i])&&r.push(i);r.length&&zF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=kl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const sT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(so.test(t)||t==="0")&&!t.startsWith("url("));function YF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function XF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=sT(i,e),c=sT(a,e);return!l||!c?!1:YF(t)||(n==="spring"||f0(n))&&r}const JF=t=>t!==null;function tp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(JF),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const ZF=40;class WA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ts.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&WF(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ts.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:d}=this.options;if(!d&&!XF(e,r,i,a))if(l)this.options.duration=0;else{h&&h(tp(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jt=(t,e,n)=>t+(e-t)*n;function vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=vg(h,c,t+1/3),a=vg(h,c,t),l=vg(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function cf(t,e){return n=>n>0?e:t}const wg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},t5=[Ry,qo,ol],n5=t=>t5.find(e=>e.test(t));function iT(t){const e=n5(t);if(!e)return!1;let n=e.parse(t);return e===ol&&(n=e5(n)),n}const oT=(t,e)=>{const n=iT(t),r=iT(e);if(!n||!r)return cf(t,e);const i={...n};return a=>(i.red=wg(n.red,r.red,a),i.green=wg(n.green,r.green,a),i.blue=wg(n.blue,r.blue,a),i.alpha=jt(n.alpha,r.alpha,a),qo.transform(i))},r5=(t,e)=>n=>e(t(n)),Du=(...t)=>t.reduce(r5),jy=new Set(["none","hidden"]);function s5(t,e){return jy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function i5(t,e){return n=>jt(t,e,n)}function C0(t){return typeof t=="number"?i5:typeof t=="string"?i0(t)?cf:Nn.test(t)?oT:l5:Array.isArray(t)?GA:typeof t=="object"?Nn.test(t)?oT:o5:cf}function GA(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>C0(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function o5(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=C0(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function a5(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,i[l]++}return r}const l5=(t,e)=>{const n=so.createTransformer(e),r=vu(t),i=vu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jy.has(t)&&!i.values.length||jy.has(e)&&!r.values.length?s5(t,e):Du(GA(a5(r,i),i.values),n):cf(t,e)};function KA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):C0(t)(t,e)}const c5=5;function QA(t,e,n){const r=Math.max(e-c5,0);return EA(n-t(r),e-r)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xg=.001;function u5({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:r=Ft.mass}){let i,a,l=1-e;l=li(Ft.minDamping,Ft.maxDamping,l),t=li(Ft.minDuration,Ft.maxDuration,ri(t)),l<1?(i=d=>{const g=d*l,y=g*t,v=g-n,E=Vy(d,l),P=Math.exp(-y);return xg-v/E*P},a=d=>{const y=d*l*t,v=y*n+n,E=Math.pow(l,2)*Math.pow(d,2)*t,P=Math.exp(-y),C=Vy(Math.pow(d,2),l);return(-i(d)+xg>0?-1:1)*((v-E)*P)/C}):(i=d=>{const g=Math.exp(-d*t),y=(d-n)*t+1;return-xg+g*y},a=d=>{const g=Math.exp(-d*t),y=(n-d)*(t*t);return g*y});const c=5/t,h=h5(i,a,c);if(t=ni(t),isNaN(h))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:t}}}const d5=12;function h5(t,e,n){let r=n;for(let i=1;i<d5;i++)r=r-t(r)/e(r);return r}function Vy(t,e){return t*Math.sqrt(1-e*e)}const f5=["duration","bounce"],p5=["stiffness","damping","mass"];function aT(t,e){return e.some(n=>t[n]!==void 0)}function m5(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!aT(t,p5)&&aT(t,f5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*li(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:a}}else{const n=u5(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function YA(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:d,mass:g,duration:y,velocity:v,isResolvedFromDuration:E}=m5({...n,velocity:-ri(n.velocity||0)}),P=v||0,C=d/(2*Math.sqrt(h*g)),T=l-a,V=ri(Math.sqrt(h/g)),R=Math.abs(T)<5;r||(r=R?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=R?Ft.restDelta.granular:Ft.restDelta.default);let N;if(C<1){const $=Vy(V,C);N=q=>{const j=Math.exp(-C*V*q);return l-j*((P+C*V*T)/$*Math.sin($*q)+T*Math.cos($*q))}}else if(C===1)N=$=>l-Math.exp(-V*$)*(T+(P+V*T)*$);else{const $=V*Math.sqrt(C*C-1);N=q=>{const j=Math.exp(-C*V*q),S=Math.min($*q,300);return l-j*((P+C*V*T)*Math.sinh(S)+$*T*Math.cosh(S))/$}}const U={calculatedDuration:E&&y||null,next:$=>{const q=N($);if(E)c.done=$>=y;else{let j=0;C<1&&(j=$===0?ni(P):QA(N,$,q));const S=Math.abs(j)<=r,A=Math.abs(l-q)<=i;c.done=S&&A}return c.value=c.done?l:q,c},toString:()=>{const $=Math.min(pA(U),Ay),q=mA(j=>U.next($*j).value,$,30);return $+"ms "+q}};return U}function lT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},E=S=>c!==void 0&&S<c||h!==void 0&&S>h,P=S=>c===void 0?h:h===void 0||Math.abs(c-S)<Math.abs(h-S)?c:h;let C=n*e;const T=y+C,V=l===void 0?T:l(T);V!==T&&(C=V-y);const R=S=>-C*Math.exp(-S/r),N=S=>V+R(S),U=S=>{const A=R(S),k=N(S);v.done=Math.abs(A)<=d,v.value=v.done?V:k};let $,q;const j=S=>{E(v.value)&&($=S,q=YA({keyframes:[v.value,P(v.value)],velocity:QA(N,S,v.value),damping:i,stiffness:a,restDelta:d,restSpeed:g}))};return j(0),{calculatedDuration:null,next:S=>{let A=!1;return!q&&$===void 0&&(A=!0,U(S),j(S)),$!==void 0&&S>=$?q.next(S-$):(!A&&U(S),v)}}}const g5=ku(.42,0,1,1),y5=ku(0,0,.58,1),XA=ku(.42,0,.58,1),v5=t=>Array.isArray(t)&&typeof t[0]!="number",w5={linear:lr,easeIn:g5,easeInOut:XA,easeOut:y5,circIn:x0,circInOut:NA,circOut:RA,backIn:w0,backInOut:PA,backOut:AA,anticipate:IA},cT=t=>{if(p0(t)){Kb(t.length===4);const[e,n,r,i]=t;return ku(e,n,r,i)}else if(typeof t=="string")return w5[t];return t};function x5(t,e,n){const r=[],i=n||KA,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||lr:e;c=Du(h,c)}r.push(c)}return r}function _5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Kb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=x5(e,r,i),h=c.length,d=g=>{if(l&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=Rl(t[y],t[y+1],g);return c[y](v)};return n?g=>d(li(t[0],t[a-1],g)):d}function E5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Rl(0,e,r);t.push(jt(n,1,i))}}function T5(t){const e=[0];return E5(e,t.length-1),e}function S5(t,e){return t.map(n=>n*e)}function C5(t,e){return t.map(()=>e||XA).splice(0,t.length-1)}function uf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=v5(r)?r.map(cT):cT(r),a={done:!1,value:e[0]},l=S5(n&&n.length===e.length?n:T5(e),t),c=_5(l,e,{ease:Array.isArray(i)?i:C5(e,i)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const b5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>At.update(e,!0),stop:()=>ro(e),now:()=>yn.isProcessing?yn.timestamp:Ts.now()}},A5={decay:lT,inertia:lT,tween:uf,keyframes:uf,spring:YA},P5=t=>t/100;class b0 extends WA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||S0,c=(h,d)=>this.onKeyframesResolved(h,d);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=f0(n)?n:A5[n]||uf;let h,d;c!==uf&&typeof e[0]!="number"&&(h=Du(P5,KA(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(d=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=pA(g));const{calculatedDuration:y}=g,v=y+i,E=v*(r+1)-i;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:v,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:d,totalDuration:g,resolvedDuration:y}=r;if(this.startTime===null)return a.next(0);const{delay:v,repeat:E,repeatType:P,repeatDelay:C,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const V=this.currentTime-v*(this.speed>=0?1:-1),R=this.speed>=0?V<0:V>g;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let N=this.currentTime,U=a;if(E){const S=Math.min(this.currentTime,g)/y;let A=Math.floor(S),k=S%1;!k&&S>=1&&(k=1),k===1&&A--,A=Math.min(A,E+1),!!(A%2)&&(P==="reverse"?(k=1-k,C&&(k-=C/y)):P==="mirror"&&(U=l)),N=li(0,1,k)*y}const $=R?{done:!1,value:h[0]}:U.next(N);c&&($.value=c($.value));let{done:q}=$;!R&&d!==null&&(q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return j&&i!==void 0&&($.value=tp(h,this.options,i)),T&&T($.value),j&&this.finish(),$}get duration(){const{resolved:e}=this;return e?ri(e.calculatedDuration):0}get time(){return ri(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=b5,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const I5=new Set(["opacity","clipPath","filter","transform"]);function R5(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const d={[e]:n};h&&(d.offset=h);const g=yA(c,i);return Array.isArray(g)&&(d.easing=g),t.animate(d,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const N5=Jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),df=10,k5=2e4;function D5(t){return f0(t.type)||t.type==="spring"||!gA(t.ease)}function j5(t,e){const n=new b0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<k5;)r=n.sample(a),i.push(r.value),a+=df;return{times:void 0,keyframes:i,duration:a-df,ease:"linear"}}const JA={anticipate:IA,backInOut:PA,circInOut:NA};function V5(t){return t in JA}class uT extends WA{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new HA(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:h,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&lf()&&V5(a)&&(a=JA[a]),D5(this.options)){const{onComplete:y,onUpdate:v,motionValue:E,element:P,...C}=this.options,T=j5(e,C);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,i=T.times,a=T.ease,l="keyframes"}const g=R5(c.owner.current,h,e,{...this.options,duration:r,times:i,ease:a});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(KE(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;c.set(tp(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ri(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ri(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return lr;const{animation:r}=n;KE(r,e)}return lr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:y,element:v,...E}=this.options,P=new b0({...E,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),C=ni(this.time);d.setWithVelocity(P.sample(C-df).value,P.sample(C).value,df)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=n.owner.getProps();return N5()&&r&&I5.has(r)&&!h&&!d&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const O5={type:"spring",stiffness:500,damping:25,restSpeed:10},M5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L5={type:"keyframes",duration:.8},F5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U5=(t,{keyframes:e})=>e.length>2?L5:ca.has(t)?t.startsWith("scale")?M5(e[1]):O5:F5;function B5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:d,...g}){return!!Object.keys(g).length}const A0=(t,e,n,r={},i,a)=>l=>{const c=h0(r,t)||{},h=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ni(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};B5(c)||(g={...g,...U5(t,g)}),g.duration&&(g.duration=ni(g.duration)),g.repeatDelay&&(g.repeatDelay=ni(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!a&&e.get()!==void 0){const v=tp(g.keyframes,c);if(v!==void 0)return At.update(()=>{g.onUpdate(v),g.onComplete()}),new oF([])}return!a&&uT.supports(g)?new uT(g):new b0(g)};function z5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ZA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const d=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const v=t.getValue(y,(a=t.latestValues[y])!==null&&a!==void 0?a:null),E=h[y];if(E===void 0||g&&z5(g,y))continue;const P={delay:n,...h0(l||{},y)};let C=!1;if(window.MotionHandoffAnimation){const V=TA(t);if(V){const R=window.MotionHandoffAnimation(V,y,At);R!==null&&(P.startTime=R,C=!0)}}Iy(t,y),v.start(A0(y,v,E,t.shouldReduceMotion&&_A.has(y)?{type:!1}:P,t,C));const T=v.animation;T&&d.push(T)}return c&&Promise.all(d).then(()=>{At.update(()=>{c&&xF(t,c)})}),d}function Oy(t,e,n={}){var r;const i=ep(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(ZA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return $5(t,e,g+d,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,g]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function $5(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(d=0)=>d*r:(d=0)=>c-d*r;return Array.from(t.variantChildren).sort(q5).forEach((d,g)=>{d.notify("AnimationStart",e),l.push(Oy(d,e,{...a,delay:n+h(g)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(l)}function q5(t,e){return t.sortNodePosition(e)}function H5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Oy(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Oy(t,e,n);else{const i=typeof e=="function"?ep(t,e,n.custom):e;r=Promise.all(ZA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const W5=e0.length;function eP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?eP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<W5;n++){const r=e0[n],i=t.props[r];(mu(i)||i===!1)&&(e[r]=i)}return e}const G5=[...Zv].reverse(),K5=Zv.length;function Q5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>H5(t,n,r)))}function Y5(t){let e=Q5(t),n=dT(),r=!0;const i=h=>(d,g)=>{var y;const v=ep(t,g,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:E,transitionEnd:P,...C}=v;d={...d,...C,...P}}return d};function a(h){e=h(t)}function l(h){const{props:d}=t,g=eP(t.parent)||{},y=[],v=new Set;let E={},P=1/0;for(let T=0;T<K5;T++){const V=G5[T],R=n[V],N=d[V]!==void 0?d[V]:g[V],U=mu(N),$=V===h?R.isActive:null;$===!1&&(P=T);let q=N===g[V]&&N!==d[V]&&U;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),R.protectedKeys={...E},!R.isActive&&$===null||!N&&!R.prevProp||Jf(N)||typeof N=="boolean")continue;const j=X5(R.prevProp,N);let S=j||V===h&&R.isActive&&!q&&U||T>P&&U,A=!1;const k=Array.isArray(N)?N:[N];let M=k.reduce(i(V),{});$===!1&&(M={});const{prevResolvedValues:F={}}=R,O={...F,...M},G=se=>{S=!0,v.has(se)&&(A=!0,v.delete(se)),R.needsAnimating[se]=!0;const K=t.getValue(se);K&&(K.liveStyle=!1)};for(const se in O){const K=M[se],ee=F[se];if(E.hasOwnProperty(se))continue;let le=!1;by(K)&&by(ee)?le=!fA(K,ee):le=K!==ee,le?K!=null?G(se):v.add(se):K!==void 0&&v.has(se)?G(se):R.protectedKeys[se]=!0}R.prevProp=N,R.prevResolvedValues=M,R.isActive&&(E={...E,...M}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(q&&j)||A)&&y.push(...k.map(se=>({animation:se,options:{type:V}})))}if(v.size){const T={};v.forEach(V=>{const R=t.getBaseTarget(V),N=t.getValue(V);N&&(N.liveStyle=!0),T[V]=R??null}),y.push({animation:T})}let C=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(y):Promise.resolve()}function c(h,d){var g;if(n[h].isActive===d)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var E;return(E=v.animationState)===null||E===void 0?void 0:E.setActive(h,d)}),n[h].isActive=d;const y=l(h);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=dT(),r=!0}}}function X5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fA(e,t):!1}function Fo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dT(){return{animate:Fo(!0),whileInView:Fo(),whileHover:Fo(),whileTap:Fo(),whileDrag:Fo(),whileFocus:Fo(),exit:Fo()}}class uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J5 extends uo{constructor(e){super(e),e.animationState||(e.animationState=Y5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Z5=0;class e3 extends uo{constructor(){super(...arguments),this.id=Z5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t3={animation:{Feature:J5},exit:{Feature:e3}};function wu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ju(t){return{point:{x:t.pageX,y:t.pageY}}}const n3=t=>e=>m0(e)&&t(e,ju(e));function tu(t,e,n,r){return wu(t,e,n3(n),r)}const hT=(t,e)=>Math.abs(t-e);function r3(t,e){const n=hT(t.x,e.x),r=hT(t.y,e.y);return Math.sqrt(n**2+r**2)}class tP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Eg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,E=r3(y.offset,{x:0,y:0})>=3;if(!v&&!E)return;const{point:P}=y,{timestamp:C}=yn;this.history.push({...P,timestamp:C});const{onStart:T,onMove:V}=this.handlers;v||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=_g(v,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:E,onSessionEnd:P,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Eg(y.type==="pointercancel"?this.lastMoveEventInfo:_g(v,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,T),P&&P(y,T)},!m0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=ju(e),c=_g(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=yn;this.history=[{...h,timestamp:d}];const{onSessionStart:g}=n;g&&g(e,Eg(c,this.history)),this.removeListeners=Du(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ro(this.updatePoint)}}function _g(t,e){return e?{point:e(t.point)}:t}function fT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Eg({point:t},e){return{point:t,delta:fT(t,nP(e)),offset:fT(t,s3(e)),velocity:i3(e,.1)}}function s3(t){return t[0]}function nP(t){return t[t.length-1]}function i3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=nP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ni(e)));)n--;if(!r)return{x:0,y:0};const a=ri(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const rP=1e-4,o3=1-rP,a3=1+rP,sP=.01,l3=0-sP,c3=0+sP;function ur(t){return t.max-t.min}function u3(t,e,n){return Math.abs(t-e)<=n}function pT(t,e,n,r=.5){t.origin=r,t.originPoint=jt(e.min,e.max,t.origin),t.scale=ur(n)/ur(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=o3&&t.scale<=a3||isNaN(t.scale))&&(t.scale=1),(t.translate>=l3&&t.translate<=c3||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){pT(t.x,e.x,n.x,r?r.originX:void 0),pT(t.y,e.y,n.y,r?r.originY:void 0)}function mT(t,e,n){t.min=n.min+e.min,t.max=t.min+ur(e)}function d3(t,e,n){mT(t.x,e.x,n.x),mT(t.y,e.y,n.y)}function gT(t,e,n){t.min=e.min-n.min,t.max=t.min+ur(e)}function ru(t,e,n){gT(t.x,e.x,n.x),gT(t.y,e.y,n.y)}function h3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jt(n,t,r.max):Math.min(t,n)),t}function yT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function f3(t,{top:e,left:n,bottom:r,right:i}){return{x:yT(t.x,n,i),y:yT(t.y,e,r)}}function vT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function p3(t,e){return{x:vT(t.x,e.x),y:vT(t.y,e.y)}}function m3(t,e){let n=.5;const r=ur(t),i=ur(e);return i>r?n=Rl(e.min,e.max-r,t.min):r>i&&(n=Rl(t.min,t.max-i,e.min)),li(0,1,n)}function g3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const My=.35;function y3(t=My){return t===!1?t=0:t===!0&&(t=My),{x:wT(t,"left","right"),y:wT(t,"top","bottom")}}function wT(t,e,n){return{min:xT(t,e),max:xT(t,n)}}function xT(t,e){return typeof t=="number"?t:t[e]||0}const _T=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:_T(),y:_T()}),ET=()=>({min:0,max:0}),qt=()=>({x:ET(),y:ET()});function Tr(t){return[t("x"),t("y")]}function iP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function v3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function w3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tg(t){return t===void 0||t===1}function Ly({scale:t,scaleX:e,scaleY:n}){return!Tg(t)||!Tg(e)||!Tg(n)}function Bo(t){return Ly(t)||oP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oP(t){return TT(t.x)||TT(t.y)}function TT(t){return t&&t!=="0%"}function hf(t,e,n){const r=t-n,i=e*r;return n+i}function ST(t,e,n,r,i){return i!==void 0&&(t=hf(t,i,r)),hf(t,n,r)+e}function Fy(t,e=0,n=1,r,i){t.min=ST(t.min,e,n,r,i),t.max=ST(t.max,e,n,r,i)}function aP(t,{x:e,y:n}){Fy(t.x,e.translate,e.scale,e.originPoint),Fy(t.y,n.translate,n.scale,n.originPoint)}const CT=.999999999999,bT=1.0000000000001;function x3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,aP(t,l)),r&&Bo(a.latestValues)&&cl(t,a.latestValues))}e.x<bT&&e.x>CT&&(e.x=1),e.y<bT&&e.y>CT&&(e.y=1)}function ll(t,e){t.min=t.min+e,t.max=t.max+e}function AT(t,e,n,r,i=.5){const a=jt(t.min,t.max,i);Fy(t,e,n,a,r)}function cl(t,e){AT(t.x,e.x,e.scaleX,e.scale,e.originX),AT(t.y,e.y,e.scaleY,e.scale,e.originY)}function lP(t,e){return iP(w3(t.getBoundingClientRect(),e))}function _3(t,e,n){const r=lP(t,n),{scroll:i}=e;return i&&(ll(r.x,i.offset.x),ll(r.y,i.offset.y)),r}const cP=({current:t})=>t?t.ownerDocument.defaultView:null,E3=new WeakMap;class T3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ju(g).point)},a=(g,y)=>{const{drag:v,dragPropagation:E,onDragStart:P}=this.getProps();if(v&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mF(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tr(T=>{let V=this.getAxisMotionValue(T).get()||0;if(Es.test(V)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[T];N&&(V=ur(N)*(parseFloat(V)/100))}}this.originPoint[T]=V}),P&&At.postRender(()=>P(g,y)),Iy(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:v,dragDirectionLock:E,onDirectionLock:P,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=y;if(E&&this.currentDirection===null){this.currentDirection=S3(T),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),C&&C(g,y)},c=(g,y)=>this.stop(g,y),h=()=>Tr(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new tP(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:cP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&At.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ch(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=h3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&il(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=f3(i.layoutBox,n):this.constraints=!1,this.elastic=y3(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Tr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=g3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=_3(r,i.root,this.visualElement.getTransformPagePoint());let l=p3(i.layout.layoutBox,a);if(n){const c=n(v3(l));this.hasMutatedConstraints=!!c,c&&(l=iP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=Tr(g=>{if(!ch(g,n,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const v=i?200:1e6,E=i?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,P)});return Promise.all(d).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Iy(this.visualElement,e),r.start(A0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tr(n=>{const{drag:r}=this.getProps();if(!ch(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-jt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!il(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Tr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=m3({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tr(l=>{if(!ch(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(jt(h,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;E3.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",h=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();il(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),At.read(r);const l=wu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Tr(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=My,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function S3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class C3 extends uo{constructor(e){super(e),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new T3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const PT=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class b3 extends uo{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(e){this.session=new tP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:PT(e),onStart:PT(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&At.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=IT(t,e.target.x),r=IT(t,e.target.y);return`${n}% ${r}%`}},A3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=so.parse(t);if(i.length>5)return r;const a=so.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const d=jt(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),a(i)}};class P3 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;KL(I3),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||At.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uP(t){const[e,n]=cL(),r=b.useContext(Wb);return p.jsx(P3,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(eA),isPresent:e,safeToRemove:n})}const I3={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:A3};function R3(t,e,n){const r=jn(t)?t:yu(t);return r.start(A0("",r,e,n)),r.animation}function N3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const k3=(t,e)=>t.depth-e.depth;class D3{constructor(){this.children=[],this.isDirty=!1}add(e){g0(this.children,e),this.isDirty=!0}remove(e){y0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k3),this.isDirty=!1,this.children.forEach(e)}}function j3(t,e){const n=Ts.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ro(r),t(a-e))};return At.read(r,!0),()=>ro(r)}const dP=["TopLeft","TopRight","BottomLeft","BottomRight"],V3=dP.length,RT=t=>typeof t=="string"?parseFloat(t):t,NT=t=>typeof t=="number"||Le.test(t);function O3(t,e,n,r,i,a){i?(t.opacity=jt(0,n.opacity!==void 0?n.opacity:1,M3(r)),t.opacityExit=jt(e.opacity!==void 0?e.opacity:1,0,L3(r))):a&&(t.opacity=jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<V3;l++){const c=`border${dP[l]}Radius`;let h=kT(e,c),d=kT(n,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||NT(h)===NT(d)?(t[c]=Math.max(jt(RT(h),RT(d),r),0),(Es.test(d)||Es.test(h))&&(t[c]+="%")):t[c]=d}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,r))}function kT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const M3=hP(0,.5,RA),L3=hP(.5,.95,lr);function hP(t,e,n){return r=>r<t?0:r>e?1:n(Rl(t,e,r))}function DT(t,e){t.min=e.min,t.max=e.max}function Er(t,e){DT(t.x,e.x),DT(t.y,e.y)}function jT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function VT(t,e,n,r,i){return t-=e,t=hf(t,1/n,r),i!==void 0&&(t=hf(t,1/i,r)),t}function F3(t,e=0,n=1,r=.5,i,a=t,l=t){if(Es.test(e)&&(e=parseFloat(e),e=jt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=jt(a.min,a.max,r);t===a&&(c-=e),t.min=VT(t.min,e,n,c,i),t.max=VT(t.max,e,n,c,i)}function OT(t,e,[n,r,i],a,l){F3(t,e[n],e[r],e[i],e.scale,a,l)}const U3=["x","scaleX","originX"],B3=["y","scaleY","originY"];function MT(t,e,n,r){OT(t.x,e,U3,n?n.x:void 0,r?r.x:void 0),OT(t.y,e,B3,n?n.y:void 0,r?r.y:void 0)}function LT(t){return t.translate===0&&t.scale===1}function fP(t){return LT(t.x)&&LT(t.y)}function FT(t,e){return t.min===e.min&&t.max===e.max}function z3(t,e){return FT(t.x,e.x)&&FT(t.y,e.y)}function UT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pP(t,e){return UT(t.x,e.x)&&UT(t.y,e.y)}function BT(t){return ur(t.x)/ur(t.y)}function zT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $3{constructor(){this.members=[]}add(e){g0(this.members,e),e.scheduleRender()}remove(e){if(y0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q3(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:y,rotateY:v,skewX:E,skewY:P}=n;d&&(r=`perspective(${d}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),E&&(r+=`skewX(${E}deg) `),P&&(r+=`skewY(${P}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Kc=typeof window<"u"&&window.MotionDebug!==void 0,Sg=["","X","Y","Z"],H3={visibility:"hidden"},$T=1e3;let W3=0;function Cg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mP(r)}function gP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=W3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kc&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(Q3),this.nodes.forEach(e6),this.nodes.forEach(t6),this.nodes.forEach(Y3),Kc&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new D3)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new v0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=N3(l),this.instance=l;const{layoutId:h,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||h)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=j3(v,250),kh.hasAnimatedSinceResize&&(kh.hasAnimatedSinceResize=!1,this.nodes.forEach(HT))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:E,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||o6,{onLayoutAnimationStart:T,onLayoutAnimationComplete:V}=g.getProps(),R=!this.targetLayout||!pP(this.targetLayout,P)||E,N=!v&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||v&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,N);const U={...h0(C,"layout"),onPlay:T,onComplete:V};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else v||HT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qT);return}this.isUpdating||this.nodes.forEach(J3),this.isUpdating=!1,this.nodes.forEach(Z3),this.nodes.forEach(G3),this.nodes.forEach(K3),this.clearAllSnapshots();const c=Ts.now();yn.delta=li(0,1e3/60,c-yn.timestamp),yn.timestamp=c,yn.isProcessing=!0,mg.update.process(yn),mg.preRender.process(yn),mg.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X3),this.sharedNodes.forEach(r6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!fP(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;l&&(c||Bo(this.latestValues)||g)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),a6(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return qt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(l6))){const{scroll:g}=this.root;g&&(ll(h.x,g.offset.x),ll(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=qt();if(Er(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Er(h,l),ll(h.x,y.offset.x),ll(h.y,y.offset.y))}return h}applyTransform(l,c=!1){const h=qt();Er(h,l);for(let d=0;d<this.path.length;d++){const g=this.path[d];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&cl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Bo(g.latestValues)&&cl(h,g.latestValues)}return Bo(this.latestValues)&&cl(h,this.latestValues),h}removeTransform(l){const c=qt();Er(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Bo(d.latestValues))continue;Ly(d.latestValues)&&d.updateSnapshot();const g=qt(),y=d.measurePageBox();Er(g,y),MT(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Bo(this.latestValues)&&MT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),ru(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),aP(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),ru(this.relativeTargetOrigin,this.target,E.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kc&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ly(this.parent.latestValues)||oP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(d=!1),d)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Er(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;x3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=qt());const{target:P}=c;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jT(this.prevProjectionDelta.x,this.projectionDelta.x),jT(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!zT(this.projectionDelta.x,this.prevProjectionDelta.x)||!zT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),Kc&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},g={...this.latestValues},y=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=qt(),E=h?h.source:void 0,P=this.layout?this.layout.source:void 0,C=E!==P,T=this.getStack(),V=!T||T.members.length<=1,R=!!(C&&!V&&this.options.crossfade===!0&&!this.path.some(i6));this.animationProgress=0;let N;this.mixTargetDelta=U=>{const $=U/1e3;WT(y.x,l.x,$),WT(y.y,l.y,$),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s6(this.relativeTarget,this.relativeTargetOrigin,v,$),N&&z3(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=qt()),Er(N,this.relativeTarget)),C&&(this.animationValues=g,O3(g,d,this.latestValues,$,R,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{kh.hasAnimatedSinceResize=!0,this.currentAnimation=R3(0,$T,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:g}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&yP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||qt();const y=ur(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const v=ur(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}Er(c,h),cl(c,g),nu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $3),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&Cg("z",l,d,this.animationValues);for(let g=0;g<Sg.length;g++)Cg(`rotate${Sg[g]}`,l,d,this.animationValues),Cg(`skew${Sg[g]}`,l,d,this.animationValues);l.render();for(const g in d)l.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return H3;const d={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Rh(l==null?void 0:l.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none",d;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Rh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),d.transform=q3(this.projectionDeltaWithTransform,this.treeScale,v),g&&(d.transform=g(v,d.transform));const{x:E,y:P}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${P.origin*100}% 0`,y.animationValues?d.opacity=y===this?(h=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in af){if(v[C]===void 0)continue;const{correct:T,applyTo:V}=af[C],R=d.transform==="none"?v[C]:T(v[C],y);if(V){const N=V.length;for(let U=0;U<N;U++)d[V[U]]=R}else d[C]=R}return this.options.layoutId&&(d.pointerEvents=y===this?Rh(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(qT),this.root.sharedNodes.clear()}}}function G3(t){t.updateLayout()}function K3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Tr(y=>{const v=l?n.measuredBox[y]:n.layoutBox[y],E=ur(v);v.min=r[y].min,v.max=v.min+E}):yP(a,n.layoutBox,r)&&Tr(y=>{const v=l?n.measuredBox[y]:n.layoutBox[y],E=ur(r[y]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const c=al();nu(c,r,n.layoutBox);const h=al();l?nu(h,t.applyTransform(i,!0),n.measuredBox):nu(h,r,n.layoutBox);const d=!fP(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const P=qt();ru(P,n.layoutBox,v.layoutBox);const C=qt();ru(C,r,E.layoutBox),pP(P,C)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=P,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Q3(t){Kc&&zo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function X3(t){t.clearSnapshot()}function qT(t){t.clearMeasurements()}function J3(t){t.isLayoutDirty=!1}function Z3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function e6(t){t.resolveTargetDelta()}function t6(t){t.calcProjection()}function n6(t){t.resetSkewAndRotation()}function r6(t){t.removeLeadSnapshot()}function WT(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GT(t,e,n,r){t.min=jt(e.min,n.min,r),t.max=jt(e.max,n.max,r)}function s6(t,e,n,r){GT(t.x,e.x,n.x,r),GT(t.y,e.y,n.y,r)}function i6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const o6={duration:.45,ease:[.4,0,.1,1]},KT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QT=KT("applewebkit/")&&!KT("chrome/")?Math.round:lr;function YT(t){t.min=QT(t.min),t.max=QT(t.max)}function a6(t){YT(t.x),YT(t.y)}function yP(t,e,n){return t==="position"||t==="preserve-aspect"&&!u3(BT(e),BT(n),.2)}function l6(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const c6=gP({attachResizeListener:(t,e)=>wu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bg={current:void 0},vP=gP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bg.current){const t=new c6({});t.mount(window),t.setOptions({layoutScroll:!0}),bg.current=t}return bg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u6={pan:{Feature:b3},drag:{Feature:C3,ProjectionNode:vP,MeasureLayout:uP}};function XT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&At.postRender(()=>a(e,ju(e)))}class d6 extends uo{mount(){const{current:e}=this.node;e&&(this.unmount=uF(e,n=>(XT(this.node,n,"Start"),r=>XT(this.node,r,"End"))))}unmount(){}}class h6 extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(wu(this.node.current,"focus",()=>this.onFocus()),wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&At.postRender(()=>a(e,ju(e)))}class f6 extends uo{mount(){const{current:e}=this.node;e&&(this.unmount=pF(e,n=>(JT(this.node,n,"Start"),(r,{success:i})=>JT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uy=new WeakMap,Ag=new WeakMap,p6=t=>{const e=Uy.get(t.target);e&&e(t)},m6=t=>{t.forEach(p6)};function g6({root:t,...e}){const n=t||document;Ag.has(n)||Ag.set(n,{});const r=Ag.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(m6,{root:t,...e})),r[i]}function y6(t,e,n){const r=g6(e);return Uy.set(t,n),r.observe(t),()=>{Uy.delete(t),r.unobserve(t)}}const v6={some:0,all:1};class w6 extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:v6[i]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=d?g:y;v&&v(h)};return y6(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(x6(e,n))&&this.startObserver()}unmount(){}}function x6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _6={inView:{Feature:w6},tap:{Feature:f6},focus:{Feature:h6},hover:{Feature:d6}},E6={layout:{ProjectionNode:vP,MeasureLayout:uP}},By={current:null},wP={current:!1};function T6(){if(wP.current=!0,!!Xv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>By.current=t.matches;t.addListener(e),e()}else By.current=!1}const S6=[...qA,Nn,so],C6=t=>S6.find($A(t)),ZT=new WeakMap;function b6(t,e,n){for(const r in e){const i=e[r],a=n[r];if(jn(i))t.addValue(r,i);else if(jn(a))t.addValue(r,yu(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,yu(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const e1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class A6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Ts.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,At.render(this.render,!1,!0))};const{latestValues:h,renderState:d,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Zf(n),this.isVariantNode=Jb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const P=v[E];h[E]!==void 0&&jn(P)&&P.set(h[E],!1)}}mount(e){this.current=e,ZT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),wP.current||T6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:By.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZT.delete(this.current),this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ca.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nl){const n=Nl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e1.length;r++){const i=e1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=b6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(BA(i)||kA(i))?i=parseFloat(i):!C6(i)&&so.test(n)&&(i=LA(e,n)),this.setBaseTarget(e,jn(i)?i.get():i)),jn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=s0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!jn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new v0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class xP extends A6{constructor(){super(...arguments),this.KeyframeResolver=HA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P6(t){return window.getComputedStyle(t)}class I6 extends xP{constructor(){super(...arguments),this.type="html",this.renderInstance=aA}readValueFromInstance(e,n){if(ca.has(n)){const r=T0(n);return r&&r.default||0}else{const r=P6(e),i=(sA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lP(e,n)}build(e,n,r){a0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return d0(e,n,r)}}class R6 extends xP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ca.has(n)){const r=T0(n);return r&&r.default||0}return n=lA.has(n)?n:t0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dA(e,n,r)}build(e,n,r){l0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){cA(e,n,r,i)}mount(e){this.isSVGTag=u0(e.tagName),super.mount(e)}}const N6=(t,e)=>r0(t)?new R6(e):new I6(e,{allowProjection:t!==b.Fragment}),k6=rF({...t3,..._6,...u6,...E6},N6),Be=vL(k6),D6=Kf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ve=ze.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?$M:"button";return p.jsx(l,{className:et(D6({variant:e,size:n,className:t})),ref:a,...i})});Ve.displayName="Button";const Ct=ze.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Ct.displayName="Input";var j6="Label",_P=b.forwardRef((t,e)=>p.jsx(Ge.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_P.displayName=j6;var EP=_P;const V6=Kf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=ze.forwardRef(({className:t,...e},n)=>p.jsx(EP,{ref:n,className:et(V6(),t),...e}));St.displayName=EP.displayName;const Vt=ze.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:et("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Vt.displayName="Card";const Wt=ze.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",t),...e}));Wt.displayName="CardHeader";const Gt=ze.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:et("text-2xl font-semibold leading-none tracking-tight",t),...e}));Gt.displayName="CardTitle";const Jo=ze.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:et("text-sm text-muted-foreground",t),...e}));Jo.displayName="CardDescription";const Ot=ze.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:et("p-6 pt-0",t),...e}));Ot.displayName="CardContent";const np=ze.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",t),...e}));np.displayName="CardFooter";const O6=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(!1),[l,c]=b.useState(!1),{login:h}=Vs(),{toast:d}=ts(),g=async v=>{v.preventDefault(),c(!0);try{const E=await h(t,n);E.success?d({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${E.user.nome}!`}):d({title:"Erro no login",description:E.error,variant:"destructive"})}catch{d({title:"Erro no login",description:"Ocorreu um erro inesperado. Tente novamente.",variant:"destructive"})}finally{c(!1)}},y=v=>{v==="admin"?(e("admin@empresa.com"),r("123456")):(e("joao@empresa.com"),r("123456"))};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{className:"text-center space-y-4",children:[p.jsx(Be.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:p.jsx(ml,{className:"w-8 h-8 text-white"})}),p.jsxs("div",{children:[p.jsx(Gt,{className:"text-2xl font-bold text-white",children:"Central de Treinamento NTW"}),p.jsx(Jo,{className:"text-slate-300",children:"Faa login para acessar sua conta"})]})]}),p.jsxs(Ot,{className:"space-y-6",children:[p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"email",className:"text-slate-200",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ob,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(Ct,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:v=>e(v.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"senha",className:"text-slate-200",children:"Senha"}),p.jsxs("div",{className:"relative",children:[p.jsx(Vb,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(Ct,{id:"senha",type:i?"text":"password",placeholder:"Sua senha",value:n,onChange:v=>r(v.target.value),className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0}),p.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-200",children:i?p.jsx(L4,{className:"h-4 w-4"}):p.jsx(F4,{className:"h-4 w-4"})})]})]}),p.jsx(Ve,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:l,children:l?"Entrando...":"Entrar"})]}),p.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Acesso de demonstrao:"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx(Ve,{type:"button",variant:"outline",size:"sm",onClick:()=>y("admin"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Admin"}),p.jsx(Ve,{type:"button",variant:"outline",size:"sm",onClick:()=>y("funcionario"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Funcionrio"})]})]})]})]})})})},M6=({activeTab:t,setActiveTab:e,onLogout:n})=>{var h;const{user:r,isAdmin:i}=Vs(),a=[{id:"dashboard",label:"Dashboard",icon:q4},{id:"usuarios",label:"Usurios",icon:sf},{id:"treinamentos",label:"Treinamentos",icon:ml},{id:"trilhas",label:"Trilhas",icon:Sy},{id:"categorias",label:"Categorias",icon:$4},{id:"departamentos",label:"Departamentos",icon:Wv},{id:"relatorios",label:"Relatrios",icon:rf},{id:"base-de-conhecimento",label:"Conhecimento",icon:Pl},{id:"gerenciar-conhecimento",label:"Gerenciar Conhecimento",icon:U4},{id:"configuracoes",label:"Configuraes",icon:Y4}],l=[{id:"meus-treinamentos",label:"Meus Treinamentos",icon:ml},{id:"minhas-trilhas",label:"Minhas Trilhas",icon:Sy},{id:"progresso",label:"Meu Progresso",icon:rf},{id:"ranking",label:"Ranking",icon:Cy},{id:"base-de-conhecimento",label:"Conhecimento",icon:Pl}],c=i()?a:l;return p.jsxs(Be.div,{initial:{x:-300},animate:{x:0},className:"w-64 bg-slate-800/50 backdrop-blur-lg border-r border-slate-700 h-screen flex flex-col",children:[p.jsx("div",{className:"p-6 border-b border-slate-700",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:p.jsx(ml,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("span",{className:"text-lg font-bold text-white",children:"Central de"}),p.jsx("p",{className:"text-sm text-slate-300",children:"Treinamento NTW"})]})]})}),p.jsx("div",{className:"p-4 border-b border-slate-700",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-semibold text-white",children:((h=r==null?void 0:r.nome)==null?void 0:h.charAt(0))||"U"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:r==null?void 0:r.nome}),p.jsx("p",{className:"text-xs text-slate-400 truncate",children:(r==null?void 0:r.tipo)==="admin"?"Administrador":"Funcionrio"})]})]})}),p.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(d=>{const g=d.icon,y=t===d.id;return p.jsxs(Be.button,{onClick:()=>e(d.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${y?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(g,{className:"w-5 h-5"}),p.jsx("span",{className:"font-medium",children:d.label})]},d.id)})}),p.jsx("div",{className:"p-4 border-t border-slate-700 mt-auto",children:p.jsxs(Ve,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-white hover:bg-red-500/20",children:[p.jsx(W4,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},Pg=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},t1=({setActiveTab:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState([]),[a,l]=b.useState(!0);if(b.useEffect(()=>{(async()=>{l(!0);try{const[d,g,y]=await Promise.all([Pg("usuarios"),Pg("treinamentos"),Pg("historico")]),v=d.length,E=d.filter(j=>j.ativo).length,P=g.filter(j=>j.ativo).length,C=g.filter(j=>j.obrigatorio&&j.ativo).length,T=y.filter(j=>j.concluido).length,V=d.filter(j=>j.tipo==="funcionario").length*P,R=V>0?Math.round(T/V*100):0,N=new Date,U=new Date(N.getTime()+720*60*60*1e3),$=g.filter(j=>{if(!j.dataExpiracao)return!1;const S=new Date(j.dataExpiracao);return S<=U&&S>=N}).length;n({totalUsuarios:v,usuariosAtivos:E,totalTreinamentos:P,treinamentosObrigatorios:C,totalConclusoes:T,taxaConclusao:R,treinamentosVencendo:$});const q=y.filter(j=>j.concluido).sort((j,S)=>new Date(S.dataConclusao)-new Date(j.dataConclusao)).slice(0,5).map(j=>{const S=d.find(k=>k.id===j.usuarioId),A=g.find(k=>k.id===j.treinamentoId);return{...j,nomeUsuario:(S==null?void 0:S.nome)||"Usurio no encontrado",tituloTreinamento:(A==null?void 0:A.titulo)||"Treinamento no encontrado"}});i(q)}catch(d){console.error("Erro ao carregar dados do dashboard:",d)}finally{l(!1)}})()},[]),a)return p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})});if(!e)return p.jsx("div",{className:"text-center text-slate-400",children:"No foi possvel carregar os dados do dashboard."});const c=[{title:"Total de Usurios",value:e.totalUsuarios,description:`${e.usuariosAtivos} ativos`,icon:sf,color:"from-blue-500 to-blue-600"},{title:"Treinamentos",value:e.totalTreinamentos,description:`${e.treinamentosObrigatorios} obrigatrios`,icon:Pl,color:"from-green-500 to-green-600"},{title:"Taxa de Concluso",value:`${e.taxaConclusao}%`,description:`${e.totalConclusoes} concludos`,icon:Lb,color:"from-purple-500 to-purple-600"},{title:"Vencendo em Breve",value:e.treinamentosVencendo,description:"Prximos 30 dias",icon:Nb,color:"from-orange-500 to-red-500"}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard Administrativo"}),p.jsx("p",{className:"text-slate-400",children:"Viso geral da Central de Treinamento"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((h,d)=>{const g=h.icon;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover",children:[p.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Gt,{className:"text-sm font-medium text-slate-200",children:h.title}),p.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${h.color}`,children:p.jsx(g,{className:"h-4 w-4 text-white"})})]}),p.jsxs(Ot,{children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:h.value}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:h.description})]})]})},h.title)})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{children:[p.jsxs(Gt,{className:"text-white flex items-center",children:[p.jsx(Bl,{className:"w-5 h-5 mr-2 text-green-500"}),"Atividade Recente"]}),p.jsx(Jo,{className:"text-slate-400",children:"ltimos treinamentos concludos"})]}),p.jsx(Ot,{className:"space-y-4",children:r.length>0?r.map((h,d)=>p.jsxs(Be.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+d*.1},className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:p.jsx(Qf,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:h.nomeUsuario}),p.jsx("p",{className:"text-xs text-slate-400 truncate",children:h.tituloTreinamento})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-slate-400",children:new Date(h.dataConclusao).toLocaleDateString("pt-BR")}),p.jsxs("p",{className:"text-xs text-green-400",children:["Nota: ",h.notaQuestionario,"/10"]})]})]},`${h.id}-${d}`)):p.jsx("p",{className:"text-slate-400 text-center py-4",children:"Nenhuma atividade recente"})})]})}),p.jsx(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{children:[p.jsxs(Gt,{className:"text-white flex items-center",children:[p.jsx(rf,{className:"w-5 h-5 mr-2 text-blue-500"}),"Aes Rpidas"]}),p.jsx(Jo,{className:"text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),p.jsxs(Ot,{className:"space-y-3",children:[p.jsx(Be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-3 text-left rounded-lg bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 hover:border-blue-400 transition-colors",onClick:()=>t("usuarios"),children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(sf,{className:"w-5 h-5 text-blue-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-white",children:"Gerenciar Usurios"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Adicionar, editar ou desativar usurios"})]})]})}),p.jsx(Be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-3 text-left rounded-lg bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 hover:border-green-400 transition-colors",onClick:()=>t("treinamentos"),children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Pl,{className:"w-5 h-5 text-green-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-white",children:"Novo Treinamento"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Criar um novo treinamento"})]})]})}),p.jsx(Be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-3 text-left rounded-lg bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30 hover:border-purple-400 transition-colors",onClick:()=>t("relatorios"),children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(rf,{className:"w-5 h-5 text-purple-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-white",children:"Ver Relatrios"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Anlise detalhada de desempenho"})]})]})})]})]})})]})]})},L6=Kf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ki({className:t,variant:e,...n}){return p.jsx("div",{className:et(L6({variant:e}),t),...n})}var F6=q1[" useId ".trim().toString()]||(()=>{}),U6=0;function Ko(t){const[e,n]=b.useState(F6());return _n(()=>{n(r=>r??String(U6++))},[t]),e?`radix-${e}`:""}var Ig="focusScope.autoFocusOnMount",Rg="focusScope.autoFocusOnUnmount",n1={bubbles:!1,cancelable:!0},B6="FocusScope",P0=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[c,h]=b.useState(null),d=br(i),g=br(a),y=b.useRef(null),v=dt(e,C=>h(C)),E=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(N){if(E.paused||!c)return;const U=N.target;c.contains(U)?y.current=U:Bi(y.current,{select:!0})},T=function(N){if(E.paused||!c)return;const U=N.relatedTarget;U!==null&&(c.contains(U)||Bi(y.current,{select:!0}))},V=function(N){if(document.activeElement===document.body)for(const $ of N)$.removedNodes.length>0&&Bi(c)};document.addEventListener("focusin",C),document.addEventListener("focusout",T);const R=new MutationObserver(V);return c&&R.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",T),R.disconnect()}}},[r,c,E.paused]),b.useEffect(()=>{if(c){s1.add(E);const C=document.activeElement;if(!c.contains(C)){const V=new CustomEvent(Ig,n1);c.addEventListener(Ig,d),c.dispatchEvent(V),V.defaultPrevented||(z6(G6(TP(c)),{select:!0}),document.activeElement===C&&Bi(c))}return()=>{c.removeEventListener(Ig,d),setTimeout(()=>{const V=new CustomEvent(Rg,n1);c.addEventListener(Rg,g),c.dispatchEvent(V),V.defaultPrevented||Bi(C??document.body,{select:!0}),c.removeEventListener(Rg,g),s1.remove(E)},0)}}},[c,d,g,E]);const P=b.useCallback(C=>{if(!n&&!r||E.paused)return;const T=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,V=document.activeElement;if(T&&V){const R=C.currentTarget,[N,U]=$6(R);N&&U?!C.shiftKey&&V===U?(C.preventDefault(),n&&Bi(N,{select:!0})):C.shiftKey&&V===N&&(C.preventDefault(),n&&Bi(U,{select:!0})):V===R&&C.preventDefault()}},[n,r,E.paused]);return p.jsx(Ge.div,{tabIndex:-1,...l,ref:v,onKeyDown:P})});P0.displayName=B6;function z6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Bi(r,{select:e}),document.activeElement!==n)return}function $6(t){const e=TP(t),n=r1(e,t),r=r1(e.reverse(),t);return[n,r]}function TP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function r1(t,e){for(const n of t)if(!q6(n,{upTo:e}))return n}function q6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function H6(t){return t instanceof HTMLInputElement&&"select"in t}function Bi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&H6(t)&&e&&t.select()}}var s1=W6();function W6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=i1(t,e),t.unshift(e)},remove(e){var n;t=i1(t,e),(n=t[0])==null||n.resume()}}}function i1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function G6(t){return t.filter(e=>e.tagName!=="A")}var Ng=0;function SP(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??o1()),document.body.insertAdjacentElement("beforeend",t[1]??o1()),Ng++,()=>{Ng===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ng--}},[])}function o1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ms=function(){return ms=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ms.apply(this,arguments)};function CP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Dh="right-scroll-bar-position",jh="width-before-scroll-bar",Q6="with-scroll-bars-hidden",Y6="--removed-body-scroll-bar-size";function kg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function X6(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var J6=typeof window<"u"?b.useLayoutEffect:b.useEffect,a1=new WeakMap;function Z6(t,e){var n=X6(null,function(r){return t.forEach(function(i){return kg(i,r)})});return J6(function(){var r=a1.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(c){a.has(c)||kg(c,null)}),a.forEach(function(c){i.has(c)||kg(c,l)})}a1.set(n,t)},[t]),n}function e9(t){return t}function t9(t,e){e===void 0&&(e=e9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(a),l=n}var h=function(){var g=l;l=[],g.forEach(a)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(g){l.push(g),d()},filter:function(g){return l=l.filter(g),n}}}};return i}function n9(t){t===void 0&&(t={});var e=t9(null);return e.options=ms({async:!0,ssr:!1},t),e}var bP=function(t){var e=t.sideCar,n=CP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,ms({},n))};bP.isSideCarExport=!0;function r9(t,e){return t.useMedium(e),bP}var AP=n9(),Dg=function(){},rp=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),i=r[0],a=r[1],l=t.forwardProps,c=t.children,h=t.className,d=t.removeScrollBar,g=t.enabled,y=t.shards,v=t.sideCar,E=t.noRelative,P=t.noIsolation,C=t.inert,T=t.allowPinchZoom,V=t.as,R=V===void 0?"div":V,N=t.gapMode,U=CP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=v,q=Z6([n,e]),j=ms(ms({},U),i);return b.createElement(b.Fragment,null,g&&b.createElement($,{sideCar:AP,removeScrollBar:d,shards:y,noRelative:E,noIsolation:P,inert:C,setCallbacks:a,allowPinchZoom:!!T,lockRef:n,gapMode:N}),l?b.cloneElement(b.Children.only(c),ms(ms({},j),{ref:q})):b.createElement(R,ms({},j,{className:h,ref:q}),c))});rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rp.classNames={fullWidth:jh,zeroRight:Dh};var s9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=s9();return e&&t.setAttribute("nonce",e),t}function o9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function a9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var l9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=i9())&&(o9(e,n),a9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},c9=function(){var t=l9();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},PP=function(){var t=c9(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},u9={left:0,top:0,right:0,gap:0},jg=function(t){return parseInt(t||"",10)||0},d9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[jg(n),jg(r),jg(i)]},h9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return u9;var e=d9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},f9=PP(),gl="data-scroll-locked",p9=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Q6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dh,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(jh,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(Y6,": ").concat(c,`px;
  }
`)},l1=function(){var t=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(t)?t:0},m9=function(){b.useEffect(function(){return document.body.setAttribute(gl,(l1()+1).toString()),function(){var t=l1()-1;t<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,t.toString())}},[])},g9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;m9();var a=b.useMemo(function(){return h9(i)},[i]);return b.createElement(f9,{styles:p9(a,!e,i,n?"":"!important")})},zy=!1;if(typeof window<"u")try{var uh=Object.defineProperty({},"passive",{get:function(){return zy=!0,!0}});window.addEventListener("test",uh,uh),window.removeEventListener("test",uh,uh)}catch{zy=!1}var Ja=zy?{passive:!1}:!1,y9=function(t){return t.tagName==="TEXTAREA"},IP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!y9(t)&&n[e]==="visible")},v9=function(t){return IP(t,"overflowY")},w9=function(t){return IP(t,"overflowX")},c1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=RP(t,r);if(i){var a=NP(t,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},x9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},RP=function(t,e){return t==="v"?v9(e):w9(e)},NP=function(t,e){return t==="v"?x9(e):_9(e)},E9=function(t,e){return t==="h"&&e==="rtl"?-1:1},T9=function(t,e,n,r,i){var a=E9(t,window.getComputedStyle(e).direction),l=a*r,c=n.target,h=e.contains(c),d=!1,g=l>0,y=0,v=0;do{if(!c)break;var E=NP(t,c),P=E[0],C=E[1],T=E[2],V=C-T-a*P;(P||V)&&RP(t,c)&&(y+=V,v+=P);var R=c.parentNode;c=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(d=!0),d},dh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},u1=function(t){return[t.deltaX,t.deltaY]},d1=function(t){return t&&"current"in t?t.current:t},S9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},C9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},b9=0,Za=[];function A9(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(b9++)[0],a=b.useState(PP)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=K6([t.lockRef.current],(t.shards||[]).map(d1),!0).filter(Boolean);return C.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=b.useCallback(function(C,T){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var V=dh(C),R=n.current,N="deltaX"in C?C.deltaX:R[0]-V[0],U="deltaY"in C?C.deltaY:R[1]-V[1],$,q=C.target,j=Math.abs(N)>Math.abs(U)?"h":"v";if("touches"in C&&j==="h"&&q.type==="range")return!1;var S=c1(j,q);if(!S)return!0;if(S?$=j:($=j==="v"?"h":"v",S=c1(j,q)),!S)return!1;if(!r.current&&"changedTouches"in C&&(N||U)&&(r.current=$),!$)return!0;var A=r.current||$;return T9(A,T,C,A==="h"?N:U)},[]),h=b.useCallback(function(C){var T=C;if(!(!Za.length||Za[Za.length-1]!==a)){var V="deltaY"in T?u1(T):dh(T),R=e.current.filter(function($){return $.name===T.type&&($.target===T.target||T.target===$.shadowParent)&&S9($.delta,V)})[0];if(R&&R.should){T.cancelable&&T.preventDefault();return}if(!R){var N=(l.current.shards||[]).map(d1).filter(Boolean).filter(function($){return $.contains(T.target)}),U=N.length>0?c(T,N[0]):!l.current.noIsolation;U&&T.cancelable&&T.preventDefault()}}},[]),d=b.useCallback(function(C,T,V,R){var N={name:C,delta:T,target:V,should:R,shadowParent:P9(V)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(U){return U!==N})},1)},[]),g=b.useCallback(function(C){n.current=dh(C),r.current=void 0},[]),y=b.useCallback(function(C){d(C.type,u1(C),C.target,c(C,t.lockRef.current))},[]),v=b.useCallback(function(C){d(C.type,dh(C),C.target,c(C,t.lockRef.current))},[]);b.useEffect(function(){return Za.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Ja),document.addEventListener("touchmove",h,Ja),document.addEventListener("touchstart",g,Ja),function(){Za=Za.filter(function(C){return C!==a}),document.removeEventListener("wheel",h,Ja),document.removeEventListener("touchmove",h,Ja),document.removeEventListener("touchstart",g,Ja)}},[]);var E=t.removeScrollBar,P=t.inert;return b.createElement(b.Fragment,null,P?b.createElement(a,{styles:C9(i)}):null,E?b.createElement(g9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function P9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const I9=r9(AP,A9);var I0=b.forwardRef(function(t,e){return b.createElement(rp,ms({},t,{ref:e,sideCar:I9}))});I0.classNames=rp.classNames;var R9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},el=new WeakMap,hh=new WeakMap,fh={},Vg=0,kP=function(t){return t&&(t.host||kP(t.parentNode))},N9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},k9=function(t,e,n,r){var i=N9(e,Array.isArray(t)?t:[t]);fh[n]||(fh[n]=new WeakMap);var a=fh[n],l=[],c=new Set,h=new Set(i),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};i.forEach(d);var g=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(v){if(c.has(v))g(v);else try{var E=v.getAttribute(r),P=E!==null&&E!=="false",C=(el.get(v)||0)+1,T=(a.get(v)||0)+1;el.set(v,C),a.set(v,T),l.push(v),C===1&&P&&hh.set(v,!0),T===1&&v.setAttribute(n,"true"),P||v.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",v,V)}})};return g(e),c.clear(),Vg++,function(){l.forEach(function(y){var v=el.get(y)-1,E=a.get(y)-1;el.set(y,v),a.set(y,E),v||(hh.has(y)||y.removeAttribute(r),hh.delete(y)),E||y.removeAttribute(n)}),Vg--,Vg||(el=new WeakMap,el=new WeakMap,hh=new WeakMap,fh={})}},DP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=R9(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),k9(r,i,n,"aria-hidden")):function(){return null}},sp="Dialog",[jP,V7]=Os(sp),[D9,ns]=jP(sp),VP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=b.useRef(null),h=b.useRef(null),[d,g]=no({prop:r,defaultProp:i??!1,onChange:a,caller:sp});return p.jsx(D9,{scope:e,triggerRef:c,contentRef:h,contentId:Ko(),titleId:Ko(),descriptionId:Ko(),open:d,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(y=>!y),[g]),modal:l,children:n})};VP.displayName=sp;var OP="DialogTrigger",MP=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(OP,n),a=dt(e,i.triggerRef);return p.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":k0(i.open),...r,ref:a,onClick:qe(t.onClick,i.onOpenToggle)})});MP.displayName=OP;var R0="DialogPortal",[j9,LP]=jP(R0,{forceMount:void 0}),FP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=ns(R0,e);return p.jsx(j9,{scope:e,forceMount:n,children:b.Children.map(r,l=>p.jsx(la,{present:n||a.open,children:p.jsx(Wf,{asChild:!0,container:i,children:l})}))})};FP.displayName=R0;var ff="DialogOverlay",UP=b.forwardRef((t,e)=>{const n=LP(ff,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ns(ff,t.__scopeDialog);return a.modal?p.jsx(la,{present:r||a.open,children:p.jsx(O9,{...i,ref:e})}):null});UP.displayName=ff;var V9=Al("DialogOverlay.RemoveScroll"),O9=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(ff,n);return p.jsx(I0,{as:V9,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Ge.div,{"data-state":k0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",BP=b.forwardRef((t,e)=>{const n=LP(Zo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ns(Zo,t.__scopeDialog);return p.jsx(la,{present:r||a.open,children:a.modal?p.jsx(M9,{...i,ref:e}):p.jsx(L9,{...i,ref:e})})});BP.displayName=Zo;var M9=b.forwardRef((t,e)=>{const n=ns(Zo,t.__scopeDialog),r=b.useRef(null),i=dt(e,n.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return DP(a)},[]),p.jsx(zP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,a=>a.preventDefault())})}),L9=b.forwardRef((t,e)=>{const n=ns(Zo,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return p.jsx(zP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var h,d;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),zP=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,c=ns(Zo,n),h=b.useRef(null),d=dt(e,h);return SP(),p.jsxs(p.Fragment,{children:[p.jsx(P0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:p.jsx(Hf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":k0(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(F9,{titleId:c.titleId}),p.jsx(B9,{contentRef:h,descriptionId:c.descriptionId})]})]})}),N0="DialogTitle",$P=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(N0,n);return p.jsx(Ge.h2,{id:i.titleId,...r,ref:e})});$P.displayName=N0;var qP="DialogDescription",HP=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(qP,n);return p.jsx(Ge.p,{id:i.descriptionId,...r,ref:e})});HP.displayName=qP;var WP="DialogClose",GP=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(WP,n);return p.jsx(Ge.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,()=>i.onOpenChange(!1))})});GP.displayName=WP;function k0(t){return t?"open":"closed"}var KP="DialogTitleWarning",[O7,QP]=BM(KP,{contentName:Zo,titleName:N0,docsSlug:"dialog"}),F9=({titleId:t})=>{const e=QP(KP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},U9="DialogDescriptionWarning",B9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QP(U9).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},z9=VP,$9=MP,q9=FP,YP=UP,XP=BP,JP=$P,ZP=HP,H9=GP;const ci=z9,Vu=$9,W9=q9,eI=ze.forwardRef(({className:t,...e},n)=>p.jsx(YP,{ref:n,className:et("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eI.displayName=YP.displayName;const Ps=ze.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(W9,{children:[p.jsx(eI,{}),p.jsxs(XP,{ref:r,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(H9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Ub,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ps.displayName=XP.displayName;const Is=({className:t,...e})=>p.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Is.displayName="DialogHeader";const io=({className:t,...e})=>p.jsx("div",{className:et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});io.displayName="DialogFooter";const Rs=ze.forwardRef(({className:t,...e},n)=>p.jsx(JP,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",t),...e}));Rs.displayName=JP.displayName;const Dl=ze.forwardRef(({className:t,...e},n)=>p.jsx(ZP,{ref:n,className:et("text-sm text-muted-foreground",t),...e}));Dl.displayName=ZP.displayName;function h1(t,[e,n]){return Math.min(n,Math.max(e,t))}var G9=b.createContext(void 0);function D0(t){const e=b.useContext(G9);return t||e||"ltr"}const K9=["top","right","bottom","left"],oo=Math.min,or=Math.max,pf=Math.round,ph=Math.floor,Ss=t=>({x:t,y:t}),Q9={left:"right",right:"left",bottom:"top",top:"bottom"},Y9={start:"end",end:"start"};function $y(t,e,n){return or(t,oo(e,n))}function ui(t,e){return typeof t=="function"?t(e):t}function di(t){return t.split("-")[0]}function Hl(t){return t.split("-")[1]}function j0(t){return t==="x"?"y":"x"}function V0(t){return t==="y"?"height":"width"}const X9=new Set(["top","bottom"]);function ys(t){return X9.has(di(t))?"y":"x"}function O0(t){return j0(ys(t))}function J9(t,e,n){n===void 0&&(n=!1);const r=Hl(t),i=O0(t),a=V0(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=mf(l)),[l,mf(l)]}function Z9(t){const e=mf(t);return[qy(t),e,qy(e)]}function qy(t){return t.replace(/start|end/g,e=>Y9[e])}const f1=["left","right"],p1=["right","left"],eU=["top","bottom"],tU=["bottom","top"];function nU(t,e,n){switch(t){case"top":case"bottom":return n?e?p1:f1:e?f1:p1;case"left":case"right":return e?eU:tU;default:return[]}}function rU(t,e,n,r){const i=Hl(t);let a=nU(di(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(qy)))),a}function mf(t){return t.replace(/left|right|bottom|top/g,e=>Q9[e])}function sU(t){return{top:0,right:0,bottom:0,left:0,...t}}function tI(t){return typeof t!="number"?sU(t):{top:t,right:t,bottom:t,left:t}}function gf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function m1(t,e,n){let{reference:r,floating:i}=t;const a=ys(e),l=O0(e),c=V0(l),h=di(e),d=a==="y",g=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let E;switch(h){case"top":E={x:g,y:r.y-i.height};break;case"bottom":E={x:g,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y};break;case"left":E={x:r.x-i.width,y};break;default:E={x:r.x,y:r.y}}switch(Hl(e)){case"start":E[l]-=v*(n&&d?-1:1);break;case"end":E[l]+=v*(n&&d?-1:1);break}return E}const iU=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y}=m1(d,r,h),v=r,E={},P=0;for(let C=0;C<c.length;C++){const{name:T,fn:V}=c[C],{x:R,y:N,data:U,reset:$}=await V({x:g,y,initialPlacement:r,placement:v,strategy:i,middlewareData:E,rects:d,platform:l,elements:{reference:t,floating:e}});g=R??g,y=N??y,E={...E,[T]:{...E[T],...U}},$&&P<=50&&(P++,typeof $=="object"&&($.placement&&(v=$.placement),$.rects&&(d=$.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:g,y}=m1(d,v,h)),C=-1)}return{x:g,y,placement:v,strategy:i,middlewareData:E}};async function xu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:v=!1,padding:E=0}=ui(e,t),P=tI(E),T=c[v?y==="floating"?"reference":"floating":y],V=gf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(T)))==null||n?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:h})),R=y==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),U=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},$=gf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:N,strategy:h}):R);return{top:(V.top-$.top+P.top)/U.y,bottom:($.bottom-V.bottom+P.bottom)/U.y,left:(V.left-$.left+P.left)/U.x,right:($.right-V.right+P.right)/U.x}}const oU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:h}=e,{element:d,padding:g=0}=ui(t,e)||{};if(d==null)return{};const y=tI(g),v={x:n,y:r},E=O0(i),P=V0(E),C=await l.getDimensions(d),T=E==="y",V=T?"top":"left",R=T?"bottom":"right",N=T?"clientHeight":"clientWidth",U=a.reference[P]+a.reference[E]-v[E]-a.floating[P],$=v[E]-a.reference[E],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let j=q?q[N]:0;(!j||!await(l.isElement==null?void 0:l.isElement(q)))&&(j=c.floating[N]||a.floating[P]);const S=U/2-$/2,A=j/2-C[P]/2-1,k=oo(y[V],A),M=oo(y[R],A),F=k,O=j-C[P]-M,G=j/2-C[P]/2+S,re=$y(F,G,O),ae=!h.arrow&&Hl(i)!=null&&G!==re&&a.reference[P]/2-(G<F?k:M)-C[P]/2<0,se=ae?G<F?G-F:G-O:0;return{[E]:v[E]+se,data:{[E]:re,centerOffset:G-re-se,...ae&&{alignmentOffset:se}},reset:ae}}}),aU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:C=!0,...T}=ui(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const V=di(i),R=ys(c),N=di(c)===c,U=await(h.isRTL==null?void 0:h.isRTL(d.floating)),$=v||(N||!C?[mf(c)]:Z9(c)),q=P!=="none";!v&&q&&$.push(...rU(c,C,P,U));const j=[c,...$],S=await xu(e,T),A=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&A.push(S[V]),y){const G=J9(i,l,U);A.push(S[G[0]],S[G[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(G=>G<=0)){var M,F;const G=(((M=a.flip)==null?void 0:M.index)||0)+1,re=j[G];if(re&&(!(y==="alignment"?R!==ys(re):!1)||k.every(K=>ys(K.placement)===R?K.overflows[0]>0:!0)))return{data:{index:G,overflows:k},reset:{placement:re}};let ae=(F=k.filter(se=>se.overflows[0]<=0).sort((se,K)=>se.overflows[1]-K.overflows[1])[0])==null?void 0:F.placement;if(!ae)switch(E){case"bestFit":{var O;const se=(O=k.filter(K=>{if(q){const ee=ys(K.placement);return ee===R||ee==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ee=>ee>0).reduce((ee,le)=>ee+le,0)]).sort((K,ee)=>K[1]-ee[1])[0])==null?void 0:O[0];se&&(ae=se);break}case"initialPlacement":ae=c;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function g1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function y1(t){return K9.some(e=>t[e]>=0)}const lU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ui(t,e);switch(r){case"referenceHidden":{const a=await xu(e,{...i,elementContext:"reference"}),l=g1(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:y1(l)}}}case"escaped":{const a=await xu(e,{...i,altBoundary:!0}),l=g1(a,n.floating);return{data:{escapedOffsets:l,escaped:y1(l)}}}default:return{}}}}},nI=new Set(["left","top"]);async function cU(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=di(n),c=Hl(n),h=ys(n)==="y",d=nI.has(l)?-1:1,g=a&&h?-1:1,y=ui(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:P}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof P=="number"&&(E=c==="end"?P*-1:P),h?{x:E*g,y:v*d}:{x:v*d,y:E*g}}const uU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:c}=e,h=await cU(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},dU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:V,y:R}=T;return{x:V,y:R}}},...h}=ui(t,e),d={x:n,y:r},g=await xu(e,h),y=ys(di(i)),v=j0(y);let E=d[v],P=d[y];if(a){const T=v==="y"?"top":"left",V=v==="y"?"bottom":"right",R=E+g[T],N=E-g[V];E=$y(R,E,N)}if(l){const T=y==="y"?"top":"left",V=y==="y"?"bottom":"right",R=P+g[T],N=P-g[V];P=$y(R,P,N)}const C=c.fn({...e,[v]:E,[y]:P});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[v]:a,[y]:l}}}}}},hU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=ui(t,e),g={x:n,y:r},y=ys(i),v=j0(y);let E=g[v],P=g[y];const C=ui(c,e),T=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const N=v==="y"?"height":"width",U=a.reference[v]-a.floating[N]+T.mainAxis,$=a.reference[v]+a.reference[N]-T.mainAxis;E<U?E=U:E>$&&(E=$)}if(d){var V,R;const N=v==="y"?"width":"height",U=nI.has(di(i)),$=a.reference[y]-a.floating[N]+(U&&((V=l.offset)==null?void 0:V[y])||0)+(U?0:T.crossAxis),q=a.reference[y]+a.reference[N]+(U?0:((R=l.offset)==null?void 0:R[y])||0)-(U?T.crossAxis:0);P<$?P=$:P>q&&(P=q)}return{[v]:E,[y]:P}}}},fU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:h=()=>{},...d}=ui(t,e),g=await xu(e,d),y=di(i),v=Hl(i),E=ys(i)==="y",{width:P,height:C}=a.floating;let T,V;y==="top"||y==="bottom"?(T=y,V=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(V=y,T=v==="end"?"top":"bottom");const R=C-g.top-g.bottom,N=P-g.left-g.right,U=oo(C-g[T],R),$=oo(P-g[V],N),q=!e.middlewareData.shift;let j=U,S=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=R),q&&!v){const k=or(g.left,0),M=or(g.right,0),F=or(g.top,0),O=or(g.bottom,0);E?S=P-2*(k!==0||M!==0?k+M:or(g.left,g.right)):j=C-2*(F!==0||O!==0?F+O:or(g.top,g.bottom))}await h({...e,availableWidth:S,availableHeight:j});const A=await l.getDimensions(c.floating);return P!==A.width||C!==A.height?{reset:{rects:!0}}:{}}}};function ip(){return typeof window<"u"}function Wl(t){return rI(t)?(t.nodeName||"").toLowerCase():"#document"}function cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ms(t){var e;return(e=(rI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rI(t){return ip()?t instanceof Node||t instanceof cr(t).Node:!1}function Xr(t){return ip()?t instanceof Element||t instanceof cr(t).Element:!1}function Ns(t){return ip()?t instanceof HTMLElement||t instanceof cr(t).HTMLElement:!1}function v1(t){return!ip()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cr(t).ShadowRoot}const pU=new Set(["inline","contents"]);function Ou(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pU.has(i)}const mU=new Set(["table","td","th"]);function gU(t){return mU.has(Wl(t))}const yU=[":popover-open",":modal"];function op(t){return yU.some(e=>{try{return t.matches(e)}catch{return!1}})}const vU=["transform","translate","scale","rotate","perspective"],wU=["transform","translate","scale","rotate","perspective","filter"],xU=["paint","layout","strict","content"];function M0(t){const e=L0(),n=Xr(t)?Jr(t):t;return vU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||wU.some(r=>(n.willChange||"").includes(r))||xU.some(r=>(n.contain||"").includes(r))}function _U(t){let e=ao(t);for(;Ns(e)&&!jl(e);){if(M0(e))return e;if(op(e))return null;e=ao(e)}return null}function L0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EU=new Set(["html","body","#document"]);function jl(t){return EU.has(Wl(t))}function Jr(t){return cr(t).getComputedStyle(t)}function ap(t){return Xr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ao(t){if(Wl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||v1(t)&&t.host||Ms(t);return v1(e)?e.host:e}function sI(t){const e=ao(t);return jl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ns(e)&&Ou(e)?e:sI(e)}function _u(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sI(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=cr(i);if(a){const c=Hy(l);return e.concat(l,l.visualViewport||[],Ou(i)?i:[],c&&n?_u(c):[])}return e.concat(i,_u(i,[],n))}function Hy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iI(t){const e=Jr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ns(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=pf(n)!==a||pf(r)!==l;return c&&(n=a,r=l),{width:n,height:r,$:c}}function F0(t){return Xr(t)?t:t.contextElement}function yl(t){const e=F0(t);if(!Ns(e))return Ss(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=iI(e);let l=(a?pf(n.width):n.width)/r,c=(a?pf(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const TU=Ss(0);function oI(t){const e=cr(t);return!L0()||!e.visualViewport?TU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cr(t)?!1:e}function ea(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=F0(t);let l=Ss(1);e&&(r?Xr(r)&&(l=yl(r)):l=yl(t));const c=SU(a,n,r)?oI(a):Ss(0);let h=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,g=i.width/l.x,y=i.height/l.y;if(a){const v=cr(a),E=r&&Xr(r)?cr(r):r;let P=v,C=Hy(P);for(;C&&r&&E!==P;){const T=yl(C),V=C.getBoundingClientRect(),R=Jr(C),N=V.left+(C.clientLeft+parseFloat(R.paddingLeft))*T.x,U=V.top+(C.clientTop+parseFloat(R.paddingTop))*T.y;h*=T.x,d*=T.y,g*=T.x,y*=T.y,h+=N,d+=U,P=cr(C),C=Hy(P)}}return gf({width:g,height:y,x:h,y:d})}function U0(t,e){const n=ap(t).scrollLeft;return e?e.left+n:ea(Ms(t)).left+n}function aI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:U0(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function CU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=Ms(r),c=e?op(e.floating):!1;if(r===l||c&&a)return n;let h={scrollLeft:0,scrollTop:0},d=Ss(1);const g=Ss(0),y=Ns(r);if((y||!y&&!a)&&((Wl(r)!=="body"||Ou(l))&&(h=ap(r)),Ns(r))){const E=ea(r);d=yl(r),g.x=E.x+r.clientLeft,g.y=E.y+r.clientTop}const v=l&&!y&&!a?aI(l,h,!0):Ss(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+g.x+v.x,y:n.y*d.y-h.scrollTop*d.y+g.y+v.y}}function bU(t){return Array.from(t.getClientRects())}function AU(t){const e=Ms(t),n=ap(t),r=t.ownerDocument.body,i=or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+U0(t);const c=-n.scrollTop;return Jr(r).direction==="rtl"&&(l+=or(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}function PU(t,e){const n=cr(t),r=Ms(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){a=i.width,l=i.height;const d=L0();(!d||d&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:c,y:h}}const IU=new Set(["absolute","fixed"]);function RU(t,e){const n=ea(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ns(t)?yl(t):Ss(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,h=i*a.x,d=r*a.y;return{width:l,height:c,x:h,y:d}}function w1(t,e,n){let r;if(e==="viewport")r=PU(t,n);else if(e==="document")r=AU(Ms(t));else if(Xr(e))r=RU(e,n);else{const i=oI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gf(r)}function lI(t,e){const n=ao(t);return n===e||!Xr(n)||jl(n)?!1:Jr(n).position==="fixed"||lI(n,e)}function NU(t,e){const n=e.get(t);if(n)return n;let r=_u(t,[],!1).filter(c=>Xr(c)&&Wl(c)!=="body"),i=null;const a=Jr(t).position==="fixed";let l=a?ao(t):t;for(;Xr(l)&&!jl(l);){const c=Jr(l),h=M0(l);!h&&c.position==="fixed"&&(i=null),(a?!h&&!i:!h&&c.position==="static"&&!!i&&IU.has(i.position)||Ou(l)&&!h&&lI(t,l))?r=r.filter(g=>g!==l):i=c,l=ao(l)}return e.set(t,r),r}function kU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?op(e)?[]:NU(e,this._c):[].concat(n),r],c=l[0],h=l.reduce((d,g)=>{const y=w1(e,g,i);return d.top=or(y.top,d.top),d.right=oo(y.right,d.right),d.bottom=oo(y.bottom,d.bottom),d.left=or(y.left,d.left),d},w1(e,c,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function DU(t){const{width:e,height:n}=iI(t);return{width:e,height:n}}function jU(t,e,n){const r=Ns(e),i=Ms(e),a=n==="fixed",l=ea(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Ss(0);function d(){h.x=U0(i)}if(r||!r&&!a)if((Wl(e)!=="body"||Ou(i))&&(c=ap(e)),r){const E=ea(e,!0,a,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else i&&d();a&&!r&&i&&d();const g=i&&!r&&!a?aI(i,c):Ss(0),y=l.left+c.scrollLeft-h.x-g.x,v=l.top+c.scrollTop-h.y-g.y;return{x:y,y:v,width:l.width,height:l.height}}function Og(t){return Jr(t).position==="static"}function x1(t,e){if(!Ns(t)||Jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ms(t)===n&&(n=n.ownerDocument.body),n}function cI(t,e){const n=cr(t);if(op(t))return n;if(!Ns(t)){let i=ao(t);for(;i&&!jl(i);){if(Xr(i)&&!Og(i))return i;i=ao(i)}return n}let r=x1(t,e);for(;r&&gU(r)&&Og(r);)r=x1(r,e);return r&&jl(r)&&Og(r)&&!M0(r)?n:r||_U(t)||n}const VU=async function(t){const e=this.getOffsetParent||cI,n=this.getDimensions,r=await n(t.floating);return{reference:jU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OU(t){return Jr(t).direction==="rtl"}const MU={convertOffsetParentRelativeRectToViewportRelativeRect:CU,getDocumentElement:Ms,getClippingRect:kU,getOffsetParent:cI,getElementRects:VU,getClientRects:bU,getDimensions:DU,getScale:yl,isElement:Xr,isRTL:OU};function uI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LU(t,e){let n=null,r;const i=Ms(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const d=t.getBoundingClientRect(),{left:g,top:y,width:v,height:E}=d;if(c||e(),!v||!E)return;const P=ph(y),C=ph(i.clientWidth-(g+v)),T=ph(i.clientHeight-(y+E)),V=ph(g),N={rootMargin:-P+"px "+-C+"px "+-T+"px "+-V+"px",threshold:or(0,oo(1,h))||1};let U=!0;function $(q){const j=q[0].intersectionRatio;if(j!==h){if(!U)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!uI(d,t.getBoundingClientRect())&&l(),U=!1}try{n=new IntersectionObserver($,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver($,N)}n.observe(t)}return l(!0),a}function FU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,d=F0(t),g=i||a?[...d?_u(d):[],..._u(e)]:[];g.forEach(V=>{i&&V.addEventListener("scroll",n,{passive:!0}),a&&V.addEventListener("resize",n)});const y=d&&c?LU(d,n):null;let v=-1,E=null;l&&(E=new ResizeObserver(V=>{let[R]=V;R&&R.target===d&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=E)==null||N.observe(e)})),n()}),d&&!h&&E.observe(d),E.observe(e));let P,C=h?ea(t):null;h&&T();function T(){const V=ea(t);C&&!uI(C,V)&&n(),C=V,P=requestAnimationFrame(T)}return n(),()=>{var V;g.forEach(R=>{i&&R.removeEventListener("scroll",n),a&&R.removeEventListener("resize",n)}),y==null||y(),(V=E)==null||V.disconnect(),E=null,h&&cancelAnimationFrame(P)}}const UU=uU,BU=dU,zU=aU,$U=fU,qU=lU,_1=oU,HU=hU,WU=(t,e,n)=>{const r=new Map,i={platform:MU,...n},a={...i.platform,_c:r};return iU(t,e,{...i,platform:a})};var GU=typeof document<"u",KU=function(){},Vh=GU?b.useLayoutEffect:KU;function yf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!yf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function dI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E1(t,e){const n=dI(t);return Math.round(e*n)/n}function Mg(t){const e=b.useRef(t);return Vh(()=>{e.current=t}),e}function QU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:d}=t,[g,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=b.useState(r);yf(v,r)||E(r);const[P,C]=b.useState(null),[T,V]=b.useState(null),R=b.useCallback(K=>{K!==q.current&&(q.current=K,C(K))},[]),N=b.useCallback(K=>{K!==j.current&&(j.current=K,V(K))},[]),U=a||P,$=l||T,q=b.useRef(null),j=b.useRef(null),S=b.useRef(g),A=h!=null,k=Mg(h),M=Mg(i),F=Mg(d),O=b.useCallback(()=>{if(!q.current||!j.current)return;const K={placement:e,strategy:n,middleware:v};M.current&&(K.platform=M.current),WU(q.current,j.current,K).then(ee=>{const le={...ee,isPositioned:F.current!==!1};G.current&&!yf(S.current,le)&&(S.current=le,Ul.flushSync(()=>{y(le)}))})},[v,e,n,M,F]);Vh(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,y(K=>({...K,isPositioned:!1})))},[d]);const G=b.useRef(!1);Vh(()=>(G.current=!0,()=>{G.current=!1}),[]),Vh(()=>{if(U&&(q.current=U),$&&(j.current=$),U&&$){if(k.current)return k.current(U,$,O);O()}},[U,$,O,k,A]);const re=b.useMemo(()=>({reference:q,floating:j,setReference:R,setFloating:N}),[R,N]),ae=b.useMemo(()=>({reference:U,floating:$}),[U,$]),se=b.useMemo(()=>{const K={position:n,left:0,top:0};if(!ae.floating)return K;const ee=E1(ae.floating,g.x),le=E1(ae.floating,g.y);return c?{...K,transform:"translate("+ee+"px, "+le+"px)",...dI(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,c,ae.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:O,refs:re,elements:ae,floatingStyles:se}),[g,O,re,ae,se])}const YU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_1({element:r.current,padding:i}).fn(n):{}:r?_1({element:r,padding:i}).fn(n):{}}}},XU=(t,e)=>({...UU(t),options:[t,e]}),JU=(t,e)=>({...BU(t),options:[t,e]}),ZU=(t,e)=>({...HU(t),options:[t,e]}),eB=(t,e)=>({...zU(t),options:[t,e]}),tB=(t,e)=>({...$U(t),options:[t,e]}),nB=(t,e)=>({...qU(t),options:[t,e]}),rB=(t,e)=>({...YU(t),options:[t,e]});var sB="Arrow",hI=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return p.jsx(Ge.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});hI.displayName=sB;var iB=hI;function lp(t){const[e,n]=b.useState(void 0);return _n(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const h=a.borderBoxSize,d=Array.isArray(h)?h[0]:h;l=d.inlineSize,c=d.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var B0="Popper",[fI,pI]=Os(B0),[oB,mI]=fI(B0),gI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return p.jsx(oB,{scope:e,anchor:r,onAnchorChange:i,children:n})};gI.displayName=B0;var yI="PopperAnchor",vI=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=mI(yI,n),l=b.useRef(null),c=dt(e,l),h=b.useRef(null);return b.useEffect(()=>{const d=h.current;h.current=(r==null?void 0:r.current)||l.current,d!==h.current&&a.onAnchorChange(h.current)}),r?null:p.jsx(Ge.div,{...i,ref:c})});vI.displayName=yI;var z0="PopperContent",[aB,lB]=fI(z0),wI=b.forwardRef((t,e)=>{var pe,fe,xe,Ee,we,te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:E="optimized",onPlaced:P,...C}=t,T=mI(z0,n),[V,R]=b.useState(null),N=dt(e,ye=>R(ye)),[U,$]=b.useState(null),q=lp(U),j=(q==null?void 0:q.width)??0,S=(q==null?void 0:q.height)??0,A=r+(a!=="center"?"-"+a:""),k=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},M=Array.isArray(d)?d:[d],F=M.length>0,O={padding:k,boundary:M.filter(uB),altBoundary:F},{refs:G,floatingStyles:re,placement:ae,isPositioned:se,middlewareData:K}=QU({strategy:"fixed",placement:A,whileElementsMounted:(...ye)=>FU(...ye,{animationFrame:E==="always"}),elements:{reference:T.anchor},middleware:[XU({mainAxis:i+S,alignmentAxis:l}),h&&JU({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?ZU():void 0,...O}),h&&eB({...O}),tB({...O,apply:({elements:ye,rects:be,availableWidth:De,availableHeight:je})=>{const{width:ht,height:Ze}=be.reference,tt=ye.floating.style;tt.setProperty("--radix-popper-available-width",`${De}px`),tt.setProperty("--radix-popper-available-height",`${je}px`),tt.setProperty("--radix-popper-anchor-width",`${ht}px`),tt.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),U&&rB({element:U,padding:c}),dB({arrowWidth:j,arrowHeight:S}),v&&nB({strategy:"referenceHidden",...O})]}),[ee,le]=EI(ae),z=br(P);_n(()=>{se&&(z==null||z())},[se,z]);const X=(pe=K.arrow)==null?void 0:pe.x,oe=(fe=K.arrow)==null?void 0:fe.y,_e=((xe=K.arrow)==null?void 0:xe.centerOffset)!==0,[Se,Ie]=b.useState();return _n(()=>{V&&Ie(window.getComputedStyle(V).zIndex)},[V]),p.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Ee=K.transformOrigin)==null?void 0:Ee.x,(we=K.transformOrigin)==null?void 0:we.y].join(" "),...((te=K.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(aB,{scope:n,placedSide:ee,onArrowChange:$,arrowX:X,arrowY:oe,shouldHideArrow:_e,children:p.jsx(Ge.div,{"data-side":ee,"data-align":le,...C,ref:N,style:{...C.style,animation:se?void 0:"none"}})})})});wI.displayName=z0;var xI="PopperArrow",cB={top:"bottom",right:"left",bottom:"top",left:"right"},_I=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=lB(xI,r),l=cB[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(iB,{...i,ref:n,style:{...i.style,display:"block"}})})});_I.displayName=xI;function uB(t){return t!==null}var dB=t=>({name:"transformOrigin",options:t,fn(e){var T,V,R;const{placement:n,rects:r,middlewareData:i}=e,l=((T=i.arrow)==null?void 0:T.centerOffset)!==0,c=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[d,g]=EI(n),y={start:"0%",center:"50%",end:"100%"}[g],v=(((V=i.arrow)==null?void 0:V.x)??0)+c/2,E=(((R=i.arrow)==null?void 0:R.y)??0)+h/2;let P="",C="";return d==="bottom"?(P=l?y:`${v}px`,C=`${-h}px`):d==="top"?(P=l?y:`${v}px`,C=`${r.floating.height+h}px`):d==="right"?(P=`${-h}px`,C=l?y:`${E}px`):d==="left"&&(P=`${r.floating.width+h}px`,C=l?y:`${E}px`),{data:{x:P,y:C}}}});function EI(t){const[e,n="center"]=t.split("-");return[e,n]}var hB=gI,fB=vI,pB=wI,mB=_I;function cp(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gB=[" ","Enter","ArrowUp","ArrowDown"],yB=[" ","Enter"],ta="Select",[up,dp,vB]=Bv(ta),[Gl,M7]=Os(ta,[vB,pI]),hp=pI(),[wB,ho]=Gl(ta),[xB,_B]=Gl(ta),TI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:h,dir:d,name:g,autoComplete:y,disabled:v,required:E,form:P}=t,C=hp(e),[T,V]=b.useState(null),[R,N]=b.useState(null),[U,$]=b.useState(!1),q=D0(d),[j,S]=no({prop:r,defaultProp:i??!1,onChange:a,caller:ta}),[A,k]=no({prop:l,defaultProp:c,onChange:h,caller:ta}),M=b.useRef(null),F=T?P||!!T.closest("form"):!0,[O,G]=b.useState(new Set),re=Array.from(O).map(ae=>ae.props.value).join(";");return p.jsx(hB,{...C,children:p.jsxs(wB,{required:E,scope:e,trigger:T,onTriggerChange:V,valueNode:R,onValueNodeChange:N,valueNodeHasChildren:U,onValueNodeHasChildrenChange:$,contentId:Ko(),value:A,onValueChange:k,open:j,onOpenChange:S,dir:q,triggerPointerDownPosRef:M,disabled:v,children:[p.jsx(up.Provider,{scope:e,children:p.jsx(xB,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(ae=>{G(se=>new Set(se).add(ae))},[]),onNativeOptionRemove:b.useCallback(ae=>{G(se=>{const K=new Set(se);return K.delete(ae),K})},[]),children:n})}),F?p.jsxs(GI,{"aria-hidden":!0,required:E,tabIndex:-1,name:g,autoComplete:y,value:A,onChange:ae=>k(ae.target.value),disabled:v,form:P,children:[A===void 0?p.jsx("option",{value:""}):null,Array.from(O)]},re):null]})})};TI.displayName=ta;var SI="SelectTrigger",CI=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=hp(n),l=ho(SI,n),c=l.disabled||r,h=dt(e,l.onTriggerChange),d=dp(n),g=b.useRef("touch"),[y,v,E]=QI(C=>{const T=d().filter(N=>!N.disabled),V=T.find(N=>N.value===l.value),R=YI(T,C,V);R!==void 0&&l.onValueChange(R.value)}),P=C=>{c||(l.onOpenChange(!0),E()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return p.jsx(fB,{asChild:!0,...a,children:p.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":KI(l.value)?"":void 0,...i,ref:h,onClick:qe(i.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&P(C)}),onPointerDown:qe(i.onPointerDown,C=>{g.current=C.pointerType;const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(P(C),C.preventDefault())}),onKeyDown:qe(i.onKeyDown,C=>{const T=y.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&v(C.key),!(T&&C.key===" ")&&gB.includes(C.key)&&(P(),C.preventDefault())})})})});CI.displayName=SI;var bI="SelectValue",AI=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...c}=t,h=ho(bI,n),{onValueNodeHasChildrenChange:d}=h,g=a!==void 0,y=dt(e,h.onValueNodeChange);return _n(()=>{d(g)},[d,g]),p.jsx(Ge.span,{...c,ref:y,style:{pointerEvents:"none"},children:KI(h.value)?p.jsx(p.Fragment,{children:l}):a})});AI.displayName=bI;var EB="SelectIcon",PI=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(Ge.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});PI.displayName=EB;var TB="SelectPortal",II=t=>p.jsx(Wf,{asChild:!0,...t});II.displayName=TB;var na="SelectContent",RI=b.forwardRef((t,e)=>{const n=ho(na,t.__scopeSelect),[r,i]=b.useState();if(_n(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Ul.createPortal(p.jsx(NI,{scope:t.__scopeSelect,children:p.jsx(up.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),a):null}return p.jsx(kI,{...t,ref:e})});RI.displayName=na;var Gr=10,[NI,fo]=Gl(na),SB="SelectContentImpl",CB=Al("SelectContent.RemoveScroll"),kI=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:h,align:d,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:E,sticky:P,hideWhenDetached:C,avoidCollisions:T,...V}=t,R=ho(na,n),[N,U]=b.useState(null),[$,q]=b.useState(null),j=dt(e,pe=>U(pe)),[S,A]=b.useState(null),[k,M]=b.useState(null),F=dp(n),[O,G]=b.useState(!1),re=b.useRef(!1);b.useEffect(()=>{if(N)return DP(N)},[N]),SP();const ae=b.useCallback(pe=>{const[fe,...xe]=F().map(te=>te.ref.current),[Ee]=xe.slice(-1),we=document.activeElement;for(const te of pe)if(te===we||(te==null||te.scrollIntoView({block:"nearest"}),te===fe&&$&&($.scrollTop=0),te===Ee&&$&&($.scrollTop=$.scrollHeight),te==null||te.focus(),document.activeElement!==we))return},[F,$]),se=b.useCallback(()=>ae([S,N]),[ae,S,N]);b.useEffect(()=>{O&&se()},[O,se]);const{onOpenChange:K,triggerPointerDownPosRef:ee}=R;b.useEffect(()=>{if(N){let pe={x:0,y:0};const fe=Ee=>{var we,te;pe={x:Math.abs(Math.round(Ee.pageX)-(((we=ee.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((te=ee.current)==null?void 0:te.y)??0))}},xe=Ee=>{pe.x<=10&&pe.y<=10?Ee.preventDefault():N.contains(Ee.target)||K(!1),document.removeEventListener("pointermove",fe),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",xe,{capture:!0})}}},[N,K,ee]),b.useEffect(()=>{const pe=()=>K(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[K]);const[le,z]=QI(pe=>{const fe=F().filter(we=>!we.disabled),xe=fe.find(we=>we.ref.current===document.activeElement),Ee=YI(fe,pe,xe);Ee&&setTimeout(()=>Ee.ref.current.focus())}),X=b.useCallback((pe,fe,xe)=>{const Ee=!re.current&&!xe;(R.value!==void 0&&R.value===fe||Ee)&&(A(pe),Ee&&(re.current=!0))},[R.value]),oe=b.useCallback(()=>N==null?void 0:N.focus(),[N]),_e=b.useCallback((pe,fe,xe)=>{const Ee=!re.current&&!xe;(R.value!==void 0&&R.value===fe||Ee)&&M(pe)},[R.value]),Se=r==="popper"?Wy:DI,Ie=Se===Wy?{side:c,sideOffset:h,align:d,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:E,sticky:P,hideWhenDetached:C,avoidCollisions:T}:{};return p.jsx(NI,{scope:n,content:N,viewport:$,onViewportChange:q,itemRefCallback:X,selectedItem:S,onItemLeave:oe,itemTextRefCallback:_e,focusSelectedItem:se,selectedItemText:k,position:r,isPositioned:O,searchRef:le,children:p.jsx(I0,{as:CB,allowPinchZoom:!0,children:p.jsx(P0,{asChild:!0,trapped:R.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:qe(i,pe=>{var fe;(fe=R.trigger)==null||fe.focus({preventScroll:!0}),pe.preventDefault()}),children:p.jsx(Hf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:p.jsx(Se,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:pe=>pe.preventDefault(),...V,...Ie,onPlaced:()=>G(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:qe(V.onKeyDown,pe=>{const fe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!fe&&pe.key.length===1&&z(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Ee=F().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const we=pe.target,te=Ee.indexOf(we);Ee=Ee.slice(te+1)}setTimeout(()=>ae(Ee)),pe.preventDefault()}})})})})})})});kI.displayName=SB;var bB="SelectItemAlignedPosition",DI=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=ho(na,n),l=fo(na,n),[c,h]=b.useState(null),[d,g]=b.useState(null),y=dt(e,j=>g(j)),v=dp(n),E=b.useRef(!1),P=b.useRef(!0),{viewport:C,selectedItem:T,selectedItemText:V,focusSelectedItem:R}=l,N=b.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&d&&C&&T&&V){const j=a.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),k=V.getBoundingClientRect();if(a.dir!=="rtl"){const we=k.left-S.left,te=A.left-we,ye=j.left-te,be=j.width+ye,De=Math.max(be,S.width),je=window.innerWidth-Gr,ht=h1(te,[Gr,Math.max(Gr,je-De)]);c.style.minWidth=be+"px",c.style.left=ht+"px"}else{const we=S.right-k.right,te=window.innerWidth-A.right-we,ye=window.innerWidth-j.right-te,be=j.width+ye,De=Math.max(be,S.width),je=window.innerWidth-Gr,ht=h1(te,[Gr,Math.max(Gr,je-De)]);c.style.minWidth=be+"px",c.style.right=ht+"px"}const M=v(),F=window.innerHeight-Gr*2,O=C.scrollHeight,G=window.getComputedStyle(d),re=parseInt(G.borderTopWidth,10),ae=parseInt(G.paddingTop,10),se=parseInt(G.borderBottomWidth,10),K=parseInt(G.paddingBottom,10),ee=re+ae+O+K+se,le=Math.min(T.offsetHeight*5,ee),z=window.getComputedStyle(C),X=parseInt(z.paddingTop,10),oe=parseInt(z.paddingBottom,10),_e=j.top+j.height/2-Gr,Se=F-_e,Ie=T.offsetHeight/2,pe=T.offsetTop+Ie,fe=re+ae+pe,xe=ee-fe;if(fe<=_e){const we=M.length>0&&T===M[M.length-1].ref.current;c.style.bottom="0px";const te=d.clientHeight-C.offsetTop-C.offsetHeight,ye=Math.max(Se,Ie+(we?oe:0)+te+se),be=fe+ye;c.style.height=be+"px"}else{const we=M.length>0&&T===M[0].ref.current;c.style.top="0px";const ye=Math.max(_e,re+C.offsetTop+(we?X:0)+Ie)+xe;c.style.height=ye+"px",C.scrollTop=fe-_e+C.offsetTop}c.style.margin=`${Gr}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[v,a.trigger,a.valueNode,c,d,C,T,V,a.dir,r]);_n(()=>N(),[N]);const[U,$]=b.useState();_n(()=>{d&&$(window.getComputedStyle(d).zIndex)},[d]);const q=b.useCallback(j=>{j&&P.current===!0&&(N(),R==null||R(),P.current=!1)},[N,R]);return p.jsx(PB,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:E,onScrollButtonChange:q,children:p.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:p.jsx(Ge.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});DI.displayName=bB;var AB="SelectPopperPosition",Wy=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Gr,...a}=t,l=hp(n);return p.jsx(pB,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wy.displayName=AB;var[PB,$0]=Gl(na,{}),Gy="SelectViewport",jI=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=fo(Gy,n),l=$0(Gy,n),c=dt(e,a.onViewportChange),h=b.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(up.Slot,{scope:n,children:p.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,d=>{const g=d.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&y){const E=Math.abs(h.current-g.scrollTop);if(E>0){const P=window.innerHeight-Gr*2,C=parseFloat(y.style.minHeight),T=parseFloat(y.style.height),V=Math.max(C,T);if(V<P){const R=V+E,N=Math.min(P,R),U=R-N;y.style.height=N+"px",y.style.bottom==="0px"&&(g.scrollTop=U>0?U:0,y.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});jI.displayName=Gy;var VI="SelectGroup",[IB,RB]=Gl(VI),NB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ko();return p.jsx(IB,{scope:n,id:i,children:p.jsx(Ge.div,{role:"group","aria-labelledby":i,...r,ref:e})})});NB.displayName=VI;var OI="SelectLabel",MI=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=RB(OI,n);return p.jsx(Ge.div,{id:i.id,...r,ref:e})});MI.displayName=OI;var vf="SelectItem",[kB,LI]=Gl(vf),FI=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,c=ho(vf,n),h=fo(vf,n),d=c.value===r,[g,y]=b.useState(a??""),[v,E]=b.useState(!1),P=dt(e,R=>{var N;return(N=h.itemRefCallback)==null?void 0:N.call(h,R,r,i)}),C=Ko(),T=b.useRef("touch"),V=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(kB,{scope:n,value:r,disabled:i,textId:C,isSelected:d,onItemTextChange:b.useCallback(R=>{y(N=>N||((R==null?void 0:R.textContent)??"").trim())},[]),children:p.jsx(up.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:p.jsx(Ge.div,{role:"option","aria-labelledby":C,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:P,onFocus:qe(l.onFocus,()=>E(!0)),onBlur:qe(l.onBlur,()=>E(!1)),onClick:qe(l.onClick,()=>{T.current!=="mouse"&&V()}),onPointerUp:qe(l.onPointerUp,()=>{T.current==="mouse"&&V()}),onPointerDown:qe(l.onPointerDown,R=>{T.current=R.pointerType}),onPointerMove:qe(l.onPointerMove,R=>{var N;T.current=R.pointerType,i?(N=h.onItemLeave)==null||N.call(h):T.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(l.onPointerLeave,R=>{var N;R.currentTarget===document.activeElement&&((N=h.onItemLeave)==null||N.call(h))}),onKeyDown:qe(l.onKeyDown,R=>{var U;((U=h.searchRef)==null?void 0:U.current)!==""&&R.key===" "||(yB.includes(R.key)&&V(),R.key===" "&&R.preventDefault())})})})})});FI.displayName=vf;var Qc="SelectItemText",UI=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=ho(Qc,n),c=fo(Qc,n),h=LI(Qc,n),d=_B(Qc,n),[g,y]=b.useState(null),v=dt(e,V=>y(V),h.onItemTextChange,V=>{var R;return(R=c.itemTextRefCallback)==null?void 0:R.call(c,V,h.value,h.disabled)}),E=g==null?void 0:g.textContent,P=b.useMemo(()=>p.jsx("option",{value:h.value,disabled:h.disabled,children:E},h.value),[h.disabled,h.value,E]),{onNativeOptionAdd:C,onNativeOptionRemove:T}=d;return _n(()=>(C(P),()=>T(P)),[C,T,P]),p.jsxs(p.Fragment,{children:[p.jsx(Ge.span,{id:h.textId,...a,ref:v}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ul.createPortal(a.children,l.valueNode):null]})});UI.displayName=Qc;var BI="SelectItemIndicator",zI=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return LI(BI,n).isSelected?p.jsx(Ge.span,{"aria-hidden":!0,...r,ref:e}):null});zI.displayName=BI;var Ky="SelectScrollUpButton",$I=b.forwardRef((t,e)=>{const n=fo(Ky,t.__scopeSelect),r=$0(Ky,t.__scopeSelect),[i,a]=b.useState(!1),l=dt(e,r.onScrollButtonChange);return _n(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=h.scrollTop>0;a(d)};const h=n.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?p.jsx(HI,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=n;c&&h&&(c.scrollTop=c.scrollTop-h.offsetHeight)}}):null});$I.displayName=Ky;var Qy="SelectScrollDownButton",qI=b.forwardRef((t,e)=>{const n=fo(Qy,t.__scopeSelect),r=$0(Qy,t.__scopeSelect),[i,a]=b.useState(!1),l=dt(e,r.onScrollButtonChange);return _n(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<d;a(g)};const h=n.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?p.jsx(HI,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=n;c&&h&&(c.scrollTop=c.scrollTop+h.offsetHeight)}}):null});qI.displayName=Qy;var HI=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=fo("SelectScrollButton",n),l=b.useRef(null),c=dp(n),h=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),_n(()=>{var g;const d=c().find(y=>y.ref.current===document.activeElement);(g=d==null?void 0:d.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),p.jsx(Ge.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:qe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{h()})})}),DB="SelectSeparator",WI=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Ge.div,{"aria-hidden":!0,...r,ref:e})});WI.displayName=DB;var Yy="SelectArrow",jB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hp(n),a=ho(Yy,n),l=fo(Yy,n);return a.open&&l.position==="popper"?p.jsx(mB,{...i,...r,ref:e}):null});jB.displayName=Yy;var VB="SelectBubbleInput",GI=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=b.useRef(null),a=dt(r,i),l=cp(e);return b.useEffect(()=>{const c=i.current;if(!c)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&g){const y=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(y)}},[l,e]),p.jsx(Ge.select,{...n,style:{...cb,...n.style},ref:a,defaultValue:e})});GI.displayName=VB;function KI(t){return t===""||t===void 0}function QI(t){const e=br(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(l=>{const c=n.current+l;e(c),(function h(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(c)},[e]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function YI(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=OB(t,Math.max(a,0));i.length===1&&(l=l.filter(d=>d!==n));const h=l.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function OB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var MB=TI,XI=CI,LB=AI,FB=PI,UB=II,JI=RI,BB=jI,ZI=MI,eR=FI,zB=UI,$B=zI,tR=$I,nR=qI,rR=WI;const Zr=MB,es=LB,Ar=ze.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(XI,{ref:r,className:et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(FB,{asChild:!0,children:p.jsx(Rb,{className:"h-4 w-4 opacity-50"})})]}));Ar.displayName=XI.displayName;const sR=ze.forwardRef(({className:t,...e},n)=>p.jsx(tR,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(V4,{className:"h-4 w-4"})}));sR.displayName=tR.displayName;const iR=ze.forwardRef(({className:t,...e},n)=>p.jsx(nR,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Rb,{className:"h-4 w-4"})}));iR.displayName=nR.displayName;const Pr=ze.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(UB,{children:p.jsxs(JI,{ref:i,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(sR,{}),p.jsx(BB,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(iR,{})]})}));Pr.displayName=JI.displayName;const qB=ze.forwardRef(({className:t,...e},n)=>p.jsx(ZI,{ref:n,className:et("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qB.displayName=ZI.displayName;const Jt=ze.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(eR,{ref:r,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx($B,{children:p.jsx(Gv,{className:"h-4 w-4"})})}),p.jsx(zB,{children:e})]}));Jt.displayName=eR.displayName;const HB=ze.forwardRef(({className:t,...e},n)=>p.jsx(rR,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",t),...e}));HB.displayName=rR.displayName;const WB=15,Xy=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},GB=async t=>{try{const e=Ut(ft,"treinamentos"),n=ai(e,gs("ativo","==",!0),gs("departamento","==",t)),r=ai(e,gs("ativo","==",!0),gs("departamento","==","Todos")),[i,a]=await Promise.all([Bt(n),Bt(r)]),l=new Map;return i.forEach(c=>l.set(c.id,{id:c.id,...c.data()})),a.forEach(c=>l.set(c.id,{id:c.id,...c.data()})),Array.from(l.values())}catch(e){return console.error("Erro ao buscar treinamentos para o utilizador:",e),[]}},q0=async(t,e)=>{const n=e||{},{lastVisible:r=null,orderByField:i="dataCriacao",orderDirection:a="desc"}=n;try{const l=ai(Ut(ft,t),EO(i,a),TO(WB)),c=r?ai(l,SO(r)):l,h=await Bt(c),d=[];h.forEach(y=>{d.push({id:y.id,...y.data()})});const g=h.docs.length>0?h.docs[h.docs.length-1]:null;return{data:d,lastVisible:g}}catch(l){return console.error(`Erro ao buscar dados paginados de ${t}:`,l),{data:[],lastVisible:null}}},hi=async(t,e)=>{try{return(await IO(Ut(ft,t),e)).id}catch(n){return console.error(`Erro ao adicionar documento em ${t}:`,n),null}},ks=async(t,e,n)=>{try{const r=bl(ft,t,e);await ef(r,n,{merge:!0})}catch(r){console.error(`Erro ao atualizar documento em ${t}:`,r)}},Kl=async(t,e)=>{try{await PO(bl(ft,t,e))}catch(n){console.error(`Erro ao deletar documento em ${t}:`,n)}},KB=async t=>{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>n.push({id:r.id,...r.data()})),n},QB=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState(""),[h,d]=b.useState(!1),[g,y]=b.useState(null),[v,E]=b.useState({}),{toast:P}=ts(),[C,T]=b.useState(null),[V,R]=b.useState(!0),[N,U]=b.useState(!1),[$,q]=b.useState(!0),j={nome:"",email:"",senha:"",tipo:"funcionario",departamento:"",ativo:!0},S=G=>{const re=G.length>0?G[0].nome:"";E({...j,departamento:re}),y(null)},A=async(G=!1)=>{if(N)return;U(!0);const re=await q0("usuarios",G?C:null);re.data.length>0&&(e(ae=>G?[...ae,...re.data]:re.data),T(re.lastVisible)),re.data.length<15&&R(!1),U(!1)};b.useEffect(()=>{(async()=>{q(!0);const re=await KB("departamentos");a(re),S(re),await A(),q(!1)})()},[]),b.useEffect(()=>{const G=t.filter(re=>re.nome.toLowerCase().includes(l.toLowerCase())||re.email.toLowerCase().includes(l.toLowerCase())||re.departamento&&re.departamento.toLowerCase().includes(l.toLowerCase()));r(G)},[t,l]);const k=async G=>{if(G.preventDefault(),g){const re={...v};re.senha||delete re.senha,await ks("usuarios",g.id,re),P({title:"Usurio atualizado!"})}else{const re={...v,dataCriacao:new Date().toISOString()};await hi("usuarios",re),P({title:"Usurio criado!"})}d(!1),await A()},M=G=>{y(G),E({nome:G.nome,email:G.email,senha:"",tipo:G.tipo,departamento:G.departamento,ativo:G.ativo}),d(!0)},F=async G=>{window.confirm("Tem certeza que deseja remover este usurio?")&&(await Kl("usuarios",G),P({title:"Usurio removido!"}),e(re=>re.filter(ae=>ae.id!==G)))},O=async G=>{const re=!G.ativo;await ks("usuarios",G.id,{ativo:re}),P({title:"Status atualizado!"}),e(ae=>ae.map(se=>se.id===G.id?{...se,ativo:re}:se))};return $?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Usurios"}),p.jsx("p",{className:"text-slate-400",children:"Gerencie usurios do sistema"})]}),p.jsxs(ci,{open:h,onOpenChange:d,children:[p.jsx(Vu,{asChild:!0,children:p.jsxs(Ve,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:()=>S(i),children:[p.jsx(Il,{className:"w-4 h-4 mr-2"})," Novo Usurio"]})}),p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Is,{children:p.jsxs(Rs,{children:[g?"Editar":"Novo"," Usurio"]})}),p.jsxs("form",{id:"userForm",onSubmit:k,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"nome",children:"Nome"}),p.jsx(Ct,{id:"nome",value:v.nome,onChange:G=>E({...v,nome:G.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"email",children:"Email"}),p.jsx(Ct,{id:"email",type:"email",value:v.email,onChange:G=>E({...v,email:G.target.value}),className:"bg-slate-800/50",required:!0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"senha",children:"Senha"}),p.jsx(Ct,{id:"senha",type:"password",placeholder:g?"Deixe em branco para no alterar":"",onChange:G=>E({...v,senha:G.target.value}),className:"bg-slate-800/50",required:!g})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"tipo",children:"Tipo"}),p.jsxs(Zr,{value:v.tipo,onValueChange:G=>E({...v,tipo:G}),children:[p.jsx(Ar,{className:"bg-slate-800/50",children:p.jsx(es,{})}),p.jsxs(Pr,{children:[p.jsx(Jt,{value:"admin",children:"Administrador"}),p.jsx(Jt,{value:"funcionario",children:"Funcionrio"})]})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"departamento",children:"Departamento"}),p.jsxs(Zr,{value:v.departamento,onValueChange:G=>E({...v,departamento:G}),children:[p.jsx(Ar,{className:"bg-slate-800/50",children:p.jsx(es,{placeholder:"Selecione..."})}),p.jsx(Pr,{children:i.map(G=>p.jsx(Jt,{value:G.nome,children:G.nome},G.id))})]})]})]}),p.jsxs(io,{children:[p.jsx(Ve,{type:"button",variant:"outline",onClick:()=>d(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ve,{type:"submit",form:"userForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:g?"Atualizar":"Criar"})]})]})]})]}),p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[p.jsx(Yf,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(Ct,{placeholder:"Buscar nos usurios carregados...",value:l,onChange:G=>c(G.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((G,re)=>p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:re*.1},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover",children:[p.jsx(Wt,{className:"pb-3",children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-semibold text-white",children:G.nome.charAt(0)})}),p.jsxs("div",{children:[p.jsx(Gt,{className:"text-lg text-white",children:G.nome}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx(Ki,{variant:G.tipo==="admin"?"default":"secondary",children:G.tipo==="admin"?"Admin":"Funcionrio"}),p.jsx(Ki,{variant:G.ativo?"default":"destructive",children:G.ativo?"Ativo":"Inativo"})]})]})]})})}),p.jsxs(Ot,{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[p.jsx(Ob,{className:"w-4 h-4"}),p.jsx("span",{children:G.email})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[p.jsx(Wv,{className:"w-4 h-4"}),p.jsx("span",{children:G.departamento})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[p.jsx(j4,{className:"w-4 h-4"}),p.jsxs("span",{children:["Criado em ",new Date(G.dataCriacao).toLocaleDateString("pt-BR")]})]}),p.jsxs("div",{className:"flex justify-between pt-3 border-t border-slate-700",children:[p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ve,{size:"sm",variant:"outline",onClick:()=>M(G),className:"border-slate-600 hover:bg-slate-700",children:p.jsx(zl,{className:"w-4 h-4"})}),p.jsx(Ve,{size:"sm",variant:"outline",onClick:()=>O(G),className:`border-slate-600 ${G.ativo?"hover:bg-red-500/20 hover:border-red-500":"hover:bg-green-500/20 hover:border-green-500"}`,children:G.ativo?p.jsx(eL,{className:"w-4 h-4"}):p.jsx(Z4,{className:"w-4 h-4"})})]}),p.jsx(Ve,{size:"sm",variant:"outline",onClick:()=>F(G.id),className:"border-slate-600 hover:bg-red-500/20 hover:border-red-500",children:p.jsx(Xo,{className:"w-4 h-4"})})]})]})]})},G.id))}),V&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ve,{onClick:()=>A(!0),disabled:N,children:N?p.jsxs(p.Fragment,{children:[p.jsx(En,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais Usurios"})})]})},Eu=ze.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Eu.displayName="Textarea";var fp="Switch",[YB,L7]=Os(fp),[XB,JB]=YB(fp),oR=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:h="on",onCheckedChange:d,form:g,...y}=t,[v,E]=b.useState(null),P=dt(e,N=>E(N)),C=b.useRef(!1),T=v?g||!!v.closest("form"):!0,[V,R]=no({prop:i,defaultProp:a??!1,onChange:d,caller:fp});return p.jsxs(XB,{scope:n,checked:V,disabled:c,children:[p.jsx(Ge.button,{type:"button",role:"switch","aria-checked":V,"aria-required":l,"data-state":uR(V),"data-disabled":c?"":void 0,disabled:c,value:h,...y,ref:P,onClick:qe(t.onClick,N=>{R(U=>!U),T&&(C.current=N.isPropagationStopped(),C.current||N.stopPropagation())})}),T&&p.jsx(cR,{control:v,bubbles:!C.current,name:r,value:h,checked:V,required:l,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});oR.displayName=fp;var aR="SwitchThumb",lR=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=JB(aR,n);return p.jsx(Ge.span,{"data-state":uR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});lR.displayName=aR;var ZB="SwitchBubbleInput",cR=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const l=b.useRef(null),c=dt(l,a),h=cp(n),d=lp(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&E){const P=new Event("click",{bubbles:r});E.call(g,n),g.dispatchEvent(P)}},[h,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cR.displayName=ZB;function uR(t){return t?"checked":"unchecked"}var dR=oR,e8=lR;const wf=ze.forwardRef(({className:t,...e},n)=>p.jsx(dR,{className:et("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:p.jsx(e8,{className:et("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wf.displayName=dR.displayName;var Lg="rovingFocusGroup.onEntryFocus",t8={bubbles:!1,cancelable:!0},Mu="RovingFocusGroup",[Jy,hR,n8]=Bv(Mu),[r8,fR]=Os(Mu,[n8]),[s8,i8]=r8(Mu),pR=b.forwardRef((t,e)=>p.jsx(Jy.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Jy.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(o8,{...t,ref:e})})}));pR.displayName=Mu;var o8=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:g=!1,...y}=t,v=b.useRef(null),E=dt(e,v),P=D0(a),[C,T]=no({prop:l,defaultProp:c??null,onChange:h,caller:Mu}),[V,R]=b.useState(!1),N=br(d),U=hR(n),$=b.useRef(!1),[q,j]=b.useState(0);return b.useEffect(()=>{const S=v.current;if(S)return S.addEventListener(Lg,N),()=>S.removeEventListener(Lg,N)},[N]),p.jsx(s8,{scope:n,orientation:r,dir:P,loop:i,currentTabStopId:C,onItemFocus:b.useCallback(S=>T(S),[T]),onItemShiftTab:b.useCallback(()=>R(!0),[]),onFocusableItemAdd:b.useCallback(()=>j(S=>S+1),[]),onFocusableItemRemove:b.useCallback(()=>j(S=>S-1),[]),children:p.jsx(Ge.div,{tabIndex:V||q===0?-1:0,"data-orientation":r,...y,ref:E,style:{outline:"none",...t.style},onMouseDown:qe(t.onMouseDown,()=>{$.current=!0}),onFocus:qe(t.onFocus,S=>{const A=!$.current;if(S.target===S.currentTarget&&A&&!V){const k=new CustomEvent(Lg,t8);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const M=U().filter(ae=>ae.focusable),F=M.find(ae=>ae.active),O=M.find(ae=>ae.id===C),re=[F,O,...M].filter(Boolean).map(ae=>ae.ref.current);yR(re,g)}}$.current=!1}),onBlur:qe(t.onBlur,()=>R(!1))})})}),mR="RovingFocusGroupItem",gR=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...c}=t,h=Ko(),d=a||h,g=i8(mR,n),y=g.currentTabStopId===d,v=hR(n),{onFocusableItemAdd:E,onFocusableItemRemove:P,currentTabStopId:C}=g;return b.useEffect(()=>{if(r)return E(),()=>P()},[r,E,P]),p.jsx(Jy.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:p.jsx(Ge.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...c,ref:e,onMouseDown:qe(t.onMouseDown,T=>{r?g.onItemFocus(d):T.preventDefault()}),onFocus:qe(t.onFocus,()=>g.onItemFocus(d)),onKeyDown:qe(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){g.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const V=c8(T,g.orientation,g.dir);if(V!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let N=v().filter(U=>U.focusable).map(U=>U.ref.current);if(V==="last")N.reverse();else if(V==="prev"||V==="next"){V==="prev"&&N.reverse();const U=N.indexOf(T.currentTarget);N=g.loop?u8(N,U+1):N.slice(U+1)}setTimeout(()=>yR(N))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:C!=null}):l})})});gR.displayName=mR;var a8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function c8(t,e,n){const r=l8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return a8[r]}function yR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function u8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var d8=pR,h8=gR,H0="Radio",[f8,vR]=Os(H0),[p8,m8]=f8(H0),wR=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:l,value:c="on",onCheck:h,form:d,...g}=t,[y,v]=b.useState(null),E=dt(e,T=>v(T)),P=b.useRef(!1),C=y?d||!!y.closest("form"):!0;return p.jsxs(p8,{scope:n,checked:i,disabled:l,children:[p.jsx(Ge.button,{type:"button",role:"radio","aria-checked":i,"data-state":TR(i),"data-disabled":l?"":void 0,disabled:l,value:c,...g,ref:E,onClick:qe(t.onClick,T=>{i||h==null||h(),C&&(P.current=T.isPropagationStopped(),P.current||T.stopPropagation())})}),C&&p.jsx(ER,{control:y,bubbles:!P.current,name:r,value:c,checked:i,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});wR.displayName=H0;var xR="RadioIndicator",_R=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,a=m8(xR,n);return p.jsx(la,{present:r||a.checked,children:p.jsx(Ge.span,{"data-state":TR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});_R.displayName=xR;var g8="RadioBubbleInput",ER=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const l=b.useRef(null),c=dt(l,a),h=cp(n),d=lp(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&E){const P=new Event("click",{bubbles:r});E.call(g,n),g.dispatchEvent(P)}},[h,n,r]),p.jsx(Ge.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ER.displayName=g8;function TR(t){return t?"checked":"unchecked"}var y8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pp="RadioGroup",[v8,F7]=Os(pp,[fR,vR]),SR=fR(),CR=vR(),[w8,x8]=v8(pp),bR=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:l=!1,disabled:c=!1,orientation:h,dir:d,loop:g=!0,onValueChange:y,...v}=t,E=SR(n),P=D0(d),[C,T]=no({prop:a,defaultProp:i??null,onChange:y,caller:pp});return p.jsx(w8,{scope:n,name:r,required:l,disabled:c,value:C,onValueChange:T,children:p.jsx(d8,{asChild:!0,...E,orientation:h,dir:P,loop:g,children:p.jsx(Ge.div,{role:"radiogroup","aria-required":l,"aria-orientation":h,"data-disabled":c?"":void 0,dir:P,...v,ref:e})})})});bR.displayName=pp;var AR="RadioGroupItem",PR=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,a=x8(AR,n),l=a.disabled||r,c=SR(n),h=CR(n),d=b.useRef(null),g=dt(e,d),y=a.value===i.value,v=b.useRef(!1);return b.useEffect(()=>{const E=C=>{y8.includes(C.key)&&(v.current=!0)},P=()=>v.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",P)}},[]),p.jsx(h8,{asChild:!0,...c,focusable:!l,active:y,children:p.jsx(wR,{disabled:l,required:a.required,checked:y,...h,...i,name:a.name,ref:g,onCheck:()=>a.onValueChange(i.value),onKeyDown:qe(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:qe(i.onFocus,()=>{var E;v.current&&((E=d.current)==null||E.click())})})})});PR.displayName=AR;var _8="RadioGroupIndicator",IR=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=CR(n);return p.jsx(_R,{...i,...r,ref:e})});IR.displayName=_8;var RR=bR,NR=PR,E8=IR;const kR=ze.forwardRef(({className:t,...e},n)=>p.jsx(RR,{className:et("grid gap-2",t),...e,ref:n}));kR.displayName=RR.displayName;const DR=ze.forwardRef(({className:t,...e},n)=>p.jsx(NR,{ref:n,className:et("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(E8,{className:"flex items-center justify-center",children:p.jsx(Gv,{className:"h-3.5 w-3.5 fill-current text-current"})})}));DR.displayName=NR.displayName;const T8=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState([]),[h,d]=b.useState(""),[g,y]=b.useState(!1),[v,E]=b.useState(!1),[P,C]=b.useState(null),[T,V]=b.useState(null),[R,N]=b.useState(null),[U,$]=b.useState(!0),[q,j]=b.useState(!1),[S,A]=b.useState(!0),[k,M]=b.useState(""),[F,O]=b.useState(""),G={titulo:"",descricao:"",video:"",categoriaId:"",departamento:"Todos",obrigatorio:!1,ativo:!0,dataExpiracao:"",perguntas:[],arquivosComplementares:[]},[re,ae]=b.useState(G),{toast:se}=ts(),K=async(te=!1)=>{if(q)return;j(!0);const ye=await q0("treinamentos",{lastVisible:te?R:null,orderByField:"dataPublicacao",orderDirection:"desc"});ye.data.length>0?(e(be=>te?[...be,...ye.data]:ye.data),N(ye.lastVisible)):te||e([]),ye.data.length<15&&$(!1),j(!1)};b.useEffect(()=>{(async()=>{A(!0);const[ye,be]=await Promise.all([Xy("categorias"),Xy("departamentos")]);a(ye),c(be),await K(),A(!1)})()},[]),b.useEffect(()=>{const te=t.filter(ye=>ye.titulo.toLowerCase().includes(h.toLowerCase()));r(te)},[t,h]);const ee=te=>{var ye;return((ye=i.find(be=>be.id===te))==null?void 0:ye.nome)||"N/A"},le=()=>{ae(G),V(null)},z=te=>{V(te),ae({...G,...te,categoriaId:te.categoriaId.toString()}),y(!0)},X=async te=>{te.preventDefault();const ye={...re,categoriaId:parseInt(re.categoriaId),dataExpiracao:re.dataExpiracao||null};if(T)await ks("treinamentos",T.id,ye),se({title:"Treinamento atualizado!"});else{const be={...ye,dataPublicacao:new Date().toISOString()};await hi("treinamentos",be),se({title:"Treinamento criado!"})}y(!1),await K()},oe=te=>{C(te),E(!0)},_e=async()=>{P&&(await Kl("treinamentos",P.id),se({title:"Treinamento removido!"}),C(null),E(!1),await K())},Se=()=>ae(te=>({...te,perguntas:[...te.perguntas||[],{pergunta:"",opcoes:["","","",""],respostaCorreta:null}]})),Ie=te=>ae(ye=>({...ye,perguntas:ye.perguntas.filter((be,De)=>De!==te)})),pe=(te,ye)=>{const be=[...re.perguntas];be[te].pergunta=ye,ae({...re,perguntas:be})},fe=(te,ye,be)=>{const De=[...re.perguntas];De[te].opcoes[ye]=be,ae({...re,perguntas:De})},xe=(te,ye)=>{const be=[...re.perguntas];be[te].respostaCorreta=ye,ae({...re,perguntas:be})},Ee=()=>{!k.trim()||!F.trim()||(ae(te=>({...te,arquivosComplementares:[...te.arquivosComplementares||[],{name:k,url:F}]})),M(""),O(""))},we=te=>{ae(ye=>({...ye,arquivosComplementares:ye.arquivosComplementares.filter((be,De)=>De!==te)}))};return S?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Treinamentos"}),p.jsx("p",{className:"text-slate-400",children:"Crie, edite e gerencie os treinamentos da plataforma."})]}),p.jsxs(ci,{open:g,onOpenChange:y,children:[p.jsx(Vu,{asChild:!0,children:p.jsxs(Ve,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:le,children:[p.jsx(Il,{className:"w-4 h-4 mr-2"})," Novo Treinamento"]})}),p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] flex flex-col",children:[p.jsxs(Is,{children:[p.jsxs(Rs,{children:[T?"Editar":"Novo"," Treinamento"]}),p.jsx(Dl,{children:"Preencha os detalhes do treinamento e adicione o contedo."})]}),p.jsxs("form",{id:"trainingForm",onSubmit:X,className:"space-y-6 overflow-y-auto scrollbar-thin pr-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"titulo",children:"Ttulo"}),p.jsx(Ct,{id:"titulo",value:re.titulo,onChange:te=>ae({...re,titulo:te.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"video",children:"URL do Vdeo (Embed)"}),p.jsx(Ct,{id:"video",value:re.video,onChange:te=>ae({...re,video:te.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"categoriaId",children:"Categoria"}),p.jsxs(Zr,{value:re.categoriaId,onValueChange:te=>ae({...re,categoriaId:te}),children:[p.jsx(Ar,{className:"bg-slate-800/50",children:p.jsx(es,{placeholder:"Selecione..."})}),p.jsx(Pr,{children:i.map(te=>p.jsx(Jt,{value:te.id.toString(),children:te.nome},te.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"departamento",children:"Departamento"}),p.jsxs(Zr,{value:re.departamento,onValueChange:te=>ae({...re,departamento:te}),children:[p.jsx(Ar,{className:"bg-slate-800/50",children:p.jsx(es,{})}),p.jsx(Pr,{children:l.map(te=>p.jsx(Jt,{value:te.nome,children:te.nome},te.id))})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"descricao",children:"Descrio"}),p.jsx(Eu,{id:"descricao",value:re.descricao,onChange:te=>ae({...re,descricao:te.target.value}),className:"bg-slate-800/50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"dataExpiracao",children:"Data de Expirao (Opcional)"}),p.jsx(Ct,{type:"date",id:"dataExpiracao",value:re.dataExpiracao,onChange:te=>ae({...re,dataExpiracao:te.target.value}),className:"bg-slate-800/50"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(wf,{id:"obrigatorio",checked:re.obrigatorio,onCheckedChange:te=>ae({...re,obrigatorio:te})}),p.jsx(St,{htmlFor:"obrigatorio",children:"Obrigatrio"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(wf,{id:"ativo",checked:re.ativo,onCheckedChange:te=>ae({...re,ativo:te})}),p.jsx(St,{htmlFor:"ativo",children:"Ativo"})]})]}),p.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[p.jsx("h3",{className:"text-lg font-semibold text-white",children:"Arquivos Complementares (Links)"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"linkName",children:"Nome do Arquivo"}),p.jsx(Ct,{id:"linkName",placeholder:"Ex: Manual em PDF",value:k,onChange:te=>M(te.target.value),className:"bg-slate-800/50"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"linkUrl",children:"Link Compartilhvel"}),p.jsx(Ct,{id:"linkUrl",placeholder:"Cole o link aqui...",value:F,onChange:te=>O(te.target.value),className:"bg-slate-800/50"})]})]}),p.jsxs(Ve,{type:"button",variant:"outline",onClick:Ee,children:[p.jsx(Qv,{className:"w-4 h-4 mr-2"})," Adicionar Link"]}),p.jsx("div",{className:"space-y-2 pt-2",children:(re.arquivosComplementares||[]).map((te,ye)=>p.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded",children:[p.jsx("span",{className:"text-sm text-slate-300",children:te.name}),p.jsx(Ve,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>we(ye),children:p.jsx(M4,{className:"w-4 h-4 text-red-500"})})]},`${te.name}-${ye}`))})]}),p.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-semibold text-white",children:"Questionrio"}),p.jsxs(Ve,{type:"button",size:"sm",onClick:Se,children:[p.jsx(Il,{className:"w-4 h-4 mr-2"})," Adicionar Pergunta"]})]}),(re.perguntas||[]).map((te,ye)=>{var be;return p.jsxs("div",{className:"p-4 border border-slate-700 rounded-lg space-y-4 bg-slate-800/30",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs(St,{children:["Pergunta ",ye+1]}),p.jsx(Ve,{type:"button",size:"sm",variant:"destructive",onClick:()=>Ie(ye),children:p.jsx(Xo,{className:"w-4 h-4"})})]}),p.jsx(Eu,{placeholder:"Digite a pergunta...",value:te.pergunta,onChange:De=>pe(ye,De.target.value),required:!0}),p.jsx(kR,{value:(be=te.respostaCorreta)==null?void 0:be.toString(),onValueChange:De=>xe(ye,parseInt(De)),children:te.opcoes.map((De,je)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(DR,{value:je.toString(),id:`q${ye}o${je}`}),p.jsx(Ct,{placeholder:`Opo ${je+1}`,value:De,onChange:ht=>fe(ye,je,ht.target.value),required:!0})]},je))})]},ye)})]})]}),p.jsxs(io,{className:"pt-4 border-t border-slate-700",children:[p.jsx(Ve,{type:"button",variant:"outline",onClick:()=>y(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ve,{type:"submit",form:"trainingForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:T?"Salvar":"Criar"})]})]})]})]}),p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs("div",{className:"relative",children:[p.jsx(Yf,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(Ct,{placeholder:"Buscar por ttulo...",value:h,onChange:te=>d(te.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((te,ye)=>{var be;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ye*.05},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsxs(Wt,{children:[p.jsx(Gt,{className:"text-lg text-white mb-1",children:te.titulo}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(Ki,{style:{backgroundColor:((be=i.find(De=>De.id===te.categoriaId))==null?void 0:be.cor)||"#ccc"},children:ee(te.categoriaId)}),p.jsx(Ki,{variant:te.ativo?"default":"secondary",children:te.ativo?"Ativo":"Inativo"}),te.obrigatorio&&p.jsx(Ki,{variant:"destructive",children:"Obrigatrio"})]})]}),p.jsx(Ot,{className:"flex-grow space-y-3",children:p.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:te.descricao})}),p.jsxs(np,{className:"flex justify-end space-x-2",children:[p.jsx(Ve,{size:"sm",variant:"outline",className:"border-slate-600",onClick:()=>z(te),children:p.jsx(zl,{className:"w-4 h-4"})}),p.jsx(Ve,{size:"sm",variant:"destructive",onClick:()=>oe(te),children:p.jsx(Xo,{className:"w-4 h-4"})})]})]})},te.id)})}),U&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ve,{onClick:()=>K(!0),disabled:q,children:q?p.jsxs(p.Fragment,{children:[p.jsx(En,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})}),p.jsx(ci,{open:v,onOpenChange:E,children:p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white",children:[p.jsxs(Is,{children:[p.jsxs(Rs,{className:"flex items-center gap-2",children:[p.jsx(Fb,{className:"text-red-500"}),"Confirmar Excluso"]}),p.jsxs(Dl,{children:['Tem certeza que deseja remover o treinamento "',P==null?void 0:P.titulo,'"?']})]}),p.jsxs(io,{children:[p.jsx(Ve,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),p.jsx(Ve,{variant:"destructive",onClick:_e,children:"Sim, Excluir"})]})]})})]})},S8=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},C8=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,a]=b.useState(null),[l,c]=b.useState({nome:"",cor:"#3b82f6"}),[h,d]=b.useState(!0),{toast:g}=ts(),y=async()=>{d(!0);const T=await S8("categorias");e(T),d(!1)};b.useEffect(()=>{y()},[]);const v=()=>{c({nome:"",cor:"#3b82f6"}),a(null)},E=T=>{a(T),c({nome:T.nome,cor:T.cor}),r(!0)},P=async T=>{T.preventDefault(),i?(await ks("categorias",i.id,l),g({title:"Categoria atualizada com sucesso!"})):(await hi("categorias",l),g({title:"Categoria criada com sucesso!"})),await y(),v(),r(!1)},C=async T=>{window.confirm("Tem certeza que deseja remover esta categoria? Isso pode afetar treinamentos existentes.")&&(await Kl("categorias",T),await y(),g({title:"Categoria removida com sucesso."}))};return h?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Categorias"}),p.jsx("p",{className:"text-slate-400",children:"Organize seus treinamentos em categorias."})]}),p.jsxs(ci,{open:n,onOpenChange:r,children:[p.jsx(Vu,{asChild:!0,children:p.jsxs(Ve,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:v,children:[p.jsx(Il,{className:"w-4 h-4 mr-2"})," Nova Categoria"]})}),p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Is,{children:p.jsxs(Rs,{children:[i?"Editar":"Nova"," Categoria"]})}),p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"nome",children:"Nome da Categoria"}),p.jsx(Ct,{id:"nome",value:l.nome,onChange:T=>c({...l,nome:T.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"cor",children:"Cor da Categoria"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ct,{id:"cor",type:"color",value:l.cor,onChange:T=>c({...l,cor:T.target.value}),className:"p-1 h-10 w-14 block bg-slate-800/50 border-slate-600 cursor-pointer"}),p.jsx(Ct,{type:"text",value:l.cor,onChange:T=>c({...l,cor:T.target.value}),className:"bg-slate-800/50"})]})]}),p.jsxs(io,{children:[p.jsx(Ve,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ve,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:i?"Salvar":"Criar"})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((T,V)=>p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.05},children:p.jsx(Vt,{className:"glass-effect border-slate-700 card-hover",children:p.jsxs(Ot,{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:T.cor},children:p.jsx(J4,{className:"w-5 h-5 text-white"})}),p.jsx("span",{className:"font-medium text-white",children:T.nome})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>E(T),children:p.jsx(zl,{className:"w-4 h-4"})}),p.jsx(Ve,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>C(T.id),children:p.jsx(Xo,{className:"w-4 h-4"})})]})]})})},T.id))})]})},b8=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},A8=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,a]=b.useState(null),[l,c]=b.useState({nome:""}),[h,d]=b.useState(!0),{toast:g}=ts(),y=async()=>{d(!0);const T=await b8("departamentos");e(T.filter(V=>V.nome!=="Todos")),d(!1)};b.useEffect(()=>{y()},[]);const v=()=>{c({nome:""}),a(null)},E=T=>{a(T),c({nome:T.nome}),r(!0)},P=async T=>{T.preventDefault(),i?(await ks("departamentos",i.id,l),g({title:"Departamento atualizado com sucesso!"})):(await hi("departamentos",l),g({title:"Departamento criado com sucesso!"})),await y(),v(),r(!1)},C=async T=>{window.confirm("Tem certeza que deseja remover este departamento?")&&(await Kl("departamentos",T),await y(),g({title:"Departamento removido com sucesso."}))};return h?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Departamentos"}),p.jsx("p",{className:"text-slate-400",children:"Adicione, edite ou remova os departamentos da empresa."})]}),p.jsxs(ci,{open:n,onOpenChange:r,children:[p.jsx(Vu,{asChild:!0,children:p.jsxs(Ve,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:v,children:[p.jsx(Il,{className:"w-4 h-4 mr-2"})," Novo Departamento"]})}),p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white",children:[p.jsx(Is,{children:p.jsxs(Rs,{children:[i?"Editar":"Novo"," Departamento"]})}),p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{htmlFor:"nome",children:"Nome do Departamento"}),p.jsx(Ct,{id:"nome",value:l.nome,onChange:T=>c({nome:T.target.value}),className:"bg-slate-800/50",required:!0})]}),p.jsxs(io,{children:[p.jsx(Ve,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),p.jsx(Ve,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:i?"Salvar":"Criar"})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((T,V)=>p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.05},children:p.jsx(Vt,{className:"glass-effect border-slate-700 card-hover",children:p.jsxs(Ot,{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-slate-700",children:p.jsx(Wv,{className:"w-5 h-5 text-slate-300"})}),p.jsx("span",{className:"font-medium text-white",children:T.nome})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>E(T),children:p.jsx(zl,{className:"w-4 h-4"})}),p.jsx(Ve,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>C(T.id),children:p.jsx(Xo,{className:"w-4 h-4"})})]})]})})},T.id))})]})};var mp="Checkbox",[P8,U7]=Os(mp),[I8,W0]=P8(mp);function R8(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:l,name:c,onCheckedChange:h,required:d,value:g="on",internal_do_not_use_render:y}=t,[v,E]=no({prop:n,defaultProp:i??!1,onChange:h,caller:mp}),[P,C]=b.useState(null),[T,V]=b.useState(null),R=b.useRef(!1),N=P?!!l||!!P.closest("form"):!0,U={checked:v,disabled:a,setChecked:E,control:P,setControl:C,name:c,form:l,value:g,hasConsumerStoppedPropagationRef:R,required:d,defaultChecked:Qi(i)?!1:i,isFormControl:N,bubbleInput:T,setBubbleInput:V};return p.jsx(I8,{scope:e,...U,children:N8(y)?y(U):r})}var jR="CheckboxTrigger",VR=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:l,disabled:c,checked:h,required:d,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:v,isFormControl:E,bubbleInput:P}=W0(jR,t),C=dt(i,g),T=b.useRef(h);return b.useEffect(()=>{const V=a==null?void 0:a.form;if(V){const R=()=>y(T.current);return V.addEventListener("reset",R),()=>V.removeEventListener("reset",R)}},[a,y]),p.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":Qi(h)?"mixed":h,"aria-required":d,"data-state":UR(h),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:C,onKeyDown:qe(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:qe(n,V=>{y(R=>Qi(R)?!0:!R),P&&E&&(v.current=V.isPropagationStopped(),v.current||V.stopPropagation())})})});VR.displayName=jR;var G0=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:h,onCheckedChange:d,form:g,...y}=t;return p.jsx(R8,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:l,onCheckedChange:d,name:r,form:g,value:h,internal_do_not_use_render:({isFormControl:v})=>p.jsxs(p.Fragment,{children:[p.jsx(VR,{...y,ref:e,__scopeCheckbox:n}),v&&p.jsx(FR,{__scopeCheckbox:n})]})})});G0.displayName=mp;var OR="CheckboxIndicator",MR=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=W0(OR,n);return p.jsx(la,{present:r||Qi(a.checked)||a.checked===!0,children:p.jsx(Ge.span,{"data-state":UR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});MR.displayName=OR;var LR="CheckboxBubbleInput",FR=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:l,required:c,disabled:h,name:d,value:g,form:y,bubbleInput:v,setBubbleInput:E}=W0(LR,t),P=dt(n,E),C=cp(a),T=lp(r);b.useEffect(()=>{const R=v;if(!R)return;const N=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(N,"checked").set,q=!i.current;if(C!==a&&$){const j=new Event("click",{bubbles:q});R.indeterminate=Qi(a),$.call(R,Qi(a)?!1:a),R.dispatchEvent(j)}},[v,C,a,i]);const V=b.useRef(Qi(a)?!1:a);return p.jsx(Ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??V.current,required:c,disabled:h,name:d,value:g,form:y,...e,tabIndex:-1,ref:P,style:{...e.style,...T,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});FR.displayName=LR;function N8(t){return typeof t=="function"}function Qi(t){return t==="indeterminate"}function UR(t){return Qi(t)?"indeterminate":t?"checked":"unchecked"}const BR=ze.forwardRef(({className:t,...e},n)=>p.jsx(G0,{ref:n,className:et("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(MR,{className:et("flex items-center justify-center text-current"),children:p.jsx(Gv,{className:"h-4 w-4"})})}));BR.displayName=G0.displayName;const Fg=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},k8=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState(!1),[h,d]=b.useState(null),[g,y]=b.useState(!0),v={titulo:"",descricao:"",departamento:"Todos",ativo:!0,treinamentos:[]},[E,P]=b.useState(v),{toast:C}=ts(),T=async()=>{y(!0);const q=await Fg("trilhas"),j=await Fg("treinamentos"),S=await Fg("departamentos");e(q),r(j),a(S),y(!1)};b.useEffect(()=>{T()},[]);const V=()=>{P(v),d(null)},R=q=>{d(q),P({...v,...q,treinamentos:q.treinamentos||[]}),c(!0)},N=async q=>{q.preventDefault(),h?(await ks("trilhas",h.id,E),C({title:"Trilha atualizada com sucesso!"})):(await hi("trilhas",E),C({title:"Trilha criada com sucesso!"})),await T(),V(),c(!1)},U=async q=>{window.confirm("Tem certeza que deseja remover esta trilha?")&&(await Kl("trilhas",q),await T(),C({title:"Trilha removida com sucesso."}))},$=q=>{P(j=>{const S=j.treinamentos.includes(q)?j.treinamentos.filter(A=>A!==q):[...j.treinamentos,q];return{...j,treinamentos:S}})};return g?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Trilhas de Aprendizagem"}),p.jsx("p",{className:"text-slate-400",children:"Crie e organize sequncias de treinamentos."})]}),p.jsxs(ci,{open:l,onOpenChange:c,children:[p.jsx(Vu,{asChild:!0,children:p.jsxs(Ve,{className:"bg-gradient-to-r from-green-500 to-teal-600",onClick:V,children:[p.jsx(Il,{className:"w-4 h-4 mr-2"})," Nova Trilha"]})}),p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white max-w-2xl",children:[p.jsxs(Is,{children:[p.jsxs(Rs,{children:[h?"Editar":"Nova"," Trilha de Aprendizagem"]}),p.jsx(Dl,{children:"Defina os detalhes e selecione os treinamentos para a trilha."})]}),p.jsxs("form",{onSubmit:N,className:"space-y-4",children:[p.jsx(Ct,{placeholder:"Ttulo da Trilha",value:E.titulo,onChange:q=>P({...E,titulo:q.target.value}),required:!0,className:"bg-slate-800/50"}),p.jsx(Eu,{placeholder:"Descrio da Trilha",value:E.descricao,onChange:q=>P({...E,descricao:q.target.value}),className:"bg-slate-800/50"}),p.jsxs(Zr,{value:E.departamento,onValueChange:q=>P({...E,departamento:q}),children:[p.jsx(Ar,{className:"bg-slate-800/50",children:p.jsx(es,{})}),p.jsx(Pr,{children:i.map(q=>p.jsx(Jt,{value:q.nome,children:q.nome},q.id))})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(wf,{id:"ativo",checked:E.ativo,onCheckedChange:q=>P({...E,ativo:q})}),p.jsx(St,{htmlFor:"ativo",children:"Ativa"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(St,{children:"Treinamentos (selecione na ordem desejada)"}),p.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 p-2 border border-slate-700 rounded-md",children:n.map(q=>p.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-800/50 rounded",children:[p.jsx(BR,{id:`training-${q.id}`,checked:E.treinamentos.includes(q.id),onCheckedChange:()=>$(q.id)}),p.jsx("label",{htmlFor:`training-${q.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:q.titulo})]},q.id))})]}),p.jsxs(io,{children:[p.jsx(Ve,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),p.jsx(Ve,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:h?"Salvar":"Criar Trilha"})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((q,j)=>p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsxs(Wt,{children:[p.jsx(Gt,{className:"text-lg text-white",children:q.titulo}),p.jsx("p",{className:"text-sm text-slate-400",children:q.departamento})]}),p.jsxs(Ot,{className:"flex-grow",children:[p.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:q.descricao}),p.jsxs("div",{className:"text-xs text-slate-400 mt-4 pt-2 border-t border-slate-700 flex items-center gap-2",children:[p.jsx(H4,{className:"w-4 h-4"}),p.jsxs("span",{children:[(q.treinamentos||[]).length," Treinamento(s)"]})]})]}),p.jsxs(np,{className:"flex justify-end space-x-2",children:[p.jsx(Ve,{size:"sm",variant:"outline",onClick:()=>R(q),children:p.jsx(zl,{className:"w-4 h-4"})}),p.jsx(Ve,{size:"sm",variant:"destructive",onClick:()=>U(q.id),children:p.jsx(Xo,{className:"w-4 h-4"})})]})]})},q.id))})]})},Ug=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},D8=()=>{const[t,e]=b.useState({trainings:[],users:[],history:[]}),[n,r]=b.useState(!0),[i,a]=b.useState("all");b.useEffect(()=>{(async()=>{r(!0);const h=await Ug("treinamentos"),d=await Ug("usuarios"),g=await Ug("historico");e({trainings:h,users:d.filter(y=>y.tipo==="funcionario"),history:g}),r(!1)})()},[]);const l=b.useMemo(()=>{const{trainings:c,users:h,history:d}=t;if(h.length===0)return null;const g=i==="all"?c:c.filter(T=>T.id===parseInt(i)),y=d.filter(T=>T.concluido&&(i==="all"||T.treinamentoId===parseInt(i))).length,v=h.length*g.length,E=v>0?y/v*100:0,P=h.map(T=>{const V=d.filter(U=>U.usuarioId===T.id&&(i==="all"||U.treinamentoId===parseInt(i))),R=V.filter(U=>U.concluido).length,N=V.reduce((U,$)=>U+($.notaQuestionario||0),0)/(V.length||1);return{...T,completedCount:R,progress:g.length>0?R/g.length*100:0,avgScore:N}}).sort((T,V)=>V.completedCount-T.completedCount),C=c.map(T=>{const V=d.filter(N=>N.treinamentoId===T.id&&N.concluido).length,R=new Set(d.filter(N=>N.treinamentoId===T.id).map(N=>N.usuarioId)).size;return{...T,completions:V,completionRate:h.length>0?V/h.length*100:0,participants:R}}).sort((T,V)=>V.completions-T.completions);return{totalCompletions:y,completionRate:E,userProgress:P,trainingStats:C,totalUsers:h.length}},[t,i]);return n?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):l?p.jsxs("div",{className:"space-y-6",children:[p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Relatrios"}),p.jsx("p",{className:"text-slate-400",children:"Analise o desempenho e progresso dos treinamentos."})]}),p.jsx("div",{className:"w-full sm:w-64",children:p.jsxs(Zr,{value:i,onValueChange:a,children:[p.jsxs(Ar,{className:"bg-slate-800/50 border-slate-600",children:[p.jsx(jb,{className:"w-4 h-4 mr-2"}),p.jsx(es,{placeholder:"Filtrar por treinamento"})]}),p.jsxs(Pr,{children:[p.jsx(Jt,{value:"all",children:"Todos os Treinamentos"}),t.trainings.map(c=>p.jsx(Jt,{value:c.id.toString(),children:c.titulo},c.id))]})]})})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Gt,{className:"text-sm font-medium text-slate-200",children:"Total de Concluses"}),p.jsx(Bl,{className:"h-5 w-5 text-green-500"})]}),p.jsx(Ot,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalCompletions})})]})}),p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Gt,{className:"text-sm font-medium text-slate-200",children:"Taxa de Concluso Geral"}),p.jsx(K4,{className:"h-5 w-5 text-blue-500"})]}),p.jsx(Ot,{children:p.jsxs("div",{className:"text-2xl font-bold text-white",children:[l.completionRate.toFixed(1),"%"]})})]})}),p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Gt,{className:"text-sm font-medium text-slate-200",children:"Total de Funcionrios"}),p.jsx(sf,{className:"h-5 w-5 text-purple-500"})]}),p.jsx(Ot,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalUsers})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsx(Wt,{children:p.jsx(Gt,{className:"text-white",children:"Progresso por Usurio"})}),p.jsx(Ot,{className:"space-y-2 max-h-96 overflow-y-auto scrollbar-thin",children:l.userProgress.map(c=>p.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"text-sm font-medium text-white",children:c.nome}),p.jsxs("span",{className:"text-sm font-semibold text-blue-400",children:[c.progress.toFixed(0),"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5",children:p.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${c.progress}%`}})}),p.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[p.jsxs("span",{children:[c.completedCount," concludo(s)"]}),p.jsxs("span",{children:["Nota Mdia: ",c.avgScore.toFixed(1)]})]})]},c.id))})]})}),p.jsx(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsx(Wt,{children:p.jsx(Gt,{className:"text-white",children:"Desempenho por Treinamento"})}),p.jsx(Ot,{className:"space-y-2 max-h-96 overflow-y-auto scrollbar-thin",children:l.trainingStats.map(c=>p.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:c.titulo}),p.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 mt-1",children:[p.jsxs("span",{children:[c.completions," concluses"]}),p.jsxs("span",{children:[c.participants," participantes"]}),p.jsxs("span",{className:"font-semibold text-green-400",children:[c.completionRate.toFixed(0),"%"]})]})]},c.id))})]})})]})]}):p.jsx("div",{className:"text-center text-slate-400",children:"No h dados suficientes para gerar relatrios."})};var Oh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var j8=Oh.exports,T1;function V8(){return T1||(T1=1,(function(t,e){((n,r)=>{t.exports=r()})(j8,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,c={},h=0,d={};function g(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var k=$(A);k.chunkSize=parseInt(k.chunkSize),A.step||A.chunk||(k.chunkSize=null),this._handle=new C(k),(this._handle.streamer=this)._config=k}).call(this,S),this.parseChunk=function(A,k){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let O=this._config.newline;O||(F=this._config.quoteChar||'"',O=this._handle.guessLineEndings(A,F)),A=[...A.split(O).slice(M)].join(O)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(A))!==void 0&&(A=F),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+A,F=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=F.meta.cursor,M=(this._finished||(this._partialLine=M.substring(A-this._baseIndex),this._baseIndex=A),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:F,workerId:d.WORKER_ID,finished:M});else if(j(this._config.chunk)&&!k){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!M||!j(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(A){j(this._config.error)?this._config.error(A):l&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:A,finished:!1})}}function y(S){var A;(S=S||{}).chunkSize||(S.chunkSize=d.RemoteChunkSize),g.call(this,S),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=q(this._chunkLoaded,this),A.onerror=q(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var k,M=this._config.downloadRequestHeaders;for(k in M)A.setRequestHeader(k,M[k])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+F));try{A.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(k){k=A.statusText||k,this._sendError(new Error(k))}}function v(S){(S=S||{}).chunkSize||(S.chunkSize=d.LocalChunkSize),g.call(this,S);var A,k,M=typeof FileReader<"u";this.stream=function(F){this._input=F,k=F.slice||F.webkitSlice||F.mozSlice,M?((A=new FileReader).onload=q(this._chunkLoaded,this),A.onerror=q(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),F=k.call(F,this._start,O)),A.readAsText(F,this._config.encoding));M||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(A.error)}}function E(S){var A;g.call(this,S=S||{}),this.stream=function(k){return A=k,this._nextChunk()},this._nextChunk=function(){var k,M;if(!this._finished)return k=this._config.chunkSize,A=k?(M=A.substring(0,k),A.substring(k)):(M=A,""),this._finished=!A,this.parseChunk(M)}}function P(S){g.call(this,S=S||{});var A=[],k=!0,M=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):k=!0},this._streamData=q(function(F){try{A.push(typeof F=="string"?F:F.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(O){this._streamError(O)}},this),this._streamError=q(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=q(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(S){var A,k,M,F,O=Math.pow(2,53),G=-O,re=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,K=0,ee=0,le=!1,z=!1,X=[],oe={data:[],errors:[],meta:{}};function _e(fe){return S.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function Se(){if(oe&&M&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),M=!1),S.skipEmptyLines&&(oe.data=oe.data.filter(function(te){return!_e(te)})),Ie()){let te=function(ye,be){j(S.transformHeader)&&(ye=S.transformHeader(ye,be)),X.push(ye)};var we=te;if(oe)if(Array.isArray(oe.data[0])){for(var fe=0;Ie()&&fe<oe.data.length;fe++)oe.data[fe].forEach(te);oe.data.splice(0,1)}else oe.data.forEach(te)}function xe(te,ye){for(var be=S.header?{}:[],De=0;De<te.length;De++){var je=De,ht=te[De],ht=((Ze,tt)=>(mt=>(S.dynamicTypingFunction&&S.dynamicTyping[mt]===void 0&&(S.dynamicTyping[mt]=S.dynamicTypingFunction(mt)),(S.dynamicTyping[mt]||S.dynamicTyping)===!0))(Ze)?tt==="true"||tt==="TRUE"||tt!=="false"&&tt!=="FALSE"&&((mt=>{if(re.test(mt)&&(mt=parseFloat(mt),G<mt&&mt<O))return 1})(tt)?parseFloat(tt):ae.test(tt)?new Date(tt):tt===""?null:tt):tt)(je=S.header?De>=X.length?"__parsed_extra":X[De]:je,ht=S.transform?S.transform(ht,je):ht);je==="__parsed_extra"?(be[je]=be[je]||[],be[je].push(ht)):be[je]=ht}return S.header&&(De>X.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+X.length+" fields but parsed "+De,ee+ye):De<X.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+X.length+" fields but parsed "+De,ee+ye)),be}var Ee;oe&&(S.header||S.dynamicTyping||S.transform)&&(Ee=1,!oe.data.length||Array.isArray(oe.data[0])?(oe.data=oe.data.map(xe),Ee=oe.data.length):oe.data=xe(oe.data,0),S.header&&oe.meta&&(oe.meta.fields=X),ee+=Ee)}function Ie(){return S.header&&X.length===0}function pe(fe,xe,Ee,we){fe={type:fe,code:xe,message:Ee},we!==void 0&&(fe.row=we),oe.errors.push(fe)}j(S.step)&&(F=S.step,S.step=function(fe){oe=fe,Ie()?Se():(Se(),oe.data.length!==0&&(K+=fe.data.length,S.preview&&K>S.preview?k.abort():(oe.data=oe.data[0],F(oe,se))))}),this.parse=function(fe,xe,Ee){var we=S.quoteChar||'"',we=(S.newline||(S.newline=this.guessLineEndings(fe,we)),M=!1,S.delimiter?j(S.delimiter)&&(S.delimiter=S.delimiter(fe),oe.meta.delimiter=S.delimiter):((we=((te,ye,be,De,je)=>{var ht,Ze,tt,mt;je=je||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Tn=0;Tn<je.length;Tn++){for(var Sn,dr=je[Tn],Nt=0,Cn=0,Xe=0,it=(tt=void 0,new V({comments:De,delimiter:dr,newline:ye,preview:10}).parse(te)),tn=0;tn<it.data.length;tn++)be&&_e(it.data[tn])?Xe++:(Sn=it.data[tn].length,Cn+=Sn,tt===void 0?tt=Sn:0<Sn&&(Nt+=Math.abs(Sn-tt),tt=Sn));0<it.data.length&&(Cn/=it.data.length-Xe),(Ze===void 0||Nt<=Ze)&&(mt===void 0||mt<Cn)&&1.99<Cn&&(Ze=Nt,ht=dr,mt=Cn)}return{successful:!!(S.delimiter=ht),bestDelimiter:ht}})(fe,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=we.bestDelimiter:(M=!0,S.delimiter=d.DefaultDelimiter),oe.meta.delimiter=S.delimiter),$(S));return S.preview&&S.header&&we.preview++,A=fe,k=new V(we),oe=k.parse(A,xe,Ee),Se(),le?{meta:{paused:!0}}:oe||{meta:{paused:!1}}},this.paused=function(){return le},this.pause=function(){le=!0,k.abort(),A=j(S.chunk)?"":A.substring(k.getCharIndex())},this.resume=function(){se.streamer._halted?(le=!1,se.streamer.parseChunk(A,!0)):setTimeout(se.resume,3)},this.aborted=function(){return z},this.abort=function(){z=!0,k.abort(),oe.meta.aborted=!0,j(S.complete)&&S.complete(oe),A=""},this.guessLineEndings=function(te,we){te=te.substring(0,1048576);var we=new RegExp(T(we)+"([^]*?)"+T(we),"gm"),Ee=(te=te.replace(we,"")).split("\r"),we=te.split(`
`),te=1<we.length&&we[0].length<Ee[0].length;if(Ee.length===1||te)return`
`;for(var ye=0,be=0;be<Ee.length;be++)Ee[be][0]===`
`&&ye++;return ye>=Ee.length/2?`\r
`:"\r"}}function T(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function V(S){var A=(S=S||{}).delimiter,k=S.newline,M=S.comments,F=S.step,O=S.preview,G=S.fastMode,re=null,ae=!1,se=S.quoteChar==null?'"':S.quoteChar,K=se;if(S.escapeChar!==void 0&&(K=S.escapeChar),(typeof A!="string"||-1<d.BAD_DELIMITERS.indexOf(A))&&(A=","),M===A)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<d.BAD_DELIMITERS.indexOf(M))&&(M=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var ee=0,le=!1;this.parse=function(z,X,oe){if(typeof z!="string")throw new Error("Input must be a string");var _e=z.length,Se=A.length,Ie=k.length,pe=M.length,fe=j(F),xe=[],Ee=[],we=[],te=ee=0;if(!z)return Nt();if(G||G!==!1&&z.indexOf(se)===-1){for(var ye=z.split(k),be=0;be<ye.length;be++){if(we=ye[be],ee+=we.length,be!==ye.length-1)ee+=k.length;else if(oe)return Nt();if(!M||we.substring(0,pe)!==M){if(fe){if(xe=[],mt(we.split(A)),Cn(),le)return Nt()}else mt(we.split(A));if(O&&O<=be)return xe=xe.slice(0,O),Nt(!0)}}return Nt()}for(var De=z.indexOf(A,ee),je=z.indexOf(k,ee),ht=new RegExp(T(K)+T(se),"g"),Ze=z.indexOf(se,ee);;)if(z[ee]===se)for(Ze=ee,ee++;;){if((Ze=z.indexOf(se,Ze+1))===-1)return oe||Ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:ee}),Sn();if(Ze===_e-1)return Sn(z.substring(ee,Ze).replace(ht,se));if(se===K&&z[Ze+1]===K)Ze++;else if(se===K||Ze===0||z[Ze-1]!==K){De!==-1&&De<Ze+1&&(De=z.indexOf(A,Ze+1));var tt=Tn((je=je!==-1&&je<Ze+1?z.indexOf(k,Ze+1):je)===-1?De:Math.min(De,je));if(z.substr(Ze+1+tt,Se)===A){we.push(z.substring(ee,Ze).replace(ht,se)),z[ee=Ze+1+tt+Se]!==se&&(Ze=z.indexOf(se,ee)),De=z.indexOf(A,ee),je=z.indexOf(k,ee);break}if(tt=Tn(je),z.substring(Ze+1+tt,Ze+1+tt+Ie)===k){if(we.push(z.substring(ee,Ze).replace(ht,se)),dr(Ze+1+tt+Ie),De=z.indexOf(A,ee),Ze=z.indexOf(se,ee),fe&&(Cn(),le))return Nt();if(O&&xe.length>=O)return Nt(!0);break}Ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:ee}),Ze++}}else if(M&&we.length===0&&z.substring(ee,ee+pe)===M){if(je===-1)return Nt();ee=je+Ie,je=z.indexOf(k,ee),De=z.indexOf(A,ee)}else if(De!==-1&&(De<je||je===-1))we.push(z.substring(ee,De)),ee=De+Se,De=z.indexOf(A,ee);else{if(je===-1)break;if(we.push(z.substring(ee,je)),dr(je+Ie),fe&&(Cn(),le))return Nt();if(O&&xe.length>=O)return Nt(!0)}return Sn();function mt(Xe){xe.push(Xe),te=ee}function Tn(Xe){var it=0;return it=Xe!==-1&&(Xe=z.substring(Ze+1,Xe))&&Xe.trim()===""?Xe.length:it}function Sn(Xe){return oe||(Xe===void 0&&(Xe=z.substring(ee)),we.push(Xe),ee=_e,mt(we),fe&&Cn()),Nt()}function dr(Xe){ee=Xe,mt(we),we=[],je=z.indexOf(k,ee)}function Nt(Xe){if(S.header&&!X&&xe.length&&!ae){var it=xe[0],tn=Object.create(null),Ls=new Set(it);let Ir=!1;for(let Un=0;Un<it.length;Un++){let an=it[Un];if(tn[an=j(S.transformHeader)?S.transformHeader(an,Un):an]){let Rr,pi=tn[an];for(;Rr=an+"_"+pi,pi++,Ls.has(Rr););Ls.add(Rr),it[Un]=Rr,tn[an]++,Ir=!0,(re=re===null?{}:re)[Rr]=an}else tn[an]=1,it[Un]=an;Ls.add(an)}Ir&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:xe,errors:Ee,meta:{delimiter:A,linebreak:k,aborted:le,truncated:!!Xe,cursor:te+(X||0),renamedHeaders:re}}}function Cn(){F(Nt()),xe=[],Ee=[]}},this.abort=function(){le=!0},this.getCharIndex=function(){return ee}}function R(S){var A=S.data,k=c[A.workerId],M=!1;if(A.error)k.userError(A.error,A.file);else if(A.results&&A.results.data){var F={abort:function(){M=!0,N(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:U,resume:U};if(j(k.userStep)){for(var O=0;O<A.results.data.length&&(k.userStep({data:A.results.data[O],errors:A.results.errors,meta:A.results.meta},F),!M);O++);delete A.results}else j(k.userChunk)&&(k.userChunk(A.results,F,A.file),delete A.results)}A.finished&&!M&&N(A.workerId,A.results)}function N(S,A){var k=c[S];j(k.userComplete)&&k.userComplete(A),k.terminate(),delete c[S]}function U(){throw new Error("Not implemented.")}function $(S){if(typeof S!="object"||S===null)return S;var A,k=Array.isArray(S)?[]:{};for(A in S)k[A]=$(S[A]);return k}function q(S,A){return function(){S.apply(A,arguments)}}function j(S){return typeof S=="function"}return d.parse=function(S,A){var k=(A=A||{}).dynamicTyping||!1;if(j(k)&&(A.dynamicTypingFunction=k,k={}),A.dynamicTyping=k,A.transform=!!j(A.transform)&&A.transform,!A.worker||!d.WORKERS_SUPPORTED)return k=null,d.NODE_STREAM_INPUT,typeof S=="string"?(S=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(S),k=new(A.download?y:E)(A)):S.readable===!0&&j(S.read)&&j(S.on)?k=new P(A):(r.File&&S instanceof File||S instanceof Object)&&(k=new v(A)),k.stream(S);(k=(()=>{var M;return!!d.WORKERS_SUPPORTED&&(M=(()=>{var F=r.URL||r.webkitURL||null,O=n.toString();return d.BLOB_URL||(d.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(M=new r.Worker(M)).onmessage=R,M.id=h++,c[M.id]=M)})()).userStep=A.step,k.userChunk=A.chunk,k.userComplete=A.complete,k.userError=A.error,A.step=j(A.step),A.chunk=j(A.chunk),A.complete=j(A.complete),A.error=j(A.error),delete A.worker,k.postMessage({input:S,config:A,workerId:k.id})},d.unparse=function(S,A){var k=!1,M=!0,F=",",O=`\r
`,G='"',re=G+G,ae=!1,se=null,K=!1,ee=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||d.BAD_DELIMITERS.filter(function(X){return A.delimiter.indexOf(X)!==-1}).length||(F=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(k=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(ae=A.skipEmptyLines),typeof A.newline=="string"&&(O=A.newline),typeof A.quoteChar=="string"&&(G=A.quoteChar),typeof A.header=="boolean"&&(M=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");se=A.columns}A.escapeChar!==void 0&&(re=A.escapeChar+G),A.escapeFormulae instanceof RegExp?K=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(K=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(G),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return le(null,S,ae);if(typeof S[0]=="object")return le(se||Object.keys(S[0]),S,ae)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||se),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),le(S.fields||[],S.data||[],ae);throw new Error("Unable to serialize unrecognized input");function le(X,oe,_e){var Se="",Ie=(typeof X=="string"&&(X=JSON.parse(X)),typeof oe=="string"&&(oe=JSON.parse(oe)),Array.isArray(X)&&0<X.length),pe=!Array.isArray(oe[0]);if(Ie&&M){for(var fe=0;fe<X.length;fe++)0<fe&&(Se+=F),Se+=z(X[fe],fe);0<oe.length&&(Se+=O)}for(var xe=0;xe<oe.length;xe++){var Ee=(Ie?X:oe[xe]).length,we=!1,te=Ie?Object.keys(oe[xe]).length===0:oe[xe].length===0;if(_e&&!Ie&&(we=_e==="greedy"?oe[xe].join("").trim()==="":oe[xe].length===1&&oe[xe][0].length===0),_e==="greedy"&&Ie){for(var ye=[],be=0;be<Ee;be++){var De=pe?X[be]:be;ye.push(oe[xe][De])}we=ye.join("").trim()===""}if(!we){for(var je=0;je<Ee;je++){0<je&&!te&&(Se+=F);var ht=Ie&&pe?X[je]:je;Se+=z(oe[xe][ht],je)}xe<oe.length-1&&(!_e||0<Ee&&!te)&&(Se+=O)}}return Se}function z(X,oe){var _e,Se;return X==null?"":X.constructor===Date?JSON.stringify(X).slice(1,25):(Se=!1,K&&typeof X=="string"&&K.test(X)&&(X="'"+X,Se=!0),_e=X.toString().replace(ee,re),(Se=Se||k===!0||typeof k=="function"&&k(X,oe)||Array.isArray(k)&&k[oe]||((Ie,pe)=>{for(var fe=0;fe<pe.length;fe++)if(-1<Ie.indexOf(pe[fe]))return!0;return!1})(_e,d.BAD_DELIMITERS)||-1<_e.indexOf(F)||_e.charAt(0)===" "||_e.charAt(_e.length-1)===" ")?G+_e+G:_e)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!a&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=V,d.ParserHandle=C,d.NetworkStreamer=y,d.FileStreamer=v,d.StringStreamer=E,d.ReadableStreamStreamer=P,r.jQuery&&((i=r.jQuery).fn.parse=function(S){var A=S.config||{},k=[];return this.each(function(O){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)k.push({file:this.files[G],inputElem:this,instanceConfig:i.extend({},A)})}),M(),this;function M(){if(k.length===0)j(S.complete)&&S.complete();else{var O,G,re,ae,se=k[0];if(j(S.before)){var K=S.before(se.file,se.inputElem);if(typeof K=="object"){if(K.action==="abort")return O="AbortError",G=se.file,re=se.inputElem,ae=K.reason,void(j(S.error)&&S.error({name:O},G,re,ae));if(K.action==="skip")return void F();typeof K.config=="object"&&(se.instanceConfig=i.extend(se.instanceConfig,K.config))}else if(K==="skip")return void F()}var ee=se.instanceConfig.complete;se.instanceConfig.complete=function(le){j(ee)&&ee(le,se.file,se.inputElem),F()},d.parse(se.file,se.instanceConfig)}}function F(){k.splice(0,1),M()}}),l&&(r.onmessage=function(S){S=S.data,d.WORKER_ID===void 0&&S&&(d.WORKER_ID=S.workerId),typeof S.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(S.input,S.config),finished:!0}):(r.File&&S.input instanceof File||S.input instanceof Object)&&(S=d.parse(S.input,S.config))&&r.postMessage({workerId:d.WORKER_ID,results:S,finished:!0})}),(y.prototype=Object.create(g.prototype)).constructor=y,(v.prototype=Object.create(g.prototype)).constructor=v,(E.prototype=Object.create(E.prototype)).constructor=E,(P.prototype=Object.create(g.prototype)).constructor=P,d})})(Oh)),Oh.exports}var O8=V8();const M8=Ds(O8),Bg=["usuarios","treinamentos","categorias","departamentos","historico","trilhas","knowledgeBase"],S1={blue:{gradient:"from-blue-500 to-blue-600",bg:"bg-blue-600",hoverBg:"hover:bg-blue-700"},green:{gradient:"from-green-500 to-green-600",bg:"bg-green-600",hoverBg:"hover:bg-green-700"},purple:{gradient:"from-purple-500 to-purple-600",bg:"bg-purple-600",hoverBg:"hover:bg-purple-700"},red:{gradient:"from-red-500 to-orange-600",bg:"bg-red-600",hoverBg:"hover:bg-red-700"}},L8=()=>{const{toast:t}=ts(),e=b.useRef(null),n=b.useRef(null),[r,i]=b.useState(null),a=async()=>{i("backup");try{const v={};for(const V of Bg){const R=await Bt(Ut(ft,V)),N=[];R.forEach(U=>N.push({id:U.id,...U.data()})),v[V]=N}const E=JSON.stringify(v,null,2),P="data:application/json;charset=utf-8,"+encodeURIComponent(E),C="backup_completo.json",T=document.createElement("a");T.setAttribute("href",P),T.setAttribute("download",C),T.click(),t({title:"Backup Realizado",description:"O arquivo de backup foi baixado."})}catch{t({title:"Erro no Backup",description:"No foi possvel gerar o backup.",variant:"destructive"})}finally{i(null)}},l=v=>{var C;const E=(C=v.target.files)==null?void 0:C[0];if(!E)return;const P=new FileReader;P.onload=async T=>{var V;i("importJson");try{const R=JSON.parse((V=T.target)==null?void 0:V.result);if(!window.confirm("ATENO: A importao ir sobrescrever TODOS os dados existentes. Deseja continuar?")){i(null);return}const N=AE(ft);for(const U of Bg)(await Bt(Ut(ft,U))).forEach(q=>N.delete(q.ref)),R[U]&&R[U].forEach(q=>{const j=doc(ft,U,q.id);N.set(j,q)});await N.commit(),t({title:" Importao Concluda",description:"Os dados foram restaurados com sucesso."}),setTimeout(()=>window.location.reload(),1500)}catch{t({title:" Erro na Importao",description:"O arquivo JSON  invlido ou a operao falhou.",variant:"destructive"})}finally{i(null)}},P.readAsText(E),v.target.value=""},c=v=>{var P;const E=(P=v.target.files)==null?void 0:P[0];E&&(i("importCsv"),M8.parse(E,{header:!0,skipEmptyLines:!0,complete:async C=>{try{const T=C.data;for(const V of T){const R={...V,ativo:V.ativo?V.ativo.toLowerCase()==="true":!0,dataCriacao:new Date().toISOString()};await hi("usuarios",R)}t({title:" Importao de Usurios Concluda",description:`${T.length} usurios foram importados.`})}catch{t({title:" Erro na Importao do CSV",description:"No foi possvel processar os dados.",variant:"destructive"})}finally{i(null)}},error:C=>{t({title:" Erro ao ler o arquivo CSV",description:C.message,variant:"destructive"}),i(null)}}),v.target.value="")},y=[{id:"backup",title:"Backup dos Dados",description:"Faa o download de um backup completo dos dados.",icon:kb,action:a,buttonText:"Fazer Backup",color:"blue"},{id:"importJson",title:"Importar Dados (JSON)",description:"Importe dados de um arquivo de backup para restaurar o sistema.",icon:z4,action:()=>{var v;return(v=e.current)==null?void 0:v.click()},buttonText:"Importar JSON",color:"green"},{id:"importCsv",title:"Importar Usurios (CSV)",description:"Importe uma lista de usurios a partir de um arquivo CSV.",icon:B4,action:()=>{var v;return(v=n.current)==null?void 0:v.click()},buttonText:"Importar CSV",color:"purple"},{id:"reset",title:"Resetar Dados da Aplicao",description:"Ateno: Esta ao apaga todos os dados do banco de dados.",icon:Fb,action:async()=>{if(window.confirm("ATENO: Esta ao ir apagar TODOS os dados do Firestore (usurios, treinamentos, etc.). Esta ao  irreversvel. Deseja continuar?")&&window.confirm("CONFIRMAO FINAL: Tem certeza absoluta que deseja resetar todos os dados?")){i("reset");try{const v=AE(ft);for(const E of Bg)(await Bt(Ut(ft,E))).forEach(C=>v.delete(C.ref));await v.commit(),t({title:"Dados Resetados!",description:"A aplicao ser recarregada."}),setTimeout(()=>window.location.reload(),1500)}catch{t({title:"Erro ao Resetar",description:"No foi possvel limpar o banco de dados.",variant:"destructive"})}finally{i(null)}}},buttonText:"Resetar Dados",color:"red"}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Configuraes"}),p.jsx("p",{className:"text-slate-400",children:"Gerencie as configuraes gerais da plataforma."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((v,E)=>{const P=v.icon,C=S1[v.color]||S1.blue,T=r===v.id;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*(E+1)},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsx(Wt,{children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${C.gradient}`,children:p.jsx(P,{className:"h-6 w-6 text-white"})}),p.jsx("div",{children:p.jsx(Gt,{className:"text-lg text-white",children:v.title})})]})}),p.jsxs(Ot,{className:"flex-grow flex flex-col justify-between",children:[p.jsx(Jo,{className:"text-slate-300 mb-4",children:v.description}),p.jsxs(Ve,{onClick:v.action,className:`w-full ${C.bg} ${C.hoverBg}`,disabled:T,children:[T?p.jsx(En,{className:"w-4 h-4 mr-2 animate-spin"}):null,T?"Processando...":v.buttonText]})]})]})},v.title)})}),p.jsx("input",{type:"file",ref:e,onChange:l,accept:"application/json",style:{display:"none"}}),p.jsx("input",{type:"file",ref:n,onChange:c,accept:".csv",style:{display:"none"}})]})},F8=({training:t,userProgress:e,categories:n,onStartTraining:r,index:i})=>{const{user:a}=Vs(),{toast:l}=ts(),c=(E,P)=>{const C=n.find(T=>T.id===E);return P==="nome"?(C==null?void 0:C.nome)||"N/A":P==="cor"?(C==null?void 0:C.cor)||"#3b82f6":null},d=e?e.concluido?"completed":"in-progress":"not-started",g=async E=>{if(E.stopPropagation(),!(!a||!t||!e))try{const P={concluido:!1,dataConclucao:null,notaQuestionario:null,tempoAssistido:0};await ks("historico",e.id,P),l({title:"Progresso resetado!",description:`Voc pode refazer o treinamento "${t.titulo}" agora.`})}catch(P){console.error("Erro ao tentar refazer o treinamento:",P),l({title:"Erro",description:"No foi possvel resetar o progresso.",variant:"destructive"})}},v=d==="completed"?100:d==="in-progress"&&(e!=null&&e.tempoAssistido)&&(t!=null&&t.duracao)?Math.min(99,Math.round(e.tempoAssistido/t.duracao*100)):0;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[p.jsx(Wt,{className:"pb-3",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx(Gt,{className:"text-lg text-white mb-2",children:t.titulo}),p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(Ki,{style:{backgroundColor:c(t.categoriaId,"cor")},className:"text-white",children:c(t.categoriaId,"nome")}),t.obrigatorio&&p.jsx(Ki,{variant:"destructive",children:"Obrigatrio"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[d==="completed"&&p.jsx(Bl,{className:"w-6 h-6 text-green-500"}),d==="in-progress"&&p.jsx(Kv,{className:"w-6 h-6 text-yellow-500"}),d==="not-started"&&t.obrigatorio&&p.jsx(Nb,{className:"w-6 h-6 text-red-500"})]})]})}),p.jsxs(Ot,{className:"space-y-4 flex-grow flex flex-col justify-end",children:[p.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:t.descricao}),(d==="in-progress"||d==="completed")&&e&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-slate-400",children:"Progresso"}),p.jsxs("span",{className:"text-white",children:[v,"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${v}%`}})}),d==="completed"&&e.notaQuestionario!==null&&p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-slate-400",children:"Nota:"}),p.jsxs("span",{className:"text-green-400 font-semibold",children:[e.notaQuestionario,"/10"]})]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-700 flex items-center space-x-2",children:[p.jsxs(Ve,{onClick:r,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[p.jsx(Mb,{className:"w-4 h-4 mr-2"}),d==="completed"?"Ver Novamente":d==="in-progress"?"Continuar":"Iniciar"]}),d==="completed"&&p.jsx(Ve,{onClick:g,variant:"outline",className:"border-slate-600 hover:bg-slate-700",title:"Refazer Treinamento",children:p.jsx(Q4,{className:"w-4 h-4"})})]})]})]})})};var zg,C1;function U8(){return C1||(C1=1,zg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),zg}var B8=U8();const z8=Ds(B8);var mh={exports:{}},$g,b1;function $8(){if(b1)return $g;b1=1;var t;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return t=function(){var e={},n={};return e.on=function(r,i){var a={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(a),a},e.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},e.trigger=function(r,i){var a=n[r],l;if(a)for(l=a.length;l--;)a[l].handler(i)},e},$g=t,$g}var gh={exports:{}},qg,A1;function q8(){if(A1)return qg;A1=1,qg=function(i,a,l){var c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("script");typeof a=="function"&&(l=a,a={}),a=a||{},l=l||function(){},h.type=a.type||"text/javascript",h.charset=a.charset||"utf8",h.async="async"in a?!!a.async:!0,h.src=i,a.attrs&&t(h,a.attrs),a.text&&(h.text=""+a.text);var d="onload"in h?e:n;d(h,l),h.onload||e(h,l),c.appendChild(h)};function t(r,i){for(var a in i)r.setAttribute(a,i[a])}function e(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return qg}var P1;function H8(){return P1||(P1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=q8(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var l=new Promise(function(c){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){c(window.YT);return}else{var h=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(h+"//www.youtube.com/iframe_api",function(g){g&&a.trigger("error",g)})}var d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){d&&d(),c(window.YT)}});return l},t.exports=e.default})(gh,gh.exports)),gh.exports}var yh={exports:{}},vh={exports:{}},wh={exports:{}},Hg,I1;function W8(){if(I1)return Hg;I1=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*365.25;Hg=function(d,g){g=g||{};var y=typeof d;if(y==="string"&&d.length>0)return a(d);if(y==="number"&&isNaN(d)===!1)return g.long?c(d):l(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function a(d){if(d=String(d),!(d.length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(d);if(g){var y=parseFloat(g[1]),v=(g[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return y*i;case"days":case"day":case"d":return y*r;case"hours":case"hour":case"hrs":case"hr":case"h":return y*n;case"minutes":case"minute":case"mins":case"min":case"m":return y*e;case"seconds":case"second":case"secs":case"sec":case"s":return y*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function l(d){return d>=r?Math.round(d/r)+"d":d>=n?Math.round(d/n)+"h":d>=e?Math.round(d/e)+"m":d>=t?Math.round(d/t)+"s":d+"ms"}function c(d){return h(d,r,"day")||h(d,n,"hour")||h(d,e,"minute")||h(d,t,"second")||d+" ms"}function h(d,g,y){if(!(d<g))return d<g*1.5?Math.floor(d/g)+" "+y:Math.ceil(d/g)+" "+y+"s"}return Hg}var R1;function G8(){return R1||(R1=1,(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=h,e.disable=l,e.enable=a,e.enabled=c,e.humanize=W8(),e.names=[],e.skips=[],e.formatters={};var n;function r(d){var g=0,y;for(y in d)g=(g<<5)-g+d.charCodeAt(y),g|=0;return e.colors[Math.abs(g)%e.colors.length]}function i(d){function g(){if(g.enabled){var y=g,v=+new Date,E=v-(n||v);y.diff=E,y.prev=n,y.curr=v,n=v;for(var P=new Array(arguments.length),C=0;C<P.length;C++)P[C]=arguments[C];P[0]=e.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");var T=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,function(R,N){if(R==="%%")return R;T++;var U=e.formatters[N];if(typeof U=="function"){var $=P[T];R=U.call(y,$),P.splice(T,1),T--}return R}),e.formatArgs.call(y,P);var V=g.log||e.log||console.log.bind(console);V.apply(y,P)}}return g.namespace=d,g.enabled=e.enabled(d),g.useColors=e.useColors(),g.color=r(d),typeof e.init=="function"&&e.init(g),g}function a(d){e.save(d),e.names=[],e.skips=[];for(var g=(typeof d=="string"?d:"").split(/[\s,]+/),y=g.length,v=0;v<y;v++)g[v]&&(d=g[v].replace(/\*/g,".*?"),d[0]==="-"?e.skips.push(new RegExp("^"+d.substr(1)+"$")):e.names.push(new RegExp("^"+d+"$")))}function l(){e.enable("")}function c(d){var g,y;for(g=0,y=e.skips.length;g<y;g++)if(e.skips[g].test(d))return!1;for(g=0,y=e.names.length;g<y;g++)if(e.names[g].test(d))return!0;return!1}function h(d){return d instanceof Error?d.stack||d.message:d}})(wh,wh.exports)),wh.exports}var N1;function K8(){return N1||(N1=1,(function(t,e){var n={};e=t.exports=G8(),e.log=a,e.formatArgs=i,e.save=l,e.load=c,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(d){try{return JSON.stringify(d)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}};function i(d){var g=this.useColors;if(d[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+d[0]+(g?"%c ":" ")+"+"+e.humanize(this.diff),!!g){var y="color: "+this.color;d.splice(1,0,y,"color: inherit");var v=0,E=0;d[0].replace(/%[a-zA-Z%]/g,function(P){P!=="%%"&&(v++,P==="%c"&&(E=v))}),d.splice(E,0,y)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(d){try{d==null?e.storage.removeItem("debug"):e.storage.debug=d}catch{}}function c(){var d;try{d=e.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}e.enable(c());function h(){try{return window.localStorage}catch{}}})(vh,vh.exports)),vh.exports}var xh={exports:{}},k1;function Q8(){return k1||(k1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(xh,xh.exports)),xh.exports}var _h={exports:{}},D1;function Y8(){return D1||(D1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(_h,_h.exports)),_h.exports}var Eh={exports:{}},Th={exports:{}},j1;function X8(){return j1||(j1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Th,Th.exports)),Th.exports}var V1;function J8(){return V1||(V1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=X8(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Eh,Eh.exports)),Eh.exports}var O1;function Z8(){return O1||(O1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=K8(),r=g(n),i=Q8(),a=g(i),l=Y8(),c=g(l),h=J8(),d=g(h);function g(E){return E&&E.__esModule?E:{default:E}}var y=(0,r.default)("youtube-player"),v={};v.proxyEvents=function(E){var P={},C=function(j){var S="on"+j.slice(0,1).toUpperCase()+j.slice(1);P[S]=function(A){y('event "%s"',S,A),E.trigger(j,A)}},T=!0,V=!1,R=void 0;try{for(var N=c.default[Symbol.iterator](),U;!(T=(U=N.next()).done);T=!0){var $=U.value;C($)}}catch(q){V=!0,R=q}finally{try{!T&&N.return&&N.return()}finally{if(V)throw R}}return P},v.promisifyPlayer=function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C={},T=function(S){P&&d.default[S]?C[S]=function(){for(var A=arguments.length,k=Array(A),M=0;M<A;M++)k[M]=arguments[M];return E.then(function(F){var O=d.default[S],G=F.getPlayerState(),re=F[S].apply(F,k);return O.stateChangeRequired||Array.isArray(O.acceptableStates)&&O.acceptableStates.indexOf(G)===-1?new Promise(function(ae){var se=function K(){var ee=F.getPlayerState(),le=void 0;typeof O.timeout=="number"&&(le=setTimeout(function(){F.removeEventListener("onStateChange",K),ae()},O.timeout)),Array.isArray(O.acceptableStates)&&O.acceptableStates.indexOf(ee)!==-1&&(F.removeEventListener("onStateChange",K),clearTimeout(le),ae())};F.addEventListener("onStateChange",se)}).then(function(){return re}):re})}:C[S]=function(){for(var A=arguments.length,k=Array(A),M=0;M<A;M++)k[M]=arguments[M];return E.then(function(F){return F[S].apply(F,k)})}},V=!0,R=!1,N=void 0;try{for(var U=a.default[Symbol.iterator](),$;!(V=($=U.next()).done);V=!0){var q=$.value;T(q)}}catch(j){R=!0,N=j}finally{try{!V&&U.return&&U.return()}finally{if(R)throw N}}return C},e.default=v,t.exports=e.default})(yh,yh.exports)),yh.exports}var M1;function e7(){return M1||(M1=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},r=$8(),i=d(r),a=H8(),l=d(a),c=Z8(),h=d(c);function d(y){return y&&y.__esModule?y:{default:y}}var g=void 0;e.default=function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,P=(0,i.default)();if(g||(g=(0,l.default)(P)),v.events)throw new Error("Event handlers cannot be overwritten.");if(typeof y=="string"&&!document.getElementById(y))throw new Error('Element "'+y+'" does not exist.');v.events=h.default.proxyEvents(P);var C=new Promise(function(V){if((typeof y>"u"?"undefined":n(y))==="object"&&y.playVideo instanceof Function){var R=y;V(R)}else g.then(function(N){var U=new N.Player(y,v);return P.on("ready",function(){V(U)}),null})}),T=h.default.promisifyPlayer(C,E);return T.on=P.on,T.off=P.off,T},t.exports=e.default})(mh,mh.exports)),mh.exports}var t7=e7();const n7=Ds(t7);var r7=Object.defineProperty,s7=Object.defineProperties,i7=Object.getOwnPropertyDescriptors,L1=Object.getOwnPropertySymbols,o7=Object.prototype.hasOwnProperty,a7=Object.prototype.propertyIsEnumerable,F1=(t,e,n)=>e in t?r7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zy=(t,e)=>{for(var n in e||(e={}))o7.call(e,n)&&F1(t,n,e[n]);if(L1)for(var n of L1(e))a7.call(e,n)&&F1(t,n,e[n]);return t},ev=(t,e)=>s7(t,i7(e)),l7=(t,e,n)=>new Promise((r,i)=>{var a=h=>{try{c(n.next(h))}catch(d){i(d)}},l=h=>{try{c(n.throw(h))}catch(d){i(d)}},c=h=>h.done?r(h.value):Promise.resolve(h.value).then(a,l);c((n=n.apply(t,e)).next())});function c7(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function U1(t={}){return ev(Zy({},t),{height:0,width:0,playerVars:ev(Zy({},t.playerVars),{autoplay:0,start:0,end:0})})}function u7(t,e){return t.videoId!==e.videoId||!z8(U1(t.opts),U1(e.opts))}function d7(t,e){var n,r,i,a;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((a=e.opts)==null?void 0:a.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var h7={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},f7={videoId:Ye.string,id:Ye.string,className:Ye.string,iframeClassName:Ye.string,style:Ye.object,title:Ye.string,loading:Ye.oneOf(["lazy","eager"]),opts:Ye.objectOf(Ye.any),onReady:Ye.func,onError:Ye.func,onPlay:Ye.func,onPause:Ye.func,onEnd:Ye.func,onStateChange:Ye.func,onPlaybackRateChange:Ye.func,onPlaybackQualityChange:Ye.func},Mh=class extends ze.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,a,l,c,h,d;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case Mh.PlayerState.ENDED:(a=(i=this.props).onEnd)==null||a.call(i,e);break;case Mh.PlayerState.PLAYING:(c=(l=this.props).onPlay)==null||c.call(l,e);break;case Mh.PlayerState.PAUSED:(d=(h=this.props).onPause)==null||d.call(h,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=ev(Zy({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=n7(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return l7(this,null,function*(){d7(t,this.props)&&this.updatePlayer(),u7(t,this.props)&&(yield this.resetPlayer()),c7(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ze.createElement("div",{className:this.props.className,style:this.props.style},ze.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},gp=Mh;gp.propTypes=f7;gp.defaultProps=h7;gp.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var p7=gp;const m7=({training:t,onQuizComplete:e})=>{const[n,r]=b.useState(0),[i,a]=b.useState([]),l=h=>{const d=[...i,h];if(a(d),n<t.perguntas.length-1)r(n+1);else{let g=0;t.perguntas.forEach((v,E)=>{d[E]===v.respostaCorreta&&g++});const y=Math.round(g/t.perguntas.length*10);e(y)}},c=t.perguntas[n];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Questionrio - Pergunta ",n+1," de ",t.perguntas.length]}),p.jsx("div",{className:"w-32 bg-slate-700 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(n+1)/t.perguntas.length*100}%`}})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-xl text-white",children:c.pergunta}),p.jsx("div",{className:"space-y-3",children:c.opcoes.map((h,d)=>p.jsxs(Ve,{variant:"outline",onClick:()=>l(d),className:"w-full text-left justify-start p-4 h-auto border-slate-600 hover:bg-slate-700",children:[p.jsx("span",{className:"mr-3 w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center text-sm",children:String.fromCharCode(65+d)}),h]},d))})]})]})},zR=({training:t,isOpen:e,onClose:n,onComplete:r,initialProgress:i})=>{const[a,l]=b.useState(!1),[c,h]=b.useState(!1),d=b.useRef(null),g=b.useRef(null),{toast:y}=ts(),{user:v}=Vs();b.useEffect(()=>()=>{clearInterval(g.current)},[]);const E=async()=>{const A=ai(Ut(ft,"historico"),gs("usuarioId","==",v.id),gs("treinamentoId","==",t.id)),k=await Bt(A);if(!k.empty){const M=k.docs[0];return{id:M.id,...M.data()}}return null},P=async()=>{const A=d.current;if(!A||typeof A.getCurrentTime!="function")return;const k=A.getCurrentTime(),M=await E();if(M)await ks("historico",M.id,{tempoAssistido:k});else{const F={usuarioId:v.id,treinamentoId:t.id,concluido:!1,dataConclusao:null,notaQuestionario:null,tempoAssistido:k};await hi("historico",F)}},C=A=>{d.current=A.target,i&&d.current.seekTo(i),clearInterval(g.current),g.current=setInterval(P,5e3)},T=A=>{A.data===0&&(h(!0),clearInterval(g.current))},V=async A=>{let k=0;d.current&&typeof d.current.getDuration=="function"&&(k=d.current.getDuration());const M=await E(),F={concluido:!0,dataConclusao:new Date().toISOString(),notaQuestionario:A,tempoAssistido:k};if(M)await ks("historico",M.id,F);else{const O={usuarioId:v.id,treinamentoId:t.id,...F};await hi("historico",O)}y({title:"Treinamento concludo!",description:A?`Parabns! Voc obteve nota ${A}/10.`:"Voc concluiu o treinamento."}),l(!1),r()},R=()=>{if(!(t!=null&&t.perguntas)||t.perguntas.length===0){V(10);return}l(!0)},N=A=>{A&&A.url?window.open(A.url,"_blank"):y({title:"Erro",description:"No foi possvel encontrar o URL do arquivo.",variant:"destructive"})},U=()=>{l(!1),clearInterval(g.current),n()},$=(t==null?void 0:t.perguntas)&&t.perguntas.length>0,j=(A=>{if(!A)return null;try{const k=new URL(A);if(k.hostname==="youtu.be")return k.pathname.slice(1);if(k.hostname.includes("youtube.com"))return k.searchParams.get("v")}catch{return null}return null})(t==null?void 0:t.video),S=!!j;return p.jsx(ci,{open:e,onOpenChange:U,children:p.jsxs(Ps,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto scrollbar-thin",children:[p.jsxs(Is,{children:[p.jsx(Rs,{className:"text-xl",children:t==null?void 0:t.titulo}),p.jsx(Dl,{className:"text-slate-400 sr-only",children:t==null?void 0:t.descricao})]}),a?p.jsx(m7,{training:t,onQuizComplete:V}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"relative pt-[56.25%] bg-slate-800 rounded-lg overflow-hidden",children:e&&(t!=null&&t.video)?S?p.jsx(p7,{videoId:j,className:"absolute top-0 left-0 w-full h-full",opts:{width:"100%",height:"100%"},onReady:C,onStateChange:T}):p.jsx("iframe",{src:t.video,title:t.titulo,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):p.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:p.jsx("p",{children:"URL de vdeo invlida."})})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:t==null?void 0:t.descricao}),((t==null?void 0:t.arquivosComplementares)||[]).length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Arquivos Complementares"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.arquivosComplementares.map((A,k)=>p.jsxs(Ve,{variant:"outline",onClick:()=>N(A),className:"justify-start border-slate-600 hover:bg-slate-700",children:[p.jsx(kb,{className:"w-4 h-4 mr-2"})," ",A.name]},k))})]}),p.jsx("div",{className:"flex justify-end",children:$?p.jsxs(Ve,{onClick:R,disabled:S&&!c,className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 disabled:opacity-50",children:[p.jsx(Qf,{className:"w-4 h-4 mr-2"})," Fazer Questionrio"]}):p.jsxs(Ve,{onClick:()=>V(null),disabled:S&&!c,className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 disabled:opacity-50",children:[p.jsx(Bl,{className:"w-4 h-4 mr-2"})," Concluir Treinamento"]})})]})]})]})})},B1=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState({}),[h,d]=b.useState(""),[g,y]=b.useState("all"),[v,E]=b.useState(null),{user:P}=Vs(),[C,T]=b.useState(!0),V=async()=>{if(P){T(!0);try{const[N,U,$]=await Promise.all([GB(P.departamento),Xy("categorias"),Bt(ai(Ut(ft,"historico"),gs("usuarioId","==",P.id)))]);e(N),a(U);const q={};$.forEach(j=>{const S=j.data(),A=S.treinamentoId.toString();q[A]={id:j.id,...S}}),c(q)}catch(N){console.error("Erro ao carregar dados da lista de treinamentos:",N)}finally{T(!1)}}};b.useEffect(()=>{P&&V()},[P]),b.useEffect(()=>{let N=t;h&&(N=N.filter(U=>U.titulo.toLowerCase().includes(h.toLowerCase())||U.descricao&&U.descricao.toLowerCase().includes(h.toLowerCase()))),g!=="all"&&(N=N.filter(U=>U.categoriaId.toString()===g)),r(N)},[t,h,g]);const R=()=>{E(null),V()};return C?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meus Treinamentos"}),p.jsx("p",{className:"text-slate-400",children:"Acesse seus treinamentos disponveis"})]}),p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col sm:flex-row gap-4",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(Yf,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),p.jsx(Ct,{placeholder:"Buscar nos treinamentos...",value:h,onChange:N=>d(N.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white"})]}),p.jsxs(Zr,{value:g,onValueChange:y,children:[p.jsxs(Ar,{className:"w-full sm:w-48 bg-slate-800/50 border-slate-600",children:[p.jsx(jb,{className:"w-4 h-4 mr-2"}),p.jsx(es,{placeholder:"Categoria"})]}),p.jsxs(Pr,{children:[p.jsx(Jt,{value:"all",children:"Todas as categorias"}),i.map(N=>p.jsx(Jt,{value:N.id.toString(),children:N.nome},N.id))]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((N,U)=>p.jsx(F8,{training:N,userProgress:l[N.id.toString()],categories:i,onStartTraining:()=>E(N),index:U},N.id))}),n.length===0&&!C&&p.jsxs(Be.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[p.jsx(Pl,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhum treinamento encontrado"})]}),v&&p.jsx(zR,{training:v,isOpen:!!v,onClose:()=>E(null),onComplete:R})]})},z1=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},g7=()=>{const[t,e]=b.useState([]),[n,r]=b.useState({}),[i,a]=b.useState({}),[l,c]=b.useState(null),[h,d]=b.useState(!0),{user:g}=Vs();b.useEffect(()=>{(async()=>{if(g){d(!0);try{const P=(await z1("trilhas")||[]).filter(U=>U&&U.ativo&&(U.departamento==="Todos"||U.departamento===(g==null?void 0:g.departamento)));e(P);const T=(await z1("treinamentos")||[]).reduce((U,$)=>($&&$.id&&(U[$.id]=$),U),{});r(T);const V=ai(Ut(ft,"historico"),gs("usuarioId","==",g.id)),R=await Bt(V),N={};R.forEach(U=>{const $=U.data();$.treinamentoId&&(N[$.treinamentoId]={id:U.id,...$})}),a(N)}catch(E){console.error("Error loading data in LearningPathList:",E)}finally{d(!1)}}})()},[g]);const y=()=>{c(null)};return h?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Minhas Trilhas de Aprendizagem"}),p.jsx("p",{className:"text-slate-400",children:"Siga as sequncias de treinamento para aprimorar suas habilidades."})]}),t.length>0?t.map((v,E)=>{const P=Array.isArray(v.treinamentos)?v.treinamentos:[],C=P.filter(N=>{var U;return(U=i[N])==null?void 0:U.concluido}).length,T=P.length,V=T>0?C/T*100:0;let R=!1;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(E+1)*.1},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{children:[p.jsx(Gt,{className:"text-white",children:v.titulo||"Trilha sem ttulo"}),p.jsx("p",{className:"text-sm text-slate-300",children:v.descricao||""}),p.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:p.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${V}%`}})}),p.jsxs("span",{className:"text-sm font-semibold text-white",children:[Math.round(V),"%"]})]})]}),p.jsx(Ot,{className:"space-y-3",children:P.length>0?P.map(N=>{const U=n[N];if(!U)return null;const $=i[N],q=$==null?void 0:$.concluido,j=R;return q||(R=!0),p.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${j?"bg-slate-800/30 opacity-60":"bg-slate-800/60"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[q?p.jsx(Bl,{className:"w-5 h-5 text-green-500"}):j?p.jsx(Vb,{className:"w-5 h-5 text-slate-500"}):p.jsx(Kv,{className:"w-5 h-5 text-blue-400"}),p.jsxs("div",{children:[p.jsx("p",{className:`font-medium ${j?"text-slate-400":"text-white"}`,children:U.titulo}),p.jsxs("p",{className:"text-xs text-slate-400",children:[(U.descricao||"").substring(0,50),"..."]})]})]}),!j&&!q&&p.jsxs(Ve,{size:"sm",onClick:()=>c(U),className:"bg-blue-600 hover:bg-blue-700",children:[p.jsx(Mb,{className:"w-4 h-4 mr-2"})," Iniciar"]})]},N)}):p.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Nenhum treinamento foi adicionado a esta trilha ainda."})})]})},v.id||E)}):p.jsxs(Be.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[p.jsx(Sy,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhuma trilha de aprendizagem foi encontrada para voc no momento."})]}),l&&p.jsx(zR,{training:l,isOpen:!!l,onClose:()=>c(null),onComplete:y})]})},y7=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},v7=()=>{const{user:t}=Vs(),[e,n]=b.useState(null),[r,i]=b.useState(!0);if(b.useEffect(()=>{(async()=>{if(!t)return;i(!0);const c=await y7("treinamentos"),h=ai(Ut(ft,"historico"),gs("usuarioId","==",t.id)),d=await Bt(h),g=[];d.forEach(R=>g.push({id:R.id,...R.data()}));const y=c.filter(R=>R.ativo&&(R.departamento==="Todos"||R.departamento===t.departamento)),v=g.filter(R=>R.concluido),E=v.length,P=y.length>0?E/y.length*100:0,C=g.reduce((R,N)=>R+(N.tempoAssistido||0),0),T=v.length>0?v.reduce((R,N)=>R+(N.notaQuestionario||0),0)/v.length:0,V=v.sort((R,N)=>new Date(N.dataConclusao)-new Date(R.dataConclusao)).slice(0,5).map(R=>{const N=c.find(U=>U.id===R.treinamentoId);return{...R,trainingTitle:(N==null?void 0:N.titulo)||"Treinamento desconhecido"}});n({totalTrainings:y.length,completedCount:E,completionRate:P,totalTime:C,avgScore:T,recentCompletions:V}),i(!1)})()},[t]),r)return p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})});if(!e)return p.jsx("div",{className:"text-center text-slate-400",children:"No foi possvel carregar seu progresso."});const a=[{title:"Treinamentos Concludos",value:e.completedCount,icon:Bl,color:"green"},{title:"Progresso Geral",value:`${e.completionRate.toFixed(0)}%`,icon:Lb,color:"blue"},{title:"Tempo de Estudo",value:`${Math.floor(e.totalTime/3600)}h ${Math.floor(e.totalTime%3600/60)}m`,icon:Kv,color:"purple"},{title:"Nota Mdia",value:e.avgScore.toFixed(1),icon:Qf,color:"yellow"}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meu Progresso"}),p.jsx("p",{className:"text-slate-400",children:"Acompanhe a sua jornada de aprendizado."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,c)=>{const h=l.icon;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*(c+1)},children:p.jsxs(Vt,{className:"glass-effect border-slate-700 card-hover",children:[p.jsxs(Wt,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Gt,{className:"text-sm font-medium text-slate-200",children:l.title}),p.jsx("div",{className:`p-2 rounded-lg bg-${l.color}-500`,children:p.jsx(h,{className:"h-4 w-4 text-white"})})]}),p.jsxs(Ot,{children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:l.value}),p.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["de ",e.totalTrainings," disponveis"]})]})]})},l.title)})}),p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsxs(Wt,{children:[p.jsx(Gt,{className:"text-white",children:"ltimos Treinamentos Concludos"}),p.jsx(Jo,{children:"A sua atividade mais recente na plataforma."})]}),p.jsx(Ot,{children:e.recentCompletions.length>0?p.jsx("ul",{className:"space-y-3",children:e.recentCompletions.map((l,c)=>p.jsxs(Be.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*c},className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:p.jsx(Pl,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-white",children:l.trainingTitle}),p.jsxs("p",{className:"text-xs text-slate-400",children:["Concludo em: ",new Date(l.dataConclusao).toLocaleDateString("pt-BR")]})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"text-sm font-semibold text-green-400",children:["Nota: ",l.notaQuestionario,"/10"]})})]},`${l.id}-${c}`))}):p.jsx("p",{className:"text-center text-slate-400 py-8",children:"Voc ainda no concluiu nenhum treinamento."})})]})})]})},Wg=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},w7=()=>{const{user:t}=Vs(),[e,n]=b.useState({usuarios:[],historico:[],departamentos:[]}),[r,i]=b.useState(!0),[a,l]=b.useState("all"),[c,h]=b.useState("all");b.useEffect(()=>{(async()=>{i(!0);const P=await Wg("usuarios"),C=await Wg("historico"),T=await Wg("departamentos");n({usuarios:P,historico:C,departamentos:T}),i(!1)})()},[]);const d=b.useMemo(()=>{const{usuarios:E,historico:P}=e;if(!E.length||!P.length)return[];let C=P.filter(R=>R.concluido);if(c!=="all"){const R=new Date,N=new Date;c==="month"?N.setMonth(R.getMonth()-1):c==="quarter"&&N.setMonth(R.getMonth()-3),C=C.filter(U=>U.dataConclusao&&new Date(U.dataConclusao)>=N)}let T=E.filter(R=>R.tipo==="funcionario"&&R.ativo);return a!=="all"&&(T=T.filter(R=>R.departamento===a)),T.map(R=>{const U=C.filter(A=>A.usuarioId===R.id).reduce((A,k)=>{const M=A[k.treinamentoId];return(!M||k.notaQuestionario>M.notaQuestionario)&&(A[k.treinamentoId]=k),A},{}),$=Object.values(U),q=$.length,j=$.reduce((A,k)=>A+(k.notaQuestionario||0),0),S=q*10+(q>0?j/q:0);return{id:R.id,nome:R.nome,departamento:R.departamento,completedCount:q,finalScore:S.toFixed(2)}}).filter(R=>R.completedCount>0).sort((R,N)=>N.finalScore-R.finalScore)},[e,a,c]),g=b.useMemo(()=>{const E=d.findIndex(P=>P.id===t.id);return E!==-1?E+1:null},[d,t]),y=E=>E===1?p.jsx(Cy,{className:"w-6 h-6 text-yellow-400"}):E===2?p.jsx(G4,{className:"w-6 h-6 text-gray-400"}):E===3?p.jsx(Qf,{className:"w-6 h-6 text-yellow-600"}):p.jsx(X4,{className:"w-5 h-5 text-slate-500"}),v=E=>E===1?"border-yellow-400/50":E===2?"border-gray-400/50":E===3?"border-yellow-600/50":"border-slate-700";return r?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Ranking de Colaboradores"}),p.jsx("p",{className:"text-slate-400",children:"Veja quem est se destacando nos treinamentos."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-center",children:[p.jsxs(Zr,{value:a,onValueChange:l,children:[p.jsx(Ar,{className:"bg-slate-800/50 border-slate-600",children:p.jsx(es,{placeholder:"Filtrar por Departamento"})}),p.jsxs(Pr,{children:[p.jsx(Jt,{value:"all",children:"Todos os Departamentos"}),e.departamentos.filter(E=>E.nome!=="Todos").map(E=>p.jsx(Jt,{value:E.nome,children:E.nome},E.id))]})]}),p.jsxs(Zr,{value:c,onValueChange:h,children:[p.jsx(Ar,{className:"bg-slate-800/50 border-slate-600",children:p.jsx(es,{placeholder:"Filtrar por Perodo"})}),p.jsxs(Pr,{children:[p.jsx(Jt,{value:"all",children:"Desde o incio"}),p.jsx(Jt,{value:"month",children:"ltimo Ms"}),p.jsx(Jt,{value:"quarter",children:"ltimo Trimestre"})]})]}),g&&p.jsx(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"sm:col-span-1",children:p.jsxs(Vt,{className:"glass-effect border-blue-500/50",children:[p.jsx(Wt,{className:"p-2",children:p.jsx(Gt,{className:"text-white text-center text-sm",children:"Sua Posio"})}),p.jsx(Ot,{className:"p-2 text-center",children:p.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[g,""]})})]})})]}),p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:p.jsxs(Vt,{className:"glass-effect border-slate-700",children:[p.jsx(Wt,{children:p.jsx(Gt,{className:"text-white",children:"Top Colaboradores"})}),p.jsx(Ot,{children:p.jsx("ul",{className:"space-y-3",children:d.length>0?d.map((E,P)=>{const C=P+1;return p.jsxs(Be.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*P},className:`flex items-center justify-between p-3 bg-slate-800/50 rounded-lg border-l-4 ${v(C)}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-lg font-bold",children:y(C)}),p.jsxs("div",{children:[p.jsx("p",{className:`font-medium ${E.id===t.id?"text-blue-400":"text-white"}`,children:E.nome}),p.jsx("p",{className:"text-xs text-slate-400",children:E.departamento})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-lg font-bold text-white",children:E.finalScore}),p.jsxs("p",{className:"text-xs text-slate-400",children:[E.completedCount," concludos"]})]})]},E.id)}):p.jsxs("div",{className:"text-center py-10 text-slate-500",children:[p.jsx(Cy,{className:"mx-auto h-10 w-10"}),p.jsx("p",{className:"mt-2 font-semibold",children:"Nenhum resultado para os filtros selecionados."})]})})})]})})]})},x7=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(null),[i,a]=b.useState(!0),[l,c]=b.useState(!1),[h,d]=b.useState(!0),[g,y]=b.useState(""),[v,E]=b.useState(null),P=async(R=!1)=>{if(l)return;c(!0);const U=await q0("knowledgeBase",{lastVisible:R?n:null,orderByField:"dataCriacao",orderDirection:"desc"});U.data.length>0&&(e($=>R?[...$,...U.data]:U.data),r(U.lastVisible)),U.data.length<15&&a(!1),c(!1),h&&d(!1)};b.useEffect(()=>{P()},[]);const C=t.filter(R=>{const N=g.toLowerCase();return R.titulo.toLowerCase().includes(N)||R.conteudo.toLowerCase().includes(N)||R.categoria.toLowerCase().includes(N)||R.tags&&R.tags.some(U=>U.toLowerCase().includes(N))}),T=R=>R==="link_externo"?p.jsx(Qv,{className:"h-5 w-5 text-purple-400"}):R==="link_treinamento"?p.jsx(ml,{className:"h-5 w-5 text-blue-400"}):p.jsx(Db,{className:"h-5 w-5 text-green-400"}),V=R=>R.type==="link_externo"?p.jsx("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Acessar Link Externo"}):R.type==="link_treinamento"?p.jsx("span",{className:"text-blue-400 cursor-pointer hover:underline",children:"Ver Treinamento"}):p.jsx("button",{onClick:()=>E(R),className:"text-blue-400 hover:underline",children:"Ler Artigo Completo"});return h?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Central de Conhecimento"}),p.jsxs("div",{className:"relative",children:[p.jsx(Yf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),p.jsx(Ct,{placeholder:"Pesquisar nos artigos carregados...",className:"pl-10 bg-slate-800/50 border-slate-600",value:g,onChange:R=>y(R.target.value)})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map((R,N)=>{var U;return p.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},children:p.jsxs(Vt,{className:"glass-effect h-full flex flex-col border-slate-700",children:[p.jsxs(Wt,{children:[p.jsxs("div",{className:"flex items-center gap-3",children:[T(R.type),p.jsx(Gt,{className:"text-white text-lg",children:R.titulo})]}),p.jsx(Jo,{children:R.categoria})]}),p.jsx(Ot,{className:"flex-grow",children:p.jsx("p",{className:"text-slate-300 text-sm line-clamp-3",children:R.conteudo})}),p.jsxs(np,{className:"flex-col items-start gap-4",children:[p.jsx("div",{className:"flex flex-wrap gap-2 h-6",children:(U=R.tags)==null?void 0:U.map($=>p.jsx(Ki,{variant:"secondary",children:$},$))}),p.jsxs("div",{className:"w-full flex justify-between items-center text-xs text-slate-500 pt-2",children:[p.jsx("span",{children:V(R)}),p.jsxs("span",{children:[new Date(R.dataCriacao).toLocaleDateString()," por ",R.autorNome]})]})]})]})},R.id)})}),C.length===0&&!l&&p.jsx("div",{className:"text-center py-12 text-slate-500",children:p.jsx("p",{children:"Nenhum artigo encontrado."})}),i&&p.jsx("div",{className:"text-center mt-8",children:p.jsx(Ve,{onClick:()=>P(!0),disabled:l,children:l?p.jsxs(p.Fragment,{children:[p.jsx(En,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Carregar Mais"})}),p.jsx(ci,{open:!!v,onOpenChange:()=>E(null),children:p.jsxs(Ps,{className:"bg-slate-900 border-slate-700 text-white",children:[p.jsxs(Is,{children:[p.jsx(Rs,{className:"text-2xl",children:v==null?void 0:v.titulo}),p.jsx(Dl,{children:v==null?void 0:v.categoria})]}),p.jsx("div",{className:"py-4 text-slate-300 whitespace-pre-wrap",children:v==null?void 0:v.conteudo})]})})]})},$1=async t=>{try{const e=await Bt(Ut(ft,t)),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){return console.error(`Erro ao buscar dados de ${t}:`,e),[]}},_7=()=>{var V,R;const{user:t}=Vs(),[e,n]=b.useState({articles:[],trainings:[]}),[r,i]=b.useState(!1),[a,l]=b.useState(null),[c,h]=b.useState("artigo"),[d,g]=b.useState(!0),{toast:y}=ts(),v=async()=>{g(!0);const N=await $1("knowledgeBase"),U=await $1("treinamentos");n({articles:N.sort(($,q)=>new Date(q.dataCriacao)-new Date($.dataCriacao)),trainings:U}),g(!1)};b.useEffect(()=>{v()},[]);const E=(N=null)=>{l(N),h(N?N.type:"artigo"),i(!0)},P=async N=>{var q;N.preventDefault();const U=new FormData(N.target),$={type:c,titulo:U.get("titulo"),categoria:U.get("categoria"),conteudo:U.get("conteudo"),tags:((q=U.get("tags"))==null?void 0:q.split(",").map(j=>j.trim()).filter(j=>j))||[],autorNome:t.nome,dataCriacao:(a==null?void 0:a.dataCriacao)||new Date().toISOString()};c==="link_externo"?$.url=U.get("url"):c==="link_treinamento"&&($.treinamentoId=parseInt(U.get("treinamentoId"))),a?(await ks("knowledgeBase",a.id,$),y({title:"Sucesso!",description:"Postagem atualizada."})):(await hi("knowledgeBase",$),y({title:"Sucesso!",description:"Postagem criada."})),await v(),i(!1)},C=async N=>{window.confirm("Tem certeza que deseja excluir esta postagem?")&&(await Kl("knowledgeBase",N),await v(),y({title:"Sucesso!",description:"Postagem excluda."}))},T=N=>N==="link_externo"?p.jsx(Qv,{className:"h-4 w-4 text-purple-400"}):N==="link_treinamento"?p.jsx(ml,{className:"h-4 w-4 text-blue-400"}):p.jsx(Db,{className:"h-4 w-4 text-green-400"});return d?p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx(En,{className:"h-10 w-10 animate-spin text-blue-500"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciar Conhecimento"}),p.jsxs(Ve,{onClick:()=>E(),children:[p.jsx(O4,{className:"mr-2 h-4 w-4"})," Nova Postagem"]})]}),p.jsx(ci,{open:r,onOpenChange:i,children:p.jsxs(Ps,{className:"bg-slate-900 border-slate-700 text-white",children:[p.jsx(Is,{children:p.jsx(Rs,{children:a?"Editar Postagem":"Nova Postagem"})}),p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsx(St,{children:"Tipo de Postagem"}),p.jsxs(Zr,{value:c,onValueChange:h,children:[p.jsx(Ar,{children:p.jsx(es,{})}),p.jsxs(Pr,{children:[p.jsx(Jt,{value:"artigo",children:"Artigo de Texto"}),p.jsx(Jt,{value:"link_externo",children:"Link Externo"}),p.jsx(Jt,{value:"link_treinamento",children:"Atalho para Treinamento"})]})]}),p.jsx(Ct,{name:"titulo",placeholder:"Ttulo da postagem",defaultValue:a==null?void 0:a.titulo,required:!0}),p.jsx(Ct,{name:"categoria",placeholder:"Categoria (Ex: Fiscal, Legislao)",defaultValue:a==null?void 0:a.categoria,required:!0}),c==="link_externo"&&p.jsx(Ct,{name:"url",placeholder:"URL do link externo",defaultValue:a==null?void 0:a.url,required:!0}),c==="link_treinamento"&&p.jsxs(Zr,{name:"treinamentoId",defaultValue:(V=a==null?void 0:a.treinamentoId)==null?void 0:V.toString(),children:[p.jsx(Ar,{children:p.jsx(es,{placeholder:"Selecione um treinamento"})}),p.jsx(Pr,{children:e.trainings.map(N=>p.jsx(Jt,{value:N.id.toString(),children:N.titulo},N.id))})]}),p.jsx(Eu,{name:"conteudo",placeholder:"Descrio ou contedo do artigo...",defaultValue:a==null?void 0:a.conteudo,required:!0}),p.jsx(Ct,{name:"tags",placeholder:"Tags separadas por vrgula (Ex: eSocial, prazo, guia)",defaultValue:(R=a==null?void 0:a.tags)==null?void 0:R.join(", ")}),p.jsxs(io,{children:[p.jsx(Ve,{type:"button",variant:"ghost",onClick:()=>i(!1),children:"Cancelar"}),p.jsx(Ve,{type:"submit",children:"Salvar"})]})]})]})}),p.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg",children:e.articles.map(N=>p.jsxs("div",{className:"grid grid-cols-5 items-center p-4 border-b border-slate-700/50 last:border-b-0",children:[p.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[T(N.type),p.jsx("span",{className:"text-white font-medium truncate pr-2",children:N.titulo})]}),p.jsx("div",{className:"text-slate-400 truncate pr-2",children:N.categoria}),p.jsx("div",{className:"text-slate-500 text-xs",children:new Date(N.dataCriacao).toLocaleDateString()}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>E(N),children:p.jsx(zl,{className:"h-4 w-4"})}),p.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>C(N.id),children:p.jsx(Xo,{className:"h-4 w-4 text-red-500"})})]})]},N.id))})]})},E7="database",T7="main",xf={usuarios:[{id:1,nome:"Admin Sistema",email:"admin@empresa.com",senha:"123456",tipo:"admin",departamento:"Todos",ativo:!0,dataCriacao:"2025-01-01"},{id:2,nome:"Joo Silva",email:"joao@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-01-15"},{id:3,nome:"Maria Oliveira",email:"maria@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Fiscal",ativo:!0,dataCriacao:"2025-02-01"},{id:4,nome:"Pedro Martins",email:"pedro@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-03-10"}],categorias:[{id:1,nome:"Gestta",cor:"#3b82f6"},{id:2,nome:"Domnio",cor:"#8b5cf6"}],departamentos:[{id:1,nome:"Contabilidade"},{id:2,nome:"Fiscal"},{id:3,nome:"Recursos Humanos"},{id:4,nome:"Todos"}],treinamentos:[{id:1,titulo:"Onboarding de Novos Colaboradores",descricao:"Tudo o que voc precisa saber para comear na NTW.",categoriaId:1,conteudos:[{type:"video",title:"Vdeo de Boas-vindas",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],questionario:[{pergunta:"Qual o principal valor da empresa?",opcoes:["Inovao","Cliente em primeiro lugar","Trabalho em equipe","Todos acima"],respostaCorreta:"Todos acima"}]},{id:2,titulo:"Introduo ao Simples Nacional",descricao:"Entenda os conceitos bsicos.",categoriaId:2,conteudos:[{type:"video",title:"Vdeo Aula",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],questionario:[{pergunta:"Qual o limite de faturamento?",opcoes:["R$ 4.8 milhes","R$ 3.6 milhes"],respostaCorreta:"R$ 4.8 milhes"}]}],historico:[{id:1,usuarioId:2,treinamentoId:1,concluido:!0,notaQuestionario:100,dataConclusao:"2025-06-18T10:00:00Z"},{id:2,usuarioId:3,treinamentoId:1,concluido:!0,notaQuestionario:90,dataConclusao:new Date().toISOString()},{id:3,usuarioId:3,treinamentoId:2,concluido:!0,notaQuestionario:95,dataConclusao:new Date().toISOString()},{id:4,usuarioId:4,treinamentoId:1,concluido:!0,notaQuestionario:80,dataConclusao:"2025-01-20T15:00:00Z"}],trilhas:[],knowledgeBase:[{id:1,type:"artigo",categoria:"Processos Fiscais",titulo:"Como emitir uma Certido Negativa de Dbitos (CND)?",conteudo:"O processo para emitir a CND envolve acessar o site da Receita Federal ou do rgo estadual/municipal correspondente, preencher com o CNPJ da empresa e seguir os passos indicados na tela. Geralmente, a emisso  instantnea se no houver pendncias.  crucial verificar a validade do documento aps a emisso.",tags:["CND","Fiscal","Certido"],autorNome:"Admin Sistema",dataCriacao:"2025-08-15T10:00:00Z"},{id:2,type:"link_externo",categoria:"Legislao",titulo:"Portal do eSocial - Acesso Direto",url:"https://www.gov.br/esocial/pt-br",conteudo:"Link direto para o portal oficial do eSocial. Use para consultas e downloads de manuais atualizados.",tags:["eSocial","Governo","Link"],autorNome:"Admin Sistema",dataCriacao:"2025-08-16T11:30:00Z"},{id:3,type:"link_treinamento",categoria:"Treinamento Relacionado",titulo:"Relembre: Introduo ao Simples Nacional",treinamentoId:2,conteudo:"Este  um atalho rpido para o treinamento sobre o Simples Nacional. Ideal para rever conceitos chave antes de atender um cliente.",tags:["Simples Nacional","Reviso","Treinamento"],autorNome:"Admin Sistema",dataCriacao:"2025-08-17T14:00:00Z"}]};let su=null;const S7=async()=>{const t=bl(ft,T7,E7),e=await $C(t);return e.exists()?(console.log("Banco de dados carregado do Firestore."),su=e.data()):(console.log("Nenhum banco de dados encontrado. Criando um novo no Firestore."),await ef(t,xf),su=xf),su},C7=()=>su||(console.warn("A base de dados ainda no foi inicializada. Usando dados mock temporariamente."),{...xf,knowledgeBase:xf.knowledgeBase||[]}),b7=()=>{const{user:t,logout:e,isAdmin:n,loading:r}=Vs(),[i,a]=b.useState("");b.useEffect(()=>{t&&a(n()?"dashboard":"meus-treinamentos")},[t,n]);const l=()=>{e(),a("")},c=()=>{switch(i){case"dashboard":return p.jsx(t1,{setActiveTab:a});case"usuarios":return p.jsx(QB,{});case"treinamentos":return p.jsx(T8,{});case"trilhas":return p.jsx(k8,{});case"categorias":return p.jsx(C8,{});case"departamentos":return p.jsx(A8,{});case"relatorios":return p.jsx(D8,{});case"gerenciar-conhecimento":return p.jsx(_7,{});case"configuracoes":return p.jsx(L8,{});case"meus-treinamentos":return p.jsx(B1,{});case"minhas-trilhas":return p.jsx(g7,{});case"progresso":return p.jsx(v7,{});case"ranking":return p.jsx(w7,{});case"base-de-conhecimento":return p.jsx(x7,{});default:return n()?p.jsx(t1,{setActiveTab:a}):p.jsx(B1,{})}};return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:p.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):t?p.jsxs("div",{className:"flex h-screen bg-slate-900",children:[p.jsx(M6,{activeTab:i,setActiveTab:a,onLogout:l}),p.jsx("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:c()})]}):p.jsx(O6,{})},A7=async()=>{const t=bl(ft,"internal","migrationStatus"),e=await $C(t);if(e.exists()&&e.data().migrated){console.log("Migrao de dados j foi executada. Pulando.");return}console.log("--- INICIANDO MIGRAO DE DADOS ---");const n=C7(),r=["usuarios","categorias","departamentos","treinamentos","historico","trilhas","knowledgeBase"];for(const i of r)if(n[i]&&Array.isArray(n[i])){for(const a of n[i])if(a&&a.id){const l=bl(ft,i,a.id.toString());await ef(l,a)}else console.warn(`Item invlido encontrado na coleo "${i}" e foi ignorado:`,a);console.log(`${n[i].length} documentos migrados para a coleo "${i}".`)}await ef(t,{migrated:!0,date:new Date().toISOString()}),console.log("--- MIGRAO CONCLUDA COM SUCESSO ---")};function P7(){const[t,e]=b.useState(!1);return b.useEffect(()=>{(async()=>{await S7(),await A7(),e(!0)})()},[]),t?p.jsxs(YC,{children:[p.jsx(Yg,{children:p.jsx("title",{children:"Central de Treinamento NTW"})}),p.jsx(b7,{}),p.jsx(aL,{})]}):p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:[p.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"}),p.jsx("p",{className:"text-white ml-4",children:"Inicializando e verificando banco de dados..."})]})}t2.createRoot(document.getElementById("root")).render(p.jsx(ze.StrictMode,{children:p.jsx(YC,{children:p.jsx(P7,{})})}));
