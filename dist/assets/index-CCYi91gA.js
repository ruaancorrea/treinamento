function JP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var em={exports:{}},hc={},tm={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function ZP(){if(Fx)return Qe;Fx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function R($,G,te){this.props=$,this.context=G,this.refs=C,this.updater=te||_}R.prototype.isReactComponent={},R.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=R.prototype;function k($,G,te){this.props=$,this.context=G,this.refs=C,this.updater=te||_}var O=k.prototype=new j;O.constructor=k,b(O,R.prototype),O.isPureReactComponent=!0;var L=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T($,G,te){var X,le={},me=null,ie=null;if(G!=null)for(X in G.ref!==void 0&&(ie=G.ref),G.key!==void 0&&(me=""+G.key),G)B.call(G,X)&&!I.hasOwnProperty(X)&&(le[X]=G[X]);var ce=arguments.length-2;if(ce===1)le.children=te;else if(1<ce){for(var xe=Array(ce),_e=0;_e<ce;_e++)xe[_e]=arguments[_e+2];le.children=xe}if($&&$.defaultProps)for(X in ce=$.defaultProps,ce)le[X]===void 0&&(le[X]=ce[X]);return{$$typeof:t,type:$,key:me,ref:ie,props:le,_owner:q.current}}function P($,G){return{$$typeof:t,type:$.type,key:G,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return G[te]})}var F=/\/+/g;function V($,G){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):G.toString(36)}function re($,G,te,X,le){var me=typeof $;(me==="undefined"||me==="boolean")&&($=null);var ie=!1;if($===null)ie=!0;else switch(me){case"string":case"number":ie=!0;break;case"object":switch($.$$typeof){case t:case e:ie=!0}}if(ie)return ie=$,le=le(ie),$=X===""?"."+V(ie,0):X,L(le)?(te="",$!=null&&(te=$.replace(F,"$&/")+"/"),re(le,G,te,"",function(_e){return _e})):le!=null&&(D(le)&&(le=P(le,te+(!le.key||ie&&ie.key===le.key?"":(""+le.key).replace(F,"$&/")+"/")+$)),G.push(le)),1;if(ie=0,X=X===""?".":X+":",L($))for(var ce=0;ce<$.length;ce++){me=$[ce];var xe=X+V(me,ce);ie+=re(me,G,te,xe,le)}else if(xe=x($),typeof xe=="function")for($=xe.call($),ce=0;!(me=$.next()).done;)me=me.value,xe=X+V(me,ce++),ie+=re(me,G,te,xe,le);else if(me==="object")throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ie}function we($,G,te){if($==null)return $;var X=[],le=0;return re($,X,"","",function(me){return G.call(te,me,le++)}),X}function ue($){if($._status===-1){var G=$._result;G=G(),G.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var se={current:null},Q={transition:null},ee={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:we,forEach:function($,G,te){we($,function(){G.apply(this,arguments)},te)},count:function($){var G=0;return we($,function(){G++}),G},toArray:function($){return we($,function(G){return G})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Qe.Component=R,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=k,Qe.StrictMode=r,Qe.Suspense=d,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Qe.act=ae,Qe.cloneElement=function($,G,te){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var X=b({},$.props),le=$.key,me=$.ref,ie=$._owner;if(G!=null){if(G.ref!==void 0&&(me=G.ref,ie=q.current),G.key!==void 0&&(le=""+G.key),$.type&&$.type.defaultProps)var ce=$.type.defaultProps;for(xe in G)B.call(G,xe)&&!I.hasOwnProperty(xe)&&(X[xe]=G[xe]===void 0&&ce!==void 0?ce[xe]:G[xe])}var xe=arguments.length-2;if(xe===1)X.children=te;else if(1<xe){ce=Array(xe);for(var _e=0;_e<xe;_e++)ce[_e]=arguments[_e+2];X.children=ce}return{$$typeof:t,type:$.type,key:le,ref:me,props:X,_owner:ie}},Qe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Qe.createElement=T,Qe.createFactory=function($){var G=T.bind(null,$);return G.type=$,G},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function($){return{$$typeof:u,render:$}},Qe.isValidElement=D,Qe.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:ue}},Qe.memo=function($,G){return{$$typeof:f,type:$,compare:G===void 0?null:G}},Qe.startTransition=function($){var G=Q.transition;Q.transition={};try{$()}finally{Q.transition=G}},Qe.unstable_act=ae,Qe.useCallback=function($,G){return se.current.useCallback($,G)},Qe.useContext=function($){return se.current.useContext($)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function($){return se.current.useDeferredValue($)},Qe.useEffect=function($,G){return se.current.useEffect($,G)},Qe.useId=function(){return se.current.useId()},Qe.useImperativeHandle=function($,G,te){return se.current.useImperativeHandle($,G,te)},Qe.useInsertionEffect=function($,G){return se.current.useInsertionEffect($,G)},Qe.useLayoutEffect=function($,G){return se.current.useLayoutEffect($,G)},Qe.useMemo=function($,G){return se.current.useMemo($,G)},Qe.useReducer=function($,G,te){return se.current.useReducer($,G,te)},Qe.useRef=function($){return se.current.useRef($)},Qe.useState=function($){return se.current.useState($)},Qe.useSyncExternalStore=function($,G,te){return se.current.useSyncExternalStore($,G,te)},Qe.useTransition=function(){return se.current.useTransition()},Qe.version="18.3.1",Qe}var Ux;function Gf(){return Ux||(Ux=1,tm.exports=ZP()),tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function eI(){if(Bx)return hc;Bx=1;var t=Gf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,y={},x=null,_=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:u,key:x,ref:_,props:y,_owner:i.current}}return hc.Fragment=n,hc.jsx=l,hc.jsxs=l,hc}var $x;function tI(){return $x||($x=1,em.exports=eI()),em.exports}var m=tI(),S=Gf();const Le=qi(S),tT=JP({__proto__:null,default:Le},[S]);var Id={},nm={exports:{}},Wn={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function nI(){return zx||(zx=1,(function(t){function e(Q,ee){var ae=Q.length;Q.push(ee);e:for(;0<ae;){var $=ae-1>>>1,G=Q[$];if(0<i(G,ee))Q[$]=ee,Q[ae]=G,ae=$;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],ae=Q.pop();if(ae!==ee){Q[0]=ae;e:for(var $=0,G=Q.length,te=G>>>1;$<te;){var X=2*($+1)-1,le=Q[X],me=X+1,ie=Q[me];if(0>i(le,ae))me<G&&0>i(ie,le)?(Q[$]=ie,Q[me]=ae,$=me):(Q[$]=le,Q[X]=ae,$=X);else if(me<G&&0>i(ie,ae))Q[$]=ie,Q[me]=ae,$=me;else break e}}return ee}function i(Q,ee){var ae=Q.sortIndex-ee.sortIndex;return ae!==0?ae:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,y=null,x=3,_=!1,b=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Q){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=Q)r(f),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(f)}}function L(Q){if(C=!1,O(Q),!b)if(n(d)!==null)b=!0,ue(B);else{var ee=n(f);ee!==null&&se(L,ee.startTime-Q)}}function B(Q,ee){b=!1,C&&(C=!1,j(T),T=-1),_=!0;var ae=x;try{for(O(ee),y=n(d);y!==null&&(!(y.expirationTime>ee)||Q&&!U());){var $=y.callback;if(typeof $=="function"){y.callback=null,x=y.priorityLevel;var G=$(y.expirationTime<=ee);ee=t.unstable_now(),typeof G=="function"?y.callback=G:y===n(d)&&r(d),O(ee)}else r(d);y=n(d)}if(y!==null)var te=!0;else{var X=n(f);X!==null&&se(L,X.startTime-ee),te=!1}return te}finally{y=null,x=ae,_=!1}}var q=!1,I=null,T=-1,P=5,D=-1;function U(){return!(t.unstable_now()-D<P)}function F(){if(I!==null){var Q=t.unstable_now();D=Q;var ee=!0;try{ee=I(!0,Q)}finally{ee?V():(q=!1,I=null)}}else q=!1}var V;if(typeof k=="function")V=function(){k(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,we=re.port2;re.port1.onmessage=F,V=function(){we.postMessage(null)}}else V=function(){R(F,0)};function ue(Q){I=Q,q||(q=!0,V())}function se(Q,ee){T=R(function(){Q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){b||_||(b=!0,ue(B))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var ae=x;x=ee;try{return Q()}finally{x=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=x;x=Q;try{return ee()}finally{x=ae}},t.unstable_scheduleCallback=function(Q,ee,ae){var $=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,Q={id:g++,callback:ee,priorityLevel:Q,startTime:ae,expirationTime:G,sortIndex:-1},ae>$?(Q.sortIndex=ae,e(f,Q),n(d)===null&&Q===n(f)&&(C?(j(T),T=-1):C=!0,se(L,ae-$))):(Q.sortIndex=G,e(d,Q),b||_||(b=!0,ue(B))),Q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Q){var ee=x;return function(){var ae=x;x=ee;try{return Q.apply(this,arguments)}finally{x=ae}}}})(sm)),sm}var Hx;function rI(){return Hx||(Hx=1,rm.exports=nI()),rm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function sI(){if(Wx)return Wn;Wx=1;var t=Gf(),e=rI();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(s){return d.call(y,s)?!0:d.call(g,s)?!1:f.test(s)?y[s]=!0:(g[s]=!0,!1)}function _(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,c,p){if(o===null||typeof o>"u"||_(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,c,p,v,E,N){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=E,this.removeEmptyString=N}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,k);R[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,k);R[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,k);R[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,o,c,p){var v=R.hasOwnProperty(o)?R[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,v,p)&&(c=null),p||v===null?x(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):v.mustUseProperty?s[v.propertyName]=c===null?v.type===3?!1:"":c:(o=v.attributeName,p=v.attributeNamespace,c===null?s.removeAttribute(o):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,$;function G(s){if($===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var te=!1;function X(s,o){if(!s||te)return"";te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var p=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){p=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){p=Z}s()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var v=Z.stack.split(`
`),E=p.stack.split(`
`),N=v.length-1,z=E.length-1;1<=N&&0<=z&&v[N]!==E[z];)z--;for(;1<=N&&0<=z;N--,z--)if(v[N]!==E[z]){if(N!==1||z!==1)do if(N--,z--,0>z||v[N]!==E[z]){var H=`
`+v[N].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=N&&0<=z);break}}}finally{te=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?G(s):""}function le(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=X(s.type,!1),s;case 11:return s=X(s.type.render,!1),s;case 1:return s=X(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case q:return"Portal";case P:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case re:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case we:return o=s.displayName||null,o!==null?o:me(s.type)||"Memo";case ue:o=s._payload,s=s._init;try{return me(s(o))}catch{}}return null}function ie(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _e(s){var o=xe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,E=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){p=""+N,E.call(this,N)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ye(s){s._valueTracker||(s._valueTracker=_e(s))}function Ae(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=xe(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ze(s,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ge(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=ce(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function De(s,o){o=o.checked,o!=null&&O(s,"checked",o,!1)}function ht(s,o){De(s,o);var c=ce(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Je(s,o.type,c):o.hasOwnProperty("defaultValue")&&Je(s,o.type,ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ye(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Je(s,o,c){(o!=="number"||qe(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var dt=Array.isArray;function wn(s,o,c,p){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ce(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function _n(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function or(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(dt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:ce(c)}}function Rt(s,o){var c=ce(o.value),p=ce(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function En(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ke(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ke(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Jt,xs=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,v){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,v)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Jt=Jt||document.createElement("div"),Jt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Jt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function _r(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(s){sn.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Mn[o]=Mn[s]})});function Er(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Mn.hasOwnProperty(s)&&Mn[s]?(""+o).trim():o+"px"}function Ks(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,v=Er(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,v):s[c]=v}}var bl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(s,o){if(o){if(bl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Rl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function ea(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ta=null,ar=null,Gr=null;function na(s){if(s=Jl(s)){if(typeof ta!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Wu(o),ta(s.stateNode,s.type,o))}}function Kr(s){ar?Gr?Gr.push(s):Gr=[s]:ar=s}function Pl(){if(ar){var s=ar,o=Gr;if(Gr=ar=null,na(s),o)for(s=0;s<o.length;s++)na(o[s])}}function Ji(s,o){return s(o)}function Il(){}var ws=!1;function Nl(s,o,c){if(ws)return s(o,c);ws=!0;try{return Ji(s,o,c)}finally{ws=!1,(ar!==null||Gr!==null)&&(Il(),Pl())}}function Mt(s,o){var c=s.stateNode;if(c===null)return null;var p=Wu(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var ra=!1;if(u)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{ra=!1}function Zi(s,o,c,p,v,E,N,z,H){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(c,Z)}catch(fe){this.onError(fe)}}var eo=!1,sa=null,Sr=!1,kl=null,Rh={onError:function(s){eo=!0,sa=s}};function ia(s,o,c,p,v,E,N,z,H){eo=!1,sa=null,Zi.apply(Rh,arguments)}function gu(s,o,c,p,v,E,N,z,H){if(ia.apply(this,arguments),eo){if(eo){var Z=sa;eo=!1,sa=null}else throw Error(n(198));Sr||(Sr=!0,kl=Z)}}function Cr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function to(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function br(s){if(Cr(s)!==s)throw Error(n(188))}function yu(s){var o=s.alternate;if(!o){if(o=Cr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,p=o;;){var v=c.return;if(v===null)break;var E=v.alternate;if(E===null){if(p=v.return,p!==null){c=p;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===c)return br(v),s;if(E===p)return br(v),o;E=E.sibling}throw Error(n(188))}if(c.return!==p.return)c=v,p=E;else{for(var N=!1,z=v.child;z;){if(z===c){N=!0,c=v,p=E;break}if(z===p){N=!0,p=v,c=E;break}z=z.sibling}if(!N){for(z=E.child;z;){if(z===c){N=!0,c=E,p=v;break}if(z===p){N=!0,p=E,c=v;break}z=z.sibling}if(!N)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Dl(s){return s=yu(s),s!==null?oa(s):null}function oa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=oa(s);if(o!==null)return o;s=s.sibling}return null}var aa=e.unstable_scheduleCallback,jl=e.unstable_cancelCallback,vu=e.unstable_shouldYield,Ph=e.unstable_requestPaint,mt=e.unstable_now,xu=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,Qs=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,wu=e.unstable_IdlePriority,ro=null,Yn=null;function _u(s){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(ro,s,void 0,(s.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Tu,Vl=Math.log,Eu=Math.LN2;function Tu(s){return s>>>=0,s===0?32:31-(Vl(s)/Eu|0)|0}var la=64,ca=4194304;function Ys(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function so(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,v=s.suspendedLanes,E=s.pingedLanes,N=c&268435455;if(N!==0){var z=N&~v;z!==0?p=Ys(z):(E&=N,E!==0&&(p=Ys(E)))}else N=c&~v,N!==0?p=Ys(N):E!==0&&(p=Ys(E));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,E=o&-o,v>=E||v===16&&(E&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-Nn(o),v=1<<c,p|=s[c],o&=~v;return p}function Ih(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,E=s.pendingLanes;0<E;){var N=31-Nn(E),z=1<<N,H=v[N];H===-1?((z&c)===0||(z&p)!==0)&&(v[N]=Ih(z,o)):H<=o&&(s.expiredLanes|=z),E&=~z}}function Xn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function io(){var s=la;return la<<=1,(la&4194240)===0&&(la=64),s}function Xs(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Js(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Nn(o),s[o]=c}function pt(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var v=31-Nn(c),E=1<<v;o[v]=0,p[v]=-1,s[v]=-1,c&=~E}}function Zs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-Nn(c),v=1<<p;v&o|s[p]&o&&(s[p]|=o),c&=~v}}var nt=0;function ei(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Su,ua,Cu,bu,Au,Ml=!1,Qr=[],hn=null,Ar=null,Rr=null,ti=new Map,cr=new Map,Yr=[],Nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(s,o){switch(s){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ti.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(o.pointerId)}}function Ln(s,o,c,p,v,E){return s===null||s.nativeEvent!==E?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[v]},o!==null&&(o=Jl(o),o!==null&&ua(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function kh(s,o,c,p,v){switch(o){case"focusin":return hn=Ln(hn,s,o,c,p,v),!0;case"dragenter":return Ar=Ln(Ar,s,o,c,p,v),!0;case"mouseover":return Rr=Ln(Rr,s,o,c,p,v),!0;case"pointerover":var E=v.pointerId;return ti.set(E,Ln(ti.get(E)||null,s,o,c,p,v)),!0;case"gotpointercapture":return E=v.pointerId,cr.set(E,Ln(cr.get(E)||null,s,o,c,p,v)),!0}return!1}function Pu(s){var o=uo(s.target);if(o!==null){var c=Cr(o);if(c!==null){if(o=c.tag,o===13){if(o=to(c),o!==null){s.blockedOn=o,Au(s.priority,function(){Cu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Es(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=da(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Xi=p,c.target.dispatchEvent(p),Xi=null}else return o=Jl(c),o!==null&&ua(o),s.blockedOn=c,!1;o.shift()}return!0}function oo(s,o,c){Es(s)&&c.delete(o)}function Iu(){Ml=!1,hn!==null&&Es(hn)&&(hn=null),Ar!==null&&Es(Ar)&&(Ar=null),Rr!==null&&Es(Rr)&&(Rr=null),ti.forEach(oo),cr.forEach(oo)}function Pr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ml||(Ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iu)))}function Ir(s){function o(v){return Pr(v,s)}if(0<Qr.length){Pr(Qr[0],s);for(var c=1;c<Qr.length;c++){var p=Qr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(hn!==null&&Pr(hn,s),Ar!==null&&Pr(Ar,s),Rr!==null&&Pr(Rr,s),ti.forEach(o),cr.forEach(o),c=0;c<Yr.length;c++)p=Yr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Yr.length&&(c=Yr[0],c.blockedOn===null);)Pu(c),c.blockedOn===null&&Yr.shift()}var Ts=L.ReactCurrentBatchConfig,ni=!0;function Tt(s,o,c,p){var v=nt,E=Ts.transition;Ts.transition=null;try{nt=1,Ll(s,o,c,p)}finally{nt=v,Ts.transition=E}}function Dh(s,o,c,p){var v=nt,E=Ts.transition;Ts.transition=null;try{nt=4,Ll(s,o,c,p)}finally{nt=v,Ts.transition=E}}function Ll(s,o,c,p){if(ni){var v=da(s,o,c,p);if(v===null)Hh(s,o,p,ao,c),Ru(s,p);else if(kh(v,s,o,c,p))p.stopPropagation();else if(Ru(s,p),o&4&&-1<Nh.indexOf(s)){for(;v!==null;){var E=Jl(v);if(E!==null&&Su(E),E=da(s,o,c,p),E===null&&Hh(s,o,p,ao,c),E===v)break;v=E}v!==null&&p.stopPropagation()}else Hh(s,o,p,null,c)}}var ao=null;function da(s,o,c,p){if(ao=null,s=ea(p),s=uo(s),s!==null)if(o=Cr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=to(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ao=s,null}function Fl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xu()){case no:return 1;case Qs:return 4;case lr:case Ol:return 16;case wu:return 536870912;default:return 16}default:return 16}}var Jn=null,fa=null,Fn=null;function Ul(){if(Fn)return Fn;var s,o=fa,c=o.length,p,v="value"in Jn?Jn.value:Jn.textContent,E=v.length;for(s=0;s<c&&o[s]===v[s];s++);var N=c-s;for(p=1;p<=N&&o[c-p]===v[E-p];p++);return Fn=v.slice(s,1<p?1-p:void 0)}function ha(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Xr(){return!0}function Bl(){return!1}function pn(s){function o(c,p,v,E,N){this._reactName=c,this._targetInst=v,this.type=p,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(c=s[z],this[z]=c?c(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Xr:Bl,this.isPropagationStopped=Bl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),o}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=pn(Nr),Jr=ae({},Nr,{view:0,detail:0}),jh=pn(Jr),ma,Ss,ri,lo=ae({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ri&&(ri&&s.type==="mousemove"?(ma=s.screenX-ri.screenX,Ss=s.screenY-ri.screenY):Ss=ma=0,ri=s),ma)},movementY:function(s){return"movementY"in s?s.movementY:Ss}}),ga=pn(lo),$l=ae({},lo,{dataTransfer:0}),Nu=pn($l),ya=ae({},Jr,{relatedTarget:0}),va=pn(ya),ku=ae({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cs=pn(ku),Du=ae({},Nr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ju=pn(Du),Ou=ae({},Nr,{data:0}),zl=pn(Ou),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Vu[s])?!!o[s]:!1}function Zr(){return Mu}var h=ae({},Jr,{key:function(s){if(s.key){var o=xa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?kn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(s){return s.type==="keypress"?ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=pn(h),A=ae({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M=pn(A),K=ae({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),ne=pn(K),ve=ae({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=pn(ve),Zt=ae({},lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=pn(Zt),on=[9,13,27,32],$t=u&&"CompositionEvent"in window,ur=null;u&&"documentMode"in document&&(ur=document.documentMode);var Zn=u&&"TextEvent"in window&&!ur,co=u&&(!$t||ur&&8<ur&&11>=ur),wa=" ",Dv=!1;function jv(s,o){switch(s){case"keyup":return on.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _a=!1;function QR(s,o){switch(s){case"compositionend":return Ov(o);case"keypress":return o.which!==32?null:(Dv=!0,wa);case"textInput":return s=o.data,s===wa&&Dv?null:s;default:return null}}function YR(s,o){if(_a)return s==="compositionend"||!$t&&jv(s,o)?(s=Ul(),Fn=fa=Jn=null,_a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return co&&o.locale!=="ko"?null:o.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!XR[s.type]:o==="textarea"}function Mv(s,o,c,p){Kr(p),o=$u(o,"onChange"),0<o.length&&(c=new pa("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var Hl=null,Wl=null;function JR(s){t0(s,0)}function Lu(s){var o=ba(s);if(Ae(o))return s}function ZR(s,o){if(s==="change")return o}var Lv=!1;if(u){var Oh;if(u){var Vh="oninput"in document;if(!Vh){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),Vh=typeof Fv.oninput=="function"}Oh=Vh}else Oh=!1;Lv=Oh&&(!document.documentMode||9<document.documentMode)}function Uv(){Hl&&(Hl.detachEvent("onpropertychange",Bv),Wl=Hl=null)}function Bv(s){if(s.propertyName==="value"&&Lu(Wl)){var o=[];Mv(o,Wl,s,ea(s)),Nl(JR,o)}}function eP(s,o,c){s==="focusin"?(Uv(),Hl=o,Wl=c,Hl.attachEvent("onpropertychange",Bv)):s==="focusout"&&Uv()}function tP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lu(Wl)}function nP(s,o){if(s==="click")return Lu(o)}function rP(s,o){if(s==="input"||s==="change")return Lu(o)}function sP(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var kr=typeof Object.is=="function"?Object.is:sP;function ql(s,o){if(kr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var v=c[p];if(!d.call(o,v)||!kr(s[v],o[v]))return!1}return!0}function $v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zv(s,o){var c=$v(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$v(c)}}function Hv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Hv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Wv(){for(var s=window,o=qe();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=qe(s.document)}return o}function Mh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function iP(s){var o=Wv(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Hv(c.ownerDocument.documentElement,c)){if(p!==null&&Mh(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var v=c.textContent.length,E=Math.min(p.start,v);p=p.end===void 0?E:Math.min(p.end,v),!s.extend&&E>p&&(v=p,p=E,E=v),v=zv(c,E);var N=zv(c,p);v&&N&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),s.removeAllRanges(),E>p?(s.addRange(o),s.extend(N.node,N.offset)):(o.setEnd(N.node,N.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var oP=u&&"documentMode"in document&&11>=document.documentMode,Ea=null,Lh=null,Gl=null,Fh=!1;function qv(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fh||Ea==null||Ea!==qe(p)||(p=Ea,"selectionStart"in p&&Mh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Gl&&ql(Gl,p)||(Gl=p,p=$u(Lh,"onSelect"),0<p.length&&(o=new pa("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=Ea)))}function Fu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ta={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Uh={},Gv={};u&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Uu(s){if(Uh[s])return Uh[s];if(!Ta[s])return s;var o=Ta[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Gv)return Uh[s]=o[c];return s}var Kv=Uu("animationend"),Qv=Uu("animationiteration"),Yv=Uu("animationstart"),Xv=Uu("transitionend"),Jv=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(s,o){Jv.set(s,o),a(o,[s])}for(var Bh=0;Bh<Zv.length;Bh++){var $h=Zv[Bh],aP=$h.toLowerCase(),lP=$h[0].toUpperCase()+$h.slice(1);si(aP,"on"+lP)}si(Kv,"onAnimationEnd"),si(Qv,"onAnimationIteration"),si(Yv,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Xv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function e0(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,gu(p,o,void 0,s),s.currentTarget=null}function t0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],v=p.event;p=p.listeners;e:{var E=void 0;if(o)for(var N=p.length-1;0<=N;N--){var z=p[N],H=z.instance,Z=z.currentTarget;if(z=z.listener,H!==E&&v.isPropagationStopped())break e;e0(v,z,Z),E=H}else for(N=0;N<p.length;N++){if(z=p[N],H=z.instance,Z=z.currentTarget,z=z.listener,H!==E&&v.isPropagationStopped())break e;e0(v,z,Z),E=H}}}if(Sr)throw s=kl,Sr=!1,kl=null,s}function vt(s,o){var c=o[Yh];c===void 0&&(c=o[Yh]=new Set);var p=s+"__bubble";c.has(p)||(n0(o,s,2,!1),c.add(p))}function zh(s,o,c){var p=0;o&&(p|=4),n0(c,s,p,o)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Ql(s){if(!s[Bu]){s[Bu]=!0,r.forEach(function(c){c!=="selectionchange"&&(cP.has(c)||zh(c,!1,s),zh(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Bu]||(o[Bu]=!0,zh("selectionchange",!1,o))}}function n0(s,o,c,p){switch(Fl(o)){case 1:var v=Tt;break;case 4:v=Dh;break;default:v=Ll}c=v.bind(null,o,c,s),v=void 0,!ra||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function Hh(s,o,c,p,v){var E=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var z=p.stateNode.containerInfo;if(z===v||z.nodeType===8&&z.parentNode===v)break;if(N===4)for(N=p.return;N!==null;){var H=N.tag;if((H===3||H===4)&&(H=N.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;N=N.return}for(;z!==null;){if(N=uo(z),N===null)return;if(H=N.tag,H===5||H===6){p=E=N;continue e}z=z.parentNode}}p=p.return}Nl(function(){var Z=E,fe=ea(c),pe=[];e:{var de=Jv.get(s);if(de!==void 0){var Ee=pa,Ce=s;switch(s){case"keypress":if(ha(c)===0)break e;case"keydown":case"keyup":Ee=w;break;case"focusin":Ce="focus",Ee=va;break;case"focusout":Ce="blur",Ee=va;break;case"beforeblur":case"afterblur":Ee=va;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ne;break;case Kv:case Qv:case Yv:Ee=Cs;break;case Xv:Ee=ft;break;case"scroll":Ee=jh;break;case"wheel":Ee=st;break;case"copy":case"cut":case"paste":Ee=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=M}var be=(o&4)!==0,Lt=!be&&s==="scroll",Y=be?de!==null?de+"Capture":null:de;be=[];for(var W=Z,J;W!==null;){J=W;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=Mt(W,Y),ge!=null&&be.push(Yl(W,ge,J)))),Lt)break;W=W.return}0<be.length&&(de=new Ee(de,Ce,null,c,fe),pe.push({event:de,listeners:be}))}}if((o&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",de&&c!==Xi&&(Ce=c.relatedTarget||c.fromElement)&&(uo(Ce)||Ce[bs]))break e;if((Ee||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,Ee?(Ce=c.relatedTarget||c.toElement,Ee=Z,Ce=Ce?uo(Ce):null,Ce!==null&&(Lt=Cr(Ce),Ce!==Lt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Ee=null,Ce=Z),Ee!==Ce)){if(be=ga,ge="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(be=M,ge="onPointerLeave",Y="onPointerEnter",W="pointer"),Lt=Ee==null?de:ba(Ee),J=Ce==null?de:ba(Ce),de=new be(ge,W+"leave",Ee,c,fe),de.target=Lt,de.relatedTarget=J,ge=null,uo(fe)===Z&&(be=new be(Y,W+"enter",Ce,c,fe),be.target=J,be.relatedTarget=Lt,ge=be),Lt=ge,Ee&&Ce)t:{for(be=Ee,Y=Ce,W=0,J=be;J;J=Sa(J))W++;for(J=0,ge=Y;ge;ge=Sa(ge))J++;for(;0<W-J;)be=Sa(be),W--;for(;0<J-W;)Y=Sa(Y),J--;for(;W--;){if(be===Y||Y!==null&&be===Y.alternate)break t;be=Sa(be),Y=Sa(Y)}be=null}else be=null;Ee!==null&&r0(pe,de,Ee,be,!1),Ce!==null&&Lt!==null&&r0(pe,Lt,Ce,be,!0)}}e:{if(de=Z?ba(Z):window,Ee=de.nodeName&&de.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&de.type==="file")var Re=ZR;else if(Vv(de))if(Lv)Re=rP;else{Re=tP;var Ie=eP}else(Ee=de.nodeName)&&Ee.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Re=nP);if(Re&&(Re=Re(s,Z))){Mv(pe,Re,c,fe);break e}Ie&&Ie(s,de,Z),s==="focusout"&&(Ie=de._wrapperState)&&Ie.controlled&&de.type==="number"&&Je(de,"number",de.value)}switch(Ie=Z?ba(Z):window,s){case"focusin":(Vv(Ie)||Ie.contentEditable==="true")&&(Ea=Ie,Lh=Z,Gl=null);break;case"focusout":Gl=Lh=Ea=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,qv(pe,c,fe);break;case"selectionchange":if(oP)break;case"keydown":case"keyup":qv(pe,c,fe)}var Ne;if($t)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else _a?jv(s,c)&&(Ve="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(co&&c.locale!=="ko"&&(_a||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&_a&&(Ne=Ul()):(Jn=fe,fa="value"in Jn?Jn.value:Jn.textContent,_a=!0)),Ie=$u(Z,Ve),0<Ie.length&&(Ve=new zl(Ve,s,null,c,fe),pe.push({event:Ve,listeners:Ie}),Ne?Ve.data=Ne:(Ne=Ov(c),Ne!==null&&(Ve.data=Ne)))),(Ne=Zn?QR(s,c):YR(s,c))&&(Z=$u(Z,"onBeforeInput"),0<Z.length&&(fe=new zl("onBeforeInput","beforeinput",null,c,fe),pe.push({event:fe,listeners:Z}),fe.data=Ne))}t0(pe,o)})}function Yl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function $u(s,o){for(var c=o+"Capture",p=[];s!==null;){var v=s,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=Mt(s,c),E!=null&&p.unshift(Yl(s,E,v)),E=Mt(s,o),E!=null&&p.push(Yl(s,E,v))),s=s.return}return p}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function r0(s,o,c,p,v){for(var E=o._reactName,N=[];c!==null&&c!==p;){var z=c,H=z.alternate,Z=z.stateNode;if(H!==null&&H===p)break;z.tag===5&&Z!==null&&(z=Z,v?(H=Mt(c,E),H!=null&&N.unshift(Yl(c,H,z))):v||(H=Mt(c,E),H!=null&&N.push(Yl(c,H,z)))),c=c.return}N.length!==0&&s.push({event:o,listeners:N})}var uP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function s0(s){return(typeof s=="string"?s:""+s).replace(uP,`
`).replace(dP,"")}function zu(s,o,c){if(o=s0(o),s0(s)!==o&&c)throw Error(n(425))}function Hu(){}var Wh=null,qh=null;function Gh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(s){return i0.resolve(null).then(s).catch(pP)}:Kh;function pP(s){setTimeout(function(){throw s})}function Qh(s,o){var c=o,p=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(p===0){s.removeChild(v),Ir(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=v}while(c);Ir(o)}function ii(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function o0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),es="__reactFiber$"+Ca,Xl="__reactProps$"+Ca,bs="__reactContainer$"+Ca,Yh="__reactEvents$"+Ca,mP="__reactListeners$"+Ca,gP="__reactHandles$"+Ca;function uo(s){var o=s[es];if(o)return o;for(var c=s.parentNode;c;){if(o=c[bs]||c[es]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=o0(s);s!==null;){if(c=s[es])return c;s=o0(s)}return o}s=c,c=s.parentNode}return null}function Jl(s){return s=s[es]||s[bs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ba(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Wu(s){return s[Xl]||null}var Xh=[],Aa=-1;function oi(s){return{current:s}}function xt(s){0>Aa||(s.current=Xh[Aa],Xh[Aa]=null,Aa--)}function gt(s,o){Aa++,Xh[Aa]=s.current,s.current=o}var ai={},Tn=oi(ai),Un=oi(!1),fo=ai;function Ra(s,o){var c=s.type.contextTypes;if(!c)return ai;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in c)v[E]=o[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=v),v}function Bn(s){return s=s.childContextTypes,s!=null}function qu(){xt(Un),xt(Tn)}function a0(s,o,c){if(Tn.current!==ai)throw Error(n(168));gt(Tn,o),gt(Un,c)}function l0(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(n(108,ie(s)||"Unknown",v));return ae({},c,p)}function Gu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ai,fo=Tn.current,gt(Tn,s),gt(Un,Un.current),!0}function c0(s,o,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=l0(s,o,fo),p.__reactInternalMemoizedMergedChildContext=s,xt(Un),xt(Tn),gt(Tn,s)):xt(Un),gt(Un,c)}var As=null,Ku=!1,Jh=!1;function u0(s){As===null?As=[s]:As.push(s)}function yP(s){Ku=!0,u0(s)}function li(){if(!Jh&&As!==null){Jh=!0;var s=0,o=nt;try{var c=As;for(nt=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}As=null,Ku=!1}catch(v){throw As!==null&&(As=As.slice(s+1)),aa(no,li),v}finally{nt=o,Jh=!1}}return null}var Pa=[],Ia=0,Qu=null,Yu=0,dr=[],fr=0,ho=null,Rs=1,Ps="";function po(s,o){Pa[Ia++]=Yu,Pa[Ia++]=Qu,Qu=s,Yu=o}function d0(s,o,c){dr[fr++]=Rs,dr[fr++]=Ps,dr[fr++]=ho,ho=s;var p=Rs;s=Ps;var v=32-Nn(p)-1;p&=~(1<<v),c+=1;var E=32-Nn(o)+v;if(30<E){var N=v-v%5;E=(p&(1<<N)-1).toString(32),p>>=N,v-=N,Rs=1<<32-Nn(o)+v|c<<v|p,Ps=E+s}else Rs=1<<E|c<<v|p,Ps=s}function Zh(s){s.return!==null&&(po(s,1),d0(s,1,0))}function ep(s){for(;s===Qu;)Qu=Pa[--Ia],Pa[Ia]=null,Yu=Pa[--Ia],Pa[Ia]=null;for(;s===ho;)ho=dr[--fr],dr[fr]=null,Ps=dr[--fr],dr[fr]=null,Rs=dr[--fr],dr[fr]=null}var er=null,tr=null,St=!1,Dr=null;function f0(s,o){var c=gr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function h0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,er=s,tr=ii(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,er=s,tr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ho!==null?{id:Rs,overflow:Ps}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=gr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,er=s,tr=null,!0):!1;default:return!1}}function tp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function np(s){if(St){var o=tr;if(o){var c=o;if(!h0(s,o)){if(tp(s))throw Error(n(418));o=ii(c.nextSibling);var p=er;o&&h0(s,o)?f0(p,c):(s.flags=s.flags&-4097|2,St=!1,er=s)}}else{if(tp(s))throw Error(n(418));s.flags=s.flags&-4097|2,St=!1,er=s}}}function p0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;er=s}function Xu(s){if(s!==er)return!1;if(!St)return p0(s),St=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Gh(s.type,s.memoizedProps)),o&&(o=tr)){if(tp(s))throw m0(),Error(n(418));for(;o;)f0(s,o),o=ii(o.nextSibling)}if(p0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){tr=ii(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}tr=null}}else tr=er?ii(s.stateNode.nextSibling):null;return!0}function m0(){for(var s=tr;s;)s=ii(s.nextSibling)}function Na(){tr=er=null,St=!1}function rp(s){Dr===null?Dr=[s]:Dr.push(s)}var vP=L.ReactCurrentBatchConfig;function Zl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var v=p,E=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(N){var z=v.refs;N===null?delete z[E]:z[E]=N},o._stringRef=E,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Ju(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function g0(s){var o=s._init;return o(s._payload)}function y0(s){function o(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function p(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function v(Y,W){return Y=gi(Y,W),Y.index=0,Y.sibling=null,Y}function E(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function N(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function z(Y,W,J,ge){return W===null||W.tag!==6?(W=Kp(J,Y.mode,ge),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function H(Y,W,J,ge){var Re=J.type;return Re===I?fe(Y,W,J.props.children,ge,J.key):W!==null&&(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ue&&g0(Re)===W.type)?(ge=v(W,J.props),ge.ref=Zl(Y,W,J),ge.return=Y,ge):(ge=Ed(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=Zl(Y,W,J),ge.return=Y,ge)}function Z(Y,W,J,ge){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Qp(J,Y.mode,ge),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function fe(Y,W,J,ge,Re){return W===null||W.tag!==7?(W=Eo(J,Y.mode,ge,Re),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function pe(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Kp(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return J=Ed(W.type,W.key,W.props,null,Y.mode,J),J.ref=Zl(Y,null,W),J.return=Y,J;case q:return W=Qp(W,Y.mode,J),W.return=Y,W;case ue:var ge=W._init;return pe(Y,ge(W._payload),J)}if(dt(W)||ee(W))return W=Eo(W,Y.mode,J,null),W.return=Y,W;Ju(Y,W)}return null}function de(Y,W,J,ge){var Re=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Re!==null?null:z(Y,W,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Re?H(Y,W,J,ge):null;case q:return J.key===Re?Z(Y,W,J,ge):null;case ue:return Re=J._init,de(Y,W,Re(J._payload),ge)}if(dt(J)||ee(J))return Re!==null?null:fe(Y,W,J,ge,null);Ju(Y,J)}return null}function Ee(Y,W,J,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,z(W,Y,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case B:return Y=Y.get(ge.key===null?J:ge.key)||null,H(W,Y,ge,Re);case q:return Y=Y.get(ge.key===null?J:ge.key)||null,Z(W,Y,ge,Re);case ue:var Ie=ge._init;return Ee(Y,W,J,Ie(ge._payload),Re)}if(dt(ge)||ee(ge))return Y=Y.get(J)||null,fe(W,Y,ge,Re,null);Ju(W,ge)}return null}function Ce(Y,W,J,ge){for(var Re=null,Ie=null,Ne=W,Ve=W=0,cn=null;Ne!==null&&Ve<J.length;Ve++){Ne.index>Ve?(cn=Ne,Ne=null):cn=Ne.sibling;var ct=de(Y,Ne,J[Ve],ge);if(ct===null){Ne===null&&(Ne=cn);break}s&&Ne&&ct.alternate===null&&o(Y,Ne),W=E(ct,W,Ve),Ie===null?Re=ct:Ie.sibling=ct,Ie=ct,Ne=cn}if(Ve===J.length)return c(Y,Ne),St&&po(Y,Ve),Re;if(Ne===null){for(;Ve<J.length;Ve++)Ne=pe(Y,J[Ve],ge),Ne!==null&&(W=E(Ne,W,Ve),Ie===null?Re=Ne:Ie.sibling=Ne,Ie=Ne);return St&&po(Y,Ve),Re}for(Ne=p(Y,Ne);Ve<J.length;Ve++)cn=Ee(Ne,Y,Ve,J[Ve],ge),cn!==null&&(s&&cn.alternate!==null&&Ne.delete(cn.key===null?Ve:cn.key),W=E(cn,W,Ve),Ie===null?Re=cn:Ie.sibling=cn,Ie=cn);return s&&Ne.forEach(function(yi){return o(Y,yi)}),St&&po(Y,Ve),Re}function be(Y,W,J,ge){var Re=ee(J);if(typeof Re!="function")throw Error(n(150));if(J=Re.call(J),J==null)throw Error(n(151));for(var Ie=Re=null,Ne=W,Ve=W=0,cn=null,ct=J.next();Ne!==null&&!ct.done;Ve++,ct=J.next()){Ne.index>Ve?(cn=Ne,Ne=null):cn=Ne.sibling;var yi=de(Y,Ne,ct.value,ge);if(yi===null){Ne===null&&(Ne=cn);break}s&&Ne&&yi.alternate===null&&o(Y,Ne),W=E(yi,W,Ve),Ie===null?Re=yi:Ie.sibling=yi,Ie=yi,Ne=cn}if(ct.done)return c(Y,Ne),St&&po(Y,Ve),Re;if(Ne===null){for(;!ct.done;Ve++,ct=J.next())ct=pe(Y,ct.value,ge),ct!==null&&(W=E(ct,W,Ve),Ie===null?Re=ct:Ie.sibling=ct,Ie=ct);return St&&po(Y,Ve),Re}for(Ne=p(Y,Ne);!ct.done;Ve++,ct=J.next())ct=Ee(Ne,Y,Ve,ct.value,ge),ct!==null&&(s&&ct.alternate!==null&&Ne.delete(ct.key===null?Ve:ct.key),W=E(ct,W,Ve),Ie===null?Re=ct:Ie.sibling=ct,Ie=ct);return s&&Ne.forEach(function(XP){return o(Y,XP)}),St&&po(Y,Ve),Re}function Lt(Y,W,J,ge){if(typeof J=="object"&&J!==null&&J.type===I&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var Re=J.key,Ie=W;Ie!==null;){if(Ie.key===Re){if(Re=J.type,Re===I){if(Ie.tag===7){c(Y,Ie.sibling),W=v(Ie,J.props.children),W.return=Y,Y=W;break e}}else if(Ie.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ue&&g0(Re)===Ie.type){c(Y,Ie.sibling),W=v(Ie,J.props),W.ref=Zl(Y,Ie,J),W.return=Y,Y=W;break e}c(Y,Ie);break}else o(Y,Ie);Ie=Ie.sibling}J.type===I?(W=Eo(J.props.children,Y.mode,ge,J.key),W.return=Y,Y=W):(ge=Ed(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=Zl(Y,W,J),ge.return=Y,Y=ge)}return N(Y);case q:e:{for(Ie=J.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),W=v(W,J.children||[]),W.return=Y,Y=W;break e}else{c(Y,W);break}else o(Y,W);W=W.sibling}W=Qp(J,Y.mode,ge),W.return=Y,Y=W}return N(Y);case ue:return Ie=J._init,Lt(Y,W,Ie(J._payload),ge)}if(dt(J))return Ce(Y,W,J,ge);if(ee(J))return be(Y,W,J,ge);Ju(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),W=v(W,J),W.return=Y,Y=W):(c(Y,W),W=Kp(J,Y.mode,ge),W.return=Y,Y=W),N(Y)):c(Y,W)}return Lt}var ka=y0(!0),v0=y0(!1),Zu=oi(null),ed=null,Da=null,sp=null;function ip(){sp=Da=ed=null}function op(s){var o=Zu.current;xt(Zu),s._currentValue=o}function ap(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function ja(s,o){ed=s,sp=Da=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&($n=!0),s.firstContext=null)}function hr(s){var o=s._currentValue;if(sp!==s)if(s={context:s,memoizedValue:o,next:null},Da===null){if(ed===null)throw Error(n(308));Da=s,ed.dependencies={lanes:0,firstContext:s}}else Da=Da.next=s;return o}var mo=null;function lp(s){mo===null?mo=[s]:mo.push(s)}function x0(s,o,c,p){var v=o.interleaved;return v===null?(c.next=c,lp(o)):(c.next=v.next,v.next=c),o.interleaved=c,Is(s,p)}function Is(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ci=!1;function cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ns(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ui(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(at&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,Is(s,c)}return v=p.interleaved,v===null?(o.next=o,lp(p)):(o.next=v.next,v.next=o),p.interleaved=o,Is(s,c)}function td(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Zs(s,c)}}function _0(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var v=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var N={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?v=E=N:E=E.next=N,c=c.next}while(c!==null);E===null?v=E=o:E=E.next=o}else v=E=o;c={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function nd(s,o,c,p){var v=s.updateQueue;ci=!1;var E=v.firstBaseUpdate,N=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var H=z,Z=H.next;H.next=null,N===null?E=Z:N.next=Z,N=H;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,z=fe.lastBaseUpdate,z!==N&&(z===null?fe.firstBaseUpdate=Z:z.next=Z,fe.lastBaseUpdate=H))}if(E!==null){var pe=v.baseState;N=0,fe=Z=H=null,z=E;do{var de=z.lane,Ee=z.eventTime;if((p&de)===de){fe!==null&&(fe=fe.next={eventTime:Ee,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ce=s,be=z;switch(de=o,Ee=c,be.tag){case 1:if(Ce=be.payload,typeof Ce=="function"){pe=Ce.call(Ee,pe,de);break e}pe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=be.payload,de=typeof Ce=="function"?Ce.call(Ee,pe,de):Ce,de==null)break e;pe=ae({},pe,de);break e;case 2:ci=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,de=v.effects,de===null?v.effects=[z]:de.push(z))}else Ee={eventTime:Ee,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},fe===null?(Z=fe=Ee,H=pe):fe=fe.next=Ee,N|=de;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;de=z,z=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);if(fe===null&&(H=pe),v.baseState=H,v.firstBaseUpdate=Z,v.lastBaseUpdate=fe,o=v.shared.interleaved,o!==null){v=o;do N|=v.lane,v=v.next;while(v!==o)}else E===null&&(v.shared.lanes=0);vo|=N,s.lanes=N,s.memoizedState=pe}}function E0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],v=p.callback;if(v!==null){if(p.callback=null,p=c,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var ec={},ts=oi(ec),tc=oi(ec),nc=oi(ec);function go(s){if(s===ec)throw Error(n(174));return s}function up(s,o){switch(gt(nc,o),gt(tc,s),gt(ts,ec),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=rt(o,s)}xt(ts),gt(ts,o)}function Oa(){xt(ts),xt(tc),xt(nc)}function T0(s){go(nc.current);var o=go(ts.current),c=rt(o,s.type);o!==c&&(gt(tc,s),gt(ts,c))}function dp(s){tc.current===s&&(xt(ts),xt(tc))}var Pt=oi(0);function rd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fp=[];function hp(){for(var s=0;s<fp.length;s++)fp[s]._workInProgressVersionPrimary=null;fp.length=0}var sd=L.ReactCurrentDispatcher,pp=L.ReactCurrentBatchConfig,yo=0,It=null,en=null,an=null,id=!1,rc=!1,sc=0,xP=0;function Sn(){throw Error(n(321))}function mp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!kr(s[c],o[c]))return!1;return!0}function gp(s,o,c,p,v,E){if(yo=E,It=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,sd.current=s===null||s.memoizedState===null?TP:SP,s=c(p,v),rc){E=0;do{if(rc=!1,sc=0,25<=E)throw Error(n(301));E+=1,an=en=null,o.updateQueue=null,sd.current=CP,s=c(p,v)}while(rc)}if(sd.current=ld,o=en!==null&&en.next!==null,yo=0,an=en=It=null,id=!1,o)throw Error(n(300));return s}function yp(){var s=sc!==0;return sc=0,s}function ns(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?It.memoizedState=an=s:an=an.next=s,an}function pr(){if(en===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=en.next;var o=an===null?It.memoizedState:an.next;if(o!==null)an=o,en=s;else{if(s===null)throw Error(n(310));en=s,s={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},an===null?It.memoizedState=an=s:an=an.next=s}return an}function ic(s,o){return typeof o=="function"?o(s):o}function vp(s){var o=pr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=en,v=p.baseQueue,E=c.pending;if(E!==null){if(v!==null){var N=v.next;v.next=E.next,E.next=N}p.baseQueue=v=E,c.pending=null}if(v!==null){E=v.next,p=p.baseState;var z=N=null,H=null,Z=E;do{var fe=Z.lane;if((yo&fe)===fe)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:s(p,Z.action);else{var pe={lane:fe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?(z=H=pe,N=p):H=H.next=pe,It.lanes|=fe,vo|=fe}Z=Z.next}while(Z!==null&&Z!==E);H===null?N=p:H.next=z,kr(p,o.memoizedState)||($n=!0),o.memoizedState=p,o.baseState=N,o.baseQueue=H,c.lastRenderedState=p}if(s=c.interleaved,s!==null){v=s;do E=v.lane,It.lanes|=E,vo|=E,v=v.next;while(v!==s)}else v===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function xp(s){var o=pr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,v=c.pending,E=o.memoizedState;if(v!==null){c.pending=null;var N=v=v.next;do E=s(E,N.action),N=N.next;while(N!==v);kr(E,o.memoizedState)||($n=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),c.lastRenderedState=E}return[E,p]}function S0(){}function C0(s,o){var c=It,p=pr(),v=o(),E=!kr(p.memoizedState,v);if(E&&(p.memoizedState=v,$n=!0),p=p.queue,wp(R0.bind(null,c,p,s),[s]),p.getSnapshot!==o||E||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,oc(9,A0.bind(null,c,p,v,o),void 0,null),ln===null)throw Error(n(349));(yo&30)!==0||b0(c,o,v)}return v}function b0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=It.updateQueue,o===null?(o={lastEffect:null,stores:null},It.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function A0(s,o,c,p){o.value=c,o.getSnapshot=p,P0(o)&&I0(s)}function R0(s,o,c){return c(function(){P0(o)&&I0(s)})}function P0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!kr(s,c)}catch{return!0}}function I0(s){var o=Is(s,1);o!==null&&Mr(o,s,1,-1)}function N0(s){var o=ns();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:s},o.queue=s,s=s.dispatch=EP.bind(null,It,s),[o.memoizedState,s]}function oc(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=It.updateQueue,o===null?(o={lastEffect:null,stores:null},It.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function k0(){return pr().memoizedState}function od(s,o,c,p){var v=ns();It.flags|=s,v.memoizedState=oc(1|o,c,void 0,p===void 0?null:p)}function ad(s,o,c,p){var v=pr();p=p===void 0?null:p;var E=void 0;if(en!==null){var N=en.memoizedState;if(E=N.destroy,p!==null&&mp(p,N.deps)){v.memoizedState=oc(o,c,E,p);return}}It.flags|=s,v.memoizedState=oc(1|o,c,E,p)}function D0(s,o){return od(8390656,8,s,o)}function wp(s,o){return ad(2048,8,s,o)}function j0(s,o){return ad(4,2,s,o)}function O0(s,o){return ad(4,4,s,o)}function V0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function M0(s,o,c){return c=c!=null?c.concat([s]):null,ad(4,4,V0.bind(null,o,s),c)}function _p(){}function L0(s,o){var c=pr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&mp(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function F0(s,o){var c=pr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&mp(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function U0(s,o,c){return(yo&21)===0?(s.baseState&&(s.baseState=!1,$n=!0),s.memoizedState=c):(kr(c,o)||(c=io(),It.lanes|=c,vo|=c,s.baseState=!0),o)}function wP(s,o){var c=nt;nt=c!==0&&4>c?c:4,s(!0);var p=pp.transition;pp.transition={};try{s(!1),o()}finally{nt=c,pp.transition=p}}function B0(){return pr().memoizedState}function _P(s,o,c){var p=pi(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},$0(s))z0(o,c);else if(c=x0(s,o,c,p),c!==null){var v=jn();Mr(c,s,p,v),H0(c,o,p)}}function EP(s,o,c){var p=pi(s),v={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if($0(s))z0(o,v);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var N=o.lastRenderedState,z=E(N,c);if(v.hasEagerState=!0,v.eagerState=z,kr(z,N)){var H=o.interleaved;H===null?(v.next=v,lp(o)):(v.next=H.next,H.next=v),o.interleaved=v;return}}catch{}finally{}c=x0(s,o,v,p),c!==null&&(v=jn(),Mr(c,s,p,v),H0(c,o,p))}}function $0(s){var o=s.alternate;return s===It||o!==null&&o===It}function z0(s,o){rc=id=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function H0(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Zs(s,c)}}var ld={readContext:hr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},TP={readContext:hr,useCallback:function(s,o){return ns().memoizedState=[s,o===void 0?null:o],s},useContext:hr,useEffect:D0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,od(4194308,4,V0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return od(4194308,4,s,o)},useInsertionEffect:function(s,o){return od(4,2,s,o)},useMemo:function(s,o){var c=ns();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=ns();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=_P.bind(null,It,s),[p.memoizedState,s]},useRef:function(s){var o=ns();return s={current:s},o.memoizedState=s},useState:N0,useDebugValue:_p,useDeferredValue:function(s){return ns().memoizedState=s},useTransition:function(){var s=N0(!1),o=s[0];return s=wP.bind(null,s[1]),ns().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=It,v=ns();if(St){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),ln===null)throw Error(n(349));(yo&30)!==0||b0(p,o,c)}v.memoizedState=c;var E={value:c,getSnapshot:o};return v.queue=E,D0(R0.bind(null,p,E,s),[s]),p.flags|=2048,oc(9,A0.bind(null,p,E,c,o),void 0,null),c},useId:function(){var s=ns(),o=ln.identifierPrefix;if(St){var c=Ps,p=Rs;c=(p&~(1<<32-Nn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=sc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=xP++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},SP={readContext:hr,useCallback:L0,useContext:hr,useEffect:wp,useImperativeHandle:M0,useInsertionEffect:j0,useLayoutEffect:O0,useMemo:F0,useReducer:vp,useRef:k0,useState:function(){return vp(ic)},useDebugValue:_p,useDeferredValue:function(s){var o=pr();return U0(o,en.memoizedState,s)},useTransition:function(){var s=vp(ic)[0],o=pr().memoizedState;return[s,o]},useMutableSource:S0,useSyncExternalStore:C0,useId:B0,unstable_isNewReconciler:!1},CP={readContext:hr,useCallback:L0,useContext:hr,useEffect:wp,useImperativeHandle:M0,useInsertionEffect:j0,useLayoutEffect:O0,useMemo:F0,useReducer:xp,useRef:k0,useState:function(){return xp(ic)},useDebugValue:_p,useDeferredValue:function(s){var o=pr();return en===null?o.memoizedState=s:U0(o,en.memoizedState,s)},useTransition:function(){var s=xp(ic)[0],o=pr().memoizedState;return[s,o]},useMutableSource:S0,useSyncExternalStore:C0,useId:B0,unstable_isNewReconciler:!1};function jr(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Ep(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:ae({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var cd={isMounted:function(s){return(s=s._reactInternals)?Cr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=jn(),v=pi(s),E=Ns(p,v);E.payload=o,c!=null&&(E.callback=c),o=ui(s,E,v),o!==null&&(Mr(o,s,v,p),td(o,s,v))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=jn(),v=pi(s),E=Ns(p,v);E.tag=1,E.payload=o,c!=null&&(E.callback=c),o=ui(s,E,v),o!==null&&(Mr(o,s,v,p),td(o,s,v))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=jn(),p=pi(s),v=Ns(c,p);v.tag=2,o!=null&&(v.callback=o),o=ui(s,v,p),o!==null&&(Mr(o,s,p,c),td(o,s,p))}};function W0(s,o,c,p,v,E,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,N):o.prototype&&o.prototype.isPureReactComponent?!ql(c,p)||!ql(v,E):!0}function q0(s,o,c){var p=!1,v=ai,E=o.contextType;return typeof E=="object"&&E!==null?E=hr(E):(v=Bn(o)?fo:Tn.current,p=o.contextTypes,E=(p=p!=null)?Ra(s,v):ai),o=new o(c,E),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=cd,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=E),o}function G0(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&cd.enqueueReplaceState(o,o.state,null)}function Tp(s,o,c,p){var v=s.stateNode;v.props=c,v.state=s.memoizedState,v.refs={},cp(s);var E=o.contextType;typeof E=="object"&&E!==null?v.context=hr(E):(E=Bn(o)?fo:Tn.current,v.context=Ra(s,E)),v.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Ep(s,o,E,c),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&cd.enqueueReplaceState(v,v.state,null),nd(s,c,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Va(s,o){try{var c="",p=o;do c+=le(p),p=p.return;while(p);var v=c}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:o,stack:v,digest:null}}function Sp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Cp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function K0(s,o,c){c=Ns(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){gd||(gd=!0,Up=p),Cp(s,o)},c}function Q0(s,o,c){c=Ns(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;c.payload=function(){return p(v)},c.callback=function(){Cp(s,o)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Cp(s,o),typeof p!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})}),c}function Y0(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new bP;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(c)||(v.add(c),s=UP.bind(null,s,o,c),o.then(s,s))}function X0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function J0(s,o,c,p,v){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ns(-1,1),o.tag=2,ui(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var AP=L.ReactCurrentOwner,$n=!1;function Dn(s,o,c,p){o.child=s===null?v0(o,null,c,p):ka(o,s.child,c,p)}function Z0(s,o,c,p,v){c=c.render;var E=o.ref;return ja(o,v),p=gp(s,o,c,p,E,v),c=yp(),s!==null&&!$n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,ks(s,o,v)):(St&&c&&Zh(o),o.flags|=1,Dn(s,o,p,v),o.child)}function ex(s,o,c,p,v){if(s===null){var E=c.type;return typeof E=="function"&&!Gp(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=E,tx(s,o,E,p,v)):(s=Ed(c.type,null,p,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(E=s.child,(s.lanes&v)===0){var N=E.memoizedProps;if(c=c.compare,c=c!==null?c:ql,c(N,p)&&s.ref===o.ref)return ks(s,o,v)}return o.flags|=1,s=gi(E,p),s.ref=o.ref,s.return=o,o.child=s}function tx(s,o,c,p,v){if(s!==null){var E=s.memoizedProps;if(ql(E,p)&&s.ref===o.ref)if($n=!1,o.pendingProps=p=E,(s.lanes&v)!==0)(s.flags&131072)!==0&&($n=!0);else return o.lanes=s.lanes,ks(s,o,v)}return bp(s,o,c,p,v)}function nx(s,o,c){var p=o.pendingProps,v=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(La,nr),nr|=c;else{if((c&1073741824)===0)return s=E!==null?E.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,gt(La,nr),nr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,gt(La,nr),nr|=p}else E!==null?(p=E.baseLanes|c,o.memoizedState=null):p=c,gt(La,nr),nr|=p;return Dn(s,o,v,c),o.child}function rx(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function bp(s,o,c,p,v){var E=Bn(c)?fo:Tn.current;return E=Ra(o,E),ja(o,v),c=gp(s,o,c,p,E,v),p=yp(),s!==null&&!$n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,ks(s,o,v)):(St&&p&&Zh(o),o.flags|=1,Dn(s,o,c,v),o.child)}function sx(s,o,c,p,v){if(Bn(c)){var E=!0;Gu(o)}else E=!1;if(ja(o,v),o.stateNode===null)dd(s,o),q0(o,c,p),Tp(o,c,p,v),p=!0;else if(s===null){var N=o.stateNode,z=o.memoizedProps;N.props=z;var H=N.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=hr(Z):(Z=Bn(c)?fo:Tn.current,Z=Ra(o,Z));var fe=c.getDerivedStateFromProps,pe=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function";pe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z!==p||H!==Z)&&G0(o,N,p,Z),ci=!1;var de=o.memoizedState;N.state=de,nd(o,p,N,v),H=o.memoizedState,z!==p||de!==H||Un.current||ci?(typeof fe=="function"&&(Ep(o,c,fe,p),H=o.memoizedState),(z=ci||W0(o,c,z,p,de,H,Z))?(pe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=H),N.props=p,N.state=H,N.context=Z,p=z):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,w0(s,o),z=o.memoizedProps,Z=o.type===o.elementType?z:jr(o.type,z),N.props=Z,pe=o.pendingProps,de=N.context,H=c.contextType,typeof H=="object"&&H!==null?H=hr(H):(H=Bn(c)?fo:Tn.current,H=Ra(o,H));var Ee=c.getDerivedStateFromProps;(fe=typeof Ee=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z!==pe||de!==H)&&G0(o,N,p,H),ci=!1,de=o.memoizedState,N.state=de,nd(o,p,N,v);var Ce=o.memoizedState;z!==pe||de!==Ce||Un.current||ci?(typeof Ee=="function"&&(Ep(o,c,Ee,p),Ce=o.memoizedState),(Z=ci||W0(o,c,Z,p,de,Ce,H)||!1)?(fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,Ce,H),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,Ce,H)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ce),N.props=p,N.state=Ce,N.context=H,p=Z):(typeof N.componentDidUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&de===s.memoizedState||(o.flags|=1024),p=!1)}return Ap(s,o,c,p,E,v)}function Ap(s,o,c,p,v,E){rx(s,o);var N=(o.flags&128)!==0;if(!p&&!N)return v&&c0(o,c,!1),ks(s,o,E);p=o.stateNode,AP.current=o;var z=N&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&N?(o.child=ka(o,s.child,null,E),o.child=ka(o,null,z,E)):Dn(s,o,z,E),o.memoizedState=p.state,v&&c0(o,c,!0),o.child}function ix(s){var o=s.stateNode;o.pendingContext?a0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&a0(s,o.context,!1),up(s,o.containerInfo)}function ox(s,o,c,p,v){return Na(),rp(v),o.flags|=256,Dn(s,o,c,p),o.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function Pp(s){return{baseLanes:s,cachePool:null,transitions:null}}function ax(s,o,c){var p=o.pendingProps,v=Pt.current,E=!1,N=(o.flags&128)!==0,z;if((z=N)||(z=s!==null&&s.memoizedState===null?!1:(v&2)!==0),z?(E=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),gt(Pt,v&1),s===null)return np(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(N=p.children,s=p.fallback,E?(p=o.mode,E=o.child,N={mode:"hidden",children:N},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=N):E=Td(N,p,0,null),s=Eo(s,p,c,null),E.return=o,s.return=o,E.sibling=s,o.child=E,o.child.memoizedState=Pp(c),o.memoizedState=Rp,s):Ip(o,N));if(v=s.memoizedState,v!==null&&(z=v.dehydrated,z!==null))return RP(s,o,N,p,z,v,c);if(E){E=p.fallback,N=o.mode,v=s.child,z=v.sibling;var H={mode:"hidden",children:p.children};return(N&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=H,o.deletions=null):(p=gi(v,H),p.subtreeFlags=v.subtreeFlags&14680064),z!==null?E=gi(z,E):(E=Eo(E,N,c,null),E.flags|=2),E.return=o,p.return=o,p.sibling=E,o.child=p,p=E,E=o.child,N=s.child.memoizedState,N=N===null?Pp(c):{baseLanes:N.baseLanes|c,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=s.childLanes&~c,o.memoizedState=Rp,p}return E=s.child,s=E.sibling,p=gi(E,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function Ip(s,o){return o=Td({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ud(s,o,c,p){return p!==null&&rp(p),ka(o,s.child,null,c),s=Ip(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function RP(s,o,c,p,v,E,N){if(c)return o.flags&256?(o.flags&=-257,p=Sp(Error(n(422))),ud(s,o,N,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(E=p.fallback,v=o.mode,p=Td({mode:"visible",children:p.children},v,0,null),E=Eo(E,v,N,null),E.flags|=2,p.return=o,E.return=o,p.sibling=E,o.child=p,(o.mode&1)!==0&&ka(o,s.child,null,N),o.child.memoizedState=Pp(N),o.memoizedState=Rp,E);if((o.mode&1)===0)return ud(s,o,N,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var z=p.dgst;return p=z,E=Error(n(419)),p=Sp(E,p,void 0),ud(s,o,N,p)}if(z=(N&s.childLanes)!==0,$n||z){if(p=ln,p!==null){switch(N&-N){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|N))!==0?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,Is(s,v),Mr(p,s,v,-1))}return qp(),p=Sp(Error(n(421))),ud(s,o,N,p)}return v.data==="$?"?(o.flags|=128,o.child=s.child,o=BP.bind(null,s),v._reactRetry=o,null):(s=E.treeContext,tr=ii(v.nextSibling),er=o,St=!0,Dr=null,s!==null&&(dr[fr++]=Rs,dr[fr++]=Ps,dr[fr++]=ho,Rs=s.id,Ps=s.overflow,ho=o),o=Ip(o,p.children),o.flags|=4096,o)}function lx(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),ap(s.return,o,c)}function Np(s,o,c,p,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:v}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=v)}function cx(s,o,c){var p=o.pendingProps,v=p.revealOrder,E=p.tail;if(Dn(s,o,p.children,c),p=Pt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lx(s,c,o);else if(s.tag===19)lx(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(gt(Pt,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&rd(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Np(o,!1,v,c,E);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&rd(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}Np(o,!0,c,null,E);break;case"together":Np(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function dd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ks(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),vo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=gi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=gi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function PP(s,o,c){switch(o.tag){case 3:ix(o),Na();break;case 5:T0(o);break;case 1:Bn(o.type)&&Gu(o);break;case 4:up(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;gt(Zu,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(gt(Pt,Pt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ax(s,o,c):(gt(Pt,Pt.current&1),s=ks(s,o,c),s!==null?s.sibling:null);gt(Pt,Pt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return cx(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),gt(Pt,Pt.current),p)break;return null;case 22:case 23:return o.lanes=0,nx(s,o,c)}return ks(s,o,c)}var ux,kp,dx,fx;ux=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},kp=function(){},dx=function(s,o,c,p){var v=s.memoizedProps;if(v!==p){s=o.stateNode,go(ts.current);var E=null;switch(c){case"input":v=ze(s,v),p=ze(s,p),E=[];break;case"select":v=ae({},v,{value:void 0}),p=ae({},p,{value:void 0}),E=[];break;case"textarea":v=_n(s,v),p=_n(s,p),E=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Hu)}Al(c,p);var N;c=null;for(Z in v)if(!p.hasOwnProperty(Z)&&v.hasOwnProperty(Z)&&v[Z]!=null)if(Z==="style"){var z=v[Z];for(N in z)z.hasOwnProperty(N)&&(c||(c={}),c[N]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?E||(E=[]):(E=E||[]).push(Z,null));for(Z in p){var H=p[Z];if(z=v!=null?v[Z]:void 0,p.hasOwnProperty(Z)&&H!==z&&(H!=null||z!=null))if(Z==="style")if(z){for(N in z)!z.hasOwnProperty(N)||H&&H.hasOwnProperty(N)||(c||(c={}),c[N]="");for(N in H)H.hasOwnProperty(N)&&z[N]!==H[N]&&(c||(c={}),c[N]=H[N])}else c||(E||(E=[]),E.push(Z,c)),c=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(E=E||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&vt("scroll",s),E||z===H||(E=[])):(E=E||[]).push(Z,H))}c&&(E=E||[]).push("style",c);var Z=E;(o.updateQueue=Z)&&(o.flags|=4)}},fx=function(s,o,c,p){c!==p&&(o.flags|=4)};function ac(s,o){if(!St)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Cn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function IP(s,o,c){var p=o.pendingProps;switch(ep(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Bn(o.type)&&qu(),Cn(o),null;case 3:return p=o.stateNode,Oa(),xt(Un),xt(Tn),hp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Xu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dr!==null&&(zp(Dr),Dr=null))),kp(s,o),Cn(o),null;case 5:dp(o);var v=go(nc.current);if(c=o.type,s!==null&&o.stateNode!=null)dx(s,o,c,p,v),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Cn(o),null}if(s=go(ts.current),Xu(o)){p=o.stateNode,c=o.type;var E=o.memoizedProps;switch(p[es]=o,p[Xl]=E,s=(o.mode&1)!==0,c){case"dialog":vt("cancel",p),vt("close",p);break;case"iframe":case"object":case"embed":vt("load",p);break;case"video":case"audio":for(v=0;v<Kl.length;v++)vt(Kl[v],p);break;case"source":vt("error",p);break;case"img":case"image":case"link":vt("error",p),vt("load",p);break;case"details":vt("toggle",p);break;case"input":Ge(p,E),vt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},vt("invalid",p);break;case"textarea":or(p,E),vt("invalid",p)}Al(c,E),v=null;for(var N in E)if(E.hasOwnProperty(N)){var z=E[N];N==="children"?typeof z=="string"?p.textContent!==z&&(E.suppressHydrationWarning!==!0&&zu(p.textContent,z,s),v=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(E.suppressHydrationWarning!==!0&&zu(p.textContent,z,s),v=["children",""+z]):i.hasOwnProperty(N)&&z!=null&&N==="onScroll"&&vt("scroll",p)}switch(c){case"input":ye(p),Ye(p,E,!0);break;case"textarea":ye(p),En(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Hu)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{N=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ke(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=N.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=N.createElement(c,{is:p.is}):(s=N.createElement(c),c==="select"&&(N=s,p.multiple?N.multiple=!0:p.size&&(N.size=p.size))):s=N.createElementNS(s,c),s[es]=o,s[Xl]=p,ux(s,o,!1,!1),o.stateNode=s;e:{switch(N=Rl(c,p),c){case"dialog":vt("cancel",s),vt("close",s),v=p;break;case"iframe":case"object":case"embed":vt("load",s),v=p;break;case"video":case"audio":for(v=0;v<Kl.length;v++)vt(Kl[v],s);v=p;break;case"source":vt("error",s),v=p;break;case"img":case"image":case"link":vt("error",s),vt("load",s),v=p;break;case"details":vt("toggle",s),v=p;break;case"input":Ge(s,p),v=ze(s,p),vt("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=ae({},p,{value:void 0}),vt("invalid",s);break;case"textarea":or(s,p),v=_n(s,p),vt("invalid",s);break;default:v=p}Al(c,v),z=v;for(E in z)if(z.hasOwnProperty(E)){var H=z[E];E==="style"?Ks(s,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&xs(s,H)):E==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&_r(s,H):typeof H=="number"&&_r(s,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?H!=null&&E==="onScroll"&&vt("scroll",s):H!=null&&O(s,E,H,N))}switch(c){case"input":ye(s),Ye(s,p,!1);break;case"textarea":ye(s),En(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ce(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?wn(s,!!p.multiple,E,!1):p.defaultValue!=null&&wn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Hu)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Cn(o),null;case 6:if(s&&o.stateNode!=null)fx(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=go(nc.current),go(ts.current),Xu(o)){if(p=o.stateNode,c=o.memoizedProps,p[es]=o,(E=p.nodeValue!==c)&&(s=er,s!==null))switch(s.tag){case 3:zu(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zu(p.nodeValue,c,(s.mode&1)!==0)}E&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[es]=o,o.stateNode=p}return Cn(o),null;case 13:if(xt(Pt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(St&&tr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)m0(),Na(),o.flags|=98560,E=!1;else if(E=Xu(o),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[es]=o}else Na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cn(o),E=!1}else Dr!==null&&(zp(Dr),Dr=null),E=!0;if(!E)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Pt.current&1)!==0?tn===0&&(tn=3):qp())),o.updateQueue!==null&&(o.flags|=4),Cn(o),null);case 4:return Oa(),kp(s,o),s===null&&Ql(o.stateNode.containerInfo),Cn(o),null;case 10:return op(o.type._context),Cn(o),null;case 17:return Bn(o.type)&&qu(),Cn(o),null;case 19:if(xt(Pt),E=o.memoizedState,E===null)return Cn(o),null;if(p=(o.flags&128)!==0,N=E.rendering,N===null)if(p)ac(E,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(N=rd(s),N!==null){for(o.flags|=128,ac(E,!1),p=N.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)E=c,s=p,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,s=N.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return gt(Pt,Pt.current&1|2),o.child}s=s.sibling}E.tail!==null&&mt()>Fa&&(o.flags|=128,p=!0,ac(E,!1),o.lanes=4194304)}else{if(!p)if(s=rd(N),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),ac(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!St)return Cn(o),null}else 2*mt()-E.renderingStartTime>Fa&&c!==1073741824&&(o.flags|=128,p=!0,ac(E,!1),o.lanes=4194304);E.isBackwards?(N.sibling=o.child,o.child=N):(c=E.last,c!==null?c.sibling=N:o.child=N,E.last=N)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=mt(),o.sibling=null,c=Pt.current,gt(Pt,p?c&1|2:c&1),o):(Cn(o),null);case 22:case 23:return Wp(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(nr&1073741824)!==0&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function NP(s,o){switch(ep(o),o.tag){case 1:return Bn(o.type)&&qu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Oa(),xt(Un),xt(Tn),hp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return dp(o),null;case 13:if(xt(Pt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Na()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return xt(Pt),null;case 4:return Oa(),null;case 10:return op(o.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var fd=!1,bn=!1,kP=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ma(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ot(s,o,p)}else c.current=null}function Dp(s,o,c){try{c()}catch(p){Ot(s,o,p)}}var hx=!1;function DP(s,o){if(Wh=ni,s=Wv(),Mh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var N=0,z=-1,H=-1,Z=0,fe=0,pe=s,de=null;t:for(;;){for(var Ee;pe!==c||v!==0&&pe.nodeType!==3||(z=N+v),pe!==E||p!==0&&pe.nodeType!==3||(H=N+p),pe.nodeType===3&&(N+=pe.nodeValue.length),(Ee=pe.firstChild)!==null;)de=pe,pe=Ee;for(;;){if(pe===s)break t;if(de===c&&++Z===v&&(z=N),de===E&&++fe===p&&(H=N),(Ee=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=Ee}c=z===-1||H===-1?null:{start:z,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(qh={focusedElem:s,selectionRange:c},ni=!1,Se=o;Se!==null;)if(o=Se,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Se=s;else for(;Se!==null;){o=Se;try{var Ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var be=Ce.memoizedProps,Lt=Ce.memoizedState,Y=o.stateNode,W=Y.getSnapshotBeforeUpdate(o.elementType===o.type?be:jr(o.type,be),Lt);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){Ot(o,o.return,ge)}if(s=o.sibling,s!==null){s.return=o.return,Se=s;break}Se=o.return}return Ce=hx,hx=!1,Ce}function lc(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var E=v.destroy;v.destroy=void 0,E!==void 0&&Dp(o,c,E)}v=v.next}while(v!==p)}}function hd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function jp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function px(s){var o=s.alternate;o!==null&&(s.alternate=null,px(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[es],delete o[Xl],delete o[Yh],delete o[mP],delete o[gP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function mx(s){return s.tag===5||s.tag===3||s.tag===4}function gx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||mx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Op(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Hu));else if(p!==4&&(s=s.child,s!==null))for(Op(s,o,c),s=s.sibling;s!==null;)Op(s,o,c),s=s.sibling}function Vp(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Vp(s,o,c),s=s.sibling;s!==null;)Vp(s,o,c),s=s.sibling}var mn=null,Or=!1;function di(s,o,c){for(c=c.child;c!==null;)yx(s,o,c),c=c.sibling}function yx(s,o,c){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(ro,c)}catch{}switch(c.tag){case 5:bn||Ma(c,o);case 6:var p=mn,v=Or;mn=null,di(s,o,c),mn=p,Or=v,mn!==null&&(Or?(s=mn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):mn.removeChild(c.stateNode));break;case 18:mn!==null&&(Or?(s=mn,c=c.stateNode,s.nodeType===8?Qh(s.parentNode,c):s.nodeType===1&&Qh(s,c),Ir(s)):Qh(mn,c.stateNode));break;case 4:p=mn,v=Or,mn=c.stateNode.containerInfo,Or=!0,di(s,o,c),mn=p,Or=v;break;case 0:case 11:case 14:case 15:if(!bn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var E=v,N=E.destroy;E=E.tag,N!==void 0&&((E&2)!==0||(E&4)!==0)&&Dp(c,o,N),v=v.next}while(v!==p)}di(s,o,c);break;case 1:if(!bn&&(Ma(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(z){Ot(c,o,z)}di(s,o,c);break;case 21:di(s,o,c);break;case 22:c.mode&1?(bn=(p=bn)||c.memoizedState!==null,di(s,o,c),bn=p):di(s,o,c);break;default:di(s,o,c)}}function vx(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new kP),o.forEach(function(p){var v=$P.bind(null,s,p);c.has(p)||(c.add(p),p.then(v,v))})}}function Vr(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];try{var E=s,N=o,z=N;e:for(;z!==null;){switch(z.tag){case 5:mn=z.stateNode,Or=!1;break e;case 3:mn=z.stateNode.containerInfo,Or=!0;break e;case 4:mn=z.stateNode.containerInfo,Or=!0;break e}z=z.return}if(mn===null)throw Error(n(160));yx(E,N,v),mn=null,Or=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(Z){Ot(v,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xx(o,s),o=o.sibling}function xx(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vr(o,s),rs(s),p&4){try{lc(3,s,s.return),hd(3,s)}catch(be){Ot(s,s.return,be)}try{lc(5,s,s.return)}catch(be){Ot(s,s.return,be)}}break;case 1:Vr(o,s),rs(s),p&512&&c!==null&&Ma(c,c.return);break;case 5:if(Vr(o,s),rs(s),p&512&&c!==null&&Ma(c,c.return),s.flags&32){var v=s.stateNode;try{_r(v,"")}catch(be){Ot(s,s.return,be)}}if(p&4&&(v=s.stateNode,v!=null)){var E=s.memoizedProps,N=c!==null?c.memoizedProps:E,z=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{z==="input"&&E.type==="radio"&&E.name!=null&&De(v,E),Rl(z,N);var Z=Rl(z,E);for(N=0;N<H.length;N+=2){var fe=H[N],pe=H[N+1];fe==="style"?Ks(v,pe):fe==="dangerouslySetInnerHTML"?xs(v,pe):fe==="children"?_r(v,pe):O(v,fe,pe,Z)}switch(z){case"input":ht(v,E);break;case"textarea":Rt(v,E);break;case"select":var de=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var Ee=E.value;Ee!=null?wn(v,!!E.multiple,Ee,!1):de!==!!E.multiple&&(E.defaultValue!=null?wn(v,!!E.multiple,E.defaultValue,!0):wn(v,!!E.multiple,E.multiple?[]:"",!1))}v[Xl]=E}catch(be){Ot(s,s.return,be)}}break;case 6:if(Vr(o,s),rs(s),p&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,E=s.memoizedProps;try{v.nodeValue=E}catch(be){Ot(s,s.return,be)}}break;case 3:if(Vr(o,s),rs(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(be){Ot(s,s.return,be)}break;case 4:Vr(o,s),rs(s);break;case 13:Vr(o,s),rs(s),v=s.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(Fp=mt())),p&4&&vx(s);break;case 22:if(fe=c!==null&&c.memoizedState!==null,s.mode&1?(bn=(Z=bn)||fe,Vr(o,s),bn=Z):Vr(o,s),rs(s),p&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!fe&&(s.mode&1)!==0)for(Se=s,fe=s.child;fe!==null;){for(pe=Se=fe;Se!==null;){switch(de=Se,Ee=de.child,de.tag){case 0:case 11:case 14:case 15:lc(4,de,de.return);break;case 1:Ma(de,de.return);var Ce=de.stateNode;if(typeof Ce.componentWillUnmount=="function"){p=de,c=de.return;try{o=p,Ce.props=o.memoizedProps,Ce.state=o.memoizedState,Ce.componentWillUnmount()}catch(be){Ot(p,c,be)}}break;case 5:Ma(de,de.return);break;case 22:if(de.memoizedState!==null){Ex(pe);continue}}Ee!==null?(Ee.return=de,Se=Ee):Ex(pe)}fe=fe.sibling}e:for(fe=null,pe=s;;){if(pe.tag===5){if(fe===null){fe=pe;try{v=pe.stateNode,Z?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(z=pe.stateNode,H=pe.memoizedProps.style,N=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Er("display",N))}catch(be){Ot(s,s.return,be)}}}else if(pe.tag===6){if(fe===null)try{pe.stateNode.nodeValue=Z?"":pe.memoizedProps}catch(be){Ot(s,s.return,be)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;fe===pe&&(fe=null),pe=pe.return}fe===pe&&(fe=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Vr(o,s),rs(s),p&4&&vx(s);break;case 21:break;default:Vr(o,s),rs(s)}}function rs(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(mx(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(_r(v,""),p.flags&=-33);var E=gx(s);Vp(s,E,v);break;case 3:case 4:var N=p.stateNode.containerInfo,z=gx(s);Op(s,z,N);break;default:throw Error(n(161))}}catch(H){Ot(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function jP(s,o,c){Se=s,wx(s)}function wx(s,o,c){for(var p=(s.mode&1)!==0;Se!==null;){var v=Se,E=v.child;if(v.tag===22&&p){var N=v.memoizedState!==null||fd;if(!N){var z=v.alternate,H=z!==null&&z.memoizedState!==null||bn;z=fd;var Z=bn;if(fd=N,(bn=H)&&!Z)for(Se=v;Se!==null;)N=Se,H=N.child,N.tag===22&&N.memoizedState!==null?Tx(v):H!==null?(H.return=N,Se=H):Tx(v);for(;E!==null;)Se=E,wx(E),E=E.sibling;Se=v,fd=z,bn=Z}_x(s)}else(v.subtreeFlags&8772)!==0&&E!==null?(E.return=v,Se=E):_x(s)}}function _x(s){for(;Se!==null;){var o=Se;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:bn||hd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!bn)if(c===null)p.componentDidMount();else{var v=o.elementType===o.type?c.memoizedProps:jr(o.type,c.memoizedProps);p.componentDidUpdate(v,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&E0(o,E,p);break;case 3:var N=o.updateQueue;if(N!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}E0(o,N,c)}break;case 5:var z=o.stateNode;if(c===null&&o.flags&4){c=z;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var fe=Z.memoizedState;if(fe!==null){var pe=fe.dehydrated;pe!==null&&Ir(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bn||o.flags&512&&jp(o)}catch(de){Ot(o,o.return,de)}}if(o===s){Se=null;break}if(c=o.sibling,c!==null){c.return=o.return,Se=c;break}Se=o.return}}function Ex(s){for(;Se!==null;){var o=Se;if(o===s){Se=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Se=c;break}Se=o.return}}function Tx(s){for(;Se!==null;){var o=Se;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{hd(4,o)}catch(H){Ot(o,c,H)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch(H){Ot(o,v,H)}}var E=o.return;try{jp(o)}catch(H){Ot(o,E,H)}break;case 5:var N=o.return;try{jp(o)}catch(H){Ot(o,N,H)}}}catch(H){Ot(o,o.return,H)}if(o===s){Se=null;break}var z=o.sibling;if(z!==null){z.return=o.return,Se=z;break}Se=o.return}}var OP=Math.ceil,pd=L.ReactCurrentDispatcher,Mp=L.ReactCurrentOwner,mr=L.ReactCurrentBatchConfig,at=0,ln=null,zt=null,gn=0,nr=0,La=oi(0),tn=0,cc=null,vo=0,md=0,Lp=0,uc=null,zn=null,Fp=0,Fa=1/0,Ds=null,gd=!1,Up=null,fi=null,yd=!1,hi=null,vd=0,dc=0,Bp=null,xd=-1,wd=0;function jn(){return(at&6)!==0?mt():xd!==-1?xd:xd=mt()}function pi(s){return(s.mode&1)===0?1:(at&2)!==0&&gn!==0?gn&-gn:vP.transition!==null?(wd===0&&(wd=io()),wd):(s=nt,s!==0||(s=window.event,s=s===void 0?16:Fl(s.type)),s)}function Mr(s,o,c,p){if(50<dc)throw dc=0,Bp=null,Error(n(185));Js(s,c,p),((at&2)===0||s!==ln)&&(s===ln&&((at&2)===0&&(md|=c),tn===4&&mi(s,gn)),Hn(s,p),c===1&&at===0&&(o.mode&1)===0&&(Fa=mt()+500,Ku&&li()))}function Hn(s,o){var c=s.callbackNode;_s(s,o);var p=so(s,s===ln?gn:0);if(p===0)c!==null&&jl(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&jl(c),o===1)s.tag===0?yP(Cx.bind(null,s)):u0(Cx.bind(null,s)),hP(function(){(at&6)===0&&li()}),c=null;else{switch(ei(p)){case 1:c=no;break;case 4:c=Qs;break;case 16:c=lr;break;case 536870912:c=wu;break;default:c=lr}c=Dx(c,Sx.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Sx(s,o){if(xd=-1,wd=0,(at&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Ua()&&s.callbackNode!==c)return null;var p=so(s,s===ln?gn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=_d(s,p);else{o=p;var v=at;at|=2;var E=Ax();(ln!==s||gn!==o)&&(Ds=null,Fa=mt()+500,wo(s,o));do try{LP();break}catch(z){bx(s,z)}while(!0);ip(),pd.current=E,at=v,zt!==null?o=0:(ln=null,gn=0,o=tn)}if(o!==0){if(o===2&&(v=Xn(s),v!==0&&(p=v,o=$p(s,v))),o===1)throw c=cc,wo(s,0),mi(s,p),Hn(s,mt()),c;if(o===6)mi(s,p);else{if(v=s.current.alternate,(p&30)===0&&!VP(v)&&(o=_d(s,p),o===2&&(E=Xn(s),E!==0&&(p=E,o=$p(s,E))),o===1))throw c=cc,wo(s,0),mi(s,p),Hn(s,mt()),c;switch(s.finishedWork=v,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:_o(s,zn,Ds);break;case 3:if(mi(s,p),(p&130023424)===p&&(o=Fp+500-mt(),10<o)){if(so(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){jn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Kh(_o.bind(null,s,zn,Ds),o);break}_o(s,zn,Ds);break;case 4:if(mi(s,p),(p&4194240)===p)break;for(o=s.eventTimes,v=-1;0<p;){var N=31-Nn(p);E=1<<N,N=o[N],N>v&&(v=N),p&=~E}if(p=v,p=mt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*OP(p/1960))-p,10<p){s.timeoutHandle=Kh(_o.bind(null,s,zn,Ds),p);break}_o(s,zn,Ds);break;case 5:_o(s,zn,Ds);break;default:throw Error(n(329))}}}return Hn(s,mt()),s.callbackNode===c?Sx.bind(null,s):null}function $p(s,o){var c=uc;return s.current.memoizedState.isDehydrated&&(wo(s,o).flags|=256),s=_d(s,o),s!==2&&(o=zn,zn=c,o!==null&&zp(o)),s}function zp(s){zn===null?zn=s:zn.push.apply(zn,s)}function VP(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var v=c[p],E=v.getSnapshot;v=v.value;try{if(!kr(E(),v))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function mi(s,o){for(o&=~Lp,o&=~md,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Nn(o),p=1<<c;s[c]=-1,o&=~p}}function Cx(s){if((at&6)!==0)throw Error(n(327));Ua();var o=so(s,0);if((o&1)===0)return Hn(s,mt()),null;var c=_d(s,o);if(s.tag!==0&&c===2){var p=Xn(s);p!==0&&(o=p,c=$p(s,p))}if(c===1)throw c=cc,wo(s,0),mi(s,o),Hn(s,mt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,_o(s,zn,Ds),Hn(s,mt()),null}function Hp(s,o){var c=at;at|=1;try{return s(o)}finally{at=c,at===0&&(Fa=mt()+500,Ku&&li())}}function xo(s){hi!==null&&hi.tag===0&&(at&6)===0&&Ua();var o=at;at|=1;var c=mr.transition,p=nt;try{if(mr.transition=null,nt=1,s)return s()}finally{nt=p,mr.transition=c,at=o,(at&6)===0&&li()}}function Wp(){nr=La.current,xt(La)}function wo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,fP(c)),zt!==null)for(c=zt.return;c!==null;){var p=c;switch(ep(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&qu();break;case 3:Oa(),xt(Un),xt(Tn),hp();break;case 5:dp(p);break;case 4:Oa();break;case 13:xt(Pt);break;case 19:xt(Pt);break;case 10:op(p.type._context);break;case 22:case 23:Wp()}c=c.return}if(ln=s,zt=s=gi(s.current,null),gn=nr=o,tn=0,cc=null,Lp=md=vo=0,zn=uc=null,mo!==null){for(o=0;o<mo.length;o++)if(c=mo[o],p=c.interleaved,p!==null){c.interleaved=null;var v=p.next,E=c.pending;if(E!==null){var N=E.next;E.next=v,p.next=N}c.pending=p}mo=null}return s}function bx(s,o){do{var c=zt;try{if(ip(),sd.current=ld,id){for(var p=It.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}id=!1}if(yo=0,an=en=It=null,rc=!1,sc=0,Mp.current=null,c===null||c.return===null){tn=1,cc=o,zt=null;break}e:{var E=s,N=c.return,z=c,H=o;if(o=gn,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,fe=z,pe=fe.tag;if((fe.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ee=X0(N);if(Ee!==null){Ee.flags&=-257,J0(Ee,N,z,E,o),Ee.mode&1&&Y0(E,Z,o),o=Ee,H=Z;var Ce=o.updateQueue;if(Ce===null){var be=new Set;be.add(H),o.updateQueue=be}else Ce.add(H);break e}else{if((o&1)===0){Y0(E,Z,o),qp();break e}H=Error(n(426))}}else if(St&&z.mode&1){var Lt=X0(N);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),J0(Lt,N,z,E,o),rp(Va(H,z));break e}}E=H=Va(H,z),tn!==4&&(tn=2),uc===null?uc=[E]:uc.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var Y=K0(E,H,o);_0(E,Y);break e;case 1:z=H;var W=E.type,J=E.stateNode;if((E.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(fi===null||!fi.has(J)))){E.flags|=65536,o&=-o,E.lanes|=o;var ge=Q0(E,z,o);_0(E,ge);break e}}E=E.return}while(E!==null)}Px(c)}catch(Re){o=Re,zt===c&&c!==null&&(zt=c=c.return);continue}break}while(!0)}function Ax(){var s=pd.current;return pd.current=ld,s===null?ld:s}function qp(){(tn===0||tn===3||tn===2)&&(tn=4),ln===null||(vo&268435455)===0&&(md&268435455)===0||mi(ln,gn)}function _d(s,o){var c=at;at|=2;var p=Ax();(ln!==s||gn!==o)&&(Ds=null,wo(s,o));do try{MP();break}catch(v){bx(s,v)}while(!0);if(ip(),at=c,pd.current=p,zt!==null)throw Error(n(261));return ln=null,gn=0,tn}function MP(){for(;zt!==null;)Rx(zt)}function LP(){for(;zt!==null&&!vu();)Rx(zt)}function Rx(s){var o=kx(s.alternate,s,nr);s.memoizedProps=s.pendingProps,o===null?Px(s):zt=o,Mp.current=null}function Px(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=IP(c,o,nr),c!==null){zt=c;return}}else{if(c=NP(c,o),c!==null){c.flags&=32767,zt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tn=6,zt=null;return}}if(o=o.sibling,o!==null){zt=o;return}zt=o=s}while(o!==null);tn===0&&(tn=5)}function _o(s,o,c){var p=nt,v=mr.transition;try{mr.transition=null,nt=1,FP(s,o,c,p)}finally{mr.transition=v,nt=p}return null}function FP(s,o,c,p){do Ua();while(hi!==null);if((at&6)!==0)throw Error(n(327));c=s.finishedWork;var v=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(pt(s,E),s===ln&&(zt=ln=null,gn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||yd||(yd=!0,Dx(lr,function(){return Ua(),null})),E=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||E){E=mr.transition,mr.transition=null;var N=nt;nt=1;var z=at;at|=4,Mp.current=null,DP(s,c),xx(c,s),iP(qh),ni=!!Wh,qh=Wh=null,s.current=c,jP(c),Ph(),at=z,nt=N,mr.transition=E}else s.current=c;if(yd&&(yd=!1,hi=s,vd=v),E=s.pendingLanes,E===0&&(fi=null),_u(c.stateNode),Hn(s,mt()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)v=o[c],p(v.value,{componentStack:v.stack,digest:v.digest});if(gd)throw gd=!1,s=Up,Up=null,s;return(vd&1)!==0&&s.tag!==0&&Ua(),E=s.pendingLanes,(E&1)!==0?s===Bp?dc++:(dc=0,Bp=s):dc=0,li(),null}function Ua(){if(hi!==null){var s=ei(vd),o=mr.transition,c=nt;try{if(mr.transition=null,nt=16>s?16:s,hi===null)var p=!1;else{if(s=hi,hi=null,vd=0,(at&6)!==0)throw Error(n(331));var v=at;for(at|=4,Se=s.current;Se!==null;){var E=Se,N=E.child;if((Se.flags&16)!==0){var z=E.deletions;if(z!==null){for(var H=0;H<z.length;H++){var Z=z[H];for(Se=Z;Se!==null;){var fe=Se;switch(fe.tag){case 0:case 11:case 15:lc(8,fe,E)}var pe=fe.child;if(pe!==null)pe.return=fe,Se=pe;else for(;Se!==null;){fe=Se;var de=fe.sibling,Ee=fe.return;if(px(fe),fe===Z){Se=null;break}if(de!==null){de.return=Ee,Se=de;break}Se=Ee}}}var Ce=E.alternate;if(Ce!==null){var be=Ce.child;if(be!==null){Ce.child=null;do{var Lt=be.sibling;be.sibling=null,be=Lt}while(be!==null)}}Se=E}}if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,Se=N;else e:for(;Se!==null;){if(E=Se,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:lc(9,E,E.return)}var Y=E.sibling;if(Y!==null){Y.return=E.return,Se=Y;break e}Se=E.return}}var W=s.current;for(Se=W;Se!==null;){N=Se;var J=N.child;if((N.subtreeFlags&2064)!==0&&J!==null)J.return=N,Se=J;else e:for(N=W;Se!==null;){if(z=Se,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:hd(9,z)}}catch(Re){Ot(z,z.return,Re)}if(z===N){Se=null;break e}var ge=z.sibling;if(ge!==null){ge.return=z.return,Se=ge;break e}Se=z.return}}if(at=v,li(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(ro,s)}catch{}p=!0}return p}finally{nt=c,mr.transition=o}}return!1}function Ix(s,o,c){o=Va(c,o),o=K0(s,o,1),s=ui(s,o,1),o=jn(),s!==null&&(Js(s,1,o),Hn(s,o))}function Ot(s,o,c){if(s.tag===3)Ix(s,s,c);else for(;o!==null;){if(o.tag===3){Ix(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(fi===null||!fi.has(p))){s=Va(c,s),s=Q0(o,s,1),o=ui(o,s,1),s=jn(),o!==null&&(Js(o,1,s),Hn(o,s));break}}o=o.return}}function UP(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=jn(),s.pingedLanes|=s.suspendedLanes&c,ln===s&&(gn&c)===c&&(tn===4||tn===3&&(gn&130023424)===gn&&500>mt()-Fp?wo(s,0):Lp|=c),Hn(s,o)}function Nx(s,o){o===0&&((s.mode&1)===0?o=1:(o=ca,ca<<=1,(ca&130023424)===0&&(ca=4194304)));var c=jn();s=Is(s,o),s!==null&&(Js(s,o,c),Hn(s,c))}function BP(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Nx(s,c)}function $P(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Nx(s,c)}var kx;kx=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Un.current)$n=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return $n=!1,PP(s,o,c);$n=(s.flags&131072)!==0}else $n=!1,St&&(o.flags&1048576)!==0&&d0(o,Yu,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;dd(s,o),s=o.pendingProps;var v=Ra(o,Tn.current);ja(o,c),v=gp(null,o,p,s,v,c);var E=yp();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Bn(p)?(E=!0,Gu(o)):E=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,cp(o),v.updater=cd,o.stateNode=v,v._reactInternals=o,Tp(o,p,s,c),o=Ap(null,o,p,!0,E,c)):(o.tag=0,St&&E&&Zh(o),Dn(null,o,v,c),o=o.child),o;case 16:p=o.elementType;e:{switch(dd(s,o),s=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=HP(p),s=jr(p,s),v){case 0:o=bp(null,o,p,s,c);break e;case 1:o=sx(null,o,p,s,c);break e;case 11:o=Z0(null,o,p,s,c);break e;case 14:o=ex(null,o,p,jr(p.type,s),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:jr(p,v),bp(s,o,p,v,c);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:jr(p,v),sx(s,o,p,v,c);case 3:e:{if(ix(o),s===null)throw Error(n(387));p=o.pendingProps,E=o.memoizedState,v=E.element,w0(s,o),nd(o,p,null,c);var N=o.memoizedState;if(p=N.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){v=Va(Error(n(423)),o),o=ox(s,o,p,c,v);break e}else if(p!==v){v=Va(Error(n(424)),o),o=ox(s,o,p,c,v);break e}else for(tr=ii(o.stateNode.containerInfo.firstChild),er=o,St=!0,Dr=null,c=v0(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Na(),p===v){o=ks(s,o,c);break e}Dn(s,o,p,c)}o=o.child}return o;case 5:return T0(o),s===null&&np(o),p=o.type,v=o.pendingProps,E=s!==null?s.memoizedProps:null,N=v.children,Gh(p,v)?N=null:E!==null&&Gh(p,E)&&(o.flags|=32),rx(s,o),Dn(s,o,N,c),o.child;case 6:return s===null&&np(o),null;case 13:return ax(s,o,c);case 4:return up(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ka(o,null,p,c):Dn(s,o,p,c),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:jr(p,v),Z0(s,o,p,v,c);case 7:return Dn(s,o,o.pendingProps,c),o.child;case 8:return Dn(s,o,o.pendingProps.children,c),o.child;case 12:return Dn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,E=o.memoizedProps,N=v.value,gt(Zu,p._currentValue),p._currentValue=N,E!==null)if(kr(E.value,N)){if(E.children===v.children&&!Un.current){o=ks(s,o,c);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var z=E.dependencies;if(z!==null){N=E.child;for(var H=z.firstContext;H!==null;){if(H.context===p){if(E.tag===1){H=Ns(-1,c&-c),H.tag=2;var Z=E.updateQueue;if(Z!==null){Z=Z.shared;var fe=Z.pending;fe===null?H.next=H:(H.next=fe.next,fe.next=H),Z.pending=H}}E.lanes|=c,H=E.alternate,H!==null&&(H.lanes|=c),ap(E.return,c,o),z.lanes|=c;break}H=H.next}}else if(E.tag===10)N=E.type===o.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=c,z=N.alternate,z!==null&&(z.lanes|=c),ap(N,c,o),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===o){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}Dn(s,o,v.children,c),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,ja(o,c),v=hr(v),p=p(v),o.flags|=1,Dn(s,o,p,c),o.child;case 14:return p=o.type,v=jr(p,o.pendingProps),v=jr(p.type,v),ex(s,o,p,v,c);case 15:return tx(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:jr(p,v),dd(s,o),o.tag=1,Bn(p)?(s=!0,Gu(o)):s=!1,ja(o,c),q0(o,p,v),Tp(o,p,v,c),Ap(null,o,p,!0,s,c);case 19:return cx(s,o,c);case 22:return nx(s,o,c)}throw Error(n(156,o.tag))};function Dx(s,o){return aa(s,o)}function zP(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(s,o,c,p){return new zP(s,o,c,p)}function Gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function HP(s){if(typeof s=="function")return Gp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===we)return 14}return 2}function gi(s,o){var c=s.alternate;return c===null?(c=gr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ed(s,o,c,p,v,E){var N=2;if(p=s,typeof s=="function")Gp(s)&&(N=1);else if(typeof s=="string")N=5;else e:switch(s){case I:return Eo(c.children,v,E,o);case T:N=8,v|=8;break;case P:return s=gr(12,c,o,v|2),s.elementType=P,s.lanes=E,s;case V:return s=gr(13,c,o,v),s.elementType=V,s.lanes=E,s;case re:return s=gr(19,c,o,v),s.elementType=re,s.lanes=E,s;case se:return Td(c,v,E,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:N=10;break e;case U:N=9;break e;case F:N=11;break e;case we:N=14;break e;case ue:N=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=gr(N,c,o,v),o.elementType=s,o.type=p,o.lanes=E,o}function Eo(s,o,c,p){return s=gr(7,s,p,o),s.lanes=c,s}function Td(s,o,c,p){return s=gr(22,s,p,o),s.elementType=se,s.lanes=c,s.stateNode={isHidden:!1},s}function Kp(s,o,c){return s=gr(6,s,null,o),s.lanes=c,s}function Qp(s,o,c){return o=gr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function WP(s,o,c,p,v){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xs(0),this.expirationTimes=Xs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Yp(s,o,c,p,v,E,N,z,H){return s=new WP(s,o,c,z,H),o===1?(o=1,E===!0&&(o|=8)):o=0,E=gr(3,null,null,o),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(E),s}function qP(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function jx(s){if(!s)return ai;s=s._reactInternals;e:{if(Cr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Bn(c))return l0(s,c,o)}return o}function Ox(s,o,c,p,v,E,N,z,H){return s=Yp(c,p,!0,s,v,E,N,z,H),s.context=jx(null),c=s.current,p=jn(),v=pi(c),E=Ns(p,v),E.callback=o??null,ui(c,E,v),s.current.lanes=v,Js(s,v,p),Hn(s,p),s}function Sd(s,o,c,p){var v=o.current,E=jn(),N=pi(v);return c=jx(c),o.context===null?o.context=c:o.pendingContext=c,o=Ns(E,N),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=ui(v,o,N),s!==null&&(Mr(s,v,N,E),td(s,v,N)),N}function Cd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Vx(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Xp(s,o){Vx(s,o),(s=s.alternate)&&Vx(s,o)}function GP(){return null}var Mx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Jp(s){this._internalRoot=s}bd.prototype.render=Jp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Sd(s,o,null,null)},bd.prototype.unmount=Jp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;xo(function(){Sd(null,s,null,null)}),o[bs]=null}};function bd(s){this._internalRoot=s}bd.prototype.unstable_scheduleHydration=function(s){if(s){var o=bu();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Yr.length&&o!==0&&o<Yr[c].priority;c++);Yr.splice(c,0,s),c===0&&Pu(s)}};function Zp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ad(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lx(){}function KP(s,o,c,p,v){if(v){if(typeof p=="function"){var E=p;p=function(){var Z=Cd(N);E.call(Z)}}var N=Ox(o,p,s,0,null,!1,!1,"",Lx);return s._reactRootContainer=N,s[bs]=N.current,Ql(s.nodeType===8?s.parentNode:s),xo(),N}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var z=p;p=function(){var Z=Cd(H);z.call(Z)}}var H=Yp(s,0,!1,null,null,!1,!1,"",Lx);return s._reactRootContainer=H,s[bs]=H.current,Ql(s.nodeType===8?s.parentNode:s),xo(function(){Sd(o,H,c,p)}),H}function Rd(s,o,c,p,v){var E=c._reactRootContainer;if(E){var N=E;if(typeof v=="function"){var z=v;v=function(){var H=Cd(N);z.call(H)}}Sd(o,N,s,v)}else N=KP(c,o,s,v,p);return Cd(N)}Su=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ys(o.pendingLanes);c!==0&&(Zs(o,c|1),Hn(o,mt()),(at&6)===0&&(Fa=mt()+500,li()))}break;case 13:xo(function(){var p=Is(s,1);if(p!==null){var v=jn();Mr(p,s,1,v)}}),Xp(s,1)}},ua=function(s){if(s.tag===13){var o=Is(s,134217728);if(o!==null){var c=jn();Mr(o,s,134217728,c)}Xp(s,134217728)}},Cu=function(s){if(s.tag===13){var o=pi(s),c=Is(s,o);if(c!==null){var p=jn();Mr(c,s,o,p)}Xp(s,o)}},bu=function(){return nt},Au=function(s,o){var c=nt;try{return nt=s,o()}finally{nt=c}},ta=function(s,o,c){switch(o){case"input":if(ht(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var v=Wu(p);if(!v)throw Error(n(90));Ae(p),ht(p,v)}}}break;case"textarea":Rt(s,c);break;case"select":o=c.value,o!=null&&wn(s,!!c.multiple,o,!1)}},Ji=Hp,Il=xo;var QP={usingClientEntryPoint:!1,Events:[Jl,ba,Wu,Kr,Pl,Hp]},fc={findFiberByHostInstance:uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YP={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Dl(s),s===null?null:s.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||GP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{ro=Pd.inject(YP),Yn=Pd}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP,Wn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(o))throw Error(n(200));return qP(s,o,null,c)},Wn.createRoot=function(s,o){if(!Zp(s))throw Error(n(299));var c=!1,p="",v=Mx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Yp(s,1,!1,null,null,c,!1,p,v),s[bs]=o.current,Ql(s.nodeType===8?s.parentNode:s),new Jp(o)},Wn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Dl(o),s=s===null?null:s.stateNode,s},Wn.flushSync=function(s){return xo(s)},Wn.hydrate=function(s,o,c){if(!Ad(o))throw Error(n(200));return Rd(null,s,o,!0,c)},Wn.hydrateRoot=function(s,o,c){if(!Zp(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,v=!1,E="",N=Mx;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),o=Ox(o,null,s,1,c??null,v,!1,E,N),s[bs]=o.current,Ql(s),p)for(s=0;s<p.length;s++)c=p[s],v=c._getVersion,v=v(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,v]:o.mutableSourceEagerHydrationData.push(c,v);return new bd(o)},Wn.render=function(s,o,c){if(!Ad(o))throw Error(n(200));return Rd(null,s,o,!1,c)},Wn.unmountComponentAtNode=function(s){if(!Ad(s))throw Error(n(40));return s._reactRootContainer?(xo(function(){Rd(null,null,s,!1,function(){s._reactRootContainer=null,s[bs]=null})}),!0):!1},Wn.unstable_batchedUpdates=Hp,Wn.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!Ad(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Rd(s,o,c,!1,p)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var qx;function nT(){if(qx)return nm.exports;qx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nm.exports=sI(),nm.exports}var Gx;function iI(){if(Gx)return Id;Gx=1;var t=nT();return Id.createRoot=t.createRoot,Id.hydrateRoot=t.hydrateRoot,Id}var oI=iI();const aI=qi(oI);var im={exports:{}},om,Kx;function lI(){if(Kx)return om;Kx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return om=t,om}var am,Qx;function cI(){if(Qx)return am;Qx=1;var t=lI();function e(){}function n(){}return n.resetWarningCache=e,am=function(){function r(l,u,d,f,g,y){if(y!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},am}var Yx;function uI(){return Yx||(Yx=1,im.exports=cI()()),im.exports}var dI=uI();const Ct=qi(dI);var lm,Xx;function fI(){if(Xx)return lm;Xx=1;function t(u){return u&&typeof u=="object"&&"default"in u?u.default:u}var e=Gf(),n=t(e);function r(u,d,f){return d in u?Object.defineProperty(u,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[d]=f,u}function i(u,d){u.prototype=Object.create(d.prototype),u.prototype.constructor=u,u.__proto__=d}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(u,d,f){if(typeof u!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f<"u"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function g(y){return y.displayName||y.name||"Component"}return function(x){if(typeof x!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],b;function C(){b=u(_.map(function(j){return j.props})),R.canUseDOM?d(b):f&&(b=f(b))}var R=(function(j){i(k,j);function k(){return j.apply(this,arguments)||this}k.peek=function(){return b},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var B=b;return b=void 0,_=[],B};var O=k.prototype;return O.UNSAFE_componentWillMount=function(){_.push(this),C()},O.componentDidUpdate=function(){C()},O.componentWillUnmount=function(){var B=_.indexOf(this);_.splice(B,1),C()},O.render=function(){return n.createElement(x,this.props)},k})(e.PureComponent);return r(R,"displayName","SideEffect("+g(x)+")"),r(R,"canUseDOM",a),R}}return lm=l,lm}var hI=fI();const pI=qi(hI);var cm,Jx;function mI(){if(Jx)return cm;Jx=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var u,d,f;if(Array.isArray(a)){if(u=a.length,u!=l.length)return!1;for(d=u;d--!==0;)if(!i(a[d],l[d]))return!1;return!0}var g;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(g=a.entries();!(d=g.next()).done;)if(!l.has(d.value[0]))return!1;for(g=a.entries();!(d=g.next()).done;)if(!i(d.value[1],l.get(d.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(g=a.entries();!(d=g.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(u=a.length,u!=l.length)return!1;for(d=u;d--!==0;)if(a[d]!==l[d])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(f=Object.keys(a),u=f.length,u!==Object.keys(l).length)return!1;for(d=u;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,f[d]))return!1;if(t&&a instanceof Element)return!1;for(d=u;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&a.$$typeof)&&!i(a[f[d]],l[f[d]]))return!1;return!0}return a!==a&&l!==l}return cm=function(l,u){try{return i(l,u)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},cm}var gI=mI();const yI=qi(gI);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var um,Zx;function vI(){if(Zx)return um;Zx=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},u=0;u<10;u++)l["_"+String.fromCharCode(u)]=u;var d=Object.getOwnPropertyNames(l).map(function(g){return l[g]});if(d.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(g){f[g]=g}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return um=i()?Object.assign:function(a,l){for(var u,d=r(a),f,g=1;g<arguments.length;g++){u=Object(arguments[g]);for(var y in u)e.call(u,y)&&(d[y]=u[y]);if(t){f=t(u);for(var x=0;x<f.length;x++)n.call(u,f[x])&&(d[f[x]]=u[f[x]])}}return d},um}var xI=vI();const wI=qi(xI);var Io={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},He={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(He).map(function(t){return He[t]});var bt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},uf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Vc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},_I=Object.keys(uf).reduce(function(t,e){return t[uf[e]]=e,t},{}),EI=[He.NOSCRIPT,He.SCRIPT,He.STYLE],Ur="data-react-helmet",TI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SI=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},CI=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bI=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},ew=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},AI=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Gm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},RI=function(e){var n=Za(e,He.TITLE),r=Za(e,Vc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Za(e,Vc.DEFAULT_TITLE);return n||i||void 0},PI=function(e){return Za(e,Vc.ON_CHANGE_CLIENT_STATE)||function(){}},dm=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return qn({},r,i)},{})},II=function(e,n){return n.filter(function(r){return typeof r[He.BASE]<"u"}).map(function(r){return r[He.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var a=Object.keys(i),l=0;l<a.length;l++){var u=a[l],d=u.toLowerCase();if(e.indexOf(d)!==-1&&i[d])return r.concat(i)}return r},[])},pc=function(e,n,r){var i={};return r.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&jI("Helmet: "+e+' should be of type "Array". Instead found type "'+TI(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,l){var u={};l.filter(function(x){for(var _=void 0,b=Object.keys(x),C=0;C<b.length;C++){var R=b[C],j=R.toLowerCase();n.indexOf(j)!==-1&&!(_===bt.REL&&x[_].toLowerCase()==="canonical")&&!(j===bt.REL&&x[j].toLowerCase()==="stylesheet")&&(_=j),n.indexOf(R)!==-1&&(R===bt.INNER_HTML||R===bt.CSS_TEXT||R===bt.ITEM_PROP)&&(_=R)}if(!_||!x[_])return!1;var k=x[_].toLowerCase();return i[_]||(i[_]={}),u[_]||(u[_]={}),i[_][k]?!1:(u[_][k]=!0,!0)}).reverse().forEach(function(x){return a.push(x)});for(var d=Object.keys(u),f=0;f<d.length;f++){var g=d[f],y=wI({},i[g],u[g]);i[g]=y}return a},[]).reverse()},Za=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},NI=function(e){return{baseTag:II([bt.HREF,bt.TARGET],e),bodyAttributes:dm(Io.BODY,e),defer:Za(e,Vc.DEFER),encode:Za(e,Vc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:dm(Io.HTML,e),linkTags:pc(He.LINK,[bt.REL,bt.HREF],e),metaTags:pc(He.META,[bt.NAME,bt.CHARSET,bt.HTTPEQUIV,bt.PROPERTY,bt.ITEM_PROP],e),noscriptTags:pc(He.NOSCRIPT,[bt.INNER_HTML],e),onChangeClientState:PI(e),scriptTags:pc(He.SCRIPT,[bt.SRC,bt.INNER_HTML],e),styleTags:pc(He.STYLE,[bt.CSS_TEXT],e),title:RI(e),titleAttributes:dm(Io.TITLE,e)}},Km=(function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Km(e)},0)}})(),tw=function(e){return clearTimeout(e)},kI=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Km:global.requestAnimationFrame||Km,DI=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||tw:global.cancelAnimationFrame||tw,jI=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},mc=null,OI=function(e){mc&&DI(mc),e.defer?mc=kI(function(){nw(e,function(){mc=null})}):(nw(e),mc=null)},nw=function(e,n){var r=e.baseTag,i=e.bodyAttributes,a=e.htmlAttributes,l=e.linkTags,u=e.metaTags,d=e.noscriptTags,f=e.onChangeClientState,g=e.scriptTags,y=e.styleTags,x=e.title,_=e.titleAttributes;Qm(He.BODY,i),Qm(He.HTML,a),VI(x,_);var b={baseTag:Ba(He.BASE,r),linkTags:Ba(He.LINK,l),metaTags:Ba(He.META,u),noscriptTags:Ba(He.NOSCRIPT,d),scriptTags:Ba(He.SCRIPT,g),styleTags:Ba(He.STYLE,y)},C={},R={};Object.keys(b).forEach(function(j){var k=b[j],O=k.newTags,L=k.oldTags;O.length&&(C[j]=O),L.length&&(R[j]=b[j].oldTags)}),n&&n(),f(e,C,R)},rT=function(e){return Array.isArray(e)?e.join(""):e},VI=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=rT(e)),Qm(He.TITLE,n)},Qm=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Ur),a=i?i.split(","):[],l=[].concat(a),u=Object.keys(n),d=0;d<u.length;d++){var f=u[d],g=n[f]||"";r.getAttribute(f)!==g&&r.setAttribute(f,g),a.indexOf(f)===-1&&a.push(f);var y=l.indexOf(f);y!==-1&&l.splice(y,1)}for(var x=l.length-1;x>=0;x--)r.removeAttribute(l[x]);a.length===l.length?r.removeAttribute(Ur):r.getAttribute(Ur)!==u.join(",")&&r.setAttribute(Ur,u.join(","))}},Ba=function(e,n){var r=document.head||document.querySelector(He.HEAD),i=r.querySelectorAll(e+"["+Ur+"]"),a=Array.prototype.slice.call(i),l=[],u=void 0;return n&&n.length&&n.forEach(function(d){var f=document.createElement(e);for(var g in d)if(d.hasOwnProperty(g))if(g===bt.INNER_HTML)f.innerHTML=d.innerHTML;else if(g===bt.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{var y=typeof d[g]>"u"?"":d[g];f.setAttribute(g,y)}f.setAttribute(Ur,"true"),a.some(function(x,_){return u=_,f.isEqualNode(x)})?a.splice(u,1):l.push(f)}),a.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:a,newTags:l}},sT=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},MI=function(e,n,r,i){var a=sT(r),l=rT(n);return a?"<"+e+" "+Ur+'="true" '+a+">"+Gm(l,i)+"</"+e+">":"<"+e+" "+Ur+'="true">'+Gm(l,i)+"</"+e+">"},LI=function(e,n,r){return n.reduce(function(i,a){var l=Object.keys(a).filter(function(f){return!(f===bt.INNER_HTML||f===bt.CSS_TEXT)}).reduce(function(f,g){var y=typeof a[g]>"u"?g:g+'="'+Gm(a[g],r)+'"';return f?f+" "+y:y},""),u=a.innerHTML||a.cssText||"",d=EI.indexOf(e)===-1;return i+"<"+e+" "+Ur+'="true" '+l+(d?"/>":">"+u+"</"+e+">")},"")},iT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[uf[i]||i]=e[i],r},n)},FI=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[_I[i]||i]=e[i],r},n)},UI=function(e,n,r){var i,a=(i={key:n},i[Ur]=!0,i),l=iT(r,a);return[Le.createElement(He.TITLE,l,n)]},BI=function(e,n){return n.map(function(r,i){var a,l=(a={key:i},a[Ur]=!0,a);return Object.keys(r).forEach(function(u){var d=uf[u]||u;if(d===bt.INNER_HTML||d===bt.CSS_TEXT){var f=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:f}}else l[d]=r[u]}),Le.createElement(e,l)})},js=function(e,n,r){switch(e){case He.TITLE:return{toComponent:function(){return UI(e,n.title,n.titleAttributes)},toString:function(){return MI(e,n.title,n.titleAttributes,r)}};case Io.BODY:case Io.HTML:return{toComponent:function(){return iT(n)},toString:function(){return sT(n)}};default:return{toComponent:function(){return BI(e,n)},toString:function(){return LI(e,n,r)}}}},oT=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,a=e.htmlAttributes,l=e.linkTags,u=e.metaTags,d=e.noscriptTags,f=e.scriptTags,g=e.styleTags,y=e.title,x=y===void 0?"":y,_=e.titleAttributes;return{base:js(He.BASE,n,i),bodyAttributes:js(Io.BODY,r,i),htmlAttributes:js(Io.HTML,a,i),link:js(He.LINK,l,i),meta:js(He.META,u,i),noscript:js(He.NOSCRIPT,d,i),script:js(He.SCRIPT,f,i),style:js(He.STYLE,g,i),title:js(He.TITLE,{title:x,titleAttributes:_},i)}},$I=function(e){var n,r;return r=n=(function(i){bI(a,i);function a(){return SI(this,a),AI(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(u){return!yI(this.props,u)},a.prototype.mapNestedChildrenToProps=function(u,d){if(!d)return null;switch(u.type){case He.SCRIPT:case He.NOSCRIPT:return{innerHTML:d};case He.STYLE:return{cssText:d}}throw new Error("<"+u.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(u){var d,f=u.child,g=u.arrayTypeChildren,y=u.newChildProps,x=u.nestedChildren;return qn({},g,(d={},d[f.type]=[].concat(g[f.type]||[],[qn({},y,this.mapNestedChildrenToProps(f,x))]),d))},a.prototype.mapObjectTypeChildren=function(u){var d,f,g=u.child,y=u.newProps,x=u.newChildProps,_=u.nestedChildren;switch(g.type){case He.TITLE:return qn({},y,(d={},d[g.type]=_,d.titleAttributes=qn({},x),d));case He.BODY:return qn({},y,{bodyAttributes:qn({},x)});case He.HTML:return qn({},y,{htmlAttributes:qn({},x)})}return qn({},y,(f={},f[g.type]=qn({},x),f))},a.prototype.mapArrayTypeChildrenToProps=function(u,d){var f=qn({},d);return Object.keys(u).forEach(function(g){var y;f=qn({},f,(y={},y[g]=u[g],y))}),f},a.prototype.warnOnInvalidChildren=function(u,d){return!0},a.prototype.mapChildrenToProps=function(u,d){var f=this,g={};return Le.Children.forEach(u,function(y){if(!(!y||!y.props)){var x=y.props,_=x.children,b=ew(x,["children"]),C=FI(b);switch(f.warnOnInvalidChildren(y,_),y.type){case He.LINK:case He.META:case He.NOSCRIPT:case He.SCRIPT:case He.STYLE:g=f.flattenArrayTypeChildren({child:y,arrayTypeChildren:g,newChildProps:C,nestedChildren:_});break;default:d=f.mapObjectTypeChildren({child:y,newProps:d,newChildProps:C,nestedChildren:_});break}}}),d=this.mapArrayTypeChildrenToProps(g,d),d},a.prototype.render=function(){var u=this.props,d=u.children,f=ew(u,["children"]),g=qn({},f);return d&&(g=this.mapChildrenToProps(d,g)),Le.createElement(e,g)},CI(a,null,[{key:"canUseDOM",set:function(u){e.canUseDOM=u}}]),a})(Le.Component),n.propTypes={base:Ct.object,bodyAttributes:Ct.object,children:Ct.oneOfType([Ct.arrayOf(Ct.node),Ct.node]),defaultTitle:Ct.string,defer:Ct.bool,encodeSpecialCharacters:Ct.bool,htmlAttributes:Ct.object,link:Ct.arrayOf(Ct.object),meta:Ct.arrayOf(Ct.object),noscript:Ct.arrayOf(Ct.object),onChangeClientState:Ct.func,script:Ct.arrayOf(Ct.object),style:Ct.arrayOf(Ct.object),title:Ct.string,titleAttributes:Ct.object,titleTemplate:Ct.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=oT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},zI=function(){return null},HI=pI(NI,OI,oT)(zI),Ym=$I(HI);Ym.renderStatic=Ym.rewind;const WI=()=>{};var rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,g=a>>2,y=(a&3)<<4|u>>4;let x=(u&15)<<2|f>>6,_=f&63;d||(_=64,l||(x=64)),r.push(n[g],n[y],n[x],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||y==null)throw new GI;const x=a<<2|u>>4;if(r.push(x),f!==64){const _=u<<4&240|f>>2;if(r.push(_),y!==64){const b=f<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(t){const e=aT(t);return lT.encodeByteArray(e,!0)},df=function(t){return KI(t).replace(/\./g,"")},QI=function(t){try{return lT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>YI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process>"u"||typeof rw>"u")return;const t=rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QI(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return WI()||XI()||JI()||ZI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eN=t=>{var e,n;return(n=(e=Jg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cT=t=>{const e=eN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uT=()=>{var t;return(t=Jg())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[df(JSON.stringify(n)),df(JSON.stringify(l)),""].join(".")}const bc={};function nN(){const t={prod:[],emulator:[]};for(const e of Object.keys(bc))bc[e]?t.emulator.push(e):t.prod.push(e);return t}function rN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sw=!1;function hT(t,e){if(typeof window>"u"||typeof document>"u"||!Kf(window.location.host)||bc[t]===e||bc[t]||sw)return;bc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=nN().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{sw=!0,l()},x}function g(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=rN(r),_=n("text"),b=document.getElementById(_)||document.createElement("span"),C=n("learnmore"),R=document.getElementById(C)||document.createElement("a"),j=n("preprendIcon"),k=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const O=x.element;u(O),g(R,C);const L=f();d(k,j),O.append(k,b,R,L),document.body.appendChild(O)}a?(b.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iN(){var e;const t=(e=Jg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oN(){return!iN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class qo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pT.prototype.create)}}class pT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?uN(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new qo(i,u,r)}}function uN(t,e){return t.replace(dN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dN=/\{\$([^}]+)}/g;function ff(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(iw(a)&&iw(l)){if(!ff(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pN(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hN(t){return t===So?void 0:t}function pN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const gN={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},yN=ot.INFO,vN={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},xN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mT{constructor(e){this.name=e,this._logLevel=yN,this._logHandler=xN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const wN=(t,e)=>e.some(n=>t instanceof n);let ow,aw;function _N(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EN(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Xm=new WeakMap,yT=new WeakMap,fm=new WeakMap,Zg=new WeakMap;function TN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ti(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&gT.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function SN(t){if(Xm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Xm.set(t,e)}let Jm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){Jm=t(Jm)}function bN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hm(this),e,...n);return yT.set(r,e.sort?e.sort():[e]),Ti(r)}:EN().includes(t)?function(...e){return t.apply(hm(this),e),Ti(gT.get(this))}:function(...e){return Ti(t.apply(hm(this),e))}}function AN(t){return typeof t=="function"?bN(t):(t instanceof IDBTransaction&&SN(t),wN(t,_N())?new Proxy(t,Jm):t)}function Ti(t){if(t instanceof IDBRequest)return TN(t);if(fm.has(t))return fm.get(t);const e=AN(t);return e!==t&&(fm.set(t,e),Zg.set(e,t)),e}const hm=t=>Zg.get(t);function RN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Ti(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ti(l.result),d.oldVersion,d.newVersion,Ti(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const PN=["get","getKey","getAll","getAllKeys","count"],IN=["put","add","delete","clear"],pm=new Map;function lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PN.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&d.done]))[0]};return pm.set(e,a),a}CN(t=>({...t,get:(e,n,r)=>lw(e,n)||t.get(e,n,r),has:(e,n)=>!!lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",cw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new mT("@firebase/app"),DN="@firebase/app-compat",jN="@firebase/analytics-compat",ON="@firebase/analytics",VN="@firebase/app-check-compat",MN="@firebase/app-check",LN="@firebase/auth",FN="@firebase/auth-compat",UN="@firebase/database",BN="@firebase/data-connect",$N="@firebase/database-compat",zN="@firebase/functions",HN="@firebase/functions-compat",WN="@firebase/installations",qN="@firebase/installations-compat",GN="@firebase/messaging",KN="@firebase/messaging-compat",QN="@firebase/performance",YN="@firebase/performance-compat",XN="@firebase/remote-config",JN="@firebase/remote-config-compat",ZN="@firebase/storage",e2="@firebase/storage-compat",t2="@firebase/firestore",n2="@firebase/ai",r2="@firebase/firestore-compat",s2="firebase",i2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",o2={[Zm]:"fire-core",[DN]:"fire-core-compat",[ON]:"fire-analytics",[jN]:"fire-analytics-compat",[MN]:"fire-app-check",[VN]:"fire-app-check-compat",[LN]:"fire-auth",[FN]:"fire-auth-compat",[UN]:"fire-rtdb",[BN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[zN]:"fire-fn",[HN]:"fire-fn-compat",[WN]:"fire-iid",[qN]:"fire-iid-compat",[GN]:"fire-fcm",[KN]:"fire-fcm-compat",[QN]:"fire-perf",[YN]:"fire-perf-compat",[XN]:"fire-rc",[JN]:"fire-rc-compat",[ZN]:"fire-gcs",[e2]:"fire-gcs-compat",[t2]:"fire-fst",[r2]:"fire-fst-compat",[n2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,a2=new Map,tg=new Map;function uw(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lc(t){const e=t.name;if(tg.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of hf.values())uw(n,t);for(const n of a2.values())uw(n,t);return!0}function vT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xT(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new pT("app","Firebase",l2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=i2;function _T(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=uT()),!n)throw Si.create("no-options");const a=hf.get(i);if(a){if(ff(n,a.options)&&ff(r,a.config))return a;throw Si.create("duplicate-app",{appName:i})}const l=new mN(i);for(const d of tg.values())l.addComponent(d);const u=new c2(n,r,l);return hf.set(i,u),u}function ET(t=eg){const e=hf.get(t);if(!e&&t===eg&&uT())return _T();if(!e)throw Si.create("no-app",{appName:t});return e}function Ci(t,e,n){let r=o2[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}Lc(new sl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="firebase-heartbeat-database",d2=1,Fc="firebase-heartbeat-store";let mm=null;function TT(){return mm||(mm=RN(u2,d2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),mm}async function f2(t){try{const n=(await TT()).transaction(Fc),r=await n.objectStore(Fc).get(ST(t));return await n.done,r}catch(e){if(e instanceof qo)Us.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function dw(t,e){try{const r=(await TT()).transaction(Fc,"readwrite");await r.objectStore(Fc).put(e,ST(t)),await r.done}catch(n){if(n instanceof qo)Us.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function ST(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1024,p2=30;class m2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>p2){const l=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fw(),{heartbeatsToSend:r,unsentEntries:i}=g2(this._heartbeatsCache.heartbeats),a=df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Us.warn(n),""}}}function fw(){return new Date().toISOString().substring(0,10)}function g2(t,e=h2){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),hw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hw(t){return df(JSON.stringify({version:2,heartbeats:t})).length}function v2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){Lc(new sl("platform-logger",e=>new NN(e),"PRIVATE")),Lc(new sl("heartbeat",e=>new m2(e),"PRIVATE")),Ci(Zm,cw,t),Ci(Zm,cw,"esm2020"),Ci("fire-js","")}x2("");var w2="firebase",_2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(w2,_2,"app");var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,CT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function P(){}P.prototype=T.prototype,I.D=T.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(D,U,F){for(var V=Array(arguments.length-2),re=2;re<arguments.length;re++)V[re-2]=arguments[re];return T.prototype[U].apply(D,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,P){P||(P=0);var D=Array(16);if(typeof T=="string")for(var U=0;16>U;++U)D[U]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(U=0;16>U;++U)D[U]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=I.g[0],P=I.g[1],U=I.g[2];var F=I.g[3],V=T+(F^P&(U^F))+D[0]+3614090360&4294967295;T=P+(V<<7&4294967295|V>>>25),V=F+(U^T&(P^U))+D[1]+3905402710&4294967295,F=T+(V<<12&4294967295|V>>>20),V=U+(P^F&(T^P))+D[2]+606105819&4294967295,U=F+(V<<17&4294967295|V>>>15),V=P+(T^U&(F^T))+D[3]+3250441966&4294967295,P=U+(V<<22&4294967295|V>>>10),V=T+(F^P&(U^F))+D[4]+4118548399&4294967295,T=P+(V<<7&4294967295|V>>>25),V=F+(U^T&(P^U))+D[5]+1200080426&4294967295,F=T+(V<<12&4294967295|V>>>20),V=U+(P^F&(T^P))+D[6]+2821735955&4294967295,U=F+(V<<17&4294967295|V>>>15),V=P+(T^U&(F^T))+D[7]+4249261313&4294967295,P=U+(V<<22&4294967295|V>>>10),V=T+(F^P&(U^F))+D[8]+1770035416&4294967295,T=P+(V<<7&4294967295|V>>>25),V=F+(U^T&(P^U))+D[9]+2336552879&4294967295,F=T+(V<<12&4294967295|V>>>20),V=U+(P^F&(T^P))+D[10]+4294925233&4294967295,U=F+(V<<17&4294967295|V>>>15),V=P+(T^U&(F^T))+D[11]+2304563134&4294967295,P=U+(V<<22&4294967295|V>>>10),V=T+(F^P&(U^F))+D[12]+1804603682&4294967295,T=P+(V<<7&4294967295|V>>>25),V=F+(U^T&(P^U))+D[13]+4254626195&4294967295,F=T+(V<<12&4294967295|V>>>20),V=U+(P^F&(T^P))+D[14]+2792965006&4294967295,U=F+(V<<17&4294967295|V>>>15),V=P+(T^U&(F^T))+D[15]+1236535329&4294967295,P=U+(V<<22&4294967295|V>>>10),V=T+(U^F&(P^U))+D[1]+4129170786&4294967295,T=P+(V<<5&4294967295|V>>>27),V=F+(P^U&(T^P))+D[6]+3225465664&4294967295,F=T+(V<<9&4294967295|V>>>23),V=U+(T^P&(F^T))+D[11]+643717713&4294967295,U=F+(V<<14&4294967295|V>>>18),V=P+(F^T&(U^F))+D[0]+3921069994&4294967295,P=U+(V<<20&4294967295|V>>>12),V=T+(U^F&(P^U))+D[5]+3593408605&4294967295,T=P+(V<<5&4294967295|V>>>27),V=F+(P^U&(T^P))+D[10]+38016083&4294967295,F=T+(V<<9&4294967295|V>>>23),V=U+(T^P&(F^T))+D[15]+3634488961&4294967295,U=F+(V<<14&4294967295|V>>>18),V=P+(F^T&(U^F))+D[4]+3889429448&4294967295,P=U+(V<<20&4294967295|V>>>12),V=T+(U^F&(P^U))+D[9]+568446438&4294967295,T=P+(V<<5&4294967295|V>>>27),V=F+(P^U&(T^P))+D[14]+3275163606&4294967295,F=T+(V<<9&4294967295|V>>>23),V=U+(T^P&(F^T))+D[3]+4107603335&4294967295,U=F+(V<<14&4294967295|V>>>18),V=P+(F^T&(U^F))+D[8]+1163531501&4294967295,P=U+(V<<20&4294967295|V>>>12),V=T+(U^F&(P^U))+D[13]+2850285829&4294967295,T=P+(V<<5&4294967295|V>>>27),V=F+(P^U&(T^P))+D[2]+4243563512&4294967295,F=T+(V<<9&4294967295|V>>>23),V=U+(T^P&(F^T))+D[7]+1735328473&4294967295,U=F+(V<<14&4294967295|V>>>18),V=P+(F^T&(U^F))+D[12]+2368359562&4294967295,P=U+(V<<20&4294967295|V>>>12),V=T+(P^U^F)+D[5]+4294588738&4294967295,T=P+(V<<4&4294967295|V>>>28),V=F+(T^P^U)+D[8]+2272392833&4294967295,F=T+(V<<11&4294967295|V>>>21),V=U+(F^T^P)+D[11]+1839030562&4294967295,U=F+(V<<16&4294967295|V>>>16),V=P+(U^F^T)+D[14]+4259657740&4294967295,P=U+(V<<23&4294967295|V>>>9),V=T+(P^U^F)+D[1]+2763975236&4294967295,T=P+(V<<4&4294967295|V>>>28),V=F+(T^P^U)+D[4]+1272893353&4294967295,F=T+(V<<11&4294967295|V>>>21),V=U+(F^T^P)+D[7]+4139469664&4294967295,U=F+(V<<16&4294967295|V>>>16),V=P+(U^F^T)+D[10]+3200236656&4294967295,P=U+(V<<23&4294967295|V>>>9),V=T+(P^U^F)+D[13]+681279174&4294967295,T=P+(V<<4&4294967295|V>>>28),V=F+(T^P^U)+D[0]+3936430074&4294967295,F=T+(V<<11&4294967295|V>>>21),V=U+(F^T^P)+D[3]+3572445317&4294967295,U=F+(V<<16&4294967295|V>>>16),V=P+(U^F^T)+D[6]+76029189&4294967295,P=U+(V<<23&4294967295|V>>>9),V=T+(P^U^F)+D[9]+3654602809&4294967295,T=P+(V<<4&4294967295|V>>>28),V=F+(T^P^U)+D[12]+3873151461&4294967295,F=T+(V<<11&4294967295|V>>>21),V=U+(F^T^P)+D[15]+530742520&4294967295,U=F+(V<<16&4294967295|V>>>16),V=P+(U^F^T)+D[2]+3299628645&4294967295,P=U+(V<<23&4294967295|V>>>9),V=T+(U^(P|~F))+D[0]+4096336452&4294967295,T=P+(V<<6&4294967295|V>>>26),V=F+(P^(T|~U))+D[7]+1126891415&4294967295,F=T+(V<<10&4294967295|V>>>22),V=U+(T^(F|~P))+D[14]+2878612391&4294967295,U=F+(V<<15&4294967295|V>>>17),V=P+(F^(U|~T))+D[5]+4237533241&4294967295,P=U+(V<<21&4294967295|V>>>11),V=T+(U^(P|~F))+D[12]+1700485571&4294967295,T=P+(V<<6&4294967295|V>>>26),V=F+(P^(T|~U))+D[3]+2399980690&4294967295,F=T+(V<<10&4294967295|V>>>22),V=U+(T^(F|~P))+D[10]+4293915773&4294967295,U=F+(V<<15&4294967295|V>>>17),V=P+(F^(U|~T))+D[1]+2240044497&4294967295,P=U+(V<<21&4294967295|V>>>11),V=T+(U^(P|~F))+D[8]+1873313359&4294967295,T=P+(V<<6&4294967295|V>>>26),V=F+(P^(T|~U))+D[15]+4264355552&4294967295,F=T+(V<<10&4294967295|V>>>22),V=U+(T^(F|~P))+D[6]+2734768916&4294967295,U=F+(V<<15&4294967295|V>>>17),V=P+(F^(U|~T))+D[13]+1309151649&4294967295,P=U+(V<<21&4294967295|V>>>11),V=T+(U^(P|~F))+D[4]+4149444226&4294967295,T=P+(V<<6&4294967295|V>>>26),V=F+(P^(T|~U))+D[11]+3174756917&4294967295,F=T+(V<<10&4294967295|V>>>22),V=U+(T^(F|~P))+D[2]+718787259&4294967295,U=F+(V<<15&4294967295|V>>>17),V=P+(F^(U|~T))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+F&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var P=T-this.blockSize,D=this.B,U=this.h,F=0;F<T;){if(U==0)for(;F<=P;)i(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<T;)if(D[U++]=I.charCodeAt(F++),U==this.blockSize){i(this,D),U=0;break}}else for(;F<T;)if(D[U++]=I[F++],U==this.blockSize){i(this,D),U=0;break}}this.h=U,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var P=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=P&255,P/=256;for(this.u(I),I=Array(16),T=P=0;4>T;++T)for(var D=0;32>D;D+=8)I[P++]=this.g[T]>>>D&255;return I};function a(I,T){var P=u;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=T(I)}function l(I,T){this.h=T;for(var P=[],D=!0,U=I.length-1;0<=U;U--){var F=I[U]|0;D&&F==T||(P[U]=F,D=!1)}this.g=P}var u={};function d(I){return-128<=I&&128>I?a(I,function(T){return new l([T|0],0>T?-1:0)}):new l([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return y;if(0>I)return R(f(-I));for(var T=[],P=1,D=0;I>=P;D++)T[D]=I/P|0,P*=4294967296;return new l(T,0)}function g(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return R(g(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=f(Math.pow(T,8)),D=y,U=0;U<I.length;U+=8){var F=Math.min(8,I.length-U),V=parseInt(I.substring(U,U+F),T);8>F?(F=f(Math.pow(T,F)),D=D.j(F).add(f(V))):(D=D.j(P),D=D.add(f(V)))}return D}var y=d(0),x=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(C(this))return-R(this).m();for(var I=0,T=1,P=0;P<this.g.length;P++){var D=this.i(P);I+=(0<=D?D:4294967296+D)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(C(this))return"-"+R(this).toString(I);for(var T=f(Math.pow(I,6)),P=this,D="";;){var U=L(P,T).g;P=j(P,U.j(T));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=U,b(P))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function C(I){return I.h==-1}t.l=function(I){return I=j(this,I),C(I)?-1:b(I)?0:1};function R(I){for(var T=I.g.length,P=[],D=0;D<T;D++)P[D]=~I.g[D];return new l(P,~I.h).add(x)}t.abs=function(){return C(this)?R(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],D=0,U=0;U<=T;U++){var F=D+(this.i(U)&65535)+(I.i(U)&65535),V=(F>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);D=V>>>16,F&=65535,V&=65535,P[U]=V<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function j(I,T){return I.add(R(T))}t.j=function(I){if(b(this)||b(I))return y;if(C(this))return C(I)?R(this).j(R(I)):R(R(this).j(I));if(C(I))return R(this.j(R(I)));if(0>this.l(_)&&0>I.l(_))return f(this.m()*I.m());for(var T=this.g.length+I.g.length,P=[],D=0;D<2*T;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var U=0;U<I.g.length;U++){var F=this.i(D)>>>16,V=this.i(D)&65535,re=I.i(U)>>>16,we=I.i(U)&65535;P[2*D+2*U]+=V*we,k(P,2*D+2*U),P[2*D+2*U+1]+=F*we,k(P,2*D+2*U+1),P[2*D+2*U+1]+=V*re,k(P,2*D+2*U+1),P[2*D+2*U+2]+=F*re,k(P,2*D+2*U+2)}for(D=0;D<T;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=T;D<2*T;D++)P[D]=0;return new l(P,0)};function k(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function O(I,T){this.g=I,this.h=T}function L(I,T){if(b(T))throw Error("division by zero");if(b(I))return new O(y,y);if(C(I))return T=L(R(I),T),new O(R(T.g),R(T.h));if(C(T))return T=L(I,R(T)),new O(R(T.g),T.h);if(30<I.g.length){if(C(I)||C(T))throw Error("slowDivide_ only works with positive integers.");for(var P=x,D=T;0>=D.l(I);)P=B(P),D=B(D);var U=q(P,1),F=q(D,1);for(D=q(D,2),P=q(P,2);!b(D);){var V=F.add(D);0>=V.l(I)&&(U=U.add(P),F=V),D=q(D,1),P=q(P,1)}return T=j(I,U.j(T)),new O(U,T)}for(U=y;0<=I.l(T);){for(P=Math.max(1,Math.floor(I.m()/T.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=f(P),V=F.j(T);C(V)||0<V.l(I);)P-=D,F=f(P),V=F.j(T);b(F)&&(F=x),U=U.add(F),I=j(I,V)}return new O(U,I)}t.A=function(I){return L(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],D=0;D<T;D++)P[D]=this.i(D)&I.i(D);return new l(P,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],D=0;D<T;D++)P[D]=this.i(D)|I.i(D);return new l(P,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],D=0;D<T;D++)P[D]=this.i(D)^I.i(D);return new l(P,this.h^I.h)};function B(I){for(var T=I.g.length+1,P=[],D=0;D<T;D++)P[D]=I.i(D)<<1|I.i(D-1)>>>31;return new l(P,I.h)}function q(I,T){var P=T>>5;T%=32;for(var D=I.g.length-P,U=[],F=0;F<D;F++)U[F]=0<T?I.i(F+P)>>>T|I.i(F+P+1)<<32-T:I.i(F+P);return new l(U,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,bi=l}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,wc,AT,Xd,ng,RT,PT,IT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,A){return h==Array.prototype||h==Object.prototype||(h[w]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var w=0;w<h.length;++w){var A=h[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var A=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var K=h[M];if(!(K in A))break e;A=A[K]}h=h[h.length-1],M=A[h],w=w(M),w!=M&&w!=null&&e(A,h,{configurable:!0,writable:!0,value:w})}}function a(h,w){h instanceof String&&(h+="");var A=0,M=!1,K={next:function(){if(!M&&A<h.length){var ne=A++;return{value:w(ne,h[ne]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(h){return h||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function f(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function g(h,w,A){return h.call.apply(h.bind,arguments)}function y(h,w,A){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),h.apply(w,K)}}return function(){return h.apply(w,arguments)}}function x(h,w,A){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,x.apply(null,arguments)}function _(h,w){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function b(h,w){function A(){}A.prototype=w.prototype,h.aa=w.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(M,K,ne){for(var ve=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ve[ft-2]=arguments[ft];return w.prototype[K].apply(M,ve)}}function C(h){const w=h.length;if(0<w){const A=Array(w);for(let M=0;M<w;M++)A[M]=h[M];return A}return[]}function R(h,w){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(d(M)){const K=h.length||0,ne=M.length||0;h.length=K+ne;for(let ve=0;ve<ne;ve++)h[K+ve]=M[ve]}else h.push(M)}}class j{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function k(h){return/^[\s\xa0]*$/.test(h)}function O(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function L(h){return L[" "](h),h}L[" "]=function(){};var B=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function q(h,w,A){for(const M in h)w.call(A,h[M],M,h)}function I(h,w){for(const A in h)w.call(void 0,h[A],A,h)}function T(h){const w={};for(const A in h)w[A]=h[A];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,w){let A,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(A in M)h[A]=M[A];for(let ne=0;ne<P.length;ne++)A=P[ne],Object.prototype.hasOwnProperty.call(M,A)&&(h[A]=M[A])}}function U(h){var w=1;h=h.split(":");const A=[];for(;0<w&&h.length;)A.push(h.shift()),w--;return h.length&&A.push(h.join(":")),A}function F(h){u.setTimeout(()=>{throw h},0)}function V(){var h=ee;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class re{constructor(){this.h=this.g=null}add(w,A){const M=we.get();M.set(w,A),this.h?this.h.next=M:this.g=M,this.h=M}}var we=new j(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Q=!1,ee=new re,ae=()=>{const h=u.Promise.resolve(void 0);se=()=>{h.then($)}};var $=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(A){F(A)}var w=we;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};u.addEventListener("test",A,w),u.removeEventListener("test",A,w)}catch{}return h})();function le(h,w){if(te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(B){e:{try{L(w.nodeName);var K=!0;break e}catch{}K=!1}K||(w=null)}}else A=="mouseover"?w=h.fromElement:A=="mouseout"&&(w=h.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&le.aa.h.call(this)}}b(le,te);var me={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ce=0;function xe(h,w,A,M,K){this.listener=h,this.proxy=null,this.src=w,this.type=A,this.capture=!!M,this.ha=K,this.key=++ce,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,w,A,M,K){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var ve=qe(h,w,M,K);return-1<ve?(w=h[ve],A||(w.fa=!1)):(w=new xe(w,this.src,ne,!!M,K),w.fa=A,h.push(w)),w};function Ae(h,w){var A=w.type;if(A in h.g){var M=h.g[A],K=Array.prototype.indexOf.call(M,w,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(M,K,1),ne&&(_e(w),h.g[A].length==0&&(delete h.g[A],h.h--))}}function qe(h,w,A,M){for(var K=0;K<h.length;++K){var ne=h[K];if(!ne.da&&ne.listener==w&&ne.capture==!!A&&ne.ha==M)return K}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),Ge={};function De(h,w,A,M,K){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)De(h,w[ne],A,M,K);return null}return A=En(A),h&&h[ie]?h.K(w,A,f(M)?!!M.capture:!1,K):ht(h,w,A,!1,M,K)}function ht(h,w,A,M,K,ne){if(!w)throw Error("Invalid event type");var ve=f(K)?!!K.capture:!!K,ft=or(h);if(ft||(h[ze]=ft=new ye(h)),A=ft.add(w,A,M,ve,ne),A.proxy)return A;if(M=Ye(),A.proxy=M,M.src=h,M.listener=A,h.addEventListener)X||(K=ve),K===void 0&&(K=!1),h.addEventListener(w.toString(),M,K);else if(h.attachEvent)h.attachEvent(wn(w.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ye(){function h(A){return w.call(h.src,h.listener,A)}const w=_n;return h}function Je(h,w,A,M,K){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Je(h,w[ne],A,M,K);else M=f(M)?!!M.capture:!!M,A=En(A),h&&h[ie]?(h=h.i,w=String(w).toString(),w in h.g&&(ne=h.g[w],A=qe(ne,A,M,K),-1<A&&(_e(ne[A]),Array.prototype.splice.call(ne,A,1),ne.length==0&&(delete h.g[w],h.h--)))):h&&(h=or(h))&&(w=h.g[w.toString()],h=-1,w&&(h=qe(w,A,M,K)),(A=-1<h?w[h]:null)&&dt(A))}function dt(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ie])Ae(w.i,h);else{var A=h.type,M=h.proxy;w.removeEventListener?w.removeEventListener(A,M,h.capture):w.detachEvent?w.detachEvent(wn(A),M):w.addListener&&w.removeListener&&w.removeListener(M),(A=or(w))?(Ae(A,h),A.h==0&&(A.src=null,w[ze]=null)):_e(h)}}}function wn(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function _n(h,w){if(h.da)h=!0;else{w=new le(w,this);var A=h.listener,M=h.ha||h.src;h.fa&&dt(h),h=A.call(M,w)}return h}function or(h){return h=h[ze],h instanceof ye?h:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(h){return typeof h=="function"?h:(h[Rt]||(h[Rt]=function(w){return h.handleEvent(w)}),h[Rt])}function Ke(){G.call(this),this.i=new ye(this),this.M=this,this.F=null}b(Ke,G),Ke.prototype[ie]=!0,Ke.prototype.removeEventListener=function(h,w,A,M){Je(this,h,w,A,M)};function rt(h,w){var A,M=h.F;if(M)for(A=[];M;M=M.F)A.push(M);if(h=h.M,M=w.type||w,typeof w=="string")w=new te(w,h);else if(w instanceof te)w.target=w.target||h;else{var K=w;w=new te(M,h),D(w,K)}if(K=!0,A)for(var ne=A.length-1;0<=ne;ne--){var ve=w.g=A[ne];K=Jt(ve,M,!0,w)&&K}if(ve=w.g=h,K=Jt(ve,M,!0,w)&&K,K=Jt(ve,M,!1,w)&&K,A)for(ne=0;ne<A.length;ne++)ve=w.g=A[ne],K=Jt(ve,M,!1,w)&&K}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var A=h.g[w],M=0;M<A.length;M++)_e(A[M]);delete h.g[w],h.h--}}this.F=null},Ke.prototype.K=function(h,w,A,M){return this.i.add(String(h),w,!1,A,M)},Ke.prototype.L=function(h,w,A,M){return this.i.add(String(h),w,!0,A,M)};function Jt(h,w,A,M){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var K=!0,ne=0;ne<w.length;++ne){var ve=w[ne];if(ve&&!ve.da&&ve.capture==A){var ft=ve.listener,Zt=ve.ha||ve.src;ve.fa&&Ae(h.i,ve),K=ft.call(Zt,M)!==!1&&K}}return K&&!M.defaultPrevented}function xs(h,w,A){if(typeof h=="function")A&&(h=x(h,A));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(h,w||0)}function _r(h){h.g=xs(()=>{h.g=null,h.i&&(h.i=!1,_r(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Mn extends G{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(h){G.call(this),this.h=h,this.g={}}b(sn,G);var Er=[];function Ks(h){q(h.g,function(w,A){this.g.hasOwnProperty(A)&&dt(w)},h),h.g={}}sn.prototype.N=function(){sn.aa.N.call(this),Ks(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bl=u.JSON.stringify,Al=u.JSON.parse,Rl=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Xi(){}Xi.prototype.h=null;function ea(h){return h.h||(h.h=h.i())}function ta(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){te.call(this,"d")}b(Gr,te);function na(){te.call(this,"c")}b(na,te);var Kr={},Pl=null;function Ji(){return Pl=Pl||new Ke}Kr.La="serverreachability";function Il(h){te.call(this,Kr.La,h)}b(Il,te);function ws(h){const w=Ji();rt(w,new Il(w))}Kr.STAT_EVENT="statevent";function Nl(h,w){te.call(this,Kr.STAT_EVENT,h),this.stat=w}b(Nl,te);function Mt(h){const w=Ji();rt(w,new Nl(w,h))}Kr.Ma="timingevent";function ra(h,w){te.call(this,Kr.Ma,h),this.size=w}b(ra,te);function Tr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},w)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function eo(h,w,A,M,K,ne){h.info(function(){if(h.g)if(ne)for(var ve="",ft=ne.split("&"),Zt=0;Zt<ft.length;Zt++){var st=ft[Zt].split("=");if(1<st.length){var on=st[0];st=st[1];var $t=on.split("_");ve=2<=$t.length&&$t[1]=="type"?ve+(on+"="+st+"&"):ve+(on+"=redacted&")}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+w+`
`+A+`
`+ve})}function sa(h,w,A,M,K,ne,ve){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+w+`
`+A+`
`+ne+" "+ve})}function Sr(h,w,A,M){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Rh(h,A)+(M?" "+M:"")})}function kl(h,w){h.info(function(){return"TIMEOUT: "+w})}Zi.prototype.info=function(){};function Rh(h,w){if(!h.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var M=A[h];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ve=1;ve<K.length;ve++)K[ve]=""}}}}return bl(A)}catch{return w}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cr;function to(){}b(to,Xi),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},Cr=new to;function br(h,w,A,M){this.j=h,this.i=w,this.l=A,this.R=M||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var Dl={},oa={};function aa(h,w,A){h.L=1,h.v=Zs(Xn(w)),h.m=A,h.P=!0,jl(h,null)}function jl(h,w){h.F=Date.now(),mt(h),h.A=Xn(h.v);var A=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),ti(A.i,"t",M),h.C=0,A=h.j.J,h.h=new yu,h.g=Ou(h.j,A?w:null,!h.m),0<h.O&&(h.M=new Mn(x(h.Y,h,h.g),h.O)),w=h.U,A=h.g,M=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Er[0]=K.toString()),K=Er);for(var ne=0;ne<K.length;ne++){var ve=De(A,K[ne],M||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),ws(),eo(h.i,h.u,h.A,h.l,h.R,h.m)}br.prototype.ca=function(h){h=h.target;const w=this.M;w&&Fn(h)==3?w.j():this.Y(h)},br.prototype.Y=function(h){try{if(h==this.g)e:{const $t=Fn(this.g);var w=this.g.Ba();const ur=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Ul(this.g)))){this.J||$t!=4||w==7||(w==8||0>=ur?ws(3):ws(2)),no(this);var A=this.g.Z();this.X=A;t:if(vu(this)){var M=Ul(this.g);h="";var K=M.length,ne=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Qs(this);var ve="";break t}this.h.i=new u.TextDecoder}for(w=0;w<K;w++)this.h.h=!0,h+=this.h.i.decode(M[w],{stream:!(ne&&w==K-1)});M.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=A==200,sa(this.i,this.u,this.A,this.l,this.R,$t,A),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Zt=this.g;if((ft=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(ft)){var st=ft;break t}}st=null}if(A=st)Sr(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ol(this,A);else{this.o=!1,this.s=3,Mt(12),lr(this),Qs(this);break e}}if(this.P){A=!0;let Zn;for(;!this.J&&this.C<ve.length;)if(Zn=Ph(this,ve),Zn==oa){$t==4&&(this.s=4,Mt(14),A=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Dl){this.s=4,Mt(15),Sr(this.i,this.l,ve,"[Invalid Chunk]"),A=!1;break}else Sr(this.i,this.l,Zn,null),Ol(this,Zn);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ve.length!=0||this.h.h||(this.s=1,Mt(16),A=!1),this.o=this.o&&A,!A)Sr(this.i,this.l,ve,"[Invalid Chunked Response]"),lr(this),Qs(this);else if(0<ve.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),$l(on),on.M=!0,Mt(11))}}else Sr(this.i,this.l,ve,null),Ol(this,ve);$t==4&&lr(this),this.o&&!this.J&&($t==4?va(this.j,this):(this.o=!1,mt(this)))}else ha(this.g),A==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),lr(this),Qs(this)}}}catch{}finally{}};function vu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ph(h,w){var A=h.C,M=w.indexOf(`
`,A);return M==-1?oa:(A=Number(w.substring(A,M)),isNaN(A)?Dl:(M+=1,M+A>w.length?oa:(w=w.slice(M,M+A),h.C=M+A,w)))}br.prototype.cancel=function(){this.J=!0,lr(this)};function mt(h){h.S=Date.now()+h.I,xu(h,h.I)}function xu(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Tr(x(h.ba,h),w)}function no(h){h.B&&(u.clearTimeout(h.B),h.B=null)}br.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(kl(this.i,this.A),this.L!=2&&(ws(),Mt(17)),lr(this),this.s=2,Qs(this)):xu(this,this.S-h)};function Qs(h){h.j.G==0||h.J||va(h.j,h)}function lr(h){no(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,Ks(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Ol(h,w){try{var A=h.j;if(A.G!=0&&(A.g==h||Nn(A.h,h))){if(!h.K&&Nn(A.h,h)&&A.G==3){try{var M=A.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)ya(A),Nr(A);else break e;ga(A),Mt(18)}}else A.za=K[1],0<A.za-A.T&&37500>K[2]&&A.F&&A.v==0&&!A.C&&(A.C=Tr(x(A.Za,A),6e3));if(1>=_u(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Cs(A,11)}else if((h.K||A.g==h)&&ya(A),!k(w))for(K=A.Da.g.parse(w),w=0;w<K.length;w++){let st=K[w];if(A.T=st[0],st=st[1],A.G==2)if(st[0]=="c"){A.K=st[1],A.ia=st[2];const on=st[3];on!=null&&(A.la=on,A.j.info("VER="+A.la));const $t=st[4];$t!=null&&(A.Aa=$t,A.j.info("SVER="+A.Aa));const ur=st[5];ur!=null&&typeof ur=="number"&&0<ur&&(M=1.5*ur,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const Zn=h.g;if(Zn){const co=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(co){var ne=M.h;ne.g||co.indexOf("spdy")==-1&&co.indexOf("quic")==-1&&co.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Vl(ne,ne.h),ne.h=null))}if(M.D){const wa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(M.ya=wa,pt(M.I,M.D,wa))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var ve=h;if(M.qa=ju(M,M.J?M.ia:null,M.W),ve.K){Eu(M.h,ve);var ft=ve,Zt=M.L;Zt&&(ft.I=Zt),ft.B&&(no(ft),mt(ft)),M.g=ve}else lo(M);0<A.i.length&&Jr(A)}else st[0]!="stop"&&st[0]!="close"||Cs(A,7);else A.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Cs(A,7):pn(A):st[0]!="noop"&&A.l&&A.l.ta(st),A.v=0)}}ws(4)}catch{}}var wu=class{constructor(h,w){this.g=h,this.map=w}};function ro(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _u(h){return h.h?1:h.g?h.g.size:0}function Nn(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Vl(h,w){h.g?h.g.add(w):h.h=w}function Eu(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}ro.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const A of h.g.values())w=w.concat(A.D);return w}return C(h.i)}function la(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var w=[],A=h.length,M=0;M<A;M++)w.push(h[M]);return w}w=[],A=0;for(M in h)w[A++]=h[M];return w}function ca(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var w=[];h=h.length;for(var A=0;A<h;A++)w.push(A);return w}w=[],A=0;for(const M in h)w[A++]=M;return w}}}function Ys(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var A=ca(h),M=la(h),K=M.length,ne=0;ne<K;ne++)w.call(void 0,M[ne],A&&A[ne],h)}var so=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(h,w){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var M=h[A].indexOf("="),K=null;if(0<=M){var ne=h[A].substring(0,M);K=h[A].substring(M+1)}else ne=h[A];w(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function _s(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof _s){this.h=h.h,io(this,h.j),this.o=h.o,this.g=h.g,Xs(this,h.s),this.l=h.l;var w=h.i,A=new Qr;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Js(this,A),this.m=h.m}else h&&(w=String(h).match(so))?(this.h=!1,io(this,w[1]||"",!0),this.o=nt(w[2]||""),this.g=nt(w[3]||"",!0),Xs(this,w[4]),this.l=nt(w[5]||"",!0),Js(this,w[6]||"",!0),this.m=nt(w[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}_s.prototype.toString=function(){var h=[],w=this.j;w&&h.push(ei(w,ua,!0),":");var A=this.g;return(A||w=="file")&&(h.push("//"),(w=this.o)&&h.push(ei(w,ua,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(ei(A,A.charAt(0)=="/"?bu:Cu,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",ei(A,Ml)),h.join("")};function Xn(h){return new _s(h)}function io(h,w,A){h.j=A?nt(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Xs(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Js(h,w,A){w instanceof Qr?(h.i=w,Yr(h.i,h.h)):(A||(w=ei(w,Au)),h.i=new Qr(w,h.h))}function pt(h,w,A){h.i.set(w,A)}function Zs(h){return pt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function nt(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ei(h,w,A){return typeof h=="string"?(h=encodeURI(h).replace(w,Su),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Su(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ua=/[#\/\?@]/g,Cu=/[#\?:]/g,bu=/[#\?]/g,Au=/[#\?@]/g,Ml=/#/g;function Qr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ih(h.i,function(w,A){h.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Qr.prototype,t.add=function(h,w){hn(this),this.i=null,h=cr(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(w),this.h+=1,this};function Ar(h,w){hn(h),w=cr(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Rr(h,w){return hn(h),w=cr(h,w),h.g.has(w)}t.forEach=function(h,w){hn(this),this.g.forEach(function(A,M){A.forEach(function(K){h.call(w,K,M,this)},this)},this)},t.na=function(){hn(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let M=0;M<w.length;M++){const K=h[M];for(let ne=0;ne<K.length;ne++)A.push(w[M])}return A},t.V=function(h){hn(this);let w=[];if(typeof h=="string")Rr(this,h)&&(w=w.concat(this.g.get(cr(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)w=w.concat(h[A])}return w},t.set=function(h,w){return hn(this),this.i=null,h=cr(this,h),Rr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function ti(h,w,A){Ar(h,w),0<A.length&&(h.i=null,h.g.set(cr(h,w),C(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var M=w[A];const ne=encodeURIComponent(String(M)),ve=this.V(M);for(M=0;M<ve.length;M++){var K=ne;ve[M]!==""&&(K+="="+encodeURIComponent(String(ve[M]))),h.push(K)}}return this.i=h.join("&")};function cr(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Yr(h,w){w&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(A,M){var K=M.toLowerCase();M!=K&&(Ar(this,M),ti(this,K,A))},h)),h.j=w}function Nh(h,w){const A=new Zi;if(u.Image){const M=new Image;M.onload=_(Ln,A,"TestLoadImage: loaded",!0,w,M),M.onerror=_(Ln,A,"TestLoadImage: error",!1,w,M),M.onabort=_(Ln,A,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(Ln,A,"TestLoadImage: timeout",!1,w,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else w(!1)}function Ru(h,w){const A=new Zi,M=new AbortController,K=setTimeout(()=>{M.abort(),Ln(A,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:M.signal}).then(ne=>{clearTimeout(K),ne.ok?Ln(A,"TestPingServer: ok",!0,w):Ln(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),Ln(A,"TestPingServer: error",!1,w)})}function Ln(h,w,A,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(A)}catch{}}function kh(){this.g=new Rl}function Pu(h,w,A){const M=A||"";try{Ys(h,function(K,ne){let ve=K;f(K)&&(ve=bl(K)),w.push(M+ne+"="+encodeURIComponent(ve))})}catch(K){throw w.push(M+"type="+encodeURIComponent("_badmap")),K}}function Es(h){this.l=h.Ub||null,this.j=h.eb||!1}b(Es,Xi),Es.prototype.g=function(){return new oo(this.l,this.j)},Es.prototype.i=(function(h){return function(){return h}})({});function oo(h,w){Ke.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(oo,Ke),t=oo.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Ir(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Pr(this):Ir(this),this.readyState==3&&Iu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},t.Qa=function(h){this.g&&(this.response=h,Pr(this))},t.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ir(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=w.next();return h.join(`\r
`)};function Ir(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ts(h){let w="";return q(h,function(A,M){w+=M,w+=":",w+=A,w+=`\r
`}),w}function ni(h,w,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=Ts(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):pt(h,w,A))}function Tt(h){Ke.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tt,Ke);var Dh=/^https?$/i,Ll=["POST","PUT"];t=Tt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cr.g(),this.v=this.o?ea(this.o):ea(Cr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(ne){ao(this,ne);return}if(h=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)A.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ne of M.keys())A.set(ne,M.get(ne));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ll,w,void 0))||M||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of A)this.g.setRequestHeader(ne,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){ao(this,ne)}};function ao(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,da(h),Jn(h)}function da(h){h.A||(h.A=!0,rt(h,"complete"),rt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,rt(this,"complete"),rt(this,"abort"),Jn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},t.bb=function(){Fl(this)};function Fl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)xs(h.Ea,0,h);else if(rt(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var M;if(M=ve===0){var K=String(h.D).match(so)[1]||null;!K&&u.self&&u.self.location&&(K=u.self.location.protocol.slice(0,-1)),M=!Dh.test(K?K.toLowerCase():"")}A=M}if(A)rt(h,"complete"),rt(h,"success");else{h.m=6;try{var ne=2<Fn(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",da(h)}}finally{Jn(h)}}}}function Jn(h,w){if(h.g){fa(h);const A=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||rt(h,"ready");try{A.onreadystatechange=M}catch{}}}function fa(h){h.I&&(u.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Al(w)}};function Ul(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ha(h){const w={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(k(h[M]))continue;var A=U(h[M]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ne=w[K]||[];w[K]=ne,ne.push(A)}I(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(h,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||w}function Bl(h){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,h),this.cb=Xr("retryDelaySeedMs",1e4,h),this.Wa=Xr("forwardChannelMaxRetries",2,h),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ro(h&&h.concurrentRequestLimit),this.Da=new kh,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bl.prototype,t.la=8,t.G=1,t.connect=function(h,w,A,M){Mt(0),this.W=h,this.H=w||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=ju(this,null,this.W),Jr(this)};function pn(h){if(pa(h),h.G==3){var w=h.U++,A=Xn(h.I);if(pt(A,"SID",h.K),pt(A,"RID",w),pt(A,"TYPE","terminate"),Ss(h,A),w=new br(h,h.j,w),w.L=2,w.v=Zs(Xn(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&u.Image&&(new Image().src=w.v,A=!0),A||(w.g=Ou(w.j,null),w.g.ea(w.v)),w.F=Date.now(),mt(w)}Du(h)}function Nr(h){h.g&&($l(h),h.g.cancel(),h.g=null)}function pa(h){Nr(h),h.u&&(u.clearTimeout(h.u),h.u=null),ya(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Jr(h){if(!Yn(h.h)&&!h.s){h.s=!0;var w=h.Ga;se||ae(),Q||(se(),Q=!0),ee.add(w,h),h.B=0}}function jh(h,w){return _u(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Tr(x(h.Ga,h,w),ku(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new br(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=T(ne),D(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=ri(this,K,w),A=Xn(this.I),pt(A,"RID",h),pt(A,"CVER",22),this.D&&pt(A,"X-HTTP-Session-Id",this.D),Ss(this,A),ne&&(this.O?w="headers="+encodeURIComponent(String(Ts(ne)))+"&"+w:this.m&&ni(A,this.m,ne)),Vl(this.h,K),this.Ua&&pt(A,"TYPE","init"),this.P?(pt(A,"$req",w),pt(A,"SID","null"),K.T=!0,aa(K,A,null)):aa(K,A,w),this.G=2}}else this.G==3&&(h?ma(this,h):this.i.length==0||Yn(this.h)||ma(this))};function ma(h,w){var A;w?A=w.l:A=h.U++;const M=Xn(h.I);pt(M,"SID",h.K),pt(M,"RID",A),pt(M,"AID",h.T),Ss(h,M),h.m&&h.o&&ni(M,h.m,h.o),A=new br(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),w&&(h.i=w.D.concat(h.i)),w=ri(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Vl(h.h,A),aa(A,M,w)}function Ss(h,w){h.H&&q(h.H,function(A,M){pt(w,M,A)}),h.l&&Ys({},function(A,M){pt(w,M,A)})}function ri(h,w,A){A=Math.min(h.i.length,A);var M=h.l?x(h.l.Na,h.l,h):null;e:{var K=h.i;let ne=-1;for(;;){const ve=["count="+A];ne==-1?0<A?(ne=K[0].g,ve.push("ofs="+ne)):ne=0:ve.push("ofs="+ne);let ft=!0;for(let Zt=0;Zt<A;Zt++){let st=K[Zt].g;const on=K[Zt].map;if(st-=ne,0>st)ne=Math.max(0,K[Zt].g-100),ft=!1;else try{Pu(on,ve,"req"+st+"_")}catch{M&&M(on)}}if(ft){M=ve.join("&");break e}}}return h=h.i.splice(0,A),w.D=h,M}function lo(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;se||ae(),Q||(se(),Q=!0),ee.add(w,h),h.v=0}}function ga(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Tr(x(h.Fa,h),ku(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Tr(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Nr(this),Nu(this))};function $l(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function Nu(h){h.g=new br(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Xn(h.qa);pt(w,"RID","rpc"),pt(w,"SID",h.K),pt(w,"AID",h.T),pt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&pt(w,"TO",h.ja),pt(w,"TYPE","xmlhttp"),Ss(h,w),h.m&&h.o&&ni(w,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=Zs(Xn(w)),A.m=null,A.P=!0,jl(A,h)}t.Za=function(){this.C!=null&&(this.C=null,Nr(this),ga(this),Mt(19))};function ya(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function va(h,w){var A=null;if(h.g==w){ya(h),$l(h),h.g=null;var M=2}else if(Nn(h.h,w))A=w.D,Eu(h.h,w),M=1;else return;if(h.G!=0){if(w.o)if(M==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var K=h.B;M=Ji(),rt(M,new ra(M,A)),Jr(h)}else lo(h);else if(K=w.s,K==3||K==0&&0<w.X||!(M==1&&jh(h,w)||M==2&&ga(h)))switch(A&&0<A.length&&(w=h.h,w.i=w.i.concat(A)),K){case 1:Cs(h,5);break;case 4:Cs(h,10);break;case 3:Cs(h,6);break;default:Cs(h,2)}}}function ku(h,w){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*w}function Cs(h,w){if(h.j.info("Error code "+w),w==2){var A=x(h.fb,h),M=h.Xa;const K=!M;M=new _s(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||io(M,"https"),Zs(M),K?Nh(M.toString(),A):Ru(M.toString(),A)}else Mt(2);h.G=0,h.l&&h.l.sa(w),Du(h),pa(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Du(h){if(h.G=0,h.ka=[],h.l){const w=Tu(h.h);(w.length!=0||h.i.length!=0)&&(R(h.ka,w),R(h.ka,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.ra()}}function ju(h,w,A){var M=A instanceof _s?Xn(A):new _s(A);if(M.g!="")w&&(M.g=w+"."+M.g),Xs(M,M.s);else{var K=u.location;M=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;var ne=new _s(null);M&&io(ne,M),w&&(ne.g=w),K&&Xs(ne,K),A&&(ne.l=A),M=ne}return A=h.D,w=h.ya,A&&w&&pt(M,A,w),pt(M,"VER",h.la),Ss(h,M),M}function Ou(h,w,A){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new Tt(new Es({eb:A})):new Tt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zl(){}t=zl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xa(){}xa.prototype.g=function(h,w){return new kn(h,w)};function kn(h,w){Ke.call(this),this.g=new Bl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!k(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Zr(this)}b(kn,Ke),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){pn(this.g)},kn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=bl(h),h=A);w.i.push(new wu(w.Ya++,h)),w.G==3&&Jr(w)},kn.prototype.N=function(){this.g.l=null,delete this.j,pn(this.g),delete this.g,kn.aa.N.call(this)};function Vu(h){Gr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const A in w){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}b(Vu,Gr);function Mu(){na.call(this),this.status=1}b(Mu,na);function Zr(h){this.g=h}b(Zr,zl),Zr.prototype.ua=function(){rt(this.g,"a")},Zr.prototype.ta=function(h){rt(this.g,new Vu(h))},Zr.prototype.sa=function(h){rt(this.g,new Mu)},Zr.prototype.ra=function(){rt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,IT=function(){return new xa},PT=function(){return Ji()},RT=Kr,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Xd=ia,gu.COMPLETE="complete",AT=gu,ta.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,wc=ta,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,bT=Tt}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const mw="@firebase/firestore",gw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new mT("@firebase/firestore");function Wa(){return Oo.logLevel}function Te(t,...e){if(Oo.logLevel<=ot.DEBUG){const n=e.map(ey);Oo.debug(`Firestore (${vl}): ${t}`,...n)}}function Bs(t,...e){if(Oo.logLevel<=ot.ERROR){const n=e.map(ey);Oo.error(`Firestore (${vl}): ${t}`,...n)}}function il(t,...e){if(Oo.logLevel<=ot.WARN){const n=e.map(ey);Oo.warn(`Firestore (${vl}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,NT(t,r,n)}function NT(t,e,n){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||NT(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends qo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pn.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ai,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ai)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new kT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class C2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=R2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function rg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return gm(i)===gm(a)?et(i,a):gm(i)?1:-1}return et(t.length,e.length)}const P2=55296,I2=57343;function gm(t){const e=t.charCodeAt(0);return e>=P2&&e<=I2}function ol(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__name__";class ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ss.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return et(e.length,n.length)}static compareSegments(e,n){const r=ss.isNumericId(e),i=ss.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ss.extractNumericId(e).compare(ss.extractNumericId(n)):rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class Nt extends ss{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ss{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return N2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vw}static keyField(){return new vn([vw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Nt.fromString(e))}static fromName(e){return new ke(Nt.fromString(e).popFirst(5))}static empty(){return new ke(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e,n){if(!n)throw new Pe(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D2(t,e,n,r){if(e===!0&&r===!0)throw new Pe(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xw(t){if(!ke.isDocumentKey(t))throw new Pe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ny(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Uc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ny(t);throw new Pe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function eu(t,e){if(!DT(t))throw new Pe(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Pe(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=-62135596800,_w=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_w);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ww)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_w}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ww;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Yt("string",_t._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new _t(0,0))}static max(){return new Fe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function j2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Ii(i,ke.empty(),e)}function O2(t){return new Ii(t.readTime,t.key,Bc)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(Fe.min(),ke.empty(),Bc)}static max(){return new Ii(Fe.max(),ke.empty(),Bc)}}function V2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==M2)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(d=>r(d)))})),l=!0,a===i&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((i=>i?oe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((g=>{l[f]=g,++u,u===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new oe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function F2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function Yf(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function U2(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="";function B2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ew(e)),e=$2(t.get(n),e);return Ew(e)}function $2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case jT:n+="";break;default:n+=a}}return n}function Ew(t){return t+jT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=a??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sw(this.data.getIterator())}getIteratorFrom(e){return new Sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class Sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Br([])}unionWith(e){let n=new rn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VT("Invalid base64 string: "+a):a}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=z2.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="server_timestamp",LT="__type__",FT="__previous_value__",UT="__local_write_time__";function sy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LT])==null?void 0:r.stringValue)===MT}function Xf(t){const e=t.mapValue.fields[FT];return sy(e)?Xf(e):e}function $c(t){const e=Ni(t.mapValue.fields[UT].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i,a,l,u,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const mf="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__type__",W2="__max__",Dd={mapValue:{}},$T="__vector__",gf="value";function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:G2(t)?9007199254740991:q2(t)?10:11:Oe(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ni(i.timestampValue),u=Ni(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ki(i.bytesValue).isEqual(ki(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ft(i.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ft(i.integerValue)===Ft(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ft(i.doubleValue),u=Ft(a.doubleValue);return l===u?pf(l)===pf(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Tw(l)!==Tw(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!hs(l[d],u[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Hc(t,e){return(t.values||[]).find((n=>hs(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=Di(t),r=Di(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Ft(a.integerValue||a.doubleValue),d=Ft(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return Cw(t.timestampValue,e.timestampValue);case 4:return Cw($c(t),$c(e));case 5:return rg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=ki(a),d=ki(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=et(u[f],d[f]);if(g!==0)return g}return et(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=et(Ft(a.latitude),Ft(l.latitude));return u!==0?u:et(Ft(a.longitude),Ft(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var x,_,b,C;const u=a.fields||{},d=l.fields||{},f=(x=u[gf])==null?void 0:x.arrayValue,g=(_=d[gf])==null?void 0:_.arrayValue,y=et(((b=f==null?void 0:f.values)==null?void 0:b.length)||0,((C=g==null?void 0:g.values)==null?void 0:C.length)||0);return y!==0?y:bw(f,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Dd.mapValue&&l===Dd.mapValue)return 0;if(a===Dd.mapValue)return 1;if(l===Dd.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const x=rg(d[y],g[y]);if(x!==0)return x;const _=al(u[d[y]],f[g[y]]);if(_!==0)return _}return et(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function Cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ni(t),r=Ni(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function bw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=al(n[i],r[i]);if(a)return a}return et(n.length,r.length)}function ll(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ni(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ki(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=sg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${sg(n.fields[l])}`;return i+"}"})(t.mapValue):Oe(61005,{value:t})}function Jd(t){switch(Di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(t);return e?16+Jd(e):16;case 5:return 2*t.stringValue.length;case 6:return ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Jd(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Go(r.fields,((a,l)=>{i+=a.length+Jd(l)})),i})(t.mapValue);default:throw Oe(13486,{value:t})}}function ig(t){return!!t&&"integerValue"in t}function iy(t){return!!t&&"arrayValue"in t}function Aw(t){return!!t&&"nullValue"in t}function Rw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zd(t){return!!t&&"mapValue"in t}function q2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BT])==null?void 0:r.stringValue)===$T}function Ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Go(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ac(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return{...t}}function G2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Ac(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Go(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new xr(Ac(this.value))}}function zT(t){const e=[];return Go(t.fields,((n,r)=>{const i=new vn([n]);if(Zd(r)){const a=zT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new In(e,0,Fe.min(),Fe.min(),Fe.min(),xr.empty(),0)}static newFoundDocument(e,n,r,i){return new In(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new In(e,2,n,Fe.min(),Fe.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Fe.min(),Fe.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function Pw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=al(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function K2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT=class{};class nn extends HT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y2(e,n,r):n==="array-contains"?new Z2(e,r):n==="in"?new ek(e,r):n==="not-in"?new tk(e,r):n==="array-contains-any"?new nk(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X2(e,r):new J2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends HT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return WT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WT(t){return t.op==="and"}function qT(t){return Q2(t)&&WT(t)}function Q2(t){for(const e of t.filters)if(e instanceof ps)return!1;return!0}function og(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(qT(t))return t.filters.map((e=>og(e))).join(",");{const e=t.filters.map((n=>og(n))).join(",");return`${t.op}(${e})`}}function GT(t,e){return t instanceof nn?(function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&hs(r.value,i.value)})(t,e):t instanceof ps?(function(r,i){return i instanceof ps&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&GT(l,i.filters[u])),!0):!1})(t,e):void Oe(19439)}function KT(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`})(t):t instanceof ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"})(t):"Filter"}class Y2 extends nn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class X2 extends nn{constructor(e,n){super(e,"in",n),this.keys=QT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class J2 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=QT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class Z2 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iy(n)&&Hc(n.arrayValue,this.value)}}class ek extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class tk extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class nk extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Nw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new rk(t,e,n,r,i,a,l)}function oy(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>og(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ll(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ll(r))).join(",")),e.Te=n}return e.Te}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Iw(t.startAt,e.startAt)&&Iw(t.endAt,e.endAt)}function ag(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sk(t,e,n,r,i,a,l,u){return new Jf(t,e,n,r,i,a,l,u)}function ly(t){return new Jf(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ik(t){return t.collectionGroup!==null}function Rc(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new rn(vn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new vf(a,r))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new vf(vn.keyField(),r))}return e.Ie}function as(t){const e=Ue(t);return e.Ee||(e.Ee=ok(e,Rc(t))),e.Ee}function ok(t,e){if(t.limitType==="F")return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new vf(i.field,a)}));const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lg(t,e,n){return new Jf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zf(t,e){return ay(as(t),as(e))&&t.limitType===e.limitType}function YT(t){return`${oy(as(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>KT(i))).join(", ")}]`),Yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ll(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ll(i))).join(",")),`Target(${r})`})(as(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Rc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const f=Pw(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,Rc(r),i)||r.endAt&&!(function(l,u,d){const f=Pw(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,Rc(r),i))})(t,e)}function ak(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XT(t){return(e,n)=>{let r=!1;for(const i of Rc(t)){const a=lk(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function lk(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?al(d,f):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new jt(ke.comparator);function $s(){return ck}const JT=new jt(ke.comparator);function _c(...t){let e=JT;for(const n of t)e=e.insert(n.key,n);return e}function ZT(t){let e=JT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ao(){return Pc()}function e1(){return Pc()}function Pc(){return new Ko((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uk=new jt(ke.comparator),dk=new rn(ke.comparator);function tt(...t){let e=dk;for(const n of t)e=e.add(n);return e}const fk=new rn(et);function hk(){return fk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function t1(t){return{integerValue:""+t}}function pk(t,e){return U2(e)?t1(e):cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function mk(t,e,n){return t instanceof xf?(function(i,a){const l={fields:{[LT]:{stringValue:MT},[UT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sy(a)&&(a=Xf(a)),a&&(l.fields[FT]=a),{mapValue:l}})(n,e):t instanceof Wc?r1(t,e):t instanceof qc?s1(t,e):(function(i,a){const l=n1(i,a),u=Dw(l)+Dw(i.Ae);return ig(l)&&ig(i.Ae)?t1(u):cy(i.serializer,u)})(t,e)}function gk(t,e,n){return t instanceof Wc?r1(t,e):t instanceof qc?s1(t,e):n}function n1(t,e){return t instanceof wf?(function(r){return ig(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class xf extends th{}class Wc extends th{constructor(e){super(),this.elements=e}}function r1(t,e){const n=i1(e);for(const r of t.elements)n.some((i=>hs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class qc extends th{constructor(e){super(),this.elements=e}}function s1(t,e){let n=i1(e);for(const r of t.elements)n=n.filter((i=>!hs(i,r)));return{arrayValue:{values:n}}}class wf extends th{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Dw(t){return Ft(t.integerValue||t.doubleValue)}function i1(t){return iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yk(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Wc&&i instanceof Wc||r instanceof qc&&i instanceof qc?ol(r.elements,i.elements,hs):r instanceof wf&&i instanceof wf?hs(r.Ae,i.Ae):r instanceof xf&&i instanceof xf})(t.transform,e.transform)}class vk{constructor(e,n){this.version=e,this.transformResults=n}}class Vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vs}static exists(e){return new Vs(void 0,e)}static updateTime(e){return new Vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nh{}function o1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new l1(t.key,Vs.none()):new tu(t.key,t.data,Vs.none());{const n=t.data,r=xr.empty();let i=new rn(vn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Qo(t.key,r,new Br(i.toArray()),Vs.none())}}function xk(t,e,n){t instanceof tu?(function(i,a,l){const u=i.value.clone(),d=Ow(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Qo?(function(i,a,l){if(!ef(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Ow(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(a1(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ic(t,e,n,r){return t instanceof tu?(function(a,l,u,d){if(!ef(a.precondition,l))return u;const f=a.value.clone(),g=Vw(a.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qo?(function(a,l,u,d){if(!ef(a.precondition,l))return u;const f=Vw(a.fieldTransforms,d,l),g=l.data;return g.setAll(a1(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,l,u){return ef(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function wk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=n1(r.transform,i||null);a!=null&&(n===null&&(n=xr.empty()),n.set(r.field,a))}return n||null}function jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ol(r,i,((a,l)=>yk(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends nh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qo extends nh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function a1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Ow(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,gk(l,u,n[i]))}return r}function Vw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,mk(a,l,e))}return r}class l1 extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _k extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xk(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e1();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const d=o1(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((n,r)=>jw(n,r)))&&ol(this.baseMutations,e.baseMutations,((n,r)=>jw(n,r)))}}class uy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return uk})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new uy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tk=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,it;function Ck(t){switch(t){case he.OK:return Oe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function c1(t){if(t===void 0)return Bs("GRPC error has no .code"),he.UNKNOWN;switch(t){case Ht.OK:return he.OK;case Ht.CANCELLED:return he.CANCELLED;case Ht.UNKNOWN:return he.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return he.INTERNAL;case Ht.UNAVAILABLE:return he.UNAVAILABLE;case Ht.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ht.NOT_FOUND:return he.NOT_FOUND;case Ht.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ht.ABORTED:return he.ABORTED;case Ht.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ht.DATA_LOSS:return he.DATA_LOSS;default:return Oe(39323,{code:t})}}(it=Ht||(Ht={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new bi([4294967295,4294967295],0);function Mw(t){const e=bk().encode(t),n=new CT;return n.update(e),new Uint8Array(n.digest())}function Lw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bi([n,r],0),new bi([i,a],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bi.fromNumber(r)));return i.compare(Ak)===1&&(i=new bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Mw(e),[r,i]=Lw(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new dy(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Mw(e),[r,i]=Lw(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rh(Fe.min(),i,new jt(et),$s(),tt())}}class nu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class u1{constructor(e,n){this.targetId=e,this.Ce=n}}class d1{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fw{constructor(){this.ve=0,this.Fe=Uw(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}})),new nu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Uw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rk{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=jd(),this.He=jd(),this.Ye=new jt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(ag(a))if(r===0){const l=new ke(a.path);this.et(n,l,In.newNoDocument(l,Fe.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=ki(r).toUint8Array()}catch(d){if(d instanceof VT)return il("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new dy(l,i,a)}catch(d){return il(d instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&ag(u.target)){const d=new ke(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,In.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=tt();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new rh(e,n,this.Ye,this.je,r);return this.je=$s(),this.Je=jd(),this.He=jd(),this.Ye=new jt(et),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Fw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jd(){return new jt(ke.comparator)}function Uw(){return new jt(ke.comparator)}const Pk={asc:"ASCENDING",desc:"DESCENDING"},Ik={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nk={and:"AND",or:"OR"};class kk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cg(t,e){return t.useProto3Json||Yf(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(t,e){return _f(t,e.toTimestamp())}function ls(t){return ut(!!t,49232),Fe.fromTimestamp((function(n){const r=Ni(n);return new _t(r.seconds,r.nanos)})(t))}function fy(t,e){return ug(t,e).canonicalString()}function ug(t,e){const n=(function(i){return new Nt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function h1(t){const e=Nt.fromString(t);return ut(v1(e),10190,{key:e.toString()}),e}function dg(t,e){return fy(t.databaseId,e.path)}function ym(t,e){const n=h1(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(m1(n))}function p1(t,e){return fy(t.databaseId,e)}function jk(t){const e=h1(t);return e.length===4?Nt.emptyPath():m1(e)}function fg(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m1(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bw(t,e,n){return{name:dg(t,e),fields:n.value.mapValue.fields}}function Ok(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(ut(g===void 0||typeof g=="string",58123),xn.fromBase64String(g||"")):(ut(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),xn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const g=f.code===void 0?he.UNKNOWN:c1(f.code);return new Pe(g,f.message||"")})(l);n=new d1(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ym(t,r.document.name),a=ls(r.document.updateTime),l=r.document.createTime?ls(r.document.createTime):Fe.min(),u=new xr({mapValue:{fields:r.document.fields}}),d=In.newFoundDocument(i,a,l,u),f=r.targetIds||[],g=r.removedTargetIds||[];n=new tf(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ym(t,r.document),a=r.readTime?ls(r.readTime):Fe.min(),l=In.newNoDocument(i,a),u=r.removedTargetIds||[];n=new tf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ym(t,r.document),a=r.removedTargetIds||[];n=new tf([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Sk(i,a),u=r.targetId;n=new u1(u,l)}}return n}function Vk(t,e){let n;if(e instanceof tu)n={update:Bw(t,e.key,e.value)};else if(e instanceof l1)n={delete:dg(t,e.key)};else if(e instanceof Qo)n={update:Bw(t,e.key,e.data),updateMask:Wk(e.fieldMask)};else{if(!(e instanceof _k))return Oe(16599,{Vt:e.type});n={verify:dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof xf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Wc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof qc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Dk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(t,e.precondition)),n}function Mk(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?ls(i.updateTime):ls(a);return l.isEqual(Fe.min())&&(l=ls(a)),new vk(l,i.transformResults||[])})(n,e)))):[]}function Lk(t,e){return{documents:[p1(t,e.path)]}}function Fk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=p1(t,i);const a=(function(f){if(f.length!==0)return y1(ps.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((g=>(function(x){return{field:Ga(x.field),direction:$k(x.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=cg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function Uk(t){let e=jk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(y){const x=g1(y);return x instanceof ps&&qT(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((x=>(function(b){return new vf(Ka(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let x;return x=typeof y=="object"?y.value:y,Yf(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(y){const x=!!y.before,_=y.values||[];return new yf(_,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const x=!y.before,_=y.values||[];return new yf(_,x)})(n.endAt)),sk(e,i,l,a,u,"F",d,f)}function Bk(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ka(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ka(n.unaryFilter.field);return nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ka(n.unaryFilter.field);return nn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(Ka(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ps.create(n.compositeFilter.filters.map((r=>g1(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function $k(t){return Pk[t]}function zk(t){return Ik[t]}function Hk(t){return Nk[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Ka(t){return vn.fromServerFormat(t.fieldPath)}function y1(t){return t instanceof nn?(function(n){if(n.op==="=="){if(Rw(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Aw(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rw(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Aw(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:zk(n.op),value:n.value}}})(t):t instanceof ps?(function(n){const r=n.getFilters().map((i=>y1(i)));return r.length===1?r[0]:{compositeFilter:{op:Hk(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function Wk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function v1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r,i,a=Fe.min(),l=Fe.min(),u=xn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.yt=e}}function Gk(t){const e=Uk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.Cn=new Qk}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ii.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Qk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(Nt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x1=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(x1,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="LruGarbageCollector",Yk=1048576;function Hw([t,e],[n,r]){const i=et(t,n);return i===0?et(e,r):i}class Xk{constructor(e){this.Ir=e,this.buffer=new rn(Hw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(zw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?Te(zw,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)}))}}class Zk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Qf.ce);const r=new Xk(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve($w)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$w):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Wa()<=ot.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y}))))}}function eD(t,e){return new Zk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new Ko((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ic(r.mutation,i,Br.empty(),_t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const i=Ao();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=_c();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ao();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=$s();const l=Pc(),u=(function(){return Pc()})();return n.forEach(((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Qo)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Ic(g.mutation,f,g.mutation.getFieldMask(),_t.now())):l.set(f.key,Br.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>u.set(f,new nD(g,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Pc();let i=new jt(((l,u)=>l-u)),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=r.get(d)||Br.empty();g=u.applyToLocalView(f,g),r.set(d,g);const y=(i.get(u.batchId)||tt()).add(d);i=i.insert(u.batchId,y)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,y=e1();g.forEach((x=>{if(!a.has(x)){const _=o1(n.get(x),r.get(x));_!==null&&y.set(x,_),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ik(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):oe.resolve(Ao());let u=Bc,d=a;return l.next((f=>oe.forEach(f,((g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,tt()))).next((g=>({batchId:u,changes:ZT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=_c();return this.indexManager.getCollectionParents(e,a).next((u=>oe.forEach(u,(d=>{const f=(function(y,x){return new Jf(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((g=>{g.forEach(((y,x)=>{l=l.insert(y,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,In.newInvalidDocument(g)))}));let u=_c();return l.forEach(((d,f)=>{const g=a.get(d);g!==void 0&&Ic(g.mutation,f,Br.empty(),_t.now()),eh(n,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ls(i.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Gk(i.bundledQuery),readTime:ls(i.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.overlays=new jt(ke.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ao();return oe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Ao(),a=n.length+1,l=new ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new jt(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=a.get(f.largestBatchId);g===null&&(g=Ao(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Ao(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=i)););return oe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Tk(n,r));let a=this.qr.get(n);a===void 0&&(a=tt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new un(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new Nt([])),r=new un(n,e),i=new un(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new Nt([])),r=new un(n,e),i=new un(n,e+1);let a=tt();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new un(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Ek(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new un(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?ry:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(et);return n.forEach((i=>{const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new un(new ke(a),0);let u=new rn(et);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Yr)),!0)}),l),oe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(i=>{const a=new un(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new un(n,0),i=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.ri=e,this.docs=(function(){return new jt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=$s();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():In.newInvalidDocument(i))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=$s();const l=n.path,u=new ke(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||V2(O2(g),r)<=0||(i.has(g.key)||eh(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cD(this)}getSize(e){return oe.resolve(this.size)}}class cD extends tD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.persistence=e,this.si=new Ko((n=>oy(n)),ay),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new hy,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),oe.waitFor(a).next((()=>i))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new oD,this.referenceDelegate=e(this),this.Pi=new uD(this),this.indexManager=new Kk,this.remoteDocumentCache=(function(i){return new lD(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qk(n),this.Ii=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new aD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new dD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class dD extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ri=new hy,this.Vi=null}static mi(e){return new py(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const i=ke.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ef{constructor(e,n){this.persistence=e,this.pi=new Ko((r=>B2(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=eD(this,n)}static mi(e,n){return new Ef(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?oe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jd(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=tt(),i=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new my(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oN()?8:F2(sN())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new fD;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Wa()<=ot.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Wa()<=ot.DEBUG&&Te("QueryEngine","Query:",qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Wa()<=ot.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):oe.resolve())}ys(e,n){if(kw(n))return oe.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=lg(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=tt(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,u);return this.Cs(n,f,l,d.readTime)?this.ys(e,lg(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return kw(n)||i.isEqual(Fe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?oe.resolve(null):(Wa()<=ot.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(n)),this.vs(e,l,n,j2(i,Bc)).next((u=>u)))}))}Ds(e,n){let r=new rn(XT(e));return n.forEach(((i,a)=>{eh(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Wa()<=ot.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ii.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LocalStore",pD=3e8;class mD{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new jt(et),this.xs=new Ko((a=>oy(a)),ay),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function gD(t,e,n,r){return new mD(t,e,n,r)}async function _1(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=tt();for(const f of i){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function yD(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,g){const y=f.batch,x=y.keys();let _=oe.resolve();return x.forEach((b=>{_=_.next((()=>g.getEntry(d,b))).next((C=>{const R=f.docVersions.get(b);ut(R!==null,48541),C.version.compareTo(R)<0&&(y.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),g.addEntry(C)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=tt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function E1(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function vD(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((g,y)=>{const x=i.get(y);if(!x)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,y))));let _=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(xn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),i=i.insert(y,_),(function(C,R,j){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=pD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,_,g)&&u.push(n.Pi.updateTargetData(a,_))}));let d=$s(),f=tt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(xD(a,l,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(Fe.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return oe.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function xD(t,e,n){let r=tt(),i=tt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=$s();return n.forEach(((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Te(gy,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function wD(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ry),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _D(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,oe.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ei(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hg(t,e,n){const r=Ue(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!wl(l))throw l;Te(gy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Ww(t,e,n){const r=Ue(t);let i=Fe.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,g){const y=Ue(d),x=y.xs.get(g);return x!==void 0?oe.resolve(y.Ms.get(x)):y.Pi.getTargetData(f,g)})(r,l,as(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Fe.min(),n?a:tt()))).next((u=>(ED(r,ak(e),u),{documents:u,Qs:a})))))}function ED(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class qw{constructor(){this.activeTargetIds=hk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.Mo=new qw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="ConnectivityMonitor";class Kw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(Gw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(Gw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function pg(){return Od===null?Od=(function(){return 268435456+Math.round(2147483648*Math.random())})():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===mf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=pg(),u=this.zo(e,n.toUriEncodedString());Te(vm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(u),g=Kf(f);return this.Jo(e,u,d,r,g).then((y=>(Te(vm,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw il(vm,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=CD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class RD extends bD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=pg();return new Promise(((u,d)=>{const f=new bT;f.setWithCredentials(!0),f.listenOnce(AT.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Xd.NO_ERROR:const y=f.getResponseJson();Te(An,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case Xd.TIMEOUT:Te(An,`RPC '${e}' ${l} timed out`),d(new Pe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const x=f.getStatus();if(Te(An,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const C=(function(j){const k=j.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(k)>=0?k:he.UNKNOWN})(b.status);d(new Pe(C,b.message))}else d(new Pe(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Pe(he.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Te(An,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);Te(An,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=pg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=IT(),u=PT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");Te(An,`Creating RPC '${e}' stream ${i}: ${g}`,d);const y=l.createWebChannel(g,d);this.I_(y);let x=!1,_=!1;const b=new AD({Yo:R=>{_?Te(An,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(x||(Te(An,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),Te(An,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Zo:()=>y.close()}),C=(R,j,k)=>{R.listen(j,(O=>{try{k(O)}catch(L){setTimeout((()=>{throw L}),0)}}))};return C(y,wc.EventType.OPEN,(()=>{_||(Te(An,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),C(y,wc.EventType.CLOSE,(()=>{_||(_=!0,Te(An,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(y))})),C(y,wc.EventType.ERROR,(R=>{_||(_=!0,il(An,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.a_(new Pe(he.UNAVAILABLE,"The operation could not be completed")))})),C(y,wc.EventType.MESSAGE,(R=>{var j;if(!_){const k=R.data[0];ut(!!k,16349);const O=k,L=(O==null?void 0:O.error)||((j=O[0])==null?void 0:j.error);if(L){Te(An,`RPC '${e}' stream ${i} received error:`,L);const B=L.status;let q=(function(P){const D=Ht[P];if(D!==void 0)return c1(D)})(B),I=L.message;q===void 0&&(q=he.INTERNAL,I="Unknown error status: "+B+" with message "+L.message),_=!0,b.a_(new Pe(q,I)),y.close()}else Te(An,`RPC '${e}' stream ${i} received:`,k),b.u_(k)}})),C(u,RT.STAT_EVENT,(R=>{R.stat===ng.PROXY?Te(An,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ng.NOPROXY&&Te(An,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new kk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="PersistentStream";class S1{constructor(e,n,r,i,a,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Pe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(Qw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(Qw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PD extends S1{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ok(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?ls(l.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fg(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=ag(d)?{documents:Lk(a,d)}:{query:Fk(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=f1(a,l.resumeToken);const f=cg(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=_f(a,l.snapshotVersion.toTimestamp());const f=cg(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=Bk(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.q_(n)}}class ID extends S1{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Mk(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Vk(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class kD extends ND{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,ug(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(he.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,ug(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(he.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class jD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Yo(this)&&(Te(Vo,"Restarting streams for network reachability change."),await(async function(d){const f=Ue(d);f.Ea.add(4),await ru(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ih(f)})(this))}))})),this.Ra=new DD(r,i)}}async function ih(t){if(Yo(t))for(const e of t.da)await e(!0)}async function ru(t){for(const e of t.da)await e(!1)}function C1(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wy(n)?xy(n):_l(n).O_()&&vy(n,e))}function yy(t,e){const n=Ue(t),r=_l(n);n.Ia.delete(e),r.O_()&&b1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yo(n)&&n.Ra.set("Unknown"))}function vy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Y_(e)}function b1(t,e){t.Va.Ue(e),_l(t).Z_(e)}function xy(t){t.Va=new Rk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Ra.ua()}function wy(t){return Yo(t)&&!_l(t).x_()&&t.Ia.size>0}function Yo(t){return Ue(t).Ea.size===0}function A1(t){t.Va=void 0}async function OD(t){t.Ra.set("Online")}async function VD(t){t.Ia.forEach(((e,n)=>{vy(t,e)}))}async function MD(t,e){A1(t),wy(t)?(t.Ra.ha(e),xy(t)):t.Ra.set("Unknown")}async function LD(t,e,n){if(t.Ra.set("Online"),e instanceof d1&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Te(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tf(t,r)}else if(e instanceof tf?t.Va.Ze(e):e instanceof u1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await E1(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(xn.EMPTY_BYTE_STRING,g.snapshotVersion)),b1(a,d);const y=new Ei(g.target,d,f,g.sequenceNumber);vy(a,y)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(Vo,"Failed to raise snapshot:",r),await Tf(t,r)}}async function Tf(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await ru(t),t.Ra.set("Offline"),n||(n=()=>E1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ih(t)}))}function R1(t,e){return e().catch((n=>Tf(t,n,e)))}async function oh(t){const e=Ue(t),n=ji(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ry;for(;FD(e);)try{const i=await wD(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UD(e,i)}catch(i){await Tf(e,i)}P1(e)&&I1(e)}function FD(t){return Yo(t)&&t.Ta.length<10}function UD(t,e){t.Ta.push(e);const n=ji(t);n.O_()&&n.X_&&n.ea(e.mutations)}function P1(t){return Yo(t)&&!ji(t).x_()&&t.Ta.length>0}function I1(t){ji(t).start()}async function BD(t){ji(t).ra()}async function $D(t){const e=ji(t);for(const n of t.Ta)e.ea(n.mutations)}async function zD(t,e,n){const r=t.Ta.shift(),i=uy.from(r,e,n);await R1(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await oh(t)}async function HD(t,e){e&&ji(t).X_&&await(async function(r,i){if((function(l){return Ck(l)&&l!==he.ABORTED})(i.code)){const a=r.Ta.shift();ji(r).B_(),await R1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await oh(r)}})(t,e),P1(t)&&I1(t)}async function Yw(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Te(Vo,"RemoteStore received new credentials");const r=Yo(n);n.Ea.add(3),await ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ih(n)}async function WD(t,e){const n=Ue(t);e?(n.Ea.delete(2),await ih(n)):e||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function _l(t){return t.ma||(t.ma=(function(n,r,i){const a=Ue(n);return a.sa(),new PD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:OD.bind(null,t),t_:VD.bind(null,t),r_:MD.bind(null,t),H_:LD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wy(t)?xy(t):t.Ra.set("Unknown")):(await t.ma.stop(),A1(t))}))),t.ma}function ji(t){return t.fa||(t.fa=(function(n,r,i){const a=Ue(n);return a.sa(),new ID(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:BD.bind(null,t),r_:HD.bind(null,t),ta:$D.bind(null,t),na:zD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await oh(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new _y(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),wl(t))return new Pe(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.ga=new jt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ul{constructor(e,n,r,i,a,l,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new ul(e,n,el.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GD{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),a=i.queries;i.queries=Jw(),a.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Pe(he.ABORTED,"Firestore shutting down"))}}function Jw(){return new Ko((t=>YT(t)),Zf)}async function KD(t,e){const n=Ue(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new qD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Ey(l,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ty(n)}async function QD(t,e){const n=Ue(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YD(t,e){const n=Ue(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Ty(n)}function XD(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Ty(t){t.Ca.forEach((e=>{e.next()}))}var mg,Zw;(Zw=mg||(mg={})).Ma="default",Zw.Cache="cache";class JD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class ZD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=XT(e),this.tu=new el(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Xw,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,y)=>{const x=i.get(g),_=eh(this.query,y)?y:null,b=!!x&&this.mutatedKeys.has(x.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;x&&_?x.data.isEqual(_.data)?b!==C&&(r.track({type:3,doc:_}),R=!0):this.su(x,_)||(r.track({type:2,doc:_}),R=!0,(d&&this.eu(_,d)>0||f&&this.eu(_,f)<0)&&(u=!0)):!x&&_?(r.track({type:0,doc:_}),R=!0):x&&!_&&(r.track({type:1,doc:x}),R=!0,(d||f)&&(u=!0)),R&&(_?(l=l.add(_),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(_,b){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:R})}};return C(_)-C(b)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new ul(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new k1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new N1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sy="SyncEngine";class ej{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tj{constructor(e){this.key=e,this.hu=!1}}class nj{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ko((u=>YT(u)),Zf),this.Iu=new Map,this.Eu=new Set,this.du=new jt(ke.comparator),this.Au=new Map,this.Ru=new hy,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rj(t,e,n=!0){const r=L1(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await D1(r,e,n,!0),i}async function sj(t,e){const n=L1(t);await D1(n,e,!0,!1)}async function D1(t,e,n,r){const i=await _D(t.localStore,as(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await ij(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&C1(t.remoteStore,i),u}async function ij(t,e,n,r,i){t.pu=(y,x,_)=>(async function(C,R,j,k){let O=R.view.ru(j);O.Cs&&(O=await Ww(C.localStore,R.query,!1).then((({documents:I})=>R.view.ru(I,O))));const L=k&&k.targetChanges.get(R.targetId),B=k&&k.targetMismatches.get(R.targetId)!=null,q=R.view.applyChanges(O,C.isPrimaryClient,L,B);return t_(C,R.targetId,q.au),q.snapshot})(t,y,x,_);const a=await Ww(t.localStore,e,!0),l=new ZD(e,a.Qs),u=l.ru(a.documents),d=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,d);t_(t,n,f.au);const g=new ej(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function oj(t,e,n){const r=Ue(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Zf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yy(r.remoteStore,i.targetId),gg(r,i.targetId)})).catch(xl)):(gg(r,i.targetId),await hg(r.localStore,i.targetId,!0))}async function aj(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yy(n.remoteStore,r.targetId))}async function lj(t,e,n){const r=mj(t);try{const i=await(function(l,u){const d=Ue(l),f=_t.now(),g=u.reduce(((_,b)=>_.add(b.key)),tt());let y,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let b=$s(),C=tt();return d.Ns.getEntries(_,g).next((R=>{b=R,b.forEach(((j,k)=>{k.isValidDocument()||(C=C.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,b))).next((R=>{y=R;const j=[];for(const k of u){const O=wk(k,y.get(k.key).overlayedDocument);O!=null&&j.push(new Qo(k.key,O,zT(O.value.mapValue),Vs.exists(!0)))}return d.mutationQueue.addMutationBatch(_,f,j,u)})).next((R=>{x=R;const j=R.applyToLocalDocumentSet(y,C);return d.documentOverlayCache.saveOverlays(_,R.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:ZT(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new jt(et)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await su(r,i.changes),await oh(r.remoteStore)}catch(i){const a=Ey(i,"Failed to persist write");n.reject(a)}}async function j1(t,e){const n=Ue(t);try{const r=await vD(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ut(l.hu,14607):i.removedDocuments.size>0&&(ut(l.hu,42227),l.hu=!1))})),await su(n,r,e)}catch(r){await xl(r)}}function e_(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ue(l);d.onlineState=u;let f=!1;d.queries.forEach(((g,y)=>{for(const x of y.Sa)x.va(u)&&(f=!0)})),f&&Ty(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cj(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new jt(ke.comparator);l=l.insert(a,In.newNoDocument(a,Fe.min()));const u=tt().add(a),d=new rh(Fe.min(),new Map,new jt(et),l,u);await j1(r,d),r.du=r.du.remove(a),r.Au.delete(e),Cy(r)}else await hg(r.localStore,e,!1).then((()=>gg(r,e,n))).catch(xl)}async function uj(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await yD(n.localStore,e);V1(n,r,null),O1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,i)}catch(i){await xl(i)}}async function dj(t,e,n){const r=Ue(t);try{const i=await(function(l,u){const d=Ue(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next((y=>(ut(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);V1(r,e,n),O1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,i)}catch(i){await xl(i)}}function O1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function V1(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||M1(t,r)}))}function M1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cy(t))}function t_(t,e,n){for(const r of n)r instanceof N1?(t.Ru.addReference(r.key,e),fj(t,r)):r instanceof k1?(Te(Sy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||M1(t,r.key)):Oe(19791,{wu:r})}function fj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(Sy,"New document in limbo: "+n),t.Eu.add(r),Cy(t))}function Cy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(Nt.fromString(e)),r=t.fu.next();t.Au.set(r,new tj(n)),t.du=t.du.insert(n,r),C1(t.remoteStore,new Ei(as(ly(n.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function su(t,e,n){const r=Ue(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((f=>{var g;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){i.push(f);const y=my.As(d.targetId,f);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const g=Ue(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(f,(x=>oe.forEach(x.Es,(_=>g.persistence.referenceDelegate.addReference(y,x.targetId,_))).next((()=>oe.forEach(x.ds,(_=>g.persistence.referenceDelegate.removeReference(y,x.targetId,_)))))))))}catch(y){if(!wl(y))throw y;Te(gy,"Failed to update sequence numbers: "+y)}for(const y of f){const x=y.targetId;if(!y.fromCache){const _=g.Ms.get(x),b=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(b);g.Ms=g.Ms.insert(x,C)}}})(r.localStore,a))}async function hj(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Te(Sy,"User change. New user:",e.toKey());const r=await _1(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new Pe(he.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.Ls)}}function pj(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let i=tt();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function L1(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cj.bind(null,e),e.Pu.H_=YD.bind(null,e.eventManager),e.Pu.yu=XD.bind(null,e.eventManager),e}function mj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dj.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gD(this.persistence,new hD,e.initialUser,this.serializer)}Cu(e){return new w1(py.mi,this.serializer)}Du(e){return new TD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class gj extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new w1((r=>Ef.mi(r,n)),this.serializer)}}class yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hj.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GD})()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),r=(function(a){return new RD(a)})(e.databaseInfo);return(function(a,l,u,d){return new kD(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new jD(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>e_(this.syncEngine,n,0)),(function(){return Kw.v()?new Kw:new SD})())}createSyncEngine(e,n){return(function(i,a,l,u,d,f,g){const y=new nj(i,a,l,u,d,f);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ue(i);Te(Vo,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="FirestoreClient";class vj{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Te(Oi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(Oi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await _1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function n_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xj(t);Te(Oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Yw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Yw(e.remoteStore,i))),t._onlineComponents=e}async function xj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Oi,"Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new Sf)}}else Te(Oi,"Using default OfflineComponentProvider"),await wm(t,new gj(void 0));return t._offlineComponents}async function F1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Oi,"Using user provided OnlineComponentProvider"),await n_(t,t._uninitializedComponentsProvider._online)):(Te(Oi,"Using default OnlineComponentProvider"),await n_(t,new yg))),t._onlineComponents}function wj(t){return F1(t).then((e=>e.syncEngine))}async function _j(t){const e=await F1(t),n=e.eventManager;return n.onListen=rj.bind(null,e.syncEngine),n.onUnlisten=oj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aj.bind(null,e.syncEngine),n}function Ej(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const g=new yj({next:x=>{g.Nu(),l.enqueueAndForget((()=>QD(a,y)));const _=x.docs.has(u);!_&&x.fromCache?f.reject(new Pe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&d&&d.source==="server"?f.reject(new Pe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new JD(ly(u.path),g,{includeMetadataChanges:!0,qa:!0});return KD(a,y)})(await _j(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firestore.googleapis.com",s_=!0;class i_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=s_}else this.host=e.host,this.ssl=e.ssl??s_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yk)throw new Pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class by{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new E2;switch(r.type){case"firstParty":return new b2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=r_.get(n);r&&(Te("ComponentProvider","Removing Datastore"),r_.delete(n),r.terminate())})(this),Promise.resolve()}}function Tj(t,e,n,r={}){var f;t=Uc(t,by);const i=Kf(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(dT(`https://${u}`),hT("Firestore",!0)),a.host!==B1&&a.host!==u&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:r};if(!ff(d,l)&&(t._setSettings(d),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Pn.MOCK_USER;else{g=fT(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Pe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Pn(x)}t._authCredentials=new T2(new kT(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ay(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eu(n,fn._jsonSchema))return new fn(e,r||null,new ke(Nt.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Yt("string",fn._jsonSchemaVersion),referencePath:Yt("string")};class Gc extends Ay{constructor(e,n,r){super(e,n,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ke(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function $1(t,e,...n){if(t=Mc(t),arguments.length===1&&(e=ty.newId()),k2("doc","path",e),t instanceof by){const r=Nt.fromString(e,...n);return xw(r),new fn(t,null,new ke(r))}{if(!(t instanceof fn||t instanceof Gc))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return xw(r),new fn(t.firestore,t instanceof Gc?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class a_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const r=xm();r&&Te(o_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;Te(o_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",l_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_y.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:l_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function l_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ry extends by{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new a_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function Sj(t,e){const n=typeof t=="object"?t:ET(),r=typeof t=="string"?t:mf,i=vT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=cT("firestore");a&&Tj(i,...a)}return i}function z1(t){if(t._terminated)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cj(t),t._firestoreClient}function Cj(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,d,f,g){return new H2(u,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,U1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(xn.fromBase64String(e))}catch(n){throw new Pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:Yt("string",wr._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(e){if(eu(e,cs._jsonSchema))return new cs(e.latitude,e.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:Yt("string",cs._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new us(e.vectorValues);throw new Pe(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:Yt("string",us._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^__.*__$/;class Aj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}function W1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class Iy{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(W1(this.Ac)&&bj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Rj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sh(e)}Cc(e,n,r,i=!1){return new Iy({Ac:e,methodName:n,Dc:r,path:vn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pj(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new Rj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ij(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Q1("Data must be an object, but it was:",l,r);const u=G1(r,l);let d,f;if(a.merge)d=new Br(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const x=Nj(e,y,n);if(!l.contains(x))throw new Pe(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Dj(g,x)||g.push(x)}d=new Br(g),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new Aj(new xr(u),d,f)}function q1(t,e){if(K1(t=Mc(t)))return Q1("Unsupported field value:",e,t),G1(t,e);if(t instanceof H1)return(function(r,i){if(!W1(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let d=q1(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Mc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=_t.fromDate(r);return{timestampValue:_f(i.serializer,a)}}if(r instanceof _t){const a=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_f(i.serializer,a)}}if(r instanceof cs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:f1(i.serializer,r._byteString)};if(r instanceof fn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof us)return(function(l,u){return{mapValue:{fields:{[BT]:{stringValue:$T},[gf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return cy(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ny(r)}`)})(t,e)}function G1(t,e){const n={};return OT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(t,((r,i)=>{const a=q1(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function K1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof cs||t instanceof wr||t instanceof fn||t instanceof H1||t instanceof us)}function Q1(t,e,n){if(!K1(n)||!DT(n)){const r=ny(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Nj(t,e,n){if((e=Mc(e))instanceof Py)return e._internalPath;if(typeof e=="string")return Y1(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const kj=new RegExp("[~\\*/\\[\\]]");function Y1(t,e,n){if(e.search(kj)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Py(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Pe(he.INVALID_ARGUMENT,u+t+d)}function Dj(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(J1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jj extends X1{data(){return super.data()}}function J1(t,e){return typeof e=="string"?Y1(t,e):e instanceof Py?e._internalPath:e._delegate._internalPath}class Oj{convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Go(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[gf].arrayValue)==null?void 0:i.values)==null?void 0:a.map((l=>Ft(l.doubleValue)));return new us(n)}convertGeoPoint(e){return new cs(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);ut(v1(r),9688,{name:e});const i=new zc(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return i.isEqual(n)||Bs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends X1{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(J1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=No._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:Yt("string",No._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class nf extends No{data(e={}){return super.data(e)}}class Nc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nf(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new nf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new nf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:Mj(u.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){t=Uc(t,fn);const e=Uc(t.firestore,Ry);return Ej(z1(e),t._key).then((n=>Bj(e,t,n)))}Nc._jsonSchemaVersion="firestore/querySnapshot/1.0",Nc._jsonSchema={type:Yt("string",Nc._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Fj extends Oj{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Z1(t,e,n){t=Uc(t,fn);const r=Uc(t.firestore,Ry),i=Vj(t.converter,e);return Uj(r,[Ij(Pj(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vs.none())])}function Uj(t,e){return(function(r,i){const a=new Ai;return r.asyncQueue.enqueueAndForget((async()=>lj(await wj(r),i,a))),a.promise})(z1(t),e)}function Bj(t,e,n){const r=n.docs.get(e._key),i=new Fj(t);return new No(t,i,e._key,r,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vl=i})(wT),Lc(new sl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Ry(new S2(r.getProvider("auth-internal")),new A2(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(f.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ci(mw,gw,e),Ci(mw,gw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebasestorage.googleapis.com",$j="storageBucket",zj=120*1e3,Hj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends qo{constructor(e,n,r=0){super(_m(e),`Firebase Storage: ${n} (${_m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ms;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ms||(ms={}));function _m(t){return"storage/"+t}function Wj(){const t="An unknown error occurred, please check the error payload for server response.";return new ys(ms.UNKNOWN,t)}function qj(){return new ys(ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gj(){return new ys(ms.CANCELED,"User canceled the upload/download.")}function Kj(t){return new ys(ms.INVALID_URL,"Invalid URL '"+t+"'.")}function Qj(t){return new ys(ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c_(t){return new ys(ms.INVALID_ARGUMENT,t)}function tS(){return new ys(ms.APP_DELETED,"The Firebase app was deleted.")}function Yj(t){return new ys(ms.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$r.makeFromUrl(e,n)}catch{return new $r(e,"")}if(r.path==="")return r;throw Qj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${g}/b/${i}/o${x}`,"i"),b={bucket:1,path:3},C=n===eS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",j=new RegExp(`^https?://${C}/${i}/${R}`,"i"),O=[{regex:u,indices:d,postModify:a},{regex:_,indices:b,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<O.length;L++){const B=O[L],q=B.regex.exec(e);if(q){const I=q[B.indices.bucket];let T=q[B.indices.path];T||(T=""),r=new $r(I,T),B.postModify(r);break}}if(r==null)throw Kj(e);return r}}class Xj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function d(){return u===2}let f=!1;function g(...R){f||(f=!0,e.apply(null,R))}function y(R){i=setTimeout(()=>{i=null,t(_,d())},R)}function x(){a&&clearTimeout(a)}function _(R,...j){if(f){x();return}if(R){x(),g.call(null,R,...j);return}if(d()||l){x(),g.call(null,R,...j);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,y(O)}let b=!1;function C(R){b||(b=!0,x(),!f&&(i!==null?(R||(u=2),clearTimeout(i),y(0)):R||(u=1)))}return y(0),a=setTimeout(()=>{l=!0,C(!0)},n),C}function Zj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){return t!==void 0}function u_(t,e,n,r){if(r<e)throw c_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw c_(`Invalid value for '${t}'. Expected ${n} or less.`)}function tO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var bf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bf||(bf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i,a,l,u,d,f,g,y,x=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,C)=>{this.resolve_=b,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===bf.NO_ERROR,d=a.getStatus();if(!u||nO(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===bf.ABORT;r(!1,new Vd(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Vd(f,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());eO(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=Wj();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?tS():Gj();l(d)}else{const d=qj();l(d)}};this.canceled_?n(!1,new Vd(!1,null,!0)):this.backoffId_=Jj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Zj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function sO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lO(t,e,n,r,i,a,l=!0,u=!1){const d=tO(t.urlParams),f=t.url+d,g=Object.assign({},t.headers);return oO(g,e),sO(g,n),iO(g,a),aO(g,r),new rO(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this._service=e,n instanceof $r?this._location=n:this._location=$r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Af(e,n)}get root(){const e=new $r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uO(this._location.path)}get storage(){return this._service}get parent(){const e=cO(this._location.path);if(e===null)return null;const n=new $r(this._location.bucket,e);return new Af(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Yj(e)}}function d_(t,e){const n=e==null?void 0:e[$j];return n==null?null:$r.makeFromBucketSpec(n,t)}function dO(t,e,n,r={}){t.host=`${e}:${n}`;const i=Kf(e);i&&(dT(`https://${t.host}/b`),hT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:fT(a,t.app.options.projectId))}class fO{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=eS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zj,this._maxUploadRetryTime=Hj,this._requests=new Set,i!=null?this._bucket=$r.makeFromBucketSpec(i,this._host):this._bucket=d_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$r.makeFromBucketSpec(this._url,e):this._bucket=d_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Af(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Xj(tS());{const l=lO(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const f_="@firebase/storage",h_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="storage";function hO(t=ET(),e){t=Mc(t);const r=vT(t,nS).getImmediate({identifier:e}),i=cT("storage");return i&&pO(r,...i),r}function pO(t,e,n,r={}){dO(t,e,n,r)}function mO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fO(n,r,i,e,wT)}function gO(){Lc(new sl(nS,mO,"PUBLIC").setMultipleInstances(!0)),Ci(f_,h_,""),Ci(f_,h_,"esm2020")}gO();const yO={apiKey:"AIzaSyBKPk8NyeQWn1Aygwf8q36cRxpC2AR-Leo",authDomain:"central-treinamento.firebaseapp.com",projectId:"central-treinamento",storageBucket:"central-treinamento.appspot.com",messagingSenderId:"205424196328",appId:"1:205424196328:web:9caf94e132c3768091a75d"},rS=_T(yO),sS=Sj(rS);hO(rS);const iS="database",oS="main",vg={usuarios:[{id:1,nome:"Admin Sistema",email:"admin@empresa.com",senha:"123456",tipo:"admin",departamento:"Todos",ativo:!0,dataCriacao:"2025-01-01"},{id:2,nome:"Joo Silva",email:"joao@empresa.com",senha:"123456",tipo:"funcionario",departamento:"Contabilidade",ativo:!0,dataCriacao:"2025-01-15"}],categorias:[{id:1,nome:"Gestta",cor:"#3b82f6"},{id:2,nome:"Domnio",cor:"#8b5cf6"}],departamentos:[{id:1,nome:"Contabilidade"},{id:2,nome:"Fiscal"},{id:3,nome:"Recursos Humanos"},{id:4,nome:"Todos"}],treinamentos:[],historico:[],trilhas:[]};let tl=null;const vO=async()=>{const t=$1(sS,oS,iS),e=await Lj(t);return e.exists()?(console.log("Banco de dados carregado do Firestore."),tl=e.data()):(console.log("Nenhum banco de dados encontrado. Criando um novo no Firestore."),await Z1(t,vg),tl=vg),tl},yt=()=>tl||(console.warn("A base de dados ainda no foi inicializada. Usando dados mock temporariamente."),vg),Xt=async t=>{try{const e=$1(sS,oS,iS);return await Z1(e,t),tl=t,console.log("Banco de dados atualizado no Firestore."),!0}catch(e){return console.error("Erro ao atualizar o banco de dados no Firestore:",e),!1}},aS=S.createContext(),Gi=()=>{const t=S.useContext(aS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},xO=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0);S.useEffect(()=>{const f=localStorage.getItem("currentUser");f&&n(JSON.parse(f)),i(!1)},[]);const d={user:e,login:async(f,g)=>{const x=yt().usuarios.find(_=>_.email===f&&_.senha===g&&_.ativo);if(x){const _={...x};return delete _.senha,n(_),localStorage.setItem("currentUser",JSON.stringify(_)),{success:!0,user:_}}return{success:!1,error:"Credenciais invlidas ou usurio inativo"}},logout:()=>{n(null),localStorage.removeItem("currentUser")},isAdmin:()=>(e==null?void 0:e.tipo)==="admin",loading:r};return m.jsx(aS.Provider,{value:d,children:t})};function lS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cS(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lS(t))&&(r&&(r+=" "),r+=e);return r}function wO(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=uS(e))&&(r&&(r+=" "),r+=n);return r}function uS(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=uS(t[r]))&&(n&&(n+=" "),n+=e);return n}var Ny="-";function _O(t){var e=TO(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function a(u){var d=u.split(Ny);return d[0]===""&&d.length!==1&&d.shift(),dS(d,e)||EO(u)}function l(u,d){var f=n[u]||[];return d&&i[u]?[].concat(f,i[u]):f}return{getClassGroupId:a,getConflictingClassGroupIds:l}}function dS(t,e){var l;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?dS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(Ny);return(l=e.validators.find(function(u){var d=u.validator;return d(a)}))==null?void 0:l.classGroupId}}var p_=/^\[(.+)\]$/;function EO(t){if(p_.test(t)){var e=p_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function TO(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=CO(Object.entries(t.classGroups),n);return i.forEach(function(a){var l=a[0],u=a[1];xg(u,r,l,e)}),r}function xg(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:m_(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(SO(i)){xg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(l){var u=l[0],d=l[1];xg(d,m_(e,u),n,r)})})}function m_(t,e){var n=t;return e.split(Ny).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function SO(t){return t.isThemeGetter}function CO(t,e){return e?t.map(function(n){var r=n[0],i=n[1],a=i.map(function(l){return typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(u){var d=u[0],f=u[1];return[e+d,f]})):l});return[r,a]}):t}function bO(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(a,l){n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(l){var u=n.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return i(l,u),u},set:function(l,u){n.has(l)?n.set(l,u):i(l,u)}}}var fS="!";function AO(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(l){for(var u=[],d=0,f=0,g,y=0;y<l.length;y++){var x=l[y];if(d===0){if(x===r&&(n||l.slice(y,y+i)===e)){u.push(l.slice(f,y)),f=y+i;continue}if(x==="/"){g=y;continue}}x==="["?d++:x==="]"&&d--}var _=u.length===0?l:l.substring(f),b=_.startsWith(fS),C=b?_.substring(1):_,R=g&&g>f?g-f:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:R}}}function RO(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function PO(t){return{cache:bO(t.cacheSize),splitModifiers:AO(t),..._O(t)}}var IO=/\s+/;function NO(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(IO).map(function(l){var u=n(l),d=u.modifiers,f=u.hasImportantModifier,g=u.baseClassName,y=u.maybePostfixModifierPosition,x=r(y?g.substring(0,y):g),_=!!y;if(!x){if(!y)return{isTailwindClass:!1,originalClassName:l};if(x=r(g),!x)return{isTailwindClass:!1,originalClassName:l};_=!1}var b=RO(d).join(":"),C=f?b+fS:b;return{isTailwindClass:!0,modifierId:C,classGroupId:x,originalClassName:l,hasPostfixModifier:_}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var u=l.modifierId,d=l.classGroupId,f=l.hasPostfixModifier,g=u+d;return a.has(g)?!1:(a.add(g),i(d,f).forEach(function(y){return a.add(u+y)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function kO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,a,l=u;function u(f){var g=e[0],y=e.slice(1),x=y.reduce(function(_,b){return b(_)},g());return r=PO(x),i=r.cache.get,a=r.cache.set,l=d,d(f)}function d(f){var g=i(f);if(g)return g;var y=NO(f,r);return a(f,y),y}return function(){return l(wO.apply(null,arguments))}}function wt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var hS=/^\[(?:([a-z-]+):)?(.+)\]$/i,DO=/^\d+\/\d+$/,jO=new Set(["px","full","screen"]),OO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MO=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Lr(t){return Ro(t)||jO.has(t)||DO.test(t)||wg(t)}function wg(t){return Xo(t,"length",zO)}function LO(t){return Xo(t,"size",pS)}function FO(t){return Xo(t,"position",pS)}function UO(t){return Xo(t,"url",HO)}function Md(t){return Xo(t,"number",Ro)}function Ro(t){return!Number.isNaN(Number(t))}function BO(t){return t.endsWith("%")&&Ro(t.slice(0,-1))}function gc(t){return g_(t)||Xo(t,"number",g_)}function Ze(t){return hS.test(t)}function yc(){return!0}function vi(t){return OO.test(t)}function $O(t){return Xo(t,"",WO)}function Xo(t,e,n){var r=hS.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function zO(t){return VO.test(t)}function pS(){return!1}function HO(t){return t.startsWith("url(")}function g_(t){return Number.isInteger(Number(t))}function WO(t){return MO.test(t)}function qO(){var t=wt("colors"),e=wt("spacing"),n=wt("blur"),r=wt("brightness"),i=wt("borderColor"),a=wt("borderRadius"),l=wt("borderSpacing"),u=wt("borderWidth"),d=wt("contrast"),f=wt("grayscale"),g=wt("hueRotate"),y=wt("invert"),x=wt("gap"),_=wt("gradientColorStops"),b=wt("gradientColorStopPositions"),C=wt("inset"),R=wt("margin"),j=wt("opacity"),k=wt("padding"),O=wt("saturate"),L=wt("scale"),B=wt("sepia"),q=wt("skew"),I=wt("space"),T=wt("translate"),P=function(){return["auto","contain","none"]},D=function(){return["auto","hidden","clip","visible","scroll"]},U=function(){return["auto",Ze,e]},F=function(){return[Ze,e]},V=function(){return["",Lr]},re=function(){return["auto",Ro,Ze]},we=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ue=function(){return["solid","dashed","dotted","double","none"]},se=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Q=function(){return["start","end","center","between","around","evenly","stretch"]},ee=function(){return["","0",Ze]},ae=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[Ro,Md]},G=function(){return[Ro,Ze]};return{cacheSize:500,theme:{colors:[yc],spacing:[Lr],blur:["none","",vi,Ze],brightness:$(),borderColor:[t],borderRadius:["none","","full",vi,Ze],borderSpacing:F(),borderWidth:V(),contrast:$(),grayscale:ee(),hueRotate:G(),invert:ee(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[BO,wg],inset:U(),margin:U(),opacity:$(),padding:F(),saturate:$(),scale:$(),sepia:ee(),skew:G(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[vi]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(we(),[Ze])}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gc]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",gc]}],"grid-cols":[{"grid-cols":[yc]}],"col-start-end":[{col:["auto",{span:["full",gc]},Ze]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[yc]}],"row-start-end":[{row:["auto",{span:[gc]},Ze]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal"].concat(Q())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Q(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Q(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ze,e]}],"min-w":[{"min-w":["min","max","fit",Ze,Lr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[vi]},vi,Ze]}],h:[{h:[Ze,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ze,Lr]}],"max-h":[{"max-h":[Ze,e,"min","max","fit"]}],"font-size":[{text:["base",vi,wg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Md]}],"font-family":[{font:[yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Ro,Md]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ze,Lr]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ue(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr]}],"underline-offset":[{"underline-offset":["auto",Ze,Lr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(we(),[FO])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(ue(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(ue())}],"outline-offset":[{"outline-offset":[Ze,Lr]}],"outline-w":[{outline:[Lr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Lr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vi,$O]}],"shadow-color":[{shadow:[yc]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":se()}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",vi,Ze]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[O]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[gc,Ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Lr,Md]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var GO=kO(qO);function Xe(...t){return GO(cS(t))}var El=nT();const KO=qi(El);function dn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function y_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mS(...t){return e=>{let n=!1;const r=t.map(i=>{const a=y_(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():y_(t[i],null)}}}}function lt(...t){return S.useCallback(mS(...t),t)}function QO(t,e){const n=S.createContext(e),r=a=>{const{children:l,...u}=a,d=S.useMemo(()=>u,Object.values(u));return m.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function i(a){const l=S.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function qs(t,e=[]){let n=[];function r(a,l){const u=S.createContext(l),d=n.length;n=[...n,l];const f=y=>{var j;const{scope:x,children:_,...b}=y,C=((j=x==null?void 0:x[t])==null?void 0:j[d])||u,R=S.useMemo(()=>b,Object.values(b));return m.jsx(C.Provider,{value:R,children:_})};f.displayName=a+"Provider";function g(y,x){var C;const _=((C=x==null?void 0:x[t])==null?void 0:C[d])||u,b=S.useContext(_);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[f,g]}const i=()=>{const a=n.map(l=>S.createContext(l));return function(u){const d=(u==null?void 0:u[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return i.scopeName=t,[r,YO(i,...e)]}function YO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const y=d(a)[`__scope${f}`];return{...u,...y}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function dl(t){const e=JO(t),n=S.forwardRef((r,i)=>{const{children:a,...l}=r,u=S.Children.toArray(a),d=u.find(eV);if(d){const f=d.props.children,g=u.map(y=>y===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:y);return m.jsx(e,{...l,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,g):null})}return m.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var XO=dl("Slot");function JO(t){const e=S.forwardRef((n,r)=>{const{children:i,...a}=n;if(S.isValidElement(i)){const l=nV(i),u=tV(a,i.props);return i.type!==S.Fragment&&(u.ref=r?mS(r,l):l),S.cloneElement(i,u)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZO=Symbol("radix.slottable");function eV(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZO}function tV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const d=a(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function nV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ky(t){const e=t+"CollectionProvider",[n,r]=qs(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:R,children:j}=C,k=Le.useRef(null),O=Le.useRef(new Map).current;return m.jsx(i,{scope:R,itemMap:O,collectionRef:k,children:j})};l.displayName=e;const u=t+"CollectionSlot",d=dl(u),f=Le.forwardRef((C,R)=>{const{scope:j,children:k}=C,O=a(u,j),L=lt(R,O.collectionRef);return m.jsx(d,{ref:L,children:k})});f.displayName=u;const g=t+"CollectionItemSlot",y="data-radix-collection-item",x=dl(g),_=Le.forwardRef((C,R)=>{const{scope:j,children:k,...O}=C,L=Le.useRef(null),B=lt(R,L),q=a(g,j);return Le.useEffect(()=>(q.itemMap.set(L,{ref:L,...O}),()=>void q.itemMap.delete(L))),m.jsx(x,{[y]:"",ref:B,children:k})});_.displayName=g;function b(C){const R=a(t+"CollectionConsumer",C);return Le.useCallback(()=>{const k=R.collectionRef.current;if(!k)return[];const O=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(R.itemMap.values()).sort((q,I)=>O.indexOf(q.ref.current)-O.indexOf(I.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:f,ItemSlot:_},b,r]}var rV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=rV.reduce((t,e)=>{const n=dl(`Primitive.${e}`),r=S.forwardRef((i,a)=>{const{asChild:l,...u}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Dy(t,e){t&&El.flushSync(()=>t.dispatchEvent(e))}function Kn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gS(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sV="DismissableLayer",_g="dismissableLayer.update",iV="dismissableLayer.pointerDownOutside",oV="dismissableLayer.focusOutside",v_,yS=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jy=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=t,f=S.useContext(yS),[g,y]=S.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=S.useState({}),b=lt(e,I=>y(I)),C=Array.from(f.layers),[R]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=C.indexOf(R),k=g?C.indexOf(g):-1,O=f.layersWithOutsidePointerEventsDisabled.size>0,L=k>=j,B=lV(I=>{const T=I.target,P=[...f.branches].some(D=>D.contains(T));!L||P||(i==null||i(I),l==null||l(I),I.defaultPrevented||u==null||u())},x),q=cV(I=>{const T=I.target;[...f.branches].some(D=>D.contains(T))||(a==null||a(I),l==null||l(I),I.defaultPrevented||u==null||u())},x);return gS(I=>{k===f.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},x),S.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(v_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),x_(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=v_)}},[g,x,n,f]),S.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),x_())},[g,f]),S.useEffect(()=>{const I=()=>_({});return document.addEventListener(_g,I),()=>document.removeEventListener(_g,I)},[]),m.jsx(Be.div,{...d,ref:b,style:{pointerEvents:O?L?"auto":"none":void 0,...t.style},onFocusCapture:dn(t.onFocusCapture,q.onFocusCapture),onBlurCapture:dn(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:dn(t.onPointerDownCapture,B.onPointerDownCapture)})});jy.displayName=sV;var aV="DismissableLayerBranch",vS=S.forwardRef((t,e)=>{const n=S.useContext(yS),r=S.useRef(null),i=lt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),m.jsx(Be.div,{...t,ref:i})});vS.displayName=aV;function lV(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let d=function(){xS(iV,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cV(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&xS(oV,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function x_(){const t=new CustomEvent(_g);document.dispatchEvent(t)}function xS(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Dy(i,a):i.dispatchEvent(a)}var uV=jy,dV=vS,Bt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},fV="Portal",ah=S.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[i,a]=S.useState(!1);Bt(()=>a(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?KO.createPortal(m.jsx(Be.div,{...r,ref:e}),l):null});ah.displayName=fV;function hV(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var iu=t=>{const{present:e,children:n}=t,r=pV(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=lt(r.ref,mV(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};iu.displayName="Presence";function pV(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),a=S.useRef("none"),l=t?"mounted":"unmounted",[u,d]=hV(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Ld(r.current);a.current=u==="mounted"?f:"none"},[u]),Bt(()=>{const f=r.current,g=i.current;if(g!==t){const x=a.current,_=Ld(f);t?d("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(g&&x!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Bt(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,y=_=>{const C=Ld(r.current).includes(_.animationName);if(_.target===e&&C&&(d("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},x=_=>{_.target===e&&(a.current=Ld(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Ld(t){return(t==null?void 0:t.animationName)||"none"}function mV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gV=tT[" useInsertionEffect ".trim().toString()]||Bt;function Mo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=yV({defaultProp:e,onChange:n}),u=t!==void 0,d=u?t:i;{const g=S.useRef(t!==void 0);S.useEffect(()=>{const y=g.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const f=S.useCallback(g=>{var y;if(u){const x=vV(g)?g(t):g;x!==t&&((y=l.current)==null||y.call(l,x))}else a(g)},[u,t,a,l]);return[d,f]}function yV({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),a=S.useRef(e);return gV(()=>{a.current=e},[e]),S.useEffect(()=>{var l;i.current!==n&&((l=a.current)==null||l.call(a,n),i.current=n)},[n,i]),[n,r,a]}function vV(t){return typeof t=="function"}var wS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xV="VisuallyHidden",Oy=S.forwardRef((t,e)=>m.jsx(Be.span,{...t,ref:e,style:{...wS,...t.style}}));Oy.displayName=xV;var Vy="ToastProvider",[My,wV,_V]=ky("Toast"),[_S,hB]=qs("Toast",[_V]),[EV,lh]=_S(Vy),ES=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=t,[u,d]=S.useState(null),[f,g]=S.useState(0),y=S.useRef(!1),x=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vy}\`. Expected non-empty \`string\`.`),m.jsx(My.Provider,{scope:e,children:m.jsx(EV,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:S.useCallback(()=>g(_=>_+1),[]),onToastRemove:S.useCallback(()=>g(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:x,children:l})})};ES.displayName=Vy;var TS="ToastViewport",TV=["F8"],Eg="toast.viewportPause",Tg="toast.viewportResume",SS=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=TV,label:i="Notifications ({hotkey})",...a}=t,l=lh(TS,n),u=wV(n),d=S.useRef(null),f=S.useRef(null),g=S.useRef(null),y=S.useRef(null),x=lt(e,y,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=l.toastCount>0;S.useEffect(()=>{const R=j=>{var O;r.length!==0&&r.every(L=>j[L]||j.code===L)&&((O=y.current)==null||O.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),S.useEffect(()=>{const R=d.current,j=y.current;if(b&&R&&j){const k=()=>{if(!l.isClosePausedRef.current){const q=new CustomEvent(Eg);j.dispatchEvent(q),l.isClosePausedRef.current=!0}},O=()=>{if(l.isClosePausedRef.current){const q=new CustomEvent(Tg);j.dispatchEvent(q),l.isClosePausedRef.current=!1}},L=q=>{!R.contains(q.relatedTarget)&&O()},B=()=>{R.contains(document.activeElement)||O()};return R.addEventListener("focusin",k),R.addEventListener("focusout",L),R.addEventListener("pointermove",k),R.addEventListener("pointerleave",B),window.addEventListener("blur",k),window.addEventListener("focus",O),()=>{R.removeEventListener("focusin",k),R.removeEventListener("focusout",L),R.removeEventListener("pointermove",k),R.removeEventListener("pointerleave",B),window.removeEventListener("blur",k),window.removeEventListener("focus",O)}}},[b,l.isClosePausedRef]);const C=S.useCallback(({tabbingDirection:R})=>{const k=u().map(O=>{const L=O.ref.current,B=[L,...VV(L)];return R==="forwards"?B:B.reverse()});return(R==="forwards"?k.reverse():k).flat()},[u]);return S.useEffect(()=>{const R=y.current;if(R){const j=k=>{var B,q,I;const O=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!O){const T=document.activeElement,P=k.shiftKey;if(k.target===R&&P){(B=f.current)==null||B.focus();return}const F=C({tabbingDirection:P?"backwards":"forwards"}),V=F.findIndex(re=>re===T);Em(F.slice(V+1))?k.preventDefault():P?(q=f.current)==null||q.focus():(I=g.current)==null||I.focus()}};return R.addEventListener("keydown",j),()=>R.removeEventListener("keydown",j)}},[u,C]),m.jsxs(dV,{ref:d,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&m.jsx(Sg,{ref:f,onFocusFromOutsideViewport:()=>{const R=C({tabbingDirection:"forwards"});Em(R)}}),m.jsx(My.Slot,{scope:n,children:m.jsx(Be.ol,{tabIndex:-1,...a,ref:x})}),b&&m.jsx(Sg,{ref:g,onFocusFromOutsideViewport:()=>{const R=C({tabbingDirection:"backwards"});Em(R)}})]})});SS.displayName=TS;var CS="ToastFocusProxy",Sg=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=lh(CS,n);return m.jsx(Oy,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var f;const u=l.relatedTarget;!((f=a.viewport)!=null&&f.contains(u))&&r()}})});Sg.displayName=CS;var ou="Toast",SV="toast.swipeStart",CV="toast.swipeMove",bV="toast.swipeCancel",AV="toast.swipeEnd",bS=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...l}=t,[u,d]=Mo({prop:r,defaultProp:i??!0,onChange:a,caller:ou});return m.jsx(iu,{present:n||u,children:m.jsx(IV,{open:u,...l,ref:e,onClose:()=>d(!1),onPause:Kn(t.onPause),onResume:Kn(t.onResume),onSwipeStart:dn(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dn(t.onSwipeMove,f=>{const{x:g,y}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:dn(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dn(t.onSwipeEnd,f=>{const{x:g,y}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),d(!1)})})})});bS.displayName=ou;var[RV,PV]=_S(ou,{onClose(){}}),IV=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:x,onSwipeEnd:_,...b}=t,C=lh(ou,n),[R,j]=S.useState(null),k=lt(e,re=>j(re)),O=S.useRef(null),L=S.useRef(null),B=i||C.duration,q=S.useRef(0),I=S.useRef(B),T=S.useRef(0),{onToastAdd:P,onToastRemove:D}=C,U=Kn(()=>{var we;(R==null?void 0:R.contains(document.activeElement))&&((we=C.viewport)==null||we.focus()),l()}),F=S.useCallback(re=>{!re||re===1/0||(window.clearTimeout(T.current),q.current=new Date().getTime(),T.current=window.setTimeout(U,re))},[U]);S.useEffect(()=>{const re=C.viewport;if(re){const we=()=>{F(I.current),f==null||f()},ue=()=>{const se=new Date().getTime()-q.current;I.current=I.current-se,window.clearTimeout(T.current),d==null||d()};return re.addEventListener(Eg,ue),re.addEventListener(Tg,we),()=>{re.removeEventListener(Eg,ue),re.removeEventListener(Tg,we)}}},[C.viewport,B,d,f,F]),S.useEffect(()=>{a&&!C.isClosePausedRef.current&&F(B)},[a,B,C.isClosePausedRef,F]),S.useEffect(()=>(P(),()=>D()),[P,D]);const V=S.useMemo(()=>R?DS(R):null,[R]);return C.viewport?m.jsxs(m.Fragment,{children:[V&&m.jsx(NV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),m.jsx(RV,{scope:n,onClose:U,children:El.createPortal(m.jsx(My.ItemSlot,{scope:n,children:m.jsx(uV,{asChild:!0,onEscapeKeyDown:dn(u,()=>{C.isFocusedToastEscapeKeyDownRef.current||U(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":C.swipeDirection,...b,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:dn(t.onKeyDown,re=>{re.key==="Escape"&&(u==null||u(re.nativeEvent),re.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:dn(t.onPointerDown,re=>{re.button===0&&(O.current={x:re.clientX,y:re.clientY})}),onPointerMove:dn(t.onPointerMove,re=>{if(!O.current)return;const we=re.clientX-O.current.x,ue=re.clientY-O.current.y,se=!!L.current,Q=["left","right"].includes(C.swipeDirection),ee=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,ae=Q?ee(0,we):0,$=Q?0:ee(0,ue),G=re.pointerType==="touch"?10:2,te={x:ae,y:$},X={originalEvent:re,delta:te};se?(L.current=te,Fd(CV,y,X,{discrete:!1})):w_(te,C.swipeDirection,G)?(L.current=te,Fd(SV,g,X,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(we)>G||Math.abs(ue)>G)&&(O.current=null)}),onPointerUp:dn(t.onPointerUp,re=>{const we=L.current,ue=re.target;if(ue.hasPointerCapture(re.pointerId)&&ue.releasePointerCapture(re.pointerId),L.current=null,O.current=null,we){const se=re.currentTarget,Q={originalEvent:re,delta:we};w_(we,C.swipeDirection,C.swipeThreshold)?Fd(AV,_,Q,{discrete:!0}):Fd(bV,x,Q,{discrete:!0}),se.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),NV=t=>{const{__scopeToast:e,children:n,...r}=t,i=lh(ou,e),[a,l]=S.useState(!1),[u,d]=S.useState(!1);return jV(()=>l(!0)),S.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:m.jsx(ah,{asChild:!0,children:m.jsx(Oy,{...r,children:a&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},kV="ToastTitle",AS=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Be.div,{...r,ref:e})});AS.displayName=kV;var DV="ToastDescription",RS=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Be.div,{...r,ref:e})});RS.displayName=DV;var PS="ToastAction",IS=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(kS,{altText:n,asChild:!0,children:m.jsx(Ly,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PS}\`. Expected non-empty \`string\`.`),null)});IS.displayName=PS;var NS="ToastClose",Ly=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=PV(NS,n);return m.jsx(kS,{asChild:!0,children:m.jsx(Be.button,{type:"button",...r,ref:e,onClick:dn(t.onClick,i.onClose)})})});Ly.displayName=NS;var kS=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function DS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),OV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...DS(r))}}),e}function Fd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Dy(i,a):i.dispatchEvent(a)}var w_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function jV(t=()=>{}){const e=Kn(t);Bt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function OV(t){return t.nodeType===t.ELEMENT_NODE}function VV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Em(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var MV=ES,jS=SS,OS=bS,VS=AS,MS=RS,LS=IS,FS=Ly;const __=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,E_=cS,ch=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return E_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const g=n==null?void 0:n[f],y=a==null?void 0:a[f];if(g===null)return null;const x=__(g)||__(y);return i[f][x]}),u=n&&Object.entries(n).reduce((f,g)=>{let[y,x]=g;return x===void 0||(f[y]=x),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:y,className:x,..._}=g;return Object.entries(_).every(b=>{let[C,R]=b;return Array.isArray(R)?R.includes({...a,...u}[C]):{...a,...u}[C]===R})?[...f,y,x]:f},[]);return E_(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};var LV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$e=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:u,...d},f)=>S.createElement("svg",{ref:f,...LV,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:`lucide lucide-${FV(t)}`,...d},[...e.map(([g,y])=>S.createElement(g,y)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n},US=$e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Fy=$e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),uh=$e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Rf=$e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Kc=$e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Uy=$e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),UV=$e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),au=$e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),By=$e("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),BS=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),BV=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$y=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$S=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$V=$e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),zV=$e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),HV=$e("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),WV=$e("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),zS=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),qV=$e("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Cg=$e("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]),bg=$e("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),GV=$e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),KV=$e("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),QV=$e("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),HS=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),YV=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),WS=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),XV=$e("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),lu=$e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),JV=$e("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),qS=$e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),fl=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zy=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ZV=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eM=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),tM=$e("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),hl=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),GS=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),KS=$e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),nM=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),rM=$e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Pf=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),sM=$e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),QS=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iM=MV,YS=Le.forwardRef(({className:t,...e},n)=>m.jsx(jS,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YS.displayName=jS.displayName;const oM=ch("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XS=Le.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(OS,{ref:r,className:Xe(oM({variant:e}),t),...n}));XS.displayName=OS.displayName;const aM=Le.forwardRef(({className:t,...e},n)=>m.jsx(LS,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));aM.displayName=LS.displayName;const JS=Le.forwardRef(({className:t,...e},n)=>m.jsx(FS,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(QS,{className:"h-4 w-4"})}));JS.displayName=FS.displayName;const ZS=Le.forwardRef(({className:t,...e},n)=>m.jsx(VS,{ref:n,className:Xe("text-sm font-semibold",t),...e}));ZS.displayName=VS.displayName;const eC=Le.forwardRef(({className:t,...e},n)=>m.jsx(MS,{ref:n,className:Xe("text-sm opacity-90",t),...e}));eC.displayName=MS.displayName;const lM=1;let Tm=0;function cM(){return Tm=(Tm+1)%Number.MAX_VALUE,Tm.toString()}const On={state:{toasts:[]},listeners:[],getState:()=>On.state,setState:t=>{typeof t=="function"?On.state=t(On.state):On.state={...On.state,...t},On.listeners.forEach(e=>e(On.state))},subscribe:t=>(On.listeners.push(t),()=>{On.listeners=On.listeners.filter(e=>e!==t)})},uM=({...t})=>{const e=cM(),n=i=>On.setState(a=>({...a,toasts:a.toasts.map(l=>l.id===e?{...l,...i}:l)})),r=()=>On.setState(i=>({...i,toasts:i.toasts.filter(a=>a.id!==e)}));return On.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,lM)})),{id:e,dismiss:r,update:n}};function Gs(){const[t,e]=S.useState(On.getState());return S.useEffect(()=>On.subscribe(r=>{e(r)}),[]),S.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:uM,toasts:t.toasts}}function dM(){const{toasts:t}=Gs();return m.jsxs(iM,{children:[t.map(({id:e,title:n,description:r,action:i,...a})=>m.jsxs(XS,{...a,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(ZS,{children:n}),r&&m.jsx(eC,{children:r})]}),i,m.jsx(JS,{})]},e)),m.jsx(YS,{})]})}const tC=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),dh=S.createContext({}),Hy=S.createContext(null),fh=typeof document<"u",fM=fh?S.useLayoutEffect:S.useEffect,nC=S.createContext({strict:!1}),Wy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),hM="framerAppearId",rC="data-"+Wy(hM);function pM(t,e,n,r){const{visualElement:i}=S.useContext(dh),a=S.useContext(nC),l=S.useContext(Hy),u=S.useContext(tC).reducedMotion,d=S.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current;S.useInsertionEffect(()=>{f&&f.update(n,l)});const g=S.useRef(!!(n[rC]&&!window.HandoffComplete));return fM(()=>{f&&(f.render(),g.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(f.updateFeatures(),!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),f}function Qa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mM(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qa(n)&&(n.current=r))},[e])}function Qc(t){return typeof t=="string"||Array.isArray(t)}function hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gy=["initial",...qy];function ph(t){return hh(t.animate)||Gy.some(e=>Qc(t[e]))}function sC(t){return!!(ph(t)||t.variants)}function gM(t,e){if(ph(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qc(n)?n:void 0,animate:Qc(r)?r:void 0}}return t.inherit!==!1?e:{}}function yM(t){const{initial:e,animate:n}=gM(t,S.useContext(dh));return S.useMemo(()=>({initial:e,animate:n}),[T_(e),T_(n)])}function T_(t){return Array.isArray(t)?t.join(" "):t}const S_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yc={};for(const t in S_)Yc[t]={isEnabled:e=>S_[t].some(n=>!!e[n])};function vM(t){for(const e in t)Yc[e]={...Yc[e],...t[e]}}const iC=S.createContext({}),oC=S.createContext({}),xM=Symbol.for("motionComponentSymbol");function wM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&vM(t);function a(u,d){let f;const g={...S.useContext(tC),...u,layoutId:_M(u)},{isStatic:y}=g,x=yM(u),_=r(u,y);if(!y&&fh){x.visualElement=pM(i,_,g,e);const b=S.useContext(oC),C=S.useContext(nC).strict;x.visualElement&&(f=x.visualElement.loadFeatures(g,C,t,b))}return S.createElement(dh.Provider,{value:x},f&&x.visualElement?S.createElement(f,{visualElement:x.visualElement,...g}):null,n(i,u,mM(_,x.visualElement,d),_,y,x.visualElement))}const l=S.forwardRef(a);return l[xM]=i,l}function _M({layoutId:t}){const e=S.useContext(iC).id;return e&&t!==void 0?e+"-"+t:t}function EM(t){function e(r,i={}){return wM(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const TM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ky(t){return typeof t!="string"||t.includes("-")?!1:!!(TM.indexOf(t)>-1||/[A-Z]/.test(t))}const If={};function SM(t){Object.assign(If,t)}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(cu);function aC(t,{layout:e,layoutId:n}){return Jo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!If[t]||t==="opacity")}const Qn=t=>!!(t&&t.getVelocity),CM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bM=cu.length;function AM(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let l=0;l<bM;l++){const u=cu[l];if(t[u]!==void 0){const d=CM[u]||u;a+=`${d}(${t[u]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const lC=t=>e=>typeof e=="string"&&e.startsWith(t),cC=lC("--"),Ag=lC("var(--"),RM=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,PM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vi=(t,e,n)=>Math.min(Math.max(n,t),e),Zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kc={...Zo,transform:t=>Vi(0,1,t)},Ud={...Zo,default:1},Dc=t=>Math.round(t*1e5)/1e5,mh=/(-)?([\d]*\.?[\d])+/g,uC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,IM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uu(t){return typeof t=="string"}const du=t=>({test:e=>uu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xi=du("deg"),ds=du("%"),je=du("px"),NM=du("vh"),kM=du("vw"),C_={...ds,parse:t=>ds.parse(t)/100,transform:t=>ds.transform(t*100)},b_={...Zo,transform:Math.round},dC={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,size:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,rotate:xi,rotateX:xi,rotateY:xi,rotateZ:xi,scale:Ud,scaleX:Ud,scaleY:Ud,scaleZ:Ud,skew:xi,skewX:xi,skewY:xi,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:kc,originX:C_,originY:C_,originZ:je,zIndex:b_,fillOpacity:kc,strokeOpacity:kc,numOctaves:b_};function Qy(t,e,n,r){const{style:i,vars:a,transform:l,transformOrigin:u}=t;let d=!1,f=!1,g=!0;for(const y in e){const x=e[y];if(cC(y)){a[y]=x;continue}const _=dC[y],b=PM(x,_);if(Jo.has(y)){if(d=!0,l[y]=b,!g)continue;x!==(_.default||0)&&(g=!1)}else y.startsWith("origin")?(f=!0,u[y]=b):i[y]=b}if(e.transform||(d||r?i.transform=AM(t.transform,n,g,r):i.transform&&(i.transform="none")),f){const{originX:y="50%",originY:x="50%",originZ:_=0}=u;i.transformOrigin=`${y} ${x} ${_}`}}const Yy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fC(t,e,n){for(const r in e)!Qn(e[r])&&!aC(r,n)&&(t[r]=e[r])}function DM({transformTemplate:t},e,n){return S.useMemo(()=>{const r=Yy();return Qy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function jM(t,e,n){const r=t.style||{},i={};return fC(i,r,t),Object.assign(i,DM(t,e,n)),t.transformValues?t.transformValues(i):i}function OM(t,e,n){const r={},i=jM(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const VM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VM.has(t)}let hC=t=>!Nf(t);function MM(t){t&&(hC=e=>e.startsWith("on")?!Nf(e):t(e))}try{MM(require("@emotion/is-prop-valid").default)}catch{}function LM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hC(i)||n===!0&&Nf(i)||!e&&!Nf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function A_(t,e,n){return typeof t=="string"?t:je.transform(e+n*t)}function FM(t,e,n){const r=A_(e,t.x,t.width),i=A_(n,t.y,t.height);return`${r} ${i}`}const UM={offset:"stroke-dashoffset",array:"stroke-dasharray"},BM={offset:"strokeDashoffset",array:"strokeDasharray"};function $M(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?UM:BM;t[a.offset]=je.transform(-r);const l=je.transform(e),u=je.transform(n);t[a.array]=`${l} ${u}`}function Xy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...f},g,y,x){if(Qy(t,f,g,x),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b,dimensions:C}=t;_.transform&&(C&&(b.transform=_.transform),delete _.transform),C&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=FM(C,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),l!==void 0&&$M(_,l,u,d,!1)}const pC=()=>({...Yy(),attrs:{}}),Jy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zM(t,e,n,r){const i=S.useMemo(()=>{const a=pC();return Xy(a,e,{enableHardwareAcceleration:!1},Jy(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};fC(a,t.style,t),i.style={...a,...i.style}}return i}function HM(t=!1){return(n,r,i,{latestValues:a},l)=>{const d=(Ky(n)?zM:OM)(r,a,l,n),g={...LM(r,typeof n=="string",t),...d,ref:i},{children:y}=r,x=S.useMemo(()=>Qn(y)?y.get():y,[y]);return S.createElement(n,{...g,children:x})}}function mC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const gC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yC(t,e,n,r){mC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gC.has(i)?i:Wy(i),e.attrs[i])}function Zy(t,e){const{style:n}=t,r={};for(const i in n)(Qn(n[i])||e.style&&Qn(e.style[i])||aC(i,t))&&(r[i]=n[i]);return r}function vC(t,e){const n=Zy(t,e);for(const r in t)if(Qn(t[r])||Qn(e[r])){const i=cu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function ev(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function WM(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const kf=t=>Array.isArray(t),qM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GM=t=>kf(t)?t[t.length-1]||0:t;function rf(t){const e=Qn(t)?t.get():t;return qM(e)?e.toValue():e}function KM({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const l={latestValues:QM(r,i,a,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const xC=t=>(e,n)=>{const r=S.useContext(dh),i=S.useContext(Hy),a=()=>KM(t,e,r,i);return n?a():WM(a)};function QM(t,e,n,r){const i={},a=r(t,{});for(const x in a)i[x]=rf(a[x]);let{initial:l,animate:u}=t;const d=ph(t),f=sC(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?u:l;return y&&typeof y!="boolean"&&!hh(y)&&(Array.isArray(y)?y:[y]).forEach(_=>{const b=ev(t,_);if(!b)return;const{transitionEnd:C,transition:R,...j}=b;for(const k in j){let O=j[k];if(Array.isArray(O)){const L=g?O.length-1:0;O=O[L]}O!==null&&(i[k]=O)}for(const k in C)i[k]=C[k]}),i}const Ut=t=>t;class R_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function YM(t){let e=new R_,n=new R_,r=0,i=!1,a=!1;const l=new WeakSet,u={schedule:(d,f=!1,g=!1)=>{const y=g&&i,x=y?e:n;return f&&l.add(d),x.add(d)&&y&&i&&(r=e.order.length),d},cancel:d=>{n.remove(d),l.delete(d)},process:d=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let f=0;f<r;f++){const g=e.order[f];g(d),l.has(g)&&(u.schedule(g),t())}i=!1,a&&(a=!1,u.process(d))}};return u}const Bd=["prepare","read","update","preRender","render","postRender"],XM=40;function JM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Bd.reduce((y,x)=>(y[x]=YM(()=>n=!0),y),{}),l=y=>a[y].process(i),u=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,XM),1),i.timestamp=y,i.isProcessing=!0,Bd.forEach(l),i.isProcessing=!1,n&&e&&(r=!1,t(u))},d=()=>{n=!0,r=!0,i.isProcessing||t(u)};return{schedule:Bd.reduce((y,x)=>{const _=a[x];return y[x]=(b,C=!1,R=!1)=>(n||d(),_.schedule(b,C,R)),y},{}),cancel:y=>Bd.forEach(x=>a[x].cancel(y)),state:i,steps:a}}const{schedule:Et,cancel:zs,state:Rn,steps:Sm}=JM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),ZM={useVisualState:xC({scrapeMotionValuesFromProps:vC,createRenderState:pC,onMount:(t,e,{renderState:n,latestValues:r})=>{Et.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Et.render(()=>{Xy(n,r,{enableHardwareAcceleration:!1},Jy(e.tagName),t.transformTemplate),yC(e,n)})}})},e4={useVisualState:xC({scrapeMotionValuesFromProps:Zy,createRenderState:Yy})};function t4(t,{forwardMotionProps:e=!1},n,r){return{...Ky(t)?ZM:e4,preloadedFeatures:n,useRender:HM(e),createVisualElement:r,Component:t}}function Os(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const wC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function gh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const n4=t=>e=>wC(e)&&t(e,gh(e));function Ms(t,e,n,r){return Os(t,e,n4(n),r)}const r4=(t,e)=>n=>e(t(n)),Ri=(...t)=>t.reduce(r4);function _C(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const P_=_C("dragHorizontal"),I_=_C("dragVertical");function EC(t){let e=!1;if(t==="y")e=I_();else if(t==="x")e=P_();else{const n=P_(),r=I_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function TC(){const t=EC(!0);return t?(t(),!1):!0}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}function N_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,l)=>{if(a.pointerType==="touch"||TC())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[r]&&Et.update(()=>u[r](a,l))};return Ms(t.current,n,i,{passive:!t.getProps()[r]})}class s4 extends Ki{mount(){this.unmount=Ri(N_(this.node,!0),N_(this.node,!1))}unmount(){}}class i4 extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ri(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const SC=(t,e)=>e?t===e?!0:SC(t,e.parentElement):!1;function Cm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,gh(n))}class o4 extends Ki{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Ms(window,"pointerup",(u,d)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:g,globalTapTarget:y}=this.node.getProps();Et.update(()=>{!y&&!SC(this.node.current,u.target)?g&&g(u,d):f&&f(u,d)})},{passive:!(r.onTap||r.onPointerUp)}),l=Ms(window,"pointercancel",(u,d)=>this.cancelPress(u,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ri(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||Cm("up",(d,f)=>{const{onTap:g}=this.node.getProps();g&&Et.update(()=>g(d,f))})};this.removeEndListeners(),this.removeEndListeners=Os(this.node.current,"keyup",l),Cm("down",(u,d)=>{this.startPress(u,d)})},n=Os(this.node.current,"keydown",e),r=()=>{this.isPressing&&Cm("cancel",(a,l)=>this.cancelPress(a,l))},i=Os(this.node.current,"blur",r);this.removeAccessibleListeners=Ri(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Et.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!TC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Et.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ms(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ri(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rg=new WeakMap,bm=new WeakMap,a4=t=>{const e=Rg.get(t.target);e&&e(t)},l4=t=>{t.forEach(a4)};function c4({root:t,...e}){const n=t||document;bm.has(n)||bm.set(n,{});const r=bm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(l4,{root:t,...e})),r[i]}function u4(t,e,n){const r=c4(e);return Rg.set(t,n),r.observe(t),()=>{Rg.delete(t),r.unobserve(t)}}const d4={some:0,all:1};class f4 extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:d4[i]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=f?g:y;x&&x(d)};return u4(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h4(e,n))&&this.startObserver()}unmount(){}}function h4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const p4={inView:{Feature:f4},tap:{Feature:o4},focus:{Feature:i4},hover:{Feature:s4}};function CC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function m4(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function g4(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function yh(t,e,n){const r=t.getProps();return ev(r,e,n!==void 0?n:r.custom,m4(t),g4(t))}let tv=Ut;const ko=t=>t*1e3,Ls=t=>t/1e3,y4={current:!1},bC=t=>Array.isArray(t)&&typeof t[0]=="number";function AC(t){return!!(!t||typeof t=="string"&&RC[t]||bC(t)||Array.isArray(t)&&t.every(AC))}const Sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,RC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sc([0,.65,.55,1]),circOut:Sc([.55,0,1,.45]),backIn:Sc([.31,.01,.66,-.59]),backOut:Sc([.33,1.53,.69,.99])};function PC(t){if(t)return bC(t)?Sc(t):Array.isArray(t)?t.map(PC):RC[t]}function v4(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:l="loop",ease:u,times:d}={}){const f={[e]:n};d&&(f.offset=d);const g=PC(u);return Array.isArray(g)&&(f.easing=g),t.animate(f,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function x4(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const IC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,w4=1e-7,_4=12;function E4(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=IC(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>w4&&++u<_4);return l}function fu(t,e,n,r){if(t===e&&n===r)return Ut;const i=a=>E4(a,0,1,t,n);return a=>a===0||a===1?a:IC(i(a),e,r)}const T4=fu(.42,0,1,1),S4=fu(0,0,.58,1),NC=fu(.42,0,.58,1),C4=t=>Array.isArray(t)&&typeof t[0]!="number",kC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DC=t=>e=>1-t(1-e),nv=t=>1-Math.sin(Math.acos(t)),jC=DC(nv),b4=kC(nv),OC=fu(.33,1.53,.69,.99),rv=DC(OC),A4=kC(rv),R4=t=>(t*=2)<1?.5*rv(t):.5*(2-Math.pow(2,-10*(t-1))),P4={linear:Ut,easeIn:T4,easeInOut:NC,easeOut:S4,circIn:nv,circInOut:b4,circOut:jC,backIn:rv,backInOut:A4,backOut:OC,anticipate:R4},k_=t=>{if(Array.isArray(t)){tv(t.length===4);const[e,n,r,i]=t;return fu(e,n,r,i)}else if(typeof t=="string")return P4[t];return t},sv=(t,e)=>n=>!!(uu(n)&&IM.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),VC=(t,e,n)=>r=>{if(!uu(r))return r;const[i,a,l,u]=r.match(mh);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},I4=t=>Vi(0,255,t),Am={...Zo,transform:t=>Math.round(I4(t))},Po={test:sv("rgb","red"),parse:VC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Am.transform(t)+", "+Am.transform(e)+", "+Am.transform(n)+", "+Dc(kc.transform(r))+")"};function N4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Pg={test:sv("#"),parse:N4,transform:Po.transform},Ya={test:sv("hsl","hue"),parse:VC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ds.transform(Dc(e))+", "+ds.transform(Dc(n))+", "+Dc(kc.transform(r))+")"},Vn={test:t=>Po.test(t)||Pg.test(t)||Ya.test(t),parse:t=>Po.test(t)?Po.parse(t):Ya.test(t)?Ya.parse(t):Pg.parse(t),transform:t=>uu(t)?t:t.hasOwnProperty("red")?Po.transform(t):Ya.transform(t)},kt=(t,e,n)=>-n*t+n*e+t;function Rm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function k4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;i=Rm(d,u,t+1/3),a=Rm(d,u,t),l=Rm(d,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Pm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},D4=[Pg,Po,Ya],j4=t=>D4.find(e=>e.test(t));function D_(t){const e=j4(t);let n=e.parse(t);return e===Ya&&(n=k4(n)),n}const MC=(t,e)=>{const n=D_(t),r=D_(e),i={...n};return a=>(i.red=Pm(n.red,r.red,a),i.green=Pm(n.green,r.green,a),i.blue=Pm(n.blue,r.blue,a),i.alpha=kt(n.alpha,r.alpha,a),Po.transform(i))};function O4(t){var e,n;return isNaN(t)&&uu(t)&&(((e=t.match(mh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(uC))===null||n===void 0?void 0:n.length)||0)>0}const LC={regex:RM,countKey:"Vars",token:"${v}",parse:Ut},FC={regex:uC,countKey:"Colors",token:"${c}",parse:Vn.parse},UC={regex:mh,countKey:"Numbers",token:"${n}",parse:Zo.parse};function Im(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function Df(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Im(n,LC),Im(n,FC),Im(n,UC),n}function BC(t){return Df(t).values}function $C(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Df(t),a=e.length;return l=>{let u=i;for(let d=0;d<a;d++)d<r?u=u.replace(LC.token,l[d]):d<r+n?u=u.replace(FC.token,Vn.transform(l[d])):u=u.replace(UC.token,Dc(l[d]));return u}}const V4=t=>typeof t=="number"?0:t;function M4(t){const e=BC(t);return $C(t)(e.map(V4))}const Mi={test:O4,parse:BC,createTransformer:$C,getAnimatableNone:M4},zC=(t,e)=>n=>`${n>0?e:t}`;function HC(t,e){return typeof t=="number"?n=>kt(t,e,n):Vn.test(t)?MC(t,e):t.startsWith("var(")?zC(t,e):qC(t,e)}const WC=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,l)=>HC(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}},L4=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=HC(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},qC=(t,e)=>{const n=Mi.createTransformer(e),r=Df(t),i=Df(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ri(WC(r.values,i.values),n):zC(t,e)},Xc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},j_=(t,e)=>n=>kt(t,e,n);function F4(t){return typeof t=="number"?j_:typeof t=="string"?Vn.test(t)?MC:qC:Array.isArray(t)?WC:typeof t=="object"?L4:j_}function U4(t,e,n){const r=[],i=n||F4(t[0]),a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Ut:e;u=Ri(d,u)}r.push(u)}return r}function GC(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(tv(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=U4(e,r,i),u=l.length,d=f=>{let g=0;if(u>1)for(;g<t.length-2&&!(f<t[g+1]);g++);const y=Xc(t[g],t[g+1],f);return l[g](y)};return n?f=>d(Vi(t[0],t[a-1],f)):d}function B4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xc(0,e,r);t.push(kt(n,1,i))}}function $4(t){const e=[0];return B4(e,t.length-1),e}function z4(t,e){return t.map(n=>n*e)}function H4(t,e){return t.map(()=>e||NC).splice(0,t.length-1)}function jf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=C4(r)?r.map(k_):k_(r),a={done:!1,value:e[0]},l=z4(n&&n.length===e.length?n:$4(e),t),u=GC(l,e,{ease:Array.isArray(i)?i:H4(e,i)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}function KC(t,e){return e?t*(1e3/e):0}const W4=5;function QC(t,e,n){const r=Math.max(e-W4,0);return KC(n-t(r),e-r)}const Nm=.001,q4=.01,G4=10,K4=.05,Q4=1;function Y4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,l=1-e;l=Vi(K4,Q4,l),t=Vi(q4,G4,Ls(t)),l<1?(i=f=>{const g=f*l,y=g*t,x=g-n,_=Ig(f,l),b=Math.exp(-y);return Nm-x/_*b},a=f=>{const y=f*l*t,x=y*n+n,_=Math.pow(l,2)*Math.pow(f,2)*t,b=Math.exp(-y),C=Ig(Math.pow(f,2),l);return(-i(f)+Nm>0?-1:1)*((x-_)*b)/C}):(i=f=>{const g=Math.exp(-f*t),y=(f-n)*t+1;return-Nm+g*y},a=f=>{const g=Math.exp(-f*t),y=(n-f)*(t*t);return g*y});const u=5/t,d=J4(i,a,u);if(t=ko(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const X4=12;function J4(t,e,n){let r=n;for(let i=1;i<X4;i++)r=r-t(r)/e(r);return r}function Ig(t,e){return t*Math.sqrt(1-e*e)}const Z4=["duration","bounce"],eL=["stiffness","damping","mass"];function O_(t,e){return e.some(n=>t[n]!==void 0)}function tL(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!O_(t,eL)&&O_(t,Z4)){const n=Y4(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function YC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:g,velocity:y,isResolvedFromDuration:x}=tL({...r,velocity:-Ls(r.velocity||0)}),_=y||0,b=d/(2*Math.sqrt(u*f)),C=a-i,R=Ls(Math.sqrt(u/f)),j=Math.abs(C)<5;n||(n=j?.01:2),e||(e=j?.005:.5);let k;if(b<1){const O=Ig(R,b);k=L=>{const B=Math.exp(-b*R*L);return a-B*((_+b*R*C)/O*Math.sin(O*L)+C*Math.cos(O*L))}}else if(b===1)k=O=>a-Math.exp(-R*O)*(C+(_+R*C)*O);else{const O=R*Math.sqrt(b*b-1);k=L=>{const B=Math.exp(-b*R*L),q=Math.min(O*L,300);return a-B*((_+b*R*C)*Math.sinh(q)+O*C*Math.cosh(q))/O}}return{calculatedDuration:x&&g||null,next:O=>{const L=k(O);if(x)l.done=O>=g;else{let B=_;O!==0&&(b<1?B=QC(k,O,L):B=0);const q=Math.abs(B)<=n,I=Math.abs(a-L)<=e;l.done=q&&I}return l.value=l.done?a:L,l}}}function V_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:g}){const y=t[0],x={done:!1,value:y},_=T=>u!==void 0&&T<u||d!==void 0&&T>d,b=T=>u===void 0?d:d===void 0||Math.abs(u-T)<Math.abs(d-T)?u:d;let C=n*e;const R=y+C,j=l===void 0?R:l(R);j!==R&&(C=j-y);const k=T=>-C*Math.exp(-T/r),O=T=>j+k(T),L=T=>{const P=k(T),D=O(T);x.done=Math.abs(P)<=f,x.value=x.done?j:D};let B,q;const I=T=>{_(x.value)&&(B=T,q=YC({keyframes:[x.value,b(x.value)],velocity:QC(O,T,x.value),damping:i,stiffness:a,restDelta:f,restSpeed:g}))};return I(0),{calculatedDuration:null,next:T=>{let P=!1;return!q&&B===void 0&&(P=!0,L(T),I(T)),B!==void 0&&T>B?q.next(T-B):(!P&&L(T),x)}}}const nL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Et.update(e,!0),stop:()=>zs(e),now:()=>Rn.isProcessing?Rn.timestamp:performance.now()}},M_=2e4;function L_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<M_;)e+=n,r=t.next(e);return e>=M_?1/0:e}const rL={decay:V_,inertia:V_,tween:jf,keyframes:jf,spring:YC};function Of({autoplay:t=!0,delay:e=0,driver:n=nL,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",onPlay:d,onStop:f,onComplete:g,onUpdate:y,...x}){let _=1,b=!1,C,R;const j=()=>{R=new Promise($=>{C=$})};j();let k;const O=rL[i]||jf;let L;O!==jf&&typeof r[0]!="number"&&(L=GC([0,100],r,{clamp:!1}),r=[0,100]);const B=O({...x,keyframes:r});let q;u==="mirror"&&(q=O({...x,keyframes:[...r].reverse(),velocity:-(x.velocity||0)}));let I="idle",T=null,P=null,D=null;B.calculatedDuration===null&&a&&(B.calculatedDuration=L_(B));const{calculatedDuration:U}=B;let F=1/0,V=1/0;U!==null&&(F=U+l,V=F*(a+1)-l);let re=0;const we=$=>{if(P===null)return;_>0&&(P=Math.min(P,$)),_<0&&(P=Math.min($-V/_,P)),T!==null?re=T:re=Math.round($-P)*_;const G=re-e*(_>=0?1:-1),te=_>=0?G<0:G>V;re=Math.max(G,0),I==="finished"&&T===null&&(re=V);let X=re,le=B;if(a){const xe=Math.min(re,V)/F;let _e=Math.floor(xe),ye=xe%1;!ye&&xe>=1&&(ye=1),ye===1&&_e--,_e=Math.min(_e,a+1),!!(_e%2)&&(u==="reverse"?(ye=1-ye,l&&(ye-=l/F)):u==="mirror"&&(le=q)),X=Vi(0,1,ye)*F}const me=te?{done:!1,value:r[0]}:le.next(X);L&&(me.value=L(me.value));let{done:ie}=me;!te&&U!==null&&(ie=_>=0?re>=V:re<=0);const ce=T===null&&(I==="finished"||I==="running"&&ie);return y&&y(me.value),ce&&Q(),me},ue=()=>{k&&k.stop(),k=void 0},se=()=>{I="idle",ue(),C(),j(),P=D=null},Q=()=>{I="finished",g&&g(),ue(),C()},ee=()=>{if(b)return;k||(k=n(we));const $=k.now();d&&d(),T!==null?P=$-T:(!P||I==="finished")&&(P=$),I==="finished"&&j(),D=P,T=null,I="running",k.start()};t&&ee();const ae={then($,G){return R.then($,G)},get time(){return Ls(re)},set time($){$=ko($),re=$,T!==null||!k||_===0?T=$:P=k.now()-$/_},get duration(){const $=B.calculatedDuration===null?L_(B):B.calculatedDuration;return Ls($)},get speed(){return _},set speed($){$===_||!k||(_=$,ae.time=Ls(re))},get state(){return I},play:ee,pause:()=>{I="paused",T=re},stop:()=>{b=!0,I!=="idle"&&(I="idle",f&&f(),se())},cancel:()=>{D!==null&&we(D),se()},complete:()=>{I="finished"},sample:$=>(P=0,we($))};return ae}function sL(t){let e;return()=>(e===void 0&&(e=t()),e)}const iL=sL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$d=10,aL=2e4,lL=(t,e)=>e.type==="spring"||t==="backgroundColor"||!AC(e.ease);function cL(t,e,{onUpdate:n,onComplete:r,...i}){if(!(iL()&&oL.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,u,d,f=!1;const g=()=>{d=new Promise(O=>{u=O})};g();let{keyframes:y,duration:x=300,ease:_,times:b}=i;if(lL(e,i)){const O=Of({...i,repeat:0,delay:0});let L={done:!1,value:y[0]};const B=[];let q=0;for(;!L.done&&q<aL;)L=O.sample(q),B.push(L.value),q+=$d;b=void 0,y=B,x=q-$d,_="linear"}const C=v4(t.owner.current,e,y,{...i,duration:x,ease:_,times:b}),R=()=>{f=!1,C.cancel()},j=()=>{f=!0,Et.update(R),u(),g()};return C.onfinish=()=>{f||(t.set(x4(y,i)),r&&r(),j())},{then(O,L){return d.then(O,L)},attachTimeline(O){return C.timeline=O,C.onfinish=null,Ut},get time(){return Ls(C.currentTime||0)},set time(O){C.currentTime=ko(O)},get speed(){return C.playbackRate},set speed(O){C.playbackRate=O},get duration(){return Ls(x)},play:()=>{l||(C.play(),zs(R))},pause:()=>C.pause(),stop:()=>{if(l=!0,C.playState==="idle")return;const{currentTime:O}=C;if(O){const L=Of({...i,autoplay:!1});t.setWithVelocity(L.sample(O-$d).value,L.sample(O).value,$d)}j()},complete:()=>{f||C.finish()},cancel:j}}function uL({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ut,pause:Ut,stop:Ut,then:a=>(a(),Promise.resolve()),cancel:Ut,complete:Ut});return e?Of({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const dL={type:"spring",stiffness:500,damping:25,restSpeed:10},fL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hL={type:"keyframes",duration:.8},pL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mL=(t,{keyframes:e})=>e.length>2?hL:Jo.has(t)?t.startsWith("scale")?fL(e[1]):dL:pL,Ng=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mi.test(e)||e==="0")&&!e.startsWith("url(")),gL=new Set(["brightness","contrast","saturate","opacity"]);function yL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mh)||[];if(!r)return t;const i=n.replace(r,"");let a=gL.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const vL=/([a-z-]*)\(.*?\)/g,kg={...Mi,getAnimatableNone:t=>{const e=t.match(vL);return e?e.map(yL).join(" "):t}},xL={...dC,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:kg,WebkitFilter:kg},iv=t=>xL[t];function XC(t,e){let n=iv(t);return n!==kg&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JC=t=>/^0[^.\s]+$/.test(t);function wL(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||JC(t)}function _L(t,e,n,r){const i=Ng(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let u;const d=[];for(let f=0;f<a.length;f++)a[f]===null&&(a[f]=f===0?l:a[f-1]),wL(a[f])&&d.push(f),typeof a[f]=="string"&&a[f]!=="none"&&a[f]!=="0"&&(u=a[f]);if(i&&d.length&&u)for(let f=0;f<d.length;f++){const g=d[f];a[g]=XC(e,u)}return a}function EL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:d,elapsed:f,...g}){return!!Object.keys(g).length}function ov(t,e){return t[e]||t.default||t}const TL={skipAnimations:!1},av=(t,e,n,r={})=>i=>{const a=ov(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ko(l);const d=_L(e,t,n,a),f=d[0],g=d[d.length-1],y=Ng(t,f),x=Ng(t,g);let _={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:b=>{e.set(b),a.onUpdate&&a.onUpdate(b)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(EL(a)||(_={..._,...mL(t,_)}),_.duration&&(_.duration=ko(_.duration)),_.repeatDelay&&(_.repeatDelay=ko(_.repeatDelay)),!y||!x||y4.current||a.type===!1||TL.skipAnimations)return uL(_);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=cL(e,t,_);if(b)return b}return Of(_)};function Vf(t){return!!(Qn(t)&&t.add)}const ZC=t=>/^\-?\d*\.?\d+$/.test(t);function lv(t,e){t.indexOf(e)===-1&&t.push(e)}function cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uv{constructor(){this.subscriptions=[]}add(e){return lv(this.subscriptions,e),()=>cv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SL=t=>!isNaN(parseFloat(t));class CL{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=Rn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,Et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=SL(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?KC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pl(t,e){return new CL(t,e)}const eb=t=>e=>e.test(t),bL={test:t=>t==="auto",parse:t=>t},tb=[Zo,je,ds,xi,kM,NM,bL],vc=t=>tb.find(eb(t)),AL=[...tb,Vn,Mi],RL=t=>AL.find(eb(t));function PL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pl(n))}function IL(t,e){const n=yh(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const u=GM(a[l]);PL(t,l,u)}}function NL(t,e,n){var r,i;const a=Object.keys(e).filter(u=>!t.hasValue(u)),l=a.length;if(l)for(let u=0;u<l;u++){const d=a[u],f=e[d];let g=null;Array.isArray(f)&&(g=f[0]),g===null&&(g=(i=(r=n[d])!==null&&r!==void 0?r:t.readValue(d))!==null&&i!==void 0?i:e[d]),g!=null&&(typeof g=="string"&&(ZC(g)||JC(g))?g=parseFloat(g):!RL(g)&&Mi.test(f)&&(g=XC(d,f)),t.addValue(d,pl(g,{owner:t})),n[d]===void 0&&(n[d]=g),g!==null&&t.setBaseTarget(d,g))}}function kL(t,e){return e?(e[t]||e.default||e).from:void 0}function DL(t,e,n){const r={};for(const i in t){const a=kL(i,e);if(a!==void 0)r[i]=a;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function jL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OL(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function nb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");r&&(a=r);const f=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const y in u){const x=t.getValue(y),_=u[y];if(!x||_===void 0||g&&jL(g,y))continue;const b={delay:n,elapsed:0,...ov(a||{},y)};if(window.HandoffAppearAnimations){const j=t.getProps()[rC];if(j){const k=window.HandoffAppearAnimations(j,y,x,Et);k!==null&&(b.elapsed=k,b.isHandoff=!0)}}let C=!b.isHandoff&&!OL(x,_);if(b.type==="spring"&&(x.getVelocity()||b.velocity)&&(C=!1),x.animation&&(C=!1),C)continue;x.start(av(y,x,_,t.shouldReduceMotion&&Jo.has(y)?{type:!1}:b));const R=x.animation;Vf(d)&&(d.add(y),R.then(()=>d.remove(y))),f.push(R)}return l&&Promise.all(f).then(()=>{l&&IL(t,l)}),f}function Dg(t,e,n={}){const r=yh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(nb(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:y}=i;return VL(t,e,f+d,g,y,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,f]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function VL(t,e,n=0,r=0,i=1,a){const l=[],u=(t.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(t.variantChildren).sort(ML).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(Dg(f,e,{...a,delay:n+d(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function ML(t,e){return t.sortNodePosition(e)}function LL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Dg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Dg(t,e,n);else{const i=typeof e=="function"?yh(t,e,n.custom):e;r=Promise.all(nb(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const FL=[...qy].reverse(),UL=qy.length;function BL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LL(t,n,r)))}function $L(t){let e=BL(t);const n=HL();let r=!0;const i=(d,f)=>{const g=yh(t,f);if(g){const{transition:y,transitionEnd:x,..._}=g;d={...d,..._,...x}}return d};function a(d){e=d(t)}function l(d,f){const g=t.getProps(),y=t.getVariantContext(!0)||{},x=[],_=new Set;let b={},C=1/0;for(let j=0;j<UL;j++){const k=FL[j],O=n[k],L=g[k]!==void 0?g[k]:y[k],B=Qc(L),q=k===f?O.isActive:null;q===!1&&(C=j);let I=L===y[k]&&L!==g[k]&&B;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),O.protectedKeys={...b},!O.isActive&&q===null||!L&&!O.prevProp||hh(L)||typeof L=="boolean")continue;let P=zL(O.prevProp,L)||k===f&&O.isActive&&!I&&B||j>C&&B,D=!1;const U=Array.isArray(L)?L:[L];let F=U.reduce(i,{});q===!1&&(F={});const{prevResolvedValues:V={}}=O,re={...V,...F},we=ue=>{P=!0,_.has(ue)&&(D=!0,_.delete(ue)),O.needsAnimating[ue]=!0};for(const ue in re){const se=F[ue],Q=V[ue];if(b.hasOwnProperty(ue))continue;let ee=!1;kf(se)&&kf(Q)?ee=!CC(se,Q):ee=se!==Q,ee?se!==void 0?we(ue):_.add(ue):se!==void 0&&_.has(ue)?we(ue):O.protectedKeys[ue]=!0}O.prevProp=L,O.prevResolvedValues=F,O.isActive&&(b={...b,...F}),r&&t.blockInitialAnimation&&(P=!1),P&&(!I||D)&&x.push(...U.map(ue=>({animation:ue,options:{type:k,...d}})))}if(_.size){const j={};_.forEach(k=>{const O=t.getBaseTarget(k);O!==void 0&&(j[k]=O)}),x.push({animation:j})}let R=!!x.length;return r&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(x):Promise.resolve()}function u(d,f,g){var y;if(n[d].isActive===f)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(_=>{var b;return(b=_.animationState)===null||b===void 0?void 0:b.setActive(d,f)}),n[d].isActive=f;const x=l(g,d);for(const _ in n)n[_].protectedKeys={};return x}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n}}function zL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CC(e,t):!1}function To(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HL(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class WL extends Ki{constructor(e){super(e),e.animationState||(e.animationState=$L(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),hh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qL=0;class GL extends Ki{constructor(){super(...arguments),this.id=qL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KL={animation:{Feature:WL},exit:{Feature:GL}},F_=(t,e)=>Math.abs(t-e);function QL(t,e){const n=F_(t.x,e.x),r=F_(t.y,e.y);return Math.sqrt(n**2+r**2)}class rb{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Dm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=QL(y.offset,{x:0,y:0})>=3;if(!x&&!_)return;const{point:b}=y,{timestamp:C}=Rn;this.history.push({...b,timestamp:C});const{onStart:R,onMove:j}=this.handlers;x||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=km(x,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:_,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Dm(y.type==="pointercancel"?this.lastMoveEventInfo:km(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,R),b&&b(y,R)},!wC(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=gh(e),u=km(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=Rn;this.history=[{...d,timestamp:f}];const{onSessionStart:g}=n;g&&g(e,Dm(u,this.history)),this.removeListeners=Ri(Ms(this.contextWindow,"pointermove",this.handlePointerMove),Ms(this.contextWindow,"pointerup",this.handlePointerUp),Ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}function km(t,e){return e?{point:e(t.point)}:t}function U_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dm({point:t},e){return{point:t,delta:U_(t,sb(e)),offset:U_(t,YL(e)),velocity:XL(e,.1)}}function YL(t){return t[0]}function sb(t){return t[t.length-1]}function XL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ko(e)));)n--;if(!r)return{x:0,y:0};const a=Ls(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function ir(t){return t.max-t.min}function jg(t,e=0,n=.01){return Math.abs(t-e)<=n}function B_(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=ir(n)/ir(e),(jg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(jg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function jc(t,e,n,r){B_(t.x,e.x,n.x,r?r.originX:void 0),B_(t.y,e.y,n.y,r?r.originY:void 0)}function $_(t,e,n){t.min=n.min+e.min,t.max=t.min+ir(e)}function JL(t,e,n){$_(t.x,e.x,n.x),$_(t.y,e.y,n.y)}function z_(t,e,n){t.min=e.min-n.min,t.max=t.min+ir(e)}function Oc(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function ZL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function H_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eF(t,{top:e,left:n,bottom:r,right:i}){return{x:H_(t.x,n,i),y:H_(t.y,e,r)}}function W_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tF(t,e){return{x:W_(t.x,e.x),y:W_(t.y,e.y)}}function nF(t,e){let n=.5;const r=ir(t),i=ir(e);return i>r?n=Xc(e.min,e.max-r,t.min):r>i&&(n=Xc(t.min,t.max-i,e.min)),Vi(0,1,n)}function rF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Og=.35;function sF(t=Og){return t===!1?t=0:t===!0&&(t=Og),{x:q_(t,"left","right"),y:q_(t,"top","bottom")}}function q_(t,e,n){return{min:G_(t,e),max:G_(t,n)}}function G_(t,e){return typeof t=="number"?t:t[e]||0}const K_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xa=()=>({x:K_(),y:K_()}),Q_=()=>({min:0,max:0}),Wt=()=>({x:Q_(),y:Q_()});function vr(t){return[t("x"),t("y")]}function ib({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function iF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jm(t){return t===void 0||t===1}function Vg({scale:t,scaleX:e,scaleY:n}){return!jm(t)||!jm(e)||!jm(n)}function Co(t){return Vg(t)||ob(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ob(t){return Y_(t.x)||Y_(t.y)}function Y_(t){return t&&t!=="0%"}function Mf(t,e,n){const r=t-n,i=e*r;return n+i}function X_(t,e,n,r,i){return i!==void 0&&(t=Mf(t,i,r)),Mf(t,n,r)+e}function Mg(t,e=0,n=1,r,i){t.min=X_(t.min,e,n,r,i),t.max=X_(t.max,e,n,r,i)}function ab(t,{x:e,y:n}){Mg(t.x,e.translate,e.scale,e.originPoint),Mg(t.y,n.translate,n.scale,n.originPoint)}function aF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const d=a.instance;d&&d.style&&d.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ja(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ab(t,l)),r&&Co(a.latestValues)&&Ja(t,a.latestValues))}e.x=J_(e.x),e.y=J_(e.y)}function J_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _i(t,e){t.min=t.min+e,t.max=t.max+e}function Z_(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,l=kt(t.min,t.max,a);Mg(t,e[n],e[r],l,e.scale)}const lF=["x","scaleX","originX"],cF=["y","scaleY","originY"];function Ja(t,e){Z_(t.x,e,lF),Z_(t.y,e,cF)}function lb(t,e){return ib(oF(t.getBoundingClientRect(),e))}function uF(t,e,n){const r=lb(t,n),{scroll:i}=e;return i&&(_i(r.x,i.offset.x),_i(r.y,i.offset.y)),r}const cb=({current:t})=>t?t.ownerDocument.defaultView:null,dF=new WeakMap;class fF{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gh(g,"page").point)},a=(g,y)=>{const{drag:x,dragPropagation:_,onDragStart:b}=this.getProps();if(x&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=EC(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(R=>{let j=this.getAxisMotionValue(R).get()||0;if(ds.test(j)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[R];O&&(j=ir(O)*(parseFloat(j)/100))}}this.originPoint[R]=j}),b&&Et.update(()=>b(g,y),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:b,onDrag:C}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:R}=y;if(_&&this.currentDirection===null){this.currentDirection=hF(R),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),C&&C(g,y)},u=(g,y)=>this.stop(g,y),d=()=>vr(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new rb(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:cb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Et.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=ZL(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Qa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=eF(i.layoutBox,n):this.constraints=!1,this.elastic=sF(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vr(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=rF(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=uF(r,i.root,this.visualElement.getTransformPagePoint());let l=tF(i.layout.layoutBox,a);if(n){const u=n(iF(l));this.hasMutatedConstraints=!!u,u&&(l=ib(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=vr(g=>{if(!zd(g,n,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const x=i?200:1e6,_=i?40:1e7,b={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,b)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(av(e,r,0,n))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(n=>{const{drag:r}=this.getProps();if(!zd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-kt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vr(l=>{const u=this.getAxisMotionValue(l);if(u){const d=u.get();i[l]=nF({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(l=>{if(!zd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(kt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;dF.set(this.visualElement,this);const e=this.visualElement.current,n=Ms(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Qa(d)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=Os(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(vr(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Og,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function zd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pF extends Ki{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new fF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const eE=t=>(e,n)=>{t&&Et.update(()=>t(e,n))};class mF extends Ki{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new rb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:eE(e),onStart:eE(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Et.update(()=>i(a,l))}}}mount(){this.removePointerDownListener=Ms(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gF(){const t=S.useContext(Hy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=S.useId();return S.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=tE(t,e.target.x),r=tE(t,e.target.y);return`${n}% ${r}%`}},yF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mi.parse(t);if(i.length>5)return r;const a=Mi.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=d;const f=kt(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};class vF extends Le.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;SM(xF),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Et.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ub(t){const[e,n]=gF(),r=S.useContext(iC);return Le.createElement(vF,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(oC),isPresent:e,safeToRemove:n})}const xF={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:yF},db=["TopLeft","TopRight","BottomLeft","BottomRight"],wF=db.length,nE=t=>typeof t=="string"?parseFloat(t):t,rE=t=>typeof t=="number"||je.test(t);function _F(t,e,n,r,i,a){i?(t.opacity=kt(0,n.opacity!==void 0?n.opacity:1,EF(r)),t.opacityExit=kt(e.opacity!==void 0?e.opacity:1,0,TF(r))):a&&(t.opacity=kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<wF;l++){const u=`border${db[l]}Radius`;let d=sE(e,u),f=sE(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||rE(d)===rE(f)?(t[u]=Math.max(kt(nE(d),nE(f),r),0),(ds.test(f)||ds.test(d))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function sE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EF=fb(0,.5,jC),TF=fb(.5,.95,Ut);function fb(t,e,n){return r=>r<t?0:r>e?1:n(Xc(t,e,r))}function iE(t,e){t.min=e.min,t.max=e.max}function yr(t,e){iE(t.x,e.x),iE(t.y,e.y)}function oE(t,e,n,r,i){return t-=e,t=Mf(t,1/n,r),i!==void 0&&(t=Mf(t,1/i,r)),t}function SF(t,e=0,n=1,r=.5,i,a=t,l=t){if(ds.test(e)&&(e=parseFloat(e),e=kt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=kt(a.min,a.max,r);t===a&&(u-=e),t.min=oE(t.min,e,n,u,i),t.max=oE(t.max,e,n,u,i)}function aE(t,e,[n,r,i],a,l){SF(t,e[n],e[r],e[i],e.scale,a,l)}const CF=["x","scaleX","originX"],bF=["y","scaleY","originY"];function lE(t,e,n,r){aE(t.x,e,CF,n?n.x:void 0,r?r.x:void 0),aE(t.y,e,bF,n?n.y:void 0,r?r.y:void 0)}function cE(t){return t.translate===0&&t.scale===1}function hb(t){return cE(t.x)&&cE(t.y)}function AF(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function pb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function uE(t){return ir(t.x)/ir(t.y)}class RF{constructor(){this.members=[]}add(e){lv(this.members,e),e.scheduleRender()}remove(e){if(cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dE(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:f,rotateY:g}=n;d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const PF=(t,e)=>t.depth-e.depth;class IF{constructor(){this.children=[],this.isDirty=!1}add(e){lv(this.children,e),this.isDirty=!0}remove(e){cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PF),this.isDirty=!1,this.children.forEach(e)}}function NF(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(zs(r),t(a-e))};return Et.read(r,!0),()=>zs(r)}function kF(t){window.MotionDebug&&window.MotionDebug.record(t)}function DF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function jF(t,e,n){const r=Qn(t)?t:pl(t);return r.start(av("",r,e,n)),r.animation}const fE=["","X","Y","Z"],OF={visibility:"hidden"},hE=1e3;let VF=0;const bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=VF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bo.totalNodes=bo.resolvedTargetDeltas=bo.recalculatedProjection=0,this.nodes.forEach(FF),this.nodes.forEach(HF),this.nodes.forEach(WF),this.nodes.forEach(UF),kF(bo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new IF)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new uv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DF(l),this.instance=l;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||d)&&(this.isLayoutDirty=!0),t){let y;const x=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=NF(x,250),sf.hasAnimatedSinceResize&&(sf.hasAnimatedSinceResize=!1,this.nodes.forEach(mE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeTargetChanged:_,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||YF,{onLayoutAnimationStart:R,onLayoutAnimationComplete:j}=g.getProps(),k=!this.targetLayout||!pb(this.targetLayout,b)||_,O=!x&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||O||x&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,O);const L={...ov(C,"layout"),onPlay:R,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else x||mE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}this.isUpdating||this.nodes.forEach($F),this.isUpdating=!1,this.nodes.forEach(zF),this.nodes.forEach(MF),this.nodes.forEach(LF),this.clearAllSnapshots();const u=performance.now();Rn.delta=Vi(0,1e3/60,u-Rn.timestamp),Rn.timestamp=u,Rn.isProcessing=!0,Sm.update.process(Rn),Sm.preRender.process(Rn),Sm.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(BF),this.sharedNodes.forEach(GF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!hb(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&(u||Co(this.latestValues)||g)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),XF(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Wt();const u=l.measureViewportBox(),{scroll:d}=this.root;return d&&(_i(u.x,d.offset.x),_i(u.y,d.offset.y)),u}removeElementScroll(l){const u=Wt();yr(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:y}=f;if(f!==this.root&&g&&y.layoutScroll){if(g.isRoot){yr(u,l);const{scroll:x}=this.root;x&&(_i(u.x,-x.offset.x),_i(u.y,-x.offset.y))}_i(u.x,g.offset.x),_i(u.y,g.offset.y)}}return u}applyTransform(l,u=!1){const d=Wt();yr(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ja(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Co(g.latestValues)&&Ja(d,g.latestValues)}return Co(this.latestValues)&&Ja(d,this.latestValues),d}removeTransform(l){const u=Wt();yr(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Co(f.latestValues))continue;Vg(f.latestValues)&&f.updateSnapshot();const g=Wt(),y=f.measurePageBox();yr(g,y),lE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Co(this.latestValues)&&lE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),ab(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Oc(this.relativeTargetOrigin,this.target,_.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||ob(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;yr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;aF(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:b}=u;if(!b){this.projectionTransform&&(this.projectionDelta=Xa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xa(),this.projectionDeltaWithTransform=Xa());const C=this.projectionTransform;jc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=dE(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==x||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},y=Xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Wt(),_=d?d.source:void 0,b=this.layout?this.layout.source:void 0,C=_!==b,R=this.getStack(),j=!R||R.members.length<=1,k=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(QF));this.animationProgress=0;let O;this.mixTargetDelta=L=>{const B=L/1e3;gE(y.x,l.x,B),gE(y.y,l.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KF(this.relativeTarget,this.relativeTargetOrigin,x,B),O&&AF(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Wt()),yr(O,this.relativeTarget)),C&&(this.animationValues=g,_F(g,f,this.latestValues,B,k,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{sf.hasAnimatedSinceResize=!0,this.currentAnimation=jF(0,hE,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:g}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&gb(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Wt();const y=ir(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const x=ir(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}yr(u,d),Ja(u,g),jc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new RF),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(u=!0),!u)return;const f={};for(let g=0;g<fE.length;g++){const y="rotate"+fE[g];d[y]&&(f[y]=d[y],l.setStaticValue(y,0))}l.render();for(const g in f)l.setStaticValue(g,f[g]);l.scheduleRender()}getProjectionStyles(l){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OF;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=rf(l==null?void 0:l.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=rf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const x=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=dE(this.projectionDeltaWithTransform,this.treeScale,x),g&&(f.transform=g(x,f.transform));const{x:_,y:b}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,y.animationValues?f.opacity=y===this?(d=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=y===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in If){if(x[C]===void 0)continue;const{correct:R,applyTo:j}=If[C],k=f.transform==="none"?x[C]:R(x[C],y);if(j){const O=j.length;for(let L=0;L<O;L++)f[j[L]]=k}else f[C]=k}return this.options.layoutId&&(f.pointerEvents=y===this?rf(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function MF(t){t.updateLayout()}function LF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?vr(y=>{const x=l?n.measuredBox[y]:n.layoutBox[y],_=ir(x);x.min=r[y].min,x.max=x.min+_}):gb(a,n.layoutBox,r)&&vr(y=>{const x=l?n.measuredBox[y]:n.layoutBox[y],_=ir(r[y]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+_)});const u=Xa();jc(u,r,n.layoutBox);const d=Xa();l?jc(d,t.applyTransform(i,!0),n.measuredBox):jc(d,r,n.layoutBox);const f=!hb(u);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:_}=y;if(x&&_){const b=Wt();Oc(b,n.layoutBox,x.layoutBox);const C=Wt();Oc(C,r,_.layoutBox),pb(b,C)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function FF(t){bo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BF(t){t.clearSnapshot()}function pE(t){t.clearMeasurements()}function $F(t){t.isLayoutDirty=!1}function zF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HF(t){t.resolveTargetDelta()}function WF(t){t.calcProjection()}function qF(t){t.resetRotation()}function GF(t){t.removeLeadSnapshot()}function gE(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yE(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function KF(t,e,n,r){yE(t.x,e.x,n.x,r),yE(t.y,e.y,n.y,r)}function QF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YF={duration:.45,ease:[.4,0,.1,1]},vE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),xE=vE("applewebkit/")&&!vE("chrome/")?Math.round:Ut;function wE(t){t.min=xE(t.min),t.max=xE(t.max)}function XF(t){wE(t.x),wE(t.y)}function gb(t,e,n){return t==="position"||t==="preserve-aspect"&&!jg(uE(e),uE(n),.2)}const JF=mb({attachResizeListener:(t,e)=>Os(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},yb=mb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Om.current){const t=new JF({});t.mount(window),t.setOptions({layoutScroll:!0}),Om.current=t}return Om.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZF={pan:{Feature:mF},drag:{Feature:pF,ProjectionNode:yb,MeasureLayout:ub}},e6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function t6(t){const e=e6.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Lg(t,e,n=1){const[r,i]=t6(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return ZC(l)?parseFloat(l):l}else return Ag(i)?Lg(i,e,n+1):i}function n6(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!Ag(a))return;const l=Lg(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!Ag(a))continue;const l=Lg(a,r);l&&(e[i]=l,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const r6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vb=t=>r6.has(t),s6=t=>Object.keys(t).some(vb),_E=t=>t===Zo||t===je,EE=(t,e)=>parseFloat(t.split(", ")[e]),TE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return EE(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?EE(a[1],t):0}},i6=new Set(["x","y","z"]),o6=cu.filter(t=>!i6.has(t));function a6(t){const e=[];return o6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ml={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TE(4,13),y:TE(5,14)};ml.translateX=ml.x;ml.translateY=ml.y;const l6=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(f=>{u[f]=ml[f](r,a)}),e.render();const d=e.measureViewportBox();return n.forEach(f=>{const g=e.getValue(f);g&&g.jump(u[f]),t[f]=ml[f](d,a)}),t},c6=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(vb);let a=[],l=!1;const u=[];if(i.forEach(d=>{const f=t.getValue(d);if(!t.hasValue(d))return;let g=n[d],y=vc(g);const x=e[d];let _;if(kf(x)){const b=x.length,C=x[0]===null?1:0;g=x[C],y=vc(g);for(let R=C;R<b&&x[R]!==null;R++)_?tv(vc(x[R])===_):_=vc(x[R])}else _=vc(x);if(y!==_)if(_E(y)&&_E(_)){const b=f.get();typeof b=="string"&&f.set(parseFloat(b)),typeof x=="string"?e[d]=parseFloat(x):Array.isArray(x)&&_===je&&(e[d]=x.map(parseFloat))}else y!=null&&y.transform&&(_!=null&&_.transform)&&(g===0||x===0)?g===0?f.set(_.transform(g)):e[d]=y.transform(x):(l||(a=a6(t),l=!0),u.push(d),r[d]=r[d]!==void 0?r[d]:e[d],f.jump(x))}),u.length){const d=u.indexOf("height")>=0?window.pageYOffset:null,f=l6(e,t,u);return a.length&&a.forEach(([g,y])=>{t.getValue(g).set(y)}),t.render(),fh&&d!==null&&window.scrollTo({top:d}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function u6(t,e,n,r){return s6(e)?c6(t,e,n,r):{target:e,transitionEnd:r}}const d6=(t,e,n,r)=>{const i=n6(t,e,r);return e=i.target,r=i.transitionEnd,u6(t,e,n,r)},Fg={current:null},xb={current:!1};function f6(){if(xb.current=!0,!!fh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fg.current=t.matches;t.addListener(e),e()}else Fg.current=!1}function h6(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],l=n[i];if(Qn(a))t.addValue(i,a),Vf(r)&&r.add(i);else if(Qn(l))t.addValue(i,pl(a,{owner:t})),Vf(r)&&r.remove(i);else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);!u.hasAnimated&&u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,pl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const SE=new WeakMap,wb=Object.keys(Yc),p6=wb.length,CE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],m6=Gy.length;class g6{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Et.render(this.render,!1,!0);const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=ph(n),this.isVariantNode=sC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{});for(const y in g){const x=g[y];u[y]!==void 0&&Qn(x)&&(x.set(u[y],!1),Vf(f)&&f.add(y))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,SE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xb.current||f6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SE.delete(this.current),this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Jo.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Et.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let l,u;for(let d=0;d<p6;d++){const f=wb[d],{isEnabled:g,Feature:y,ProjectionNode:x,MeasureLayout:_}=Yc[f];x&&(l=x),g(n)&&(!this.features[f]&&y&&(this.features[f]=new y(this)),_&&(u=_))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:f,drag:g,dragConstraints:y,layoutScroll:x,layoutRoot:_}=n;this.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!g||y&&Qa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:a,layoutScroll:x,layoutRoot:_})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CE.length;r++){const i=CE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=h6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<m6;r++){const i=Gy[r],a=this.props[i];(Qc(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=pl(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=ev(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _b extends g6{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let l=DL(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),a){NL(this,r,l);const u=d6(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function y6(t){return window.getComputedStyle(t)}class v6 extends _b{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Jo.has(n)){const r=iv(n);return r&&r.default||0}else{const r=y6(e),i=(cC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lb(e,n)}build(e,n,r,i){Qy(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Zy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){mC(e,n,r,i)}}class x6 extends _b{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jo.has(n)){const r=iv(n);return r&&r.default||0}return n=gC.has(n)?n:Wy(n),e.getAttribute(n)}measureInstanceViewportBox(){return Wt()}scrapeMotionValuesFromProps(e,n){return vC(e,n)}build(e,n,r,i){Xy(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){yC(e,n,r,i)}mount(e){this.isSVGTag=Jy(e.tagName),super.mount(e)}}const w6=(t,e)=>Ky(t)?new x6(e,{enableHardwareAcceleration:!1}):new v6(e,{enableHardwareAcceleration:!0}),_6={layout:{ProjectionNode:yb,MeasureLayout:ub}},E6={...KL,...p4,...ZF,..._6},Me=EM((t,e)=>t4(t,e,E6,w6)),T6=ch("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),We=Le.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?XO:"button";return m.jsx(l,{className:Xe(T6({variant:e,size:n,className:t})),ref:a,...i})});We.displayName="Button";const Gt=Le.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Gt.displayName="Input";var S6="Label",Eb=S.forwardRef((t,e)=>m.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Eb.displayName=S6;var Tb=Eb;const C6=ch("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),At=Le.forwardRef(({className:t,...e},n)=>m.jsx(Tb,{ref:n,className:Xe(C6(),t),...e}));At.displayName=Tb.displayName;const Dt=Le.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Dt.displayName="Card";const Kt=Le.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",t),...e}));Kt.displayName="CardHeader";const Qt=Le.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qt.displayName="CardTitle";const gl=Le.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));gl.displayName="CardDescription";const Vt=Le.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Xe("p-6 pt-0",t),...e}));Vt.displayName="CardContent";const dv=Le.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",t),...e}));dv.displayName="CardFooter";const b6=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,a]=S.useState(!1),[l,u]=S.useState(!1),{login:d}=Gi(),{toast:f}=Gs(),g=async x=>{x.preventDefault(),u(!0);try{const _=await d(t,n);_.success?f({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${_.user.nome}!`}):f({title:"Erro no login",description:_.error,variant:"destructive"})}catch{f({title:"Erro no login",description:"Ocorreu um erro inesperado. Tente novamente.",variant:"destructive"})}finally{u(!1)}},y=x=>{x==="admin"?(e("admin@empresa.com"),r("123456")):(e("joao@empresa.com"),r("123456"))};return m.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{className:"text-center space-y-4",children:[m.jsx(Me.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:m.jsx(bg,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{children:[m.jsx(Qt,{className:"text-2xl font-bold text-white",children:"Central de Treinamento NTW"}),m.jsx(gl,{className:"text-slate-300",children:"Faa login para acessar sua conta"})]})]}),m.jsxs(Vt,{className:"space-y-6",children:[m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"email",className:"text-slate-200",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(WS,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),m.jsx(Gt,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:x=>e(x.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"senha",className:"text-slate-200",children:"Senha"}),m.jsxs("div",{className:"relative",children:[m.jsx(HS,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),m.jsx(Gt,{id:"senha",type:i?"text":"password",placeholder:"Sua senha",value:n,onChange:x=>r(x.target.value),className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-400",required:!0}),m.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-200",children:i?m.jsx($V,{className:"h-4 w-4"}):m.jsx(zV,{className:"h-4 w-4"})})]})]}),m.jsx(We,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:l,children:l?"Entrando...":"Entrar"})]}),m.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[m.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Acesso de demonstrao:"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx(We,{type:"button",variant:"outline",size:"sm",onClick:()=>y("admin"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Admin"}),m.jsx(We,{type:"button",variant:"outline",size:"sm",onClick:()=>y("funcionario"),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Funcionrio"})]})]})]})]})})})},A6=({activeTab:t,setActiveTab:e,onLogout:n})=>{var d;const{user:r,isAdmin:i}=Gi(),a=[{id:"dashboard",label:"Dashboard",icon:GV},{id:"usuarios",label:"Usurios",icon:Pf},{id:"treinamentos",label:"Treinamentos",icon:Kc},{id:"trilhas",label:"Trilhas",icon:Cg},{id:"categorias",label:"Categorias",icon:qV},{id:"departamentos",label:"Departamentos",icon:Uy},{id:"relatorios",label:"Relatrios",icon:Rf},{id:"configuracoes",label:"Configuraes",icon:ZV}],l=[{id:"meus-treinamentos",label:"Meus Treinamentos",icon:bg},{id:"minhas-trilhas",label:"Minhas Trilhas",icon:Cg},{id:"progresso",label:"Meu Progresso",icon:Rf},{id:"ranking",label:"Ranking",icon:KS}],u=i()?a:l;return m.jsxs(Me.div,{initial:{x:-300},animate:{x:0},className:"w-64 bg-slate-800/50 backdrop-blur-lg border-r border-slate-700 h-screen flex flex-col",children:[m.jsx("div",{className:"p-6 border-b border-slate-700",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:m.jsx(bg,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-lg font-bold text-white",children:"Central de"}),m.jsx("p",{className:"text-sm text-slate-300",children:"Treinamento NTW"})]})]})}),m.jsx("div",{className:"p-4 border-b border-slate-700",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-sm font-semibold text-white",children:((d=r==null?void 0:r.nome)==null?void 0:d.charAt(0))||"U"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-white truncate",children:r==null?void 0:r.nome}),m.jsx("p",{className:"text-xs text-slate-400 truncate",children:(r==null?void 0:r.tipo)==="admin"?"Administrador":"Funcionrio"})]})]})}),m.jsx("nav",{className:"flex-1 p-4 space-y-2",children:u.map(f=>{const g=f.icon,y=t===f.id;return m.jsxs(Me.button,{onClick:()=>e(f.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${y?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(g,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:f.label})]},f.id)})}),m.jsx("div",{className:"p-4 border-t border-slate-700",children:m.jsxs(We,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-white hover:bg-red-500/20",children:[m.jsx(YV,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})},bE=({setActiveTab:t})=>{const[e,n]=S.useState({totalUsuarios:0,usuariosAtivos:0,totalTreinamentos:0,treinamentosObrigatorios:0,totalConclusoes:0,taxaConclusao:0,treinamentosVencendo:0}),[r,i]=S.useState([]);S.useEffect(()=>{const l=yt(),u=l.usuarios.length,d=l.usuarios.filter(k=>k.ativo).length,f=l.treinamentos.filter(k=>k.ativo).length,g=l.treinamentos.filter(k=>k.obrigatorio&&k.ativo).length,y=l.historico.filter(k=>k.concluido).length,x=l.usuarios.filter(k=>k.tipo==="funcionario").length*f,_=x>0?Math.round(y/x*100):0,b=new Date,C=new Date(b.getTime()+720*60*60*1e3),R=l.treinamentos.filter(k=>{if(!k.dataExpiracao)return!1;const O=new Date(k.dataExpiracao);return O<=C&&O>=b}).length;n({totalUsuarios:u,usuariosAtivos:d,totalTreinamentos:f,treinamentosObrigatorios:g,totalConclusoes:y,taxaConclusao:_,treinamentosVencendo:R});const j=l.historico.filter(k=>k.concluido).sort((k,O)=>new Date(O.dataConclusao)-new Date(k.dataConclusao)).slice(0,5).map(k=>{const O=l.usuarios.find(B=>B.id===k.usuarioId),L=l.treinamentos.find(B=>B.id===k.treinamentoId);return{...k,nomeUsuario:(O==null?void 0:O.nome)||"Usurio no encontrado",tituloTreinamento:(L==null?void 0:L.titulo)||"Treinamento no encontrado"}});i(j)},[]);const a=[{title:"Total de Usurios",value:e.totalUsuarios,description:`${e.usuariosAtivos} ativos`,icon:Pf,color:"from-blue-500 to-blue-600"},{title:"Treinamentos",value:e.totalTreinamentos,description:`${e.treinamentosObrigatorios} obrigatrios`,icon:Kc,color:"from-green-500 to-green-600"},{title:"Taxa de Concluso",value:`${e.taxaConclusao}%`,description:`${e.totalConclusoes} concludos`,icon:GS,color:"from-purple-500 to-purple-600"},{title:"Vencendo em Breve",value:e.treinamentosVencendo,description:"Prximos 30 dias",icon:US,color:"from-orange-500 to-red-500"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard Administrativo"}),m.jsx("p",{className:"text-slate-400",children:"Viso geral da Central de Treinamento"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,u)=>{const d=l.icon;return m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover",children:[m.jsxs(Kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Qt,{className:"text-sm font-medium text-slate-200",children:l.title}),m.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${l.color}`,children:m.jsx(d,{className:"h-4 w-4 text-white"})})]}),m.jsxs(Vt,{children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:l.value}),m.jsx("p",{className:"text-xs text-slate-400 mt-1",children:l.description})]})]})},l.title)})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{children:[m.jsxs(Qt,{className:"text-white flex items-center",children:[m.jsx(au,{className:"w-5 h-5 mr-2 text-green-500"}),"Atividade Recente"]}),m.jsx(gl,{className:"text-slate-400",children:"ltimos treinamentos concludos"})]}),m.jsx(Vt,{className:"space-y-4",children:r.length>0?r.map((l,u)=>m.jsxs(Me.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+u*.1},className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:m.jsx(uh,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-white truncate",children:l.nomeUsuario}),m.jsx("p",{className:"text-xs text-slate-400 truncate",children:l.tituloTreinamento})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs text-slate-400",children:new Date(l.dataConclusao).toLocaleDateString("pt-BR")}),m.jsxs("p",{className:"text-xs text-green-400",children:["Nota: ",l.notaQuestionario,"/10"]})]})]},l.id)):m.jsx("p",{className:"text-slate-400 text-center py-4",children:"Nenhuma atividade recente"})})]})}),m.jsx(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{children:[m.jsxs(Qt,{className:"text-white flex items-center",children:[m.jsx(Rf,{className:"w-5 h-5 mr-2 text-blue-500"}),"Aes Rpidas"]}),m.jsx(gl,{className:"text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),m.jsxs(Vt,{className:"space-y-3",children:[m.jsx(Me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-3 text-left rounded-lg bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 hover:border-blue-400 transition-colors",onClick:()=>t("usuarios"),children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Pf,{className:"w-5 h-5 text-blue-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-white",children:"Gerenciar Usurios"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Adicionar, editar ou desativar usurios"})]})]})}),m.jsx(Me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-3 text-left rounded-lg bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 hover:border-green-400 transition-colors",onClick:()=>t("treinamentos"),children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Kc,{className:"w-5 h-5 text-green-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-white",children:"Novo Treinamento"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Criar um novo treinamento"})]})]})}),m.jsx(Me.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-3 text-left rounded-lg bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30 hover:border-purple-400 transition-colors",onClick:()=>t("relatorios"),children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Rf,{className:"w-5 h-5 text-purple-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-white",children:"Ver Relatrios"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Anlise detalhada de desempenho"})]})]})})]})]})})]})]})},R6=ch("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Do({className:t,variant:e,...n}){return m.jsx("div",{className:Xe(R6({variant:e}),t),...n})}var P6=tT[" useId ".trim().toString()]||(()=>{}),I6=0;function jo(t){const[e,n]=S.useState(P6());return Bt(()=>{n(r=>r??String(I6++))},[t]),e?`radix-${e}`:""}var Vm="focusScope.autoFocusOnMount",Mm="focusScope.autoFocusOnUnmount",AE={bubbles:!1,cancelable:!0},N6="FocusScope",fv=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[u,d]=S.useState(null),f=Kn(i),g=Kn(a),y=S.useRef(null),x=lt(e,C=>d(C)),_=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let C=function(O){if(_.paused||!u)return;const L=O.target;u.contains(L)?y.current=L:wi(y.current,{select:!0})},R=function(O){if(_.paused||!u)return;const L=O.relatedTarget;L!==null&&(u.contains(L)||wi(y.current,{select:!0}))},j=function(O){if(document.activeElement===document.body)for(const B of O)B.removedNodes.length>0&&wi(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",R);const k=new MutationObserver(j);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",R),k.disconnect()}}},[r,u,_.paused]),S.useEffect(()=>{if(u){PE.add(_);const C=document.activeElement;if(!u.contains(C)){const j=new CustomEvent(Vm,AE);u.addEventListener(Vm,f),u.dispatchEvent(j),j.defaultPrevented||(k6(M6(Sb(u)),{select:!0}),document.activeElement===C&&wi(u))}return()=>{u.removeEventListener(Vm,f),setTimeout(()=>{const j=new CustomEvent(Mm,AE);u.addEventListener(Mm,g),u.dispatchEvent(j),j.defaultPrevented||wi(C??document.body,{select:!0}),u.removeEventListener(Mm,g),PE.remove(_)},0)}}},[u,f,g,_]);const b=S.useCallback(C=>{if(!n&&!r||_.paused)return;const R=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,j=document.activeElement;if(R&&j){const k=C.currentTarget,[O,L]=D6(k);O&&L?!C.shiftKey&&j===L?(C.preventDefault(),n&&wi(O,{select:!0})):C.shiftKey&&j===O&&(C.preventDefault(),n&&wi(L,{select:!0})):j===k&&C.preventDefault()}},[n,r,_.paused]);return m.jsx(Be.div,{tabIndex:-1,...l,ref:x,onKeyDown:b})});fv.displayName=N6;function k6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wi(r,{select:e}),document.activeElement!==n)return}function D6(t){const e=Sb(t),n=RE(e,t),r=RE(e.reverse(),t);return[n,r]}function Sb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function RE(t,e){for(const n of t)if(!j6(n,{upTo:e}))return n}function j6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O6(t){return t instanceof HTMLInputElement&&"select"in t}function wi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O6(t)&&e&&t.select()}}var PE=V6();function V6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=IE(t,e),t.unshift(e)},remove(e){var n;t=IE(t,e),(n=t[0])==null||n.resume()}}}function IE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function M6(t){return t.filter(e=>e.tagName!=="A")}var Lm=0;function L6(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NE()),document.body.insertAdjacentElement("beforeend",t[1]??NE()),Lm++,()=>{Lm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lm--}},[])}function NE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var is=function(){return is=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},is.apply(this,arguments)};function Cb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function F6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var of="right-scroll-bar-position",af="width-before-scroll-bar",U6="with-scroll-bars-hidden",B6="--removed-body-scroll-bar-size";function Fm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $6(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var z6=typeof window<"u"?S.useLayoutEffect:S.useEffect,kE=new WeakMap;function H6(t,e){var n=$6(null,function(r){return t.forEach(function(i){return Fm(i,r)})});return z6(function(){var r=kE.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(u){a.has(u)||Fm(u,null)}),a.forEach(function(u){i.has(u)||Fm(u,l)})}kE.set(n,t)},[t]),n}function W6(t){return t}function q6(t,e){e===void 0&&(e=W6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var d=function(){var g=l;l=[],g.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),n}}}};return i}function G6(t){t===void 0&&(t={});var e=q6(null);return e.options=is({async:!0,ssr:!1},t),e}var bb=function(t){var e=t.sideCar,n=Cb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,is({},n))};bb.isSideCarExport=!0;function K6(t,e){return t.useMedium(e),bb}var Ab=G6(),Um=function(){},vh=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),i=r[0],a=r[1],l=t.forwardProps,u=t.children,d=t.className,f=t.removeScrollBar,g=t.enabled,y=t.shards,x=t.sideCar,_=t.noRelative,b=t.noIsolation,C=t.inert,R=t.allowPinchZoom,j=t.as,k=j===void 0?"div":j,O=t.gapMode,L=Cb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=x,q=H6([n,e]),I=is(is({},L),i);return S.createElement(S.Fragment,null,g&&S.createElement(B,{sideCar:Ab,removeScrollBar:f,shards:y,noRelative:_,noIsolation:b,inert:C,setCallbacks:a,allowPinchZoom:!!R,lockRef:n,gapMode:O}),l?S.cloneElement(S.Children.only(u),is(is({},I),{ref:q})):S.createElement(k,is({},I,{className:d,ref:q}),u))});vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vh.classNames={fullWidth:af,zeroRight:of};var Q6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Q6();return e&&t.setAttribute("nonce",e),t}function X6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function J6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Z6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Y6())&&(X6(e,n),J6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},e3=function(){var t=Z6();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Rb=function(){var t=e3(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},t3={left:0,top:0,right:0,gap:0},Bm=function(t){return parseInt(t||"",10)||0},n3=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Bm(n),Bm(r),Bm(i)]},r3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return t3;var e=n3(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},s3=Rb(),nl="data-scroll-locked",i3=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(U6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(of,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(af,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(of," .").concat(of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(af," .").concat(af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nl,`] {
    `).concat(B6,": ").concat(u,`px;
  }
`)},DE=function(){var t=parseInt(document.body.getAttribute(nl)||"0",10);return isFinite(t)?t:0},o3=function(){S.useEffect(function(){return document.body.setAttribute(nl,(DE()+1).toString()),function(){var t=DE()-1;t<=0?document.body.removeAttribute(nl):document.body.setAttribute(nl,t.toString())}},[])},a3=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;o3();var a=S.useMemo(function(){return r3(i)},[i]);return S.createElement(s3,{styles:i3(a,!e,i,n?"":"!important")})},Ug=!1;if(typeof window<"u")try{var Hd=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{Ug=!1}var $a=Ug?{passive:!1}:!1,l3=function(t){return t.tagName==="TEXTAREA"},Pb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!l3(t)&&n[e]==="visible")},c3=function(t){return Pb(t,"overflowY")},u3=function(t){return Pb(t,"overflowX")},jE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Ib(t,r);if(i){var a=Nb(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},d3=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},f3=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ib=function(t,e){return t==="v"?c3(e):u3(e)},Nb=function(t,e){return t==="v"?d3(e):f3(e)},h3=function(t,e){return t==="h"&&e==="rtl"?-1:1},p3=function(t,e,n,r,i){var a=h3(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,d=e.contains(u),f=!1,g=l>0,y=0,x=0;do{if(!u)break;var _=Nb(t,u),b=_[0],C=_[1],R=_[2],j=C-R-a*b;(b||j)&&Ib(t,u)&&(y+=j,x+=b);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(f=!0),f},Wd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},OE=function(t){return[t.deltaX,t.deltaY]},VE=function(t){return t&&"current"in t?t.current:t},m3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},g3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},y3=0,za=[];function v3(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(y3++)[0],a=S.useState(Rb)[0],l=S.useRef(t);S.useEffect(function(){l.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=F6([t.lockRef.current],(t.shards||[]).map(VE),!0).filter(Boolean);return C.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=S.useCallback(function(C,R){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var j=Wd(C),k=n.current,O="deltaX"in C?C.deltaX:k[0]-j[0],L="deltaY"in C?C.deltaY:k[1]-j[1],B,q=C.target,I=Math.abs(O)>Math.abs(L)?"h":"v";if("touches"in C&&I==="h"&&q.type==="range")return!1;var T=jE(I,q);if(!T)return!0;if(T?B=I:(B=I==="v"?"h":"v",T=jE(I,q)),!T)return!1;if(!r.current&&"changedTouches"in C&&(O||L)&&(r.current=B),!B)return!0;var P=r.current||B;return p3(P,R,C,P==="h"?O:L)},[]),d=S.useCallback(function(C){var R=C;if(!(!za.length||za[za.length-1]!==a)){var j="deltaY"in R?OE(R):Wd(R),k=e.current.filter(function(B){return B.name===R.type&&(B.target===R.target||R.target===B.shadowParent)&&m3(B.delta,j)})[0];if(k&&k.should){R.cancelable&&R.preventDefault();return}if(!k){var O=(l.current.shards||[]).map(VE).filter(Boolean).filter(function(B){return B.contains(R.target)}),L=O.length>0?u(R,O[0]):!l.current.noIsolation;L&&R.cancelable&&R.preventDefault()}}},[]),f=S.useCallback(function(C,R,j,k){var O={name:C,delta:R,target:j,should:k,shadowParent:x3(j)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(L){return L!==O})},1)},[]),g=S.useCallback(function(C){n.current=Wd(C),r.current=void 0},[]),y=S.useCallback(function(C){f(C.type,OE(C),C.target,u(C,t.lockRef.current))},[]),x=S.useCallback(function(C){f(C.type,Wd(C),C.target,u(C,t.lockRef.current))},[]);S.useEffect(function(){return za.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",d,$a),document.addEventListener("touchmove",d,$a),document.addEventListener("touchstart",g,$a),function(){za=za.filter(function(C){return C!==a}),document.removeEventListener("wheel",d,$a),document.removeEventListener("touchmove",d,$a),document.removeEventListener("touchstart",g,$a)}},[]);var _=t.removeScrollBar,b=t.inert;return S.createElement(S.Fragment,null,b?S.createElement(a,{styles:g3(i)}):null,_?S.createElement(a3,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function x3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const w3=K6(Ab,v3);var hv=S.forwardRef(function(t,e){return S.createElement(vh,is({},t,{ref:e,sideCar:w3}))});hv.classNames=vh.classNames;var _3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ha=new WeakMap,qd=new WeakMap,Gd={},$m=0,kb=function(t){return t&&(t.host||kb(t.parentNode))},E3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},T3=function(t,e,n,r){var i=E3(e,Array.isArray(t)?t:[t]);Gd[n]||(Gd[n]=new WeakMap);var a=Gd[n],l=[],u=new Set,d=new Set(i),f=function(y){!y||u.has(y)||(u.add(y),f(y.parentNode))};i.forEach(f);var g=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(x){if(u.has(x))g(x);else try{var _=x.getAttribute(r),b=_!==null&&_!=="false",C=(Ha.get(x)||0)+1,R=(a.get(x)||0)+1;Ha.set(x,C),a.set(x,R),l.push(x),C===1&&b&&qd.set(x,!0),R===1&&x.setAttribute(n,"true"),b||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return g(e),u.clear(),$m++,function(){l.forEach(function(y){var x=Ha.get(y)-1,_=a.get(y)-1;Ha.set(y,x),a.set(y,_),x||(qd.has(y)||y.removeAttribute(r),qd.delete(y)),_||y.removeAttribute(n)}),$m--,$m||(Ha=new WeakMap,Ha=new WeakMap,qd=new WeakMap,Gd={})}},Db=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=_3(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),T3(r,i,n,"aria-hidden")):function(){return null}},xh="Dialog",[jb,mB]=qs(xh),[S3,qr]=jb(xh),Ob=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,u=S.useRef(null),d=S.useRef(null),[f,g]=Mo({prop:r,defaultProp:i??!1,onChange:a,caller:xh});return m.jsx(S3,{scope:e,triggerRef:u,contentRef:d,contentId:jo(),titleId:jo(),descriptionId:jo(),open:f,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(y=>!y),[g]),modal:l,children:n})};Ob.displayName=xh;var Vb="DialogTrigger",Mb=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(Vb,n),a=lt(e,i.triggerRef);return m.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gv(i.open),...r,ref:a,onClick:dn(t.onClick,i.onOpenToggle)})});Mb.displayName=Vb;var pv="DialogPortal",[C3,Lb]=jb(pv,{forceMount:void 0}),Fb=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=qr(pv,e);return m.jsx(C3,{scope:e,forceMount:n,children:S.Children.map(r,l=>m.jsx(iu,{present:n||a.open,children:m.jsx(ah,{asChild:!0,container:i,children:l})}))})};Fb.displayName=pv;var Lf="DialogOverlay",Ub=S.forwardRef((t,e)=>{const n=Lb(Lf,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=qr(Lf,t.__scopeDialog);return a.modal?m.jsx(iu,{present:r||a.open,children:m.jsx(A3,{...i,ref:e})}):null});Ub.displayName=Lf;var b3=dl("DialogOverlay.RemoveScroll"),A3=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(Lf,n);return m.jsx(hv,{as:b3,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Be.div,{"data-state":gv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Lo="DialogContent",Bb=S.forwardRef((t,e)=>{const n=Lb(Lo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=qr(Lo,t.__scopeDialog);return m.jsx(iu,{present:r||a.open,children:a.modal?m.jsx(R3,{...i,ref:e}):m.jsx(P3,{...i,ref:e})})});Bb.displayName=Lo;var R3=S.forwardRef((t,e)=>{const n=qr(Lo,t.__scopeDialog),r=S.useRef(null),i=lt(e,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return Db(a)},[]),m.jsx($b,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dn(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dn(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:dn(t.onFocusOutside,a=>a.preventDefault())})}),P3=S.forwardRef((t,e)=>{const n=qr(Lo,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return m.jsx($b,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,f;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$b=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,u=qr(Lo,n),d=S.useRef(null),f=lt(e,d);return L6(),m.jsxs(m.Fragment,{children:[m.jsx(fv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:m.jsx(jy,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":gv(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(I3,{titleId:u.titleId}),m.jsx(k3,{contentRef:d,descriptionId:u.descriptionId})]})]})}),mv="DialogTitle",zb=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(mv,n);return m.jsx(Be.h2,{id:i.titleId,...r,ref:e})});zb.displayName=mv;var Hb="DialogDescription",Wb=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(Hb,n);return m.jsx(Be.p,{id:i.descriptionId,...r,ref:e})});Wb.displayName=Hb;var qb="DialogClose",Gb=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(qb,n);return m.jsx(Be.button,{type:"button",...r,ref:e,onClick:dn(t.onClick,()=>i.onOpenChange(!1))})});Gb.displayName=qb;function gv(t){return t?"open":"closed"}var Kb="DialogTitleWarning",[gB,Qb]=QO(Kb,{contentName:Lo,titleName:mv,docsSlug:"dialog"}),I3=({titleId:t})=>{const e=Qb(Kb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},N3="DialogDescriptionWarning",k3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qb(N3).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},D3=Ob,j3=Mb,O3=Fb,Yb=Ub,Xb=Bb,Jb=zb,Zb=Wb,V3=Gb;const Fo=D3,hu=j3,M3=O3,eA=Le.forwardRef(({className:t,...e},n)=>m.jsx(Yb,{ref:n,className:Xe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eA.displayName=Yb.displayName;const Li=Le.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(M3,{children:[m.jsx(eA,{}),m.jsxs(Xb,{ref:r,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(V3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(QS,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Li.displayName=Xb.displayName;const Fi=({className:t,...e})=>m.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fi.displayName="DialogHeader";const Uo=({className:t,...e})=>m.jsx("div",{className:Xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Uo.displayName="DialogFooter";const Ui=Le.forwardRef(({className:t,...e},n)=>m.jsx(Jb,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",t),...e}));Ui.displayName=Jb.displayName;const Ff=Le.forwardRef(({className:t,...e},n)=>m.jsx(Zb,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Ff.displayName=Zb.displayName;function ME(t,[e,n]){return Math.min(n,Math.max(e,t))}function qt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var L3=S.createContext(void 0);function yv(t){const e=S.useContext(L3);return t||e||"ltr"}var F3="DismissableLayer",Bg="dismissableLayer.update",U3="dismissableLayer.pointerDownOutside",B3="dismissableLayer.focusOutside",LE,tA=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nA=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=t,f=S.useContext(tA),[g,y]=S.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=S.useState({}),b=lt(e,I=>y(I)),C=Array.from(f.layers),[R]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=C.indexOf(R),k=g?C.indexOf(g):-1,O=f.layersWithOutsidePointerEventsDisabled.size>0,L=k>=j,B=H3(I=>{const T=I.target,P=[...f.branches].some(D=>D.contains(T));!L||P||(i==null||i(I),l==null||l(I),I.defaultPrevented||u==null||u())},x),q=W3(I=>{const T=I.target;[...f.branches].some(D=>D.contains(T))||(a==null||a(I),l==null||l(I),I.defaultPrevented||u==null||u())},x);return gS(I=>{k===f.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},x),S.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(LE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),FE(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=LE)}},[g,x,n,f]),S.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),FE())},[g,f]),S.useEffect(()=>{const I=()=>_({});return document.addEventListener(Bg,I),()=>document.removeEventListener(Bg,I)},[]),m.jsx(Be.div,{...d,ref:b,style:{pointerEvents:O?L?"auto":"none":void 0,...t.style},onFocusCapture:qt(t.onFocusCapture,q.onFocusCapture),onBlurCapture:qt(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:qt(t.onPointerDownCapture,B.onPointerDownCapture)})});nA.displayName=F3;var $3="DismissableLayerBranch",z3=S.forwardRef((t,e)=>{const n=S.useContext(tA),r=S.useRef(null),i=lt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),m.jsx(Be.div,{...t,ref:i})});z3.displayName=$3;function H3(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let d=function(){rA(U3,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function W3(t,e=globalThis==null?void 0:globalThis.document){const n=Kn(t),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&rA(B3,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FE(){const t=new CustomEvent(Bg);document.dispatchEvent(t)}function rA(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Dy(i,a):i.dispatchEvent(a)}var zm=0;function q3(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UE()),document.body.insertAdjacentElement("beforeend",t[1]??UE()),zm++,()=>{zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zm--}},[])}function UE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}const G3=["top","right","bottom","left"],Bi=Math.min,rr=Math.max,Uf=Math.round,Kd=Math.floor,fs=t=>({x:t,y:t}),K3={left:"right",right:"left",bottom:"top",top:"bottom"},Q3={start:"end",end:"start"};function $g(t,e,n){return rr(t,Bi(e,n))}function Hs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function Tl(t){return t.split("-")[1]}function vv(t){return t==="x"?"y":"x"}function xv(t){return t==="y"?"height":"width"}const Y3=new Set(["top","bottom"]);function os(t){return Y3.has(Ws(t))?"y":"x"}function wv(t){return vv(os(t))}function X3(t,e,n){n===void 0&&(n=!1);const r=Tl(t),i=wv(t),a=xv(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Bf(l)),[l,Bf(l)]}function J3(t){const e=Bf(t);return[zg(t),e,zg(e)]}function zg(t){return t.replace(/start|end/g,e=>Q3[e])}const BE=["left","right"],$E=["right","left"],Z3=["top","bottom"],e5=["bottom","top"];function t5(t,e,n){switch(t){case"top":case"bottom":return n?e?$E:BE:e?BE:$E;case"left":case"right":return e?Z3:e5;default:return[]}}function n5(t,e,n,r){const i=Tl(t);let a=t5(Ws(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(zg)))),a}function Bf(t){return t.replace(/left|right|bottom|top/g,e=>K3[e])}function r5(t){return{top:0,right:0,bottom:0,left:0,...t}}function sA(t){return typeof t!="number"?r5(t):{top:t,right:t,bottom:t,left:t}}function $f(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function zE(t,e,n){let{reference:r,floating:i}=t;const a=os(e),l=wv(e),u=xv(l),d=Ws(e),f=a==="y",g=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let _;switch(d){case"top":_={x:g,y:r.y-i.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y};break;case"left":_={x:r.x-i.width,y};break;default:_={x:r.x,y:r.y}}switch(Tl(e)){case"start":_[l]-=x*(n&&f?-1:1);break;case"end":_[l]+=x*(n&&f?-1:1);break}return _}const s5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y}=zE(f,r,d),x=r,_={},b=0;for(let C=0;C<u.length;C++){const{name:R,fn:j}=u[C],{x:k,y:O,data:L,reset:B}=await j({x:g,y,initialPlacement:r,placement:x,strategy:i,middlewareData:_,rects:f,platform:l,elements:{reference:t,floating:e}});g=k??g,y=O??y,_={..._,[R]:{..._[R],...L}},B&&b<=50&&(b++,typeof B=="object"&&(B.placement&&(x=B.placement),B.rects&&(f=B.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:g,y}=zE(f,x,d)),C=-1)}return{x:g,y,placement:x,strategy:i,middlewareData:_}};async function Jc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:_=0}=Hs(e,t),b=sA(_),R=u[x?y==="floating"?"reference":"floating":y],j=$f(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),k=y==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),L=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},B=$f(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:O,strategy:d}):k);return{top:(j.top-B.top+b.top)/L.y,bottom:(B.bottom-j.bottom+b.bottom)/L.y,left:(j.left-B.left+b.left)/L.x,right:(B.right-j.right+b.right)/L.x}}const i5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:d}=e,{element:f,padding:g=0}=Hs(t,e)||{};if(f==null)return{};const y=sA(g),x={x:n,y:r},_=wv(i),b=xv(_),C=await l.getDimensions(f),R=_==="y",j=R?"top":"left",k=R?"bottom":"right",O=R?"clientHeight":"clientWidth",L=a.reference[b]+a.reference[_]-x[_]-a.floating[b],B=x[_]-a.reference[_],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let I=q?q[O]:0;(!I||!await(l.isElement==null?void 0:l.isElement(q)))&&(I=u.floating[O]||a.floating[b]);const T=L/2-B/2,P=I/2-C[b]/2-1,D=Bi(y[j],P),U=Bi(y[k],P),F=D,V=I-C[b]-U,re=I/2-C[b]/2+T,we=$g(F,re,V),ue=!d.arrow&&Tl(i)!=null&&re!==we&&a.reference[b]/2-(re<F?D:U)-C[b]/2<0,se=ue?re<F?re-F:re-V:0;return{[_]:x[_]+se,data:{[_]:we,centerOffset:re-we-se,...ue&&{alignmentOffset:se}},reset:ue}}}),o5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...R}=Hs(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Ws(i),k=os(u),O=Ws(u)===u,L=await(d.isRTL==null?void 0:d.isRTL(f.floating)),B=x||(O||!C?[Bf(u)]:J3(u)),q=b!=="none";!x&&q&&B.push(...n5(u,C,b,L));const I=[u,...B],T=await Jc(e,R),P=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&P.push(T[j]),y){const re=X3(i,l,L);P.push(T[re[0]],T[re[1]])}if(D=[...D,{placement:i,overflows:P}],!P.every(re=>re<=0)){var U,F;const re=(((U=a.flip)==null?void 0:U.index)||0)+1,we=I[re];if(we&&(!(y==="alignment"?k!==os(we):!1)||D.every(Q=>os(Q.placement)===k?Q.overflows[0]>0:!0)))return{data:{index:re,overflows:D},reset:{placement:we}};let ue=(F=D.filter(se=>se.overflows[0]<=0).sort((se,Q)=>se.overflows[1]-Q.overflows[1])[0])==null?void 0:F.placement;if(!ue)switch(_){case"bestFit":{var V;const se=(V=D.filter(Q=>{if(q){const ee=os(Q.placement);return ee===k||ee==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ee=>ee>0).reduce((ee,ae)=>ee+ae,0)]).sort((Q,ee)=>Q[1]-ee[1])[0])==null?void 0:V[0];se&&(ue=se);break}case"initialPlacement":ue=u;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function HE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WE(t){return G3.some(e=>t[e]>=0)}const a5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Hs(t,e);switch(r){case"referenceHidden":{const a=await Jc(e,{...i,elementContext:"reference"}),l=HE(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:WE(l)}}}case"escaped":{const a=await Jc(e,{...i,altBoundary:!0}),l=HE(a,n.floating);return{data:{escapedOffsets:l,escaped:WE(l)}}}default:return{}}}}},iA=new Set(["left","top"]);async function l5(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ws(n),u=Tl(n),d=os(n)==="y",f=iA.has(l)?-1:1,g=a&&d?-1:1,y=Hs(e,t);let{mainAxis:x,crossAxis:_,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof b=="number"&&(_=u==="end"?b*-1:b),d?{x:_*g,y:x*f}:{x:x*f,y:_*g}}const c5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:u}=e,d=await l5(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},u5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:j,y:k}=R;return{x:j,y:k}}},...d}=Hs(t,e),f={x:n,y:r},g=await Jc(e,d),y=os(Ws(i)),x=vv(y);let _=f[x],b=f[y];if(a){const R=x==="y"?"top":"left",j=x==="y"?"bottom":"right",k=_+g[R],O=_-g[j];_=$g(k,_,O)}if(l){const R=y==="y"?"top":"left",j=y==="y"?"bottom":"right",k=b+g[R],O=b-g[j];b=$g(k,b,O)}const C=u.fn({...e,[x]:_,[y]:b});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:a,[y]:l}}}}}},d5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Hs(t,e),g={x:n,y:r},y=os(i),x=vv(y);let _=g[x],b=g[y];const C=Hs(u,e),R=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const O=x==="y"?"height":"width",L=a.reference[x]-a.floating[O]+R.mainAxis,B=a.reference[x]+a.reference[O]-R.mainAxis;_<L?_=L:_>B&&(_=B)}if(f){var j,k;const O=x==="y"?"width":"height",L=iA.has(Ws(i)),B=a.reference[y]-a.floating[O]+(L&&((j=l.offset)==null?void 0:j[y])||0)+(L?0:R.crossAxis),q=a.reference[y]+a.reference[O]+(L?0:((k=l.offset)==null?void 0:k[y])||0)-(L?R.crossAxis:0);b<B?b=B:b>q&&(b=q)}return{[x]:_,[y]:b}}}},f5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:d=()=>{},...f}=Hs(t,e),g=await Jc(e,f),y=Ws(i),x=Tl(i),_=os(i)==="y",{width:b,height:C}=a.floating;let R,j;y==="top"||y==="bottom"?(R=y,j=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(j=y,R=x==="end"?"top":"bottom");const k=C-g.top-g.bottom,O=b-g.left-g.right,L=Bi(C-g[R],k),B=Bi(b-g[j],O),q=!e.middlewareData.shift;let I=L,T=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=k),q&&!x){const D=rr(g.left,0),U=rr(g.right,0),F=rr(g.top,0),V=rr(g.bottom,0);_?T=b-2*(D!==0||U!==0?D+U:rr(g.left,g.right)):I=C-2*(F!==0||V!==0?F+V:rr(g.top,g.bottom))}await d({...e,availableWidth:T,availableHeight:I});const P=await l.getDimensions(u.floating);return b!==P.width||C!==P.height?{reset:{rects:!0}}:{}}}};function wh(){return typeof window<"u"}function Sl(t){return oA(t)?(t.nodeName||"").toLowerCase():"#document"}function sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vs(t){var e;return(e=(oA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oA(t){return wh()?t instanceof Node||t instanceof sr(t).Node:!1}function Hr(t){return wh()?t instanceof Element||t instanceof sr(t).Element:!1}function gs(t){return wh()?t instanceof HTMLElement||t instanceof sr(t).HTMLElement:!1}function qE(t){return!wh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sr(t).ShadowRoot}const h5=new Set(["inline","contents"]);function pu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!h5.has(i)}const p5=new Set(["table","td","th"]);function m5(t){return p5.has(Sl(t))}const g5=[":popover-open",":modal"];function _h(t){return g5.some(e=>{try{return t.matches(e)}catch{return!1}})}const y5=["transform","translate","scale","rotate","perspective"],v5=["transform","translate","scale","rotate","perspective","filter"],x5=["paint","layout","strict","content"];function _v(t){const e=Ev(),n=Hr(t)?Wr(t):t;return y5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||v5.some(r=>(n.willChange||"").includes(r))||x5.some(r=>(n.contain||"").includes(r))}function w5(t){let e=$i(t);for(;gs(e)&&!yl(e);){if(_v(e))return e;if(_h(e))return null;e=$i(e)}return null}function Ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _5=new Set(["html","body","#document"]);function yl(t){return _5.has(Sl(t))}function Wr(t){return sr(t).getComputedStyle(t)}function Eh(t){return Hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $i(t){if(Sl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qE(t)&&t.host||vs(t);return qE(e)?e.host:e}function aA(t){const e=$i(t);return yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&pu(e)?e:aA(e)}function Zc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=aA(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=sr(i);if(a){const u=Hg(l);return e.concat(l,l.visualViewport||[],pu(i)?i:[],u&&n?Zc(u):[])}return e.concat(i,Zc(i,[],n))}function Hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lA(t){const e=Wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gs(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,u=Uf(n)!==a||Uf(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function Tv(t){return Hr(t)?t:t.contextElement}function rl(t){const e=Tv(t);if(!gs(e))return fs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=lA(e);let l=(a?Uf(n.width):n.width)/r,u=(a?Uf(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const E5=fs(0);function cA(t){const e=sr(t);return!Ev()||!e.visualViewport?E5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function T5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sr(t)?!1:e}function Bo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Tv(t);let l=fs(1);e&&(r?Hr(r)&&(l=rl(r)):l=rl(t));const u=T5(a,n,r)?cA(a):fs(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,g=i.width/l.x,y=i.height/l.y;if(a){const x=sr(a),_=r&&Hr(r)?sr(r):r;let b=x,C=Hg(b);for(;C&&r&&_!==b;){const R=rl(C),j=C.getBoundingClientRect(),k=Wr(C),O=j.left+(C.clientLeft+parseFloat(k.paddingLeft))*R.x,L=j.top+(C.clientTop+parseFloat(k.paddingTop))*R.y;d*=R.x,f*=R.y,g*=R.x,y*=R.y,d+=O,f+=L,b=sr(C),C=Hg(b)}}return $f({width:g,height:y,x:d,y:f})}function Sv(t,e){const n=Eh(t).scrollLeft;return e?e.left+n:Bo(vs(t)).left+n}function uA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Sv(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function S5(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=vs(r),u=e?_h(e.floating):!1;if(r===l||u&&a)return n;let d={scrollLeft:0,scrollTop:0},f=fs(1);const g=fs(0),y=gs(r);if((y||!y&&!a)&&((Sl(r)!=="body"||pu(l))&&(d=Eh(r)),gs(r))){const _=Bo(r);f=rl(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const x=l&&!y&&!a?uA(l,d,!0):fs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+g.x+x.x,y:n.y*f.y-d.scrollTop*f.y+g.y+x.y}}function C5(t){return Array.from(t.getClientRects())}function b5(t){const e=vs(t),n=Eh(t),r=t.ownerDocument.body,i=rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Sv(t);const u=-n.scrollTop;return Wr(r).direction==="rtl"&&(l+=rr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function A5(t,e){const n=sr(t),r=vs(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){a=i.width,l=i.height;const f=Ev();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:u,y:d}}const R5=new Set(["absolute","fixed"]);function P5(t,e){const n=Bo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=gs(t)?rl(t):fs(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:l,height:u,x:d,y:f}}function GE(t,e,n){let r;if(e==="viewport")r=A5(t,n);else if(e==="document")r=b5(vs(t));else if(Hr(e))r=P5(e,n);else{const i=cA(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $f(r)}function dA(t,e){const n=$i(t);return n===e||!Hr(n)||yl(n)?!1:Wr(n).position==="fixed"||dA(n,e)}function I5(t,e){const n=e.get(t);if(n)return n;let r=Zc(t,[],!1).filter(u=>Hr(u)&&Sl(u)!=="body"),i=null;const a=Wr(t).position==="fixed";let l=a?$i(t):t;for(;Hr(l)&&!yl(l);){const u=Wr(l),d=_v(l);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&R5.has(i.position)||pu(l)&&!d&&dA(t,l))?r=r.filter(g=>g!==l):i=u,l=$i(l)}return e.set(t,r),r}function N5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?_h(e)?[]:I5(e,this._c):[].concat(n),r],u=l[0],d=l.reduce((f,g)=>{const y=GE(e,g,i);return f.top=rr(y.top,f.top),f.right=Bi(y.right,f.right),f.bottom=Bi(y.bottom,f.bottom),f.left=rr(y.left,f.left),f},GE(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function k5(t){const{width:e,height:n}=lA(t);return{width:e,height:n}}function D5(t,e,n){const r=gs(e),i=vs(e),a=n==="fixed",l=Bo(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=fs(0);function f(){d.x=Sv(i)}if(r||!r&&!a)if((Sl(e)!=="body"||pu(i))&&(u=Eh(e)),r){const _=Bo(e,!0,a,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&f();a&&!r&&i&&f();const g=i&&!r&&!a?uA(i,u):fs(0),y=l.left+u.scrollLeft-d.x-g.x,x=l.top+u.scrollTop-d.y-g.y;return{x:y,y:x,width:l.width,height:l.height}}function Hm(t){return Wr(t).position==="static"}function KE(t,e){if(!gs(t)||Wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vs(t)===n&&(n=n.ownerDocument.body),n}function fA(t,e){const n=sr(t);if(_h(t))return n;if(!gs(t)){let i=$i(t);for(;i&&!yl(i);){if(Hr(i)&&!Hm(i))return i;i=$i(i)}return n}let r=KE(t,e);for(;r&&m5(r)&&Hm(r);)r=KE(r,e);return r&&yl(r)&&Hm(r)&&!_v(r)?n:r||w5(t)||n}const j5=async function(t){const e=this.getOffsetParent||fA,n=this.getDimensions,r=await n(t.floating);return{reference:D5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O5(t){return Wr(t).direction==="rtl"}const V5={convertOffsetParentRelativeRectToViewportRelativeRect:S5,getDocumentElement:vs,getClippingRect:N5,getOffsetParent:fA,getElementRects:j5,getClientRects:C5,getDimensions:k5,getScale:rl,isElement:Hr,isRTL:O5};function hA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function M5(t,e){let n=null,r;const i=vs(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const f=t.getBoundingClientRect(),{left:g,top:y,width:x,height:_}=f;if(u||e(),!x||!_)return;const b=Kd(y),C=Kd(i.clientWidth-(g+x)),R=Kd(i.clientHeight-(y+_)),j=Kd(g),O={rootMargin:-b+"px "+-C+"px "+-R+"px "+-j+"px",threshold:rr(0,Bi(1,d))||1};let L=!0;function B(q){const I=q[0].intersectionRatio;if(I!==d){if(!L)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!hA(f,t.getBoundingClientRect())&&l(),L=!1}try{n=new IntersectionObserver(B,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,O)}n.observe(t)}return l(!0),a}function L5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Tv(t),g=i||a?[...f?Zc(f):[],...Zc(e)]:[];g.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const y=f&&u?M5(f,n):null;let x=-1,_=null;l&&(_=new ResizeObserver(j=>{let[k]=j;k&&k.target===f&&_&&(_.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(e)})),n()}),f&&!d&&_.observe(f),_.observe(e));let b,C=d?Bo(t):null;d&&R();function R(){const j=Bo(t);C&&!hA(C,j)&&n(),C=j,b=requestAnimationFrame(R)}return n(),()=>{var j;g.forEach(k=>{i&&k.removeEventListener("scroll",n),a&&k.removeEventListener("resize",n)}),y==null||y(),(j=_)==null||j.disconnect(),_=null,d&&cancelAnimationFrame(b)}}const F5=c5,U5=u5,B5=o5,$5=f5,z5=a5,QE=i5,H5=d5,W5=(t,e,n)=>{const r=new Map,i={platform:V5,...n},a={...i.platform,_c:r};return s5(t,e,{...i,platform:a})};var q5=typeof document<"u",G5=function(){},lf=q5?S.useLayoutEffect:G5;function zf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!zf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function pA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YE(t,e){const n=pA(t);return Math.round(e*n)/n}function Wm(t){const e=S.useRef(t);return lf(()=>{e.current=t}),e}function K5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=t,[g,y]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,_]=S.useState(r);zf(x,r)||_(r);const[b,C]=S.useState(null),[R,j]=S.useState(null),k=S.useCallback(Q=>{Q!==q.current&&(q.current=Q,C(Q))},[]),O=S.useCallback(Q=>{Q!==I.current&&(I.current=Q,j(Q))},[]),L=a||b,B=l||R,q=S.useRef(null),I=S.useRef(null),T=S.useRef(g),P=d!=null,D=Wm(d),U=Wm(i),F=Wm(f),V=S.useCallback(()=>{if(!q.current||!I.current)return;const Q={placement:e,strategy:n,middleware:x};U.current&&(Q.platform=U.current),W5(q.current,I.current,Q).then(ee=>{const ae={...ee,isPositioned:F.current!==!1};re.current&&!zf(T.current,ae)&&(T.current=ae,El.flushSync(()=>{y(ae)}))})},[x,e,n,U,F]);lf(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,y(Q=>({...Q,isPositioned:!1})))},[f]);const re=S.useRef(!1);lf(()=>(re.current=!0,()=>{re.current=!1}),[]),lf(()=>{if(L&&(q.current=L),B&&(I.current=B),L&&B){if(D.current)return D.current(L,B,V);V()}},[L,B,V,D,P]);const we=S.useMemo(()=>({reference:q,floating:I,setReference:k,setFloating:O}),[k,O]),ue=S.useMemo(()=>({reference:L,floating:B}),[L,B]),se=S.useMemo(()=>{const Q={position:n,left:0,top:0};if(!ue.floating)return Q;const ee=YE(ue.floating,g.x),ae=YE(ue.floating,g.y);return u?{...Q,transform:"translate("+ee+"px, "+ae+"px)",...pA(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:ae}},[n,u,ue.floating,g.x,g.y]);return S.useMemo(()=>({...g,update:V,refs:we,elements:ue,floatingStyles:se}),[g,V,we,ue,se])}const Q5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QE({element:r.current,padding:i}).fn(n):{}:r?QE({element:r,padding:i}).fn(n):{}}}},Y5=(t,e)=>({...F5(t),options:[t,e]}),X5=(t,e)=>({...U5(t),options:[t,e]}),J5=(t,e)=>({...H5(t),options:[t,e]}),Z5=(t,e)=>({...B5(t),options:[t,e]}),e9=(t,e)=>({...$5(t),options:[t,e]}),t9=(t,e)=>({...z5(t),options:[t,e]}),n9=(t,e)=>({...Q5(t),options:[t,e]});var r9="Arrow",mA=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return m.jsx(Be.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});mA.displayName=r9;var s9=mA;function Cv(t){const[e,n]=S.useState(void 0);return Bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bv="Popper",[gA,yA]=qs(bv),[i9,vA]=gA(bv),xA=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return m.jsx(i9,{scope:e,anchor:r,onAnchorChange:i,children:n})};xA.displayName=bv;var wA="PopperAnchor",_A=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=vA(wA,n),l=S.useRef(null),u=lt(e,l),d=S.useRef(null);return S.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:m.jsx(Be.div,{...i,ref:u})});_A.displayName=wA;var Av="PopperContent",[o9,a9]=gA(Av),EA=S.forwardRef((t,e)=>{var ie,ce,xe,_e,ye,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:_="optimized",onPlaced:b,...C}=t,R=vA(Av,n),[j,k]=S.useState(null),O=lt(e,qe=>k(qe)),[L,B]=S.useState(null),q=Cv(L),I=(q==null?void 0:q.width)??0,T=(q==null?void 0:q.height)??0,P=r+(a!=="center"?"-"+a:""),D=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(f)?f:[f],F=U.length>0,V={padding:D,boundary:U.filter(c9),altBoundary:F},{refs:re,floatingStyles:we,placement:ue,isPositioned:se,middlewareData:Q}=K5({strategy:"fixed",placement:P,whileElementsMounted:(...qe)=>L5(...qe,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[Y5({mainAxis:i+T,alignmentAxis:l}),d&&X5({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?J5():void 0,...V}),d&&Z5({...V}),e9({...V,apply:({elements:qe,rects:ze,availableWidth:Ge,availableHeight:De})=>{const{width:ht,height:Ye}=ze.reference,Je=qe.floating.style;Je.setProperty("--radix-popper-available-width",`${Ge}px`),Je.setProperty("--radix-popper-available-height",`${De}px`),Je.setProperty("--radix-popper-anchor-width",`${ht}px`),Je.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),L&&n9({element:L,padding:u}),u9({arrowWidth:I,arrowHeight:T}),x&&t9({strategy:"referenceHidden",...V})]}),[ee,ae]=CA(ue),$=Kn(b);Bt(()=>{se&&($==null||$())},[se,$]);const G=(ie=Q.arrow)==null?void 0:ie.x,te=(ce=Q.arrow)==null?void 0:ce.y,X=((xe=Q.arrow)==null?void 0:xe.centerOffset)!==0,[le,me]=S.useState();return Bt(()=>{j&&me(window.getComputedStyle(j).zIndex)},[j]),m.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:se?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(_e=Q.transformOrigin)==null?void 0:_e.x,(ye=Q.transformOrigin)==null?void 0:ye.y].join(" "),...((Ae=Q.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(o9,{scope:n,placedSide:ee,onArrowChange:B,arrowX:G,arrowY:te,shouldHideArrow:X,children:m.jsx(Be.div,{"data-side":ee,"data-align":ae,...C,ref:O,style:{...C.style,animation:se?void 0:"none"}})})})});EA.displayName=Av;var TA="PopperArrow",l9={top:"bottom",right:"left",bottom:"top",left:"right"},SA=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=a9(TA,r),l=l9[a.placedSide];return m.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:m.jsx(s9,{...i,ref:n,style:{...i.style,display:"block"}})})});SA.displayName=TA;function c9(t){return t!==null}var u9=t=>({name:"transformOrigin",options:t,fn(e){var R,j,k;const{placement:n,rects:r,middlewareData:i}=e,l=((R=i.arrow)==null?void 0:R.centerOffset)!==0,u=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[f,g]=CA(n),y={start:"0%",center:"50%",end:"100%"}[g],x=(((j=i.arrow)==null?void 0:j.x)??0)+u/2,_=(((k=i.arrow)==null?void 0:k.y)??0)+d/2;let b="",C="";return f==="bottom"?(b=l?y:`${x}px`,C=`${-d}px`):f==="top"?(b=l?y:`${x}px`,C=`${r.floating.height+d}px`):f==="right"?(b=`${-d}px`,C=l?y:`${_}px`):f==="left"&&(b=`${r.floating.width+d}px`,C=l?y:`${_}px`),{data:{x:b,y:C}}}});function CA(t){const[e,n="center"]=t.split("-");return[e,n]}var d9=xA,f9=_A,h9=EA,p9=SA;function Rv(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var m9=[" ","Enter","ArrowUp","ArrowDown"],g9=[" ","Enter"],$o="Select",[Th,Sh,y9]=ky($o),[Cl,yB]=qs($o,[y9,yA]),Ch=yA(),[v9,Qi]=Cl($o),[x9,w9]=Cl($o),bA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:d,dir:f,name:g,autoComplete:y,disabled:x,required:_,form:b}=t,C=Ch(e),[R,j]=S.useState(null),[k,O]=S.useState(null),[L,B]=S.useState(!1),q=yv(f),[I,T]=Mo({prop:r,defaultProp:i??!1,onChange:a,caller:$o}),[P,D]=Mo({prop:l,defaultProp:u,onChange:d,caller:$o}),U=S.useRef(null),F=R?b||!!R.closest("form"):!0,[V,re]=S.useState(new Set),we=Array.from(V).map(ue=>ue.props.value).join(";");return m.jsx(d9,{...C,children:m.jsxs(v9,{required:_,scope:e,trigger:R,onTriggerChange:j,valueNode:k,onValueNodeChange:O,valueNodeHasChildren:L,onValueNodeHasChildrenChange:B,contentId:jo(),value:P,onValueChange:D,open:I,onOpenChange:T,dir:q,triggerPointerDownPosRef:U,disabled:x,children:[m.jsx(Th.Provider,{scope:e,children:m.jsx(x9,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(ue=>{re(se=>new Set(se).add(ue))},[]),onNativeOptionRemove:S.useCallback(ue=>{re(se=>{const Q=new Set(se);return Q.delete(ue),Q})},[]),children:n})}),F?m.jsxs(YA,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:y,value:P,onChange:ue=>D(ue.target.value),disabled:x,form:b,children:[P===void 0?m.jsx("option",{value:""}):null,Array.from(V)]},we):null]})})};bA.displayName=$o;var AA="SelectTrigger",RA=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Ch(n),l=Qi(AA,n),u=l.disabled||r,d=lt(e,l.onTriggerChange),f=Sh(n),g=S.useRef("touch"),[y,x,_]=JA(C=>{const R=f().filter(O=>!O.disabled),j=R.find(O=>O.value===l.value),k=ZA(R,C,j);k!==void 0&&l.onValueChange(k.value)}),b=C=>{u||(l.onOpenChange(!0),_()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return m.jsx(f9,{asChild:!0,...a,children:m.jsx(Be.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":XA(l.value)?"":void 0,...i,ref:d,onClick:qt(i.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&b(C)}),onPointerDown:qt(i.onPointerDown,C=>{g.current=C.pointerType;const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(b(C),C.preventDefault())}),onKeyDown:qt(i.onKeyDown,C=>{const R=y.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(R&&C.key===" ")&&m9.includes(C.key)&&(b(),C.preventDefault())})})})});RA.displayName=AA;var PA="SelectValue",IA=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...u}=t,d=Qi(PA,n),{onValueNodeHasChildrenChange:f}=d,g=a!==void 0,y=lt(e,d.onValueNodeChange);return Bt(()=>{f(g)},[f,g]),m.jsx(Be.span,{...u,ref:y,style:{pointerEvents:"none"},children:XA(d.value)?m.jsx(m.Fragment,{children:l}):a})});IA.displayName=PA;var _9="SelectIcon",NA=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx(Be.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});NA.displayName=_9;var E9="SelectPortal",kA=t=>m.jsx(ah,{asChild:!0,...t});kA.displayName=E9;var zo="SelectContent",DA=S.forwardRef((t,e)=>{const n=Qi(zo,t.__scopeSelect),[r,i]=S.useState();if(Bt(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?El.createPortal(m.jsx(jA,{scope:t.__scopeSelect,children:m.jsx(Th.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),a):null}return m.jsx(OA,{...t,ref:e})});DA.displayName=zo;var Fr=10,[jA,Yi]=Cl(zo),T9="SelectContentImpl",S9=dl("SelectContent.RemoveScroll"),OA=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:_,sticky:b,hideWhenDetached:C,avoidCollisions:R,...j}=t,k=Qi(zo,n),[O,L]=S.useState(null),[B,q]=S.useState(null),I=lt(e,ie=>L(ie)),[T,P]=S.useState(null),[D,U]=S.useState(null),F=Sh(n),[V,re]=S.useState(!1),we=S.useRef(!1);S.useEffect(()=>{if(O)return Db(O)},[O]),q3();const ue=S.useCallback(ie=>{const[ce,...xe]=F().map(Ae=>Ae.ref.current),[_e]=xe.slice(-1),ye=document.activeElement;for(const Ae of ie)if(Ae===ye||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ce&&B&&(B.scrollTop=0),Ae===_e&&B&&(B.scrollTop=B.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==ye))return},[F,B]),se=S.useCallback(()=>ue([T,O]),[ue,T,O]);S.useEffect(()=>{V&&se()},[V,se]);const{onOpenChange:Q,triggerPointerDownPosRef:ee}=k;S.useEffect(()=>{if(O){let ie={x:0,y:0};const ce=_e=>{var ye,Ae;ie={x:Math.abs(Math.round(_e.pageX)-(((ye=ee.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Ae=ee.current)==null?void 0:Ae.y)??0))}},xe=_e=>{ie.x<=10&&ie.y<=10?_e.preventDefault():O.contains(_e.target)||Q(!1),document.removeEventListener("pointermove",ce),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",xe,{capture:!0})}}},[O,Q,ee]),S.useEffect(()=>{const ie=()=>Q(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[Q]);const[ae,$]=JA(ie=>{const ce=F().filter(ye=>!ye.disabled),xe=ce.find(ye=>ye.ref.current===document.activeElement),_e=ZA(ce,ie,xe);_e&&setTimeout(()=>_e.ref.current.focus())}),G=S.useCallback((ie,ce,xe)=>{const _e=!we.current&&!xe;(k.value!==void 0&&k.value===ce||_e)&&(P(ie),_e&&(we.current=!0))},[k.value]),te=S.useCallback(()=>O==null?void 0:O.focus(),[O]),X=S.useCallback((ie,ce,xe)=>{const _e=!we.current&&!xe;(k.value!==void 0&&k.value===ce||_e)&&U(ie)},[k.value]),le=r==="popper"?Wg:VA,me=le===Wg?{side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:_,sticky:b,hideWhenDetached:C,avoidCollisions:R}:{};return m.jsx(jA,{scope:n,content:O,viewport:B,onViewportChange:q,itemRefCallback:G,selectedItem:T,onItemLeave:te,itemTextRefCallback:X,focusSelectedItem:se,selectedItemText:D,position:r,isPositioned:V,searchRef:ae,children:m.jsx(hv,{as:S9,allowPinchZoom:!0,children:m.jsx(fv,{asChild:!0,trapped:k.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:qt(i,ie=>{var ce;(ce=k.trigger)==null||ce.focus({preventScroll:!0}),ie.preventDefault()}),children:m.jsx(nA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:m.jsx(le,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ie=>ie.preventDefault(),...j,...me,onPlaced:()=>re(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:qt(j.onKeyDown,ie=>{const ce=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ce&&ie.key.length===1&&$(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let _e=F().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const ye=ie.target,Ae=_e.indexOf(ye);_e=_e.slice(Ae+1)}setTimeout(()=>ue(_e)),ie.preventDefault()}})})})})})})});OA.displayName=T9;var C9="SelectItemAlignedPosition",VA=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Qi(zo,n),l=Yi(zo,n),[u,d]=S.useState(null),[f,g]=S.useState(null),y=lt(e,I=>g(I)),x=Sh(n),_=S.useRef(!1),b=S.useRef(!0),{viewport:C,selectedItem:R,selectedItemText:j,focusSelectedItem:k}=l,O=S.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&f&&C&&R&&j){const I=a.trigger.getBoundingClientRect(),T=f.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),D=j.getBoundingClientRect();if(a.dir!=="rtl"){const ye=D.left-T.left,Ae=P.left-ye,qe=I.left-Ae,ze=I.width+qe,Ge=Math.max(ze,T.width),De=window.innerWidth-Fr,ht=ME(Ae,[Fr,Math.max(Fr,De-Ge)]);u.style.minWidth=ze+"px",u.style.left=ht+"px"}else{const ye=T.right-D.right,Ae=window.innerWidth-P.right-ye,qe=window.innerWidth-I.right-Ae,ze=I.width+qe,Ge=Math.max(ze,T.width),De=window.innerWidth-Fr,ht=ME(Ae,[Fr,Math.max(Fr,De-Ge)]);u.style.minWidth=ze+"px",u.style.right=ht+"px"}const U=x(),F=window.innerHeight-Fr*2,V=C.scrollHeight,re=window.getComputedStyle(f),we=parseInt(re.borderTopWidth,10),ue=parseInt(re.paddingTop,10),se=parseInt(re.borderBottomWidth,10),Q=parseInt(re.paddingBottom,10),ee=we+ue+V+Q+se,ae=Math.min(R.offsetHeight*5,ee),$=window.getComputedStyle(C),G=parseInt($.paddingTop,10),te=parseInt($.paddingBottom,10),X=I.top+I.height/2-Fr,le=F-X,me=R.offsetHeight/2,ie=R.offsetTop+me,ce=we+ue+ie,xe=ee-ce;if(ce<=X){const ye=U.length>0&&R===U[U.length-1].ref.current;u.style.bottom="0px";const Ae=f.clientHeight-C.offsetTop-C.offsetHeight,qe=Math.max(le,me+(ye?te:0)+Ae+se),ze=ce+qe;u.style.height=ze+"px"}else{const ye=U.length>0&&R===U[0].ref.current;u.style.top="0px";const qe=Math.max(X,we+C.offsetTop+(ye?G:0)+me)+xe;u.style.height=qe+"px",C.scrollTop=ce-X+C.offsetTop}u.style.margin=`${Fr}px 0`,u.style.minHeight=ae+"px",u.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[x,a.trigger,a.valueNode,u,f,C,R,j,a.dir,r]);Bt(()=>O(),[O]);const[L,B]=S.useState();Bt(()=>{f&&B(window.getComputedStyle(f).zIndex)},[f]);const q=S.useCallback(I=>{I&&b.current===!0&&(O(),k==null||k(),b.current=!1)},[O,k]);return m.jsx(A9,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:q,children:m.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:m.jsx(Be.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});VA.displayName=C9;var b9="SelectPopperPosition",Wg=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Fr,...a}=t,l=Ch(n);return m.jsx(h9,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wg.displayName=b9;var[A9,Pv]=Cl(zo,{}),qg="SelectViewport",MA=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Yi(qg,n),l=Pv(qg,n),u=lt(e,a.onViewportChange),d=S.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Th.Slot,{scope:n,children:m.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qt(i.onScroll,f=>{const g=f.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&y){const _=Math.abs(d.current-g.scrollTop);if(_>0){const b=window.innerHeight-Fr*2,C=parseFloat(y.style.minHeight),R=parseFloat(y.style.height),j=Math.max(C,R);if(j<b){const k=j+_,O=Math.min(b,k),L=k-O;y.style.height=O+"px",y.style.bottom==="0px"&&(g.scrollTop=L>0?L:0,y.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});MA.displayName=qg;var LA="SelectGroup",[R9,P9]=Cl(LA),I9=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jo();return m.jsx(R9,{scope:n,id:i,children:m.jsx(Be.div,{role:"group","aria-labelledby":i,...r,ref:e})})});I9.displayName=LA;var FA="SelectLabel",UA=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=P9(FA,n);return m.jsx(Be.div,{id:i.id,...r,ref:e})});UA.displayName=FA;var Hf="SelectItem",[N9,BA]=Cl(Hf),$A=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,u=Qi(Hf,n),d=Yi(Hf,n),f=u.value===r,[g,y]=S.useState(a??""),[x,_]=S.useState(!1),b=lt(e,k=>{var O;return(O=d.itemRefCallback)==null?void 0:O.call(d,k,r,i)}),C=jo(),R=S.useRef("touch"),j=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(N9,{scope:n,value:r,disabled:i,textId:C,isSelected:f,onItemTextChange:S.useCallback(k=>{y(O=>O||((k==null?void 0:k.textContent)??"").trim())},[]),children:m.jsx(Th.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:m.jsx(Be.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:b,onFocus:qt(l.onFocus,()=>_(!0)),onBlur:qt(l.onBlur,()=>_(!1)),onClick:qt(l.onClick,()=>{R.current!=="mouse"&&j()}),onPointerUp:qt(l.onPointerUp,()=>{R.current==="mouse"&&j()}),onPointerDown:qt(l.onPointerDown,k=>{R.current=k.pointerType}),onPointerMove:qt(l.onPointerMove,k=>{var O;R.current=k.pointerType,i?(O=d.onItemLeave)==null||O.call(d):R.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qt(l.onPointerLeave,k=>{var O;k.currentTarget===document.activeElement&&((O=d.onItemLeave)==null||O.call(d))}),onKeyDown:qt(l.onKeyDown,k=>{var L;((L=d.searchRef)==null?void 0:L.current)!==""&&k.key===" "||(g9.includes(k.key)&&j(),k.key===" "&&k.preventDefault())})})})})});$A.displayName=Hf;var Cc="SelectItemText",zA=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=Qi(Cc,n),u=Yi(Cc,n),d=BA(Cc,n),f=w9(Cc,n),[g,y]=S.useState(null),x=lt(e,j=>y(j),d.onItemTextChange,j=>{var k;return(k=u.itemTextRefCallback)==null?void 0:k.call(u,j,d.value,d.disabled)}),_=g==null?void 0:g.textContent,b=S.useMemo(()=>m.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:C,onNativeOptionRemove:R}=f;return Bt(()=>(C(b),()=>R(b)),[C,R,b]),m.jsxs(m.Fragment,{children:[m.jsx(Be.span,{id:d.textId,...a,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?El.createPortal(a.children,l.valueNode):null]})});zA.displayName=Cc;var HA="SelectItemIndicator",WA=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BA(HA,n).isSelected?m.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});WA.displayName=HA;var Gg="SelectScrollUpButton",qA=S.forwardRef((t,e)=>{const n=Yi(Gg,t.__scopeSelect),r=Pv(Gg,t.__scopeSelect),[i,a]=S.useState(!1),l=lt(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;a(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.jsx(KA,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});qA.displayName=Gg;var Kg="SelectScrollDownButton",GA=S.forwardRef((t,e)=>{const n=Yi(Kg,t.__scopeSelect),r=Pv(Kg,t.__scopeSelect),[i,a]=S.useState(!1),l=lt(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<f;a(g)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.jsx(KA,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});GA.displayName=Kg;var KA=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Yi("SelectScrollButton",n),l=S.useRef(null),u=Sh(n),d=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),Bt(()=>{var g;const f=u().find(y=>y.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),m.jsx(Be.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:qt(i.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:qt(i.onPointerLeave,()=>{d()})})}),k9="SelectSeparator",QA=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});QA.displayName=k9;var Qg="SelectArrow",D9=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ch(n),a=Qi(Qg,n),l=Yi(Qg,n);return a.open&&l.position==="popper"?m.jsx(p9,{...i,...r,ref:e}):null});D9.displayName=Qg;var j9="SelectBubbleInput",YA=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=S.useRef(null),a=lt(r,i),l=Rv(e);return S.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&g){const y=new Event("change",{bubbles:!0});g.call(u,e),u.dispatchEvent(y)}},[l,e]),m.jsx(Be.select,{...n,style:{...wS,...n.style},ref:a,defaultValue:e})});YA.displayName=j9;function XA(t){return t===""||t===void 0}function JA(t){const e=Kn(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(l=>{const u=n.current+l;e(u),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(u)},[e]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function ZA(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=O9(t,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function O9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var V9=bA,eR=RA,M9=IA,L9=NA,F9=kA,tR=DA,U9=MA,nR=UA,rR=$A,B9=zA,$9=WA,sR=qA,iR=GA,oR=QA;const Ho=V9,Wo=M9,zi=Le.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(eR,{ref:r,className:Xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(L9,{asChild:!0,children:m.jsx(BS,{className:"h-4 w-4 opacity-50"})})]}));zi.displayName=eR.displayName;const aR=Le.forwardRef(({className:t,...e},n)=>m.jsx(sR,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(BV,{className:"h-4 w-4"})}));aR.displayName=sR.displayName;const lR=Le.forwardRef(({className:t,...e},n)=>m.jsx(iR,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(BS,{className:"h-4 w-4"})}));lR.displayName=iR.displayName;const Hi=Le.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(F9,{children:m.jsxs(tR,{ref:i,className:Xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(aR,{}),m.jsx(U9,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(lR,{})]})}));Hi.displayName=tR.displayName;const z9=Le.forwardRef(({className:t,...e},n)=>m.jsx(nR,{ref:n,className:Xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));z9.displayName=nR.displayName;const zr=Le.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(rR,{ref:r,className:Xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx($9,{children:m.jsx(By,{className:"h-4 w-4"})})}),m.jsx(B9,{children:e})]}));zr.displayName=rR.displayName;const H9=Le.forwardRef(({className:t,...e},n)=>m.jsx(oR,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));H9.displayName=oR.displayName;const W9=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[l,u]=S.useState(""),[d,f]=S.useState(!1),[g,y]=S.useState(null),[x,_]=S.useState({nome:"",email:"",senha:"",tipo:"funcionario",departamento:"",ativo:!0}),{toast:b}=Gs();S.useEffect(()=>{C()},[]),S.useEffect(()=>{const B=t.filter(q=>q.nome.toLowerCase().includes(l.toLowerCase())||q.email.toLowerCase().includes(l.toLowerCase())||q.departamento&&q.departamento.toLowerCase().includes(l.toLowerCase()));r(B)},[t,l]);const C=()=>{const B=yt();e(B.usuarios||[]),a(B.departamentos||[]),B.departamentos&&B.departamentos.length>0&&_(q=>({...q,departamento:B.departamentos[0].nome}))},R=B=>{B.preventDefault();const q=yt();if(g){const I=q.usuarios.map(T=>T.id===g.id?{...T,...x}:T);Xt({...q,usuarios:I}),b({title:"Usurio atualizado!"})}else{const I={id:Math.max(0,...(q.usuarios||[]).map(T=>T.id))+1,...x,dataCriacao:new Date().toISOString().split("T")[0]};Xt({...q,usuarios:[...q.usuarios||[],I]}),b({title:"Usurio criado!"})}C(),L(),f(!1)},j=B=>{y(B),_({nome:B.nome,email:B.email,senha:B.senha,tipo:B.tipo,departamento:B.departamento,ativo:B.ativo}),f(!0)},k=B=>{if(!window.confirm("Tem certeza que deseja remover este usurio?"))return;const q=yt(),I=q.usuarios.filter(T=>T.id!==B);Xt({...q,usuarios:I}),C(),b({title:"Usurio removido!"})},O=B=>{const q=yt(),I=q.usuarios.map(T=>T.id===B?{...T,ativo:!T.ativo}:T);Xt({...q,usuarios:I}),C(),b({title:"Status atualizado!"})},L=()=>{_({nome:"",email:"",senha:"",tipo:"funcionario",departamento:i.length>0?i[0].nome:"",ativo:!0}),y(null)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Usurios"}),m.jsx("p",{className:"text-slate-400",children:"Gerencie usurios do sistema"})]}),m.jsxs(Fo,{open:d,onOpenChange:f,children:[m.jsx(hu,{asChild:!0,children:m.jsxs(We,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:L,children:[m.jsx(fl,{className:"w-4 h-4 mr-2"})," Novo Usurio"]})}),m.jsxs(Li,{className:"glass-effect border-slate-700 text-white",children:[m.jsx(Fi,{children:m.jsxs(Ui,{children:[g?"Editar":"Novo"," Usurio"]})}),m.jsxs("form",{id:"userForm",onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"nome",children:"Nome"}),m.jsx(Gt,{id:"nome",value:x.nome,onChange:B=>_({...x,nome:B.target.value}),className:"bg-slate-800/50",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"email",children:"Email"}),m.jsx(Gt,{id:"email",type:"email",value:x.email,onChange:B=>_({...x,email:B.target.value}),className:"bg-slate-800/50",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"senha",children:"Senha"}),m.jsx(Gt,{id:"senha",type:"password",placeholder:g?"Deixe em branco para no alterar":"",onChange:B=>_({...x,senha:B.target.value}),className:"bg-slate-800/50",required:!g})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"tipo",children:"Tipo"}),m.jsxs(Ho,{value:x.tipo,onValueChange:B=>_({...x,tipo:B}),children:[m.jsx(zi,{className:"bg-slate-800/50",children:m.jsx(Wo,{})}),m.jsxs(Hi,{children:[m.jsx(zr,{value:"admin",children:"Administrador"}),m.jsx(zr,{value:"funcionario",children:"Funcionrio"})]})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"departamento",children:"Departamento"}),m.jsxs(Ho,{value:x.departamento,onValueChange:B=>_({...x,departamento:B}),children:[m.jsx(zi,{className:"bg-slate-800/50",children:m.jsx(Wo,{placeholder:"Selecione..."})}),m.jsx(Hi,{children:i.map(B=>m.jsx(zr,{value:B.nome,children:B.nome},B.id))})]})]})]}),m.jsxs(Uo,{children:[m.jsx(We,{type:"button",variant:"outline",onClick:()=>f(!1),className:"border-slate-600",children:"Cancelar"}),m.jsx(We,{type:"submit",form:"userForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:g?"Atualizar":"Criar"})]})]})]})]}),m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[m.jsx(zy,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),m.jsx(Gt,{placeholder:"Buscar usurios...",value:l,onChange:B=>u(B.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((B,q)=>m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.1},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover",children:[m.jsx(Kt,{className:"pb-3",children:m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-sm font-semibold text-white",children:B.nome.charAt(0)})}),m.jsxs("div",{children:[m.jsx(Qt,{className:"text-lg text-white",children:B.nome}),m.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[m.jsx(Do,{variant:B.tipo==="admin"?"default":"secondary",children:B.tipo==="admin"?"Admin":"Funcionrio"}),m.jsx(Do,{variant:B.ativo?"default":"destructive",children:B.ativo?"Ativo":"Inativo"})]})]})]})})}),m.jsxs(Vt,{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[m.jsx(WS,{className:"w-4 h-4"}),m.jsx("span",{children:B.email})]}),m.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[m.jsx(Uy,{className:"w-4 h-4"}),m.jsx("span",{children:B.departamento})]}),m.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-300",children:[m.jsx(UV,{className:"w-4 h-4"}),m.jsxs("span",{children:["Criado em ",new Date(B.dataCriacao).toLocaleDateString("pt-BR")]})]}),m.jsxs("div",{className:"flex justify-between pt-3 border-t border-slate-700",children:[m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(We,{size:"sm",variant:"outline",onClick:()=>j(B),className:"border-slate-600 hover:bg-slate-700",children:m.jsx(lu,{className:"w-4 h-4"})}),m.jsx(We,{size:"sm",variant:"outline",onClick:()=>O(B.id),className:`border-slate-600 ${B.ativo?"hover:bg-red-500/20 hover:border-red-500":"hover:bg-green-500/20 hover:border-green-500"}`,children:B.ativo?m.jsx(rM,{className:"w-4 h-4"}):m.jsx(nM,{className:"w-4 h-4"})})]}),m.jsx(We,{size:"sm",variant:"outline",onClick:()=>k(B.id),className:"border-slate-600 hover:bg-red-500/20 hover:border-red-500",children:m.jsx(hl,{className:"w-4 h-4"})})]})]})]})},B.id))})]})},Wf=Le.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Wf.displayName="Textarea";function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wi.apply(null,arguments)}function q9(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function G9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function cR(...t){return e=>t.forEach(n=>G9(n,e))}function K9(...t){return S.useCallback(cR(...t),t)}function Q9(t,e=[]){let n=[];function r(a,l){const u=S.createContext(l),d=n.length;n=[...n,l];function f(y){const{scope:x,children:_,...b}=y,C=(x==null?void 0:x[t][d])||u,R=S.useMemo(()=>b,Object.values(b));return S.createElement(C.Provider,{value:R},_)}function g(y,x){const _=(x==null?void 0:x[t][d])||u,b=S.useContext(_);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,g]}const i=()=>{const a=n.map(l=>S.createContext(l));return function(u){const d=(u==null?void 0:u[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return i.scopeName=t,[r,Y9(i,...e)]}function Y9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const y=d(a)[`__scope${f}`];return{...u,...y}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function uR(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function X9({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=J9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,u=uR(n),d=S.useCallback(f=>{if(a){const y=typeof f=="function"?f(t):f;y!==t&&u(y)}else i(f)},[a,t,i,u]);return[l,d]}function J9({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),a=uR(e);return S.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function Z9(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const eU=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function tU(t){const[e,n]=S.useState(void 0);return eU(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const dR=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),a=i.find(rU);if(a){const l=a.props.children,u=i.map(d=>d===a?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:d);return S.createElement(Yg,Wi({},r,{ref:e}),S.isValidElement(l)?S.cloneElement(l,void 0,u):null)}return S.createElement(Yg,Wi({},r,{ref:e}),n)});dR.displayName="Slot";const Yg=S.forwardRef((t,e)=>{const{children:n,...r}=t;return S.isValidElement(n)?S.cloneElement(n,{...sU(r,n.props),ref:e?cR(e,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});Yg.displayName="SlotClone";const nU=({children:t})=>S.createElement(S.Fragment,null,t);function rU(t){return S.isValidElement(t)&&t.type===nU}function sU(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{a(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}const iU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fR=iU.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:a,...l}=r,u=a?dR:e;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(u,Wi({},l,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),hR="Switch",[oU,vB]=Q9(hR),[aU,lU]=oU(hR),cU=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:l,disabled:u,value:d="on",onCheckedChange:f,...g}=t,[y,x]=S.useState(null),_=K9(e,k=>x(k)),b=S.useRef(!1),C=y?!!y.closest("form"):!0,[R=!1,j]=X9({prop:i,defaultProp:a,onChange:f});return S.createElement(aU,{scope:n,checked:R,disabled:u},S.createElement(fR.button,Wi({type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":pR(R),"data-disabled":u?"":void 0,disabled:u,value:d},g,{ref:_,onClick:q9(t.onClick,k=>{j(O=>!O),C&&(b.current=k.isPropagationStopped(),b.current||k.stopPropagation())})})),C&&S.createElement(fU,{control:y,bubbles:!b.current,name:r,value:d,checked:R,required:l,disabled:u,style:{transform:"translateX(-100%)"}}))}),uU="SwitchThumb",dU=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=lU(uU,n);return S.createElement(fR.span,Wi({"data-state":pR(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:e}))}),fU=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=S.useRef(null),l=Z9(n),u=tU(e);return S.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&y){const x=new Event("click",{bubbles:r});y.call(d,n),d.dispatchEvent(x)}},[l,n,r]),S.createElement("input",Wi({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:a,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function pR(t){return t?"checked":"unchecked"}const mR=cU,hU=dU,qf=Le.forwardRef(({className:t,...e},n)=>m.jsx(mR,{className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:m.jsx(hU,{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qf.displayName=mR.displayName;function Fs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var qm="rovingFocusGroup.onEntryFocus",pU={bubbles:!1,cancelable:!0},mu="RovingFocusGroup",[Xg,gR,mU]=ky(mu),[gU,yR]=qs(mu,[mU]),[yU,vU]=gU(mu),vR=S.forwardRef((t,e)=>m.jsx(Xg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Xg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(xU,{...t,ref:e})})}));vR.displayName=mu;var xU=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...y}=t,x=S.useRef(null),_=lt(e,x),b=yv(a),[C,R]=Mo({prop:l,defaultProp:u??null,onChange:d,caller:mu}),[j,k]=S.useState(!1),O=Kn(f),L=gR(n),B=S.useRef(!1),[q,I]=S.useState(0);return S.useEffect(()=>{const T=x.current;if(T)return T.addEventListener(qm,O),()=>T.removeEventListener(qm,O)},[O]),m.jsx(yU,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:C,onItemFocus:S.useCallback(T=>R(T),[R]),onItemShiftTab:S.useCallback(()=>k(!0),[]),onFocusableItemAdd:S.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:S.useCallback(()=>I(T=>T-1),[]),children:m.jsx(Be.div,{tabIndex:j||q===0?-1:0,"data-orientation":r,...y,ref:_,style:{outline:"none",...t.style},onMouseDown:Fs(t.onMouseDown,()=>{B.current=!0}),onFocus:Fs(t.onFocus,T=>{const P=!B.current;if(T.target===T.currentTarget&&P&&!j){const D=new CustomEvent(qm,pU);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const U=L().filter(ue=>ue.focusable),F=U.find(ue=>ue.active),V=U.find(ue=>ue.id===C),we=[F,V,...U].filter(Boolean).map(ue=>ue.ref.current);_R(we,g)}}B.current=!1}),onBlur:Fs(t.onBlur,()=>k(!1))})})}),xR="RovingFocusGroupItem",wR=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...u}=t,d=jo(),f=a||d,g=vU(xR,n),y=g.currentTabStopId===f,x=gR(n),{onFocusableItemAdd:_,onFocusableItemRemove:b,currentTabStopId:C}=g;return S.useEffect(()=>{if(r)return _(),()=>b()},[r,_,b]),m.jsx(Xg.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:m.jsx(Be.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Fs(t.onMouseDown,R=>{r?g.onItemFocus(f):R.preventDefault()}),onFocus:Fs(t.onFocus,()=>g.onItemFocus(f)),onKeyDown:Fs(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const j=EU(R,g.orientation,g.dir);if(j!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=x().filter(L=>L.focusable).map(L=>L.ref.current);if(j==="last")O.reverse();else if(j==="prev"||j==="next"){j==="prev"&&O.reverse();const L=O.indexOf(R.currentTarget);O=g.loop?TU(O,L+1):O.slice(L+1)}setTimeout(()=>_R(O))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:C!=null}):l})})});wR.displayName=xR;var wU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _U(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function EU(t,e,n){const r=_U(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wU[r]}function _R(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function TU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var SU=vR,CU=wR;function bU(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var ER=t=>{const{present:e,children:n}=t,r=AU(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=lt(r.ref,RU(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};ER.displayName="Presence";function AU(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),a=S.useRef("none"),l=t?"mounted":"unmounted",[u,d]=bU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Qd(r.current);a.current=u==="mounted"?f:"none"},[u]),Bt(()=>{const f=r.current,g=i.current;if(g!==t){const x=a.current,_=Qd(f);t?d("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(g&&x!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Bt(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,y=_=>{const C=Qd(r.current).includes(CSS.escape(_.animationName));if(_.target===e&&C&&(d("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},x=_=>{_.target===e&&(a.current=Qd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Qd(t){return(t==null?void 0:t.animationName)||"none"}function RU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Iv="Radio",[PU,TR]=qs(Iv),[IU,NU]=PU(Iv),SR=S.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:l,value:u="on",onCheck:d,form:f,...g}=t,[y,x]=S.useState(null),_=lt(e,R=>x(R)),b=S.useRef(!1),C=y?f||!!y.closest("form"):!0;return m.jsxs(IU,{scope:n,checked:i,disabled:l,children:[m.jsx(Be.button,{type:"button",role:"radio","aria-checked":i,"data-state":RR(i),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:_,onClick:Fs(t.onClick,R=>{i||d==null||d(),C&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),C&&m.jsx(AR,{control:y,bubbles:!b.current,name:r,value:u,checked:i,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});SR.displayName=Iv;var CR="RadioIndicator",bR=S.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,a=NU(CR,n);return m.jsx(ER,{present:r||a.checked,children:m.jsx(Be.span,{"data-state":RR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});bR.displayName=CR;var kU="RadioBubbleInput",AR=S.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const l=S.useRef(null),u=lt(l,a),d=Rv(n),f=Cv(e);return S.useEffect(()=>{const g=l.current;if(!g)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==n&&_){const b=new Event("click",{bubbles:r});_.call(g,n),g.dispatchEvent(b)}},[d,n,r]),m.jsx(Be.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AR.displayName=kU;function RR(t){return t?"checked":"unchecked"}var DU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bh="RadioGroup",[jU,xB]=qs(bh,[yR,TR]),PR=yR(),IR=TR(),[OU,VU]=jU(bh),NR=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:l=!1,disabled:u=!1,orientation:d,dir:f,loop:g=!0,onValueChange:y,...x}=t,_=PR(n),b=yv(f),[C,R]=Mo({prop:a,defaultProp:i??null,onChange:y,caller:bh});return m.jsx(OU,{scope:n,name:r,required:l,disabled:u,value:C,onValueChange:R,children:m.jsx(SU,{asChild:!0,..._,orientation:d,dir:b,loop:g,children:m.jsx(Be.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":u?"":void 0,dir:b,...x,ref:e})})})});NR.displayName=bh;var kR="RadioGroupItem",DR=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,a=VU(kR,n),l=a.disabled||r,u=PR(n),d=IR(n),f=S.useRef(null),g=lt(e,f),y=a.value===i.value,x=S.useRef(!1);return S.useEffect(()=>{const _=C=>{DU.includes(C.key)&&(x.current=!0)},b=()=>x.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",b)}},[]),m.jsx(CU,{asChild:!0,...u,focusable:!l,active:y,children:m.jsx(SR,{disabled:l,required:a.required,checked:y,...d,...i,name:a.name,ref:g,onCheck:()=>a.onValueChange(i.value),onKeyDown:Fs(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Fs(i.onFocus,()=>{var _;x.current&&((_=f.current)==null||_.click())})})})});DR.displayName=kR;var MU="RadioGroupIndicator",jR=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=IR(n);return m.jsx(bR,{...i,...r,ref:e})});jR.displayName=MU;var OR=NR,VR=DR,LU=jR;const MR=Le.forwardRef(({className:t,...e},n)=>m.jsx(OR,{className:Xe("grid gap-2",t),...e,ref:n}));MR.displayName=OR.displayName;const LR=Le.forwardRef(({className:t,...e},n)=>m.jsx(VR,{ref:n,className:Xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(LU,{className:"flex items-center justify-center",children:m.jsx(By,{className:"h-3.5 w-3.5 fill-current text-current"})})}));LR.displayName=VR.displayName;const FU=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState(""),[g,y]=S.useState(!1),[x,_]=S.useState(!1),[b,C]=S.useState(null),[R,j]=S.useState(null),[k,O]=S.useState(""),[L,B]=S.useState(""),q={titulo:"",descricao:"",video:"",categoriaId:"",departamento:"Todos",obrigatorio:!1,ativo:!0,dataExpiracao:"",perguntas:[],arquivosComplementares:[]},[I,T]=S.useState(q),{toast:P}=Gs();S.useEffect(()=>{D()},[]),S.useEffect(()=>{const X=t.filter(le=>le.titulo.toLowerCase().includes(d.toLowerCase()));r(X)},[t,d]);const D=()=>{const X=yt();e(X.treinamentos||[]),a(X.categorias||[]),u(X.departamentos||[])},U=X=>{const le=i.find(me=>me.id===X);return(le==null?void 0:le.nome)||"N/A"},F=()=>{T(q),j(null)},V=X=>{j(X),T({...X,categoriaId:X.categoriaId.toString(),arquivosComplementares:X.arquivosComplementares||[],perguntas:X.perguntas||[],dataExpiracao:X.dataExpiracao||""}),y(!0)},re=X=>{if(X.preventDefault(),I.perguntas.some(ie=>ie.respostaCorreta===void 0||ie.respostaCorreta===null)){P({title:"Erro de Validao",description:"Todas as perguntas devem ter uma resposta correta.",variant:"destructive"});return}const le=yt(),me={...I,categoriaId:parseInt(I.categoriaId),dataExpiracao:I.dataExpiracao||null};if(R){const ie=le.treinamentos.map(ce=>ce.id===R.id?{...ce,...me}:ce);Xt({...le,treinamentos:ie}),P({title:"Treinamento atualizado!"})}else{const ie={...me,id:Math.max(0,...(le.treinamentos||[]).map(ce=>ce.id))+1,dataPublicacao:new Date().toISOString().split("T")[0]};Xt({...le,treinamentos:[...le.treinamentos||[],ie]}),P({title:"Treinamento criado!"})}D(),F(),y(!1)},we=X=>{C(X),_(!0)},ue=()=>{if(!b)return;const X=yt(),le=(X.treinamentos||[]).filter(me=>me.id!==b.id);Xt({...X,treinamentos:le}),P({title:"Treinamento removido!",description:`"${b.titulo}" foi removido com sucesso.`}),C(null),_(!1),D()},se=()=>T(X=>({...X,perguntas:[...X.perguntas,{pergunta:"",opcoes:["","","",""],respostaCorreta:null}]})),Q=X=>T(le=>({...le,perguntas:le.perguntas.filter((me,ie)=>ie!==X)})),ee=(X,le)=>{const me=[...I.perguntas];me[X].pergunta=le,T({...I,perguntas:me})},ae=(X,le,me)=>{const ie=[...I.perguntas];ie[X].opcoes[le]=me,T({...I,perguntas:ie})},$=(X,le)=>{const me=[...I.perguntas];me[X].respostaCorreta=le,T({...I,perguntas:me})},G=()=>{if(!k.trim()||!L.trim()){P({title:"Campos vazios",description:"Preencha o nome e a URL do link.",variant:"destructive"});return}T(X=>({...X,arquivosComplementares:[...X.arquivosComplementares||[],{name:k,url:L}]})),O(""),B("")},te=X=>{T(le=>({...le,arquivosComplementares:le.arquivosComplementares.filter((me,ie)=>ie!==X)}))};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Treinamentos"}),m.jsx("p",{className:"text-slate-400",children:"Crie, edite e gerencie os treinamentos da plataforma."})]}),m.jsxs(Fo,{open:g,onOpenChange:y,children:[m.jsx(hu,{asChild:!0,children:m.jsxs(We,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:F,children:[m.jsx(fl,{className:"w-4 h-4 mr-2"})," Novo Treinamento"]})}),m.jsxs(Li,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] flex flex-col",children:[m.jsxs(Fi,{children:[m.jsxs(Ui,{children:[R?"Editar":"Novo"," Treinamento"]}),m.jsx(Ff,{children:"Preencha os detalhes do treinamento e adicione o contedo."})]}),m.jsxs("form",{id:"trainingForm",onSubmit:re,className:"space-y-6 overflow-y-auto scrollbar-thin pr-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"titulo",children:"Ttulo"}),m.jsx(Gt,{id:"titulo",value:I.titulo,onChange:X=>T({...I,titulo:X.target.value}),className:"bg-slate-800/50",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"video",children:"URL do Vdeo (Embed)"}),m.jsx(Gt,{id:"video",value:I.video,onChange:X=>T({...I,video:X.target.value}),className:"bg-slate-800/50",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"categoriaId",children:"Categoria"}),m.jsxs(Ho,{value:I.categoriaId,onValueChange:X=>T({...I,categoriaId:X}),children:[m.jsx(zi,{className:"bg-slate-800/50",children:m.jsx(Wo,{placeholder:"Selecione..."})}),m.jsx(Hi,{children:i.map(X=>m.jsx(zr,{value:X.id.toString(),children:X.nome},X.id))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"departamento",children:"Departamento"}),m.jsxs(Ho,{value:I.departamento,onValueChange:X=>T({...I,departamento:X}),children:[m.jsx(zi,{className:"bg-slate-800/50",children:m.jsx(Wo,{})}),m.jsx(Hi,{children:l.map(X=>m.jsx(zr,{value:X.nome,children:X.nome},X.id))})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"descricao",children:"Descrio"}),m.jsx(Wf,{id:"descricao",value:I.descricao,onChange:X=>T({...I,descricao:X.target.value}),className:"bg-slate-800/50"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"dataExpiracao",children:"Data de Expirao (Opcional)"}),m.jsx(Gt,{type:"date",id:"dataExpiracao",value:I.dataExpiracao,onChange:X=>T({...I,dataExpiracao:X.target.value}),className:"bg-slate-800/50"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(qf,{id:"obrigatorio",checked:I.obrigatorio,onCheckedChange:X=>T({...I,obrigatorio:X})}),m.jsx(At,{htmlFor:"obrigatorio",children:"Obrigatrio"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(qf,{id:"ativo",checked:I.ativo,onCheckedChange:X=>T({...I,ativo:X})}),m.jsx(At,{htmlFor:"ativo",children:"Ativo"})]})]}),m.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Arquivos Complementares (Links)"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"linkName",children:"Nome do Arquivo"}),m.jsx(Gt,{id:"linkName",placeholder:"Ex: Manual em PDF",value:k,onChange:X=>O(X.target.value),className:"bg-slate-800/50"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"linkUrl",children:"Link Compartilhvel do Drive"}),m.jsx(Gt,{id:"linkUrl",placeholder:"Cole o link aqui...",value:L,onChange:X=>B(X.target.value),className:"bg-slate-800/50"})]})]}),m.jsxs(We,{type:"button",variant:"outline",onClick:G,children:[m.jsx(KV,{className:"w-4 h-4 mr-2"})," Adicionar Link"]}),m.jsx("div",{className:"space-y-2 pt-2",children:(I.arquivosComplementares||[]).map((X,le)=>m.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded",children:[m.jsx("span",{className:"text-sm text-slate-300",children:X.name}),m.jsx(We,{type:"button",size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>te(le),children:m.jsx(sM,{className:"w-4 h-4 text-red-500"})})]},`${X.name}-${le}`))})]}),m.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Questionrio"}),m.jsxs(We,{type:"button",size:"sm",onClick:se,children:[m.jsx(fl,{className:"w-4 h-4 mr-2"})," Adicionar Pergunta"]})]}),I.perguntas.map((X,le)=>{var me;return m.jsxs("div",{className:"p-4 border border-slate-700 rounded-lg space-y-4 bg-slate-800/30",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs(At,{children:["Pergunta ",le+1]}),m.jsx(We,{type:"button",size:"sm",variant:"destructive",onClick:()=>Q(le),children:m.jsx(hl,{className:"w-4 h-4"})})]}),m.jsx(Wf,{placeholder:"Digite a pergunta...",value:X.pergunta,onChange:ie=>ee(le,ie.target.value),required:!0}),m.jsx(MR,{value:(me=X.respostaCorreta)==null?void 0:me.toString(),onValueChange:ie=>$(le,parseInt(ie)),children:X.opcoes.map((ie,ce)=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(LR,{value:ce.toString(),id:`q${le}o${ce}`}),m.jsx(Gt,{placeholder:`Opo ${ce+1}`,value:ie,onChange:xe=>ae(le,ce,xe.target.value),required:!0})]},ce))})]},le)})]})]}),m.jsxs(Uo,{className:"pt-4 border-t border-slate-700",children:[m.jsx(We,{type:"button",variant:"outline",onClick:()=>y(!1),className:"border-slate-600",children:"Cancelar"}),m.jsx(We,{type:"submit",form:"trainingForm",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:R?"Salvar":"Criar"})]})]})]})]}),m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:m.jsxs("div",{className:"relative",children:[m.jsx(zy,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),m.jsx(Gt,{placeholder:"Buscar por ttulo...",value:d,onChange:X=>f(X.target.value),className:"pl-10 bg-slate-800/50 border-slate-600"})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((X,le)=>{var me;return m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:le*.05},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[m.jsxs(Kt,{children:[m.jsx(Qt,{className:"text-lg text-white mb-1",children:X.titulo}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx(Do,{style:{backgroundColor:((me=i.find(ie=>ie.id===X.categoriaId))==null?void 0:me.cor)||"#ccc"},children:U(X.categoriaId)}),m.jsx(Do,{variant:X.ativo?"default":"secondary",children:X.ativo?"Ativo":"Inativo"}),X.obrigatorio&&m.jsx(Do,{variant:"destructive",children:"Obrigatrio"})]})]}),m.jsx(Vt,{className:"flex-grow space-y-3",children:m.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:X.descricao})}),m.jsxs(dv,{className:"flex justify-end space-x-2",children:[m.jsx(We,{size:"sm",variant:"outline",className:"border-slate-600",onClick:()=>V(X),children:m.jsx(lu,{className:"w-4 h-4"})}),m.jsx(We,{size:"sm",variant:"destructive",onClick:()=>we(X),children:m.jsx(hl,{className:"w-4 h-4"})})]})]})},X.id)})}),m.jsx(Fo,{open:x,onOpenChange:_,children:m.jsxs(Li,{className:"glass-effect border-slate-700 text-white",children:[m.jsxs(Fi,{children:[m.jsxs(Ui,{className:"flex items-center gap-2",children:[m.jsx(Fy,{className:"text-red-500"}),"Confirmar Excluso"]}),m.jsxs(Ff,{children:['Tem certeza que deseja remover o treinamento "',b==null?void 0:b.titulo,'"? Esta ao no pode ser desfeita.']})]}),m.jsxs(Uo,{children:[m.jsx(We,{variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),m.jsx(We,{variant:"destructive",onClick:ue,children:"Sim, Excluir"})]})]})})]})},UU=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(null),[l,u]=S.useState({nome:"",cor:"#3b82f6"}),{toast:d}=Gs();S.useEffect(()=>{f()},[]);const f=()=>{const b=yt();e(b.categorias)},g=()=>{u({nome:"",cor:"#3b82f6"}),a(null)},y=b=>{a(b),u({nome:b.nome,cor:b.cor}),r(!0)},x=b=>{b.preventDefault();const C=yt();if(i){const R=C.categorias.map(j=>j.id===i.id?{...j,...l}:j);Xt({...C,categorias:R}),d({title:"Categoria atualizada com sucesso!"})}else{const R={...l,id:Math.max(...C.categorias.map(j=>j.id),0)+1};Xt({...C,categorias:[...C.categorias,R]}),d({title:"Categoria criada com sucesso!"})}f(),g(),r(!1)},_=b=>{if(window.confirm("Tem certeza que deseja remover esta categoria? Isso pode afetar treinamentos existentes.")){const C=yt(),R=C.categorias.filter(j=>j.id!==b);Xt({...C,categorias:R}),f(),d({title:"Categoria removida com sucesso."})}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Categorias"}),m.jsx("p",{className:"text-slate-400",children:"Organize seus treinamentos em categorias."})]}),m.jsxs(Fo,{open:n,onOpenChange:r,children:[m.jsx(hu,{asChild:!0,children:m.jsxs(We,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:g,children:[m.jsx(fl,{className:"w-4 h-4 mr-2"})," Nova Categoria"]})}),m.jsxs(Li,{className:"glass-effect border-slate-700 text-white",children:[m.jsx(Fi,{children:m.jsxs(Ui,{children:[i?"Editar":"Nova"," Categoria"]})}),m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"nome",children:"Nome da Categoria"}),m.jsx(Gt,{id:"nome",value:l.nome,onChange:b=>u({...l,nome:b.target.value}),className:"bg-slate-800/50",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"cor",children:"Cor da Categoria"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Gt,{id:"cor",type:"color",value:l.cor,onChange:b=>u({...l,cor:b.target.value}),className:"p-1 h-10 w-14 block bg-slate-800/50 border-slate-600 cursor-pointer"}),m.jsx(Gt,{type:"text",value:l.cor,onChange:b=>u({...l,cor:b.target.value}),className:"bg-slate-800/50"})]})]}),m.jsxs(Uo,{children:[m.jsx(We,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),m.jsx(We,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:i?"Salvar":"Criar"})]})]})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((b,C)=>m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},children:m.jsx(Dt,{className:"glass-effect border-slate-700 card-hover",children:m.jsxs(Vt,{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:b.cor},children:m.jsx(tM,{className:"w-5 h-5 text-white"})}),m.jsx("span",{className:"font-medium text-white",children:b.nome})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(We,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>y(b),children:m.jsx(lu,{className:"w-4 h-4"})}),m.jsx(We,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>_(b.id),children:m.jsx(hl,{className:"w-4 h-4"})})]})]})})},b.id))})]})},BU=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(null),[l,u]=S.useState({nome:""}),{toast:d}=Gs();S.useEffect(()=>{f()},[]);const f=()=>{const b=yt();e(b.departamentos.filter(C=>C.nome!=="Todos"))},g=()=>{u({nome:""}),a(null)},y=b=>{a(b),u({nome:b.nome}),r(!0)},x=b=>{b.preventDefault();const C=yt();if(i){const R=C.departamentos.map(j=>j.id===i.id?{...j,...l}:j);Xt({...C,departamentos:R}),d({title:"Departamento atualizado com sucesso!"})}else{const R={...l,id:Math.max(...C.departamentos.map(k=>k.id),0)+1},j=[...C.departamentos,R];Xt({...C,departamentos:j}),d({title:"Departamento criado com sucesso!"})}f(),g(),r(!1)},_=b=>{if(window.confirm("Tem certeza que deseja remover este departamento? Usurios e treinamentos associados a ele no sero removidos, mas podem precisar de atualizao.")){const C=yt(),R=C.departamentos.filter(j=>j.id!==b);Xt({...C,departamentos:R}),f(),d({title:"Departamento removido com sucesso."})}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Gerenciamento de Departamentos"}),m.jsx("p",{className:"text-slate-400",children:"Adicione, edite ou remova os departamentos da empresa."})]}),m.jsxs(Fo,{open:n,onOpenChange:r,children:[m.jsx(hu,{asChild:!0,children:m.jsxs(We,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:g,children:[m.jsx(fl,{className:"w-4 h-4 mr-2"})," Novo Departamento"]})}),m.jsxs(Li,{className:"glass-effect border-slate-700 text-white",children:[m.jsx(Fi,{children:m.jsxs(Ui,{children:[i?"Editar":"Novo"," Departamento"]})}),m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{htmlFor:"nome",children:"Nome do Departamento"}),m.jsx(Gt,{id:"nome",value:l.nome,onChange:b=>u({nome:b.target.value}),className:"bg-slate-800/50",required:!0})]}),m.jsxs(Uo,{children:[m.jsx(We,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-600",children:"Cancelar"}),m.jsx(We,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600",children:i?"Salvar":"Criar"})]})]})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((b,C)=>m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},children:m.jsx(Dt,{className:"glass-effect border-slate-700 card-hover",children:m.jsxs(Vt,{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-slate-700",children:m.jsx(Uy,{className:"w-5 h-5 text-slate-300"})}),m.jsx("span",{className:"font-medium text-white",children:b.nome})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(We,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>y(b),children:m.jsx(lu,{className:"w-4 h-4"})}),m.jsx(We,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-red-500/20",onClick:()=>_(b.id),children:m.jsx(hl,{className:"w-4 h-4"})})]})]})})},b.id))})]})};function XE(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $U(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var FR=t=>{const{present:e,children:n}=t,r=zU(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=lt(r.ref,HU(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};FR.displayName="Presence";function zU(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),a=S.useRef("none"),l=t?"mounted":"unmounted",[u,d]=$U(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Yd(r.current);a.current=u==="mounted"?f:"none"},[u]),Bt(()=>{const f=r.current,g=i.current;if(g!==t){const x=a.current,_=Yd(f);t?d("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(g&&x!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Bt(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,y=_=>{const C=Yd(r.current).includes(CSS.escape(_.animationName));if(_.target===e&&C&&(d("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},x=_=>{_.target===e&&(a.current=Yd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Yd(t){return(t==null?void 0:t.animationName)||"none"}function HU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ah="Checkbox",[WU,wB]=qs(Ah),[qU,Nv]=WU(Ah);function GU(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:l,name:u,onCheckedChange:d,required:f,value:g="on",internal_do_not_use_render:y}=t,[x,_]=Mo({prop:n,defaultProp:i??!1,onChange:d,caller:Ah}),[b,C]=S.useState(null),[R,j]=S.useState(null),k=S.useRef(!1),O=b?!!l||!!b.closest("form"):!0,L={checked:x,disabled:a,setChecked:_,control:b,setControl:C,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:Pi(i)?!1:i,isFormControl:O,bubbleInput:R,setBubbleInput:j};return m.jsx(qU,{scope:e,...L,children:KU(y)?y(L):r})}var UR="CheckboxTrigger",BR=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:l,disabled:u,checked:d,required:f,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:x,isFormControl:_,bubbleInput:b}=Nv(UR,t),C=lt(i,g),R=S.useRef(d);return S.useEffect(()=>{const j=a==null?void 0:a.form;if(j){const k=()=>y(R.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[a,y]),m.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":Pi(d)?"mixed":d,"aria-required":f,"data-state":qR(d),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:C,onKeyDown:XE(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:XE(n,j=>{y(k=>Pi(k)?!0:!k),b&&_&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});BR.displayName=UR;var kv=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:l,disabled:u,value:d,onCheckedChange:f,form:g,...y}=t;return m.jsx(GU,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:u,required:l,onCheckedChange:f,name:r,form:g,value:d,internal_do_not_use_render:({isFormControl:x})=>m.jsxs(m.Fragment,{children:[m.jsx(BR,{...y,ref:e,__scopeCheckbox:n}),x&&m.jsx(WR,{__scopeCheckbox:n})]})})});kv.displayName=Ah;var $R="CheckboxIndicator",zR=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=Nv($R,n);return m.jsx(FR,{present:r||Pi(a.checked)||a.checked===!0,children:m.jsx(Be.span,{"data-state":qR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});zR.displayName=$R;var HR="CheckboxBubbleInput",WR=S.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:l,required:u,disabled:d,name:f,value:g,form:y,bubbleInput:x,setBubbleInput:_}=Nv(HR,t),b=lt(n,_),C=Rv(a),R=Cv(r);S.useEffect(()=>{const k=x;if(!k)return;const O=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(O,"checked").set,q=!i.current;if(C!==a&&B){const I=new Event("click",{bubbles:q});k.indeterminate=Pi(a),B.call(k,Pi(a)?!1:a),k.dispatchEvent(I)}},[x,C,a,i]);const j=S.useRef(Pi(a)?!1:a);return m.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:u,disabled:d,name:f,value:g,form:y,...e,tabIndex:-1,ref:b,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WR.displayName=HR;function KU(t){return typeof t=="function"}function Pi(t){return t==="indeterminate"}function qR(t){return Pi(t)?"indeterminate":t?"checked":"unchecked"}const GR=Le.forwardRef(({className:t,...e},n)=>m.jsx(kv,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:m.jsx(zR,{className:Xe("flex items-center justify-center text-current"),children:m.jsx(By,{className:"h-4 w-4"})})}));GR.displayName=kv.displayName;const QU=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[l,u]=S.useState(!1),[d,f]=S.useState(null),g={titulo:"",descricao:"",departamento:"Todos",ativo:!0,treinamentos:[]},[y,x]=S.useState(g),{toast:_}=Gs();S.useEffect(()=>{b()},[]);const b=()=>{const L=yt();e(L.trilhas||[]),r(L.treinamentos||[]),a(L.departamentos||[])},C=()=>{x(g),f(null)},R=L=>{f(L),x({...L,treinamentos:L.treinamentos||[]}),u(!0)},j=L=>{L.preventDefault();const B=yt();if(d){const q=B.trilhas.map(I=>I.id===d.id?{...I,...y}:I);Xt({...B,trilhas:q}),_({title:"Trilha atualizada com sucesso!"})}else{const q={...y,id:Math.max(0,...(B.trilhas||[]).map(I=>I.id))+1};Xt({...B,trilhas:[...B.trilhas||[],q]}),_({title:"Trilha criada com sucesso!"})}b(),C(),u(!1)},k=L=>{if(window.confirm("Tem certeza que deseja remover esta trilha?")){const B=yt(),q=B.trilhas.filter(I=>I.id!==L);Xt({...B,trilhas:q}),b(),_({title:"Trilha removida com sucesso."})}},O=L=>{x(B=>{const q=B.treinamentos.includes(L)?B.treinamentos.filter(I=>I!==L):[...B.treinamentos,L];return{...B,treinamentos:q}})};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Trilhas de Aprendizagem"}),m.jsx("p",{className:"text-slate-400",children:"Crie e organize sequncias de treinamentos."})]}),m.jsxs(Fo,{open:l,onOpenChange:u,children:[m.jsx(hu,{asChild:!0,children:m.jsxs(We,{className:"bg-gradient-to-r from-green-500 to-teal-600",onClick:C,children:[m.jsx(fl,{className:"w-4 h-4 mr-2"})," Nova Trilha"]})}),m.jsxs(Li,{className:"glass-effect border-slate-700 text-white max-w-2xl",children:[m.jsxs(Fi,{children:[m.jsxs(Ui,{children:[d?"Editar":"Nova"," Trilha de Aprendizagem"]}),m.jsx(Ff,{children:"Defina os detalhes e selecione os treinamentos para a trilha."})]}),m.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m.jsx(Gt,{placeholder:"Ttulo da Trilha",value:y.titulo,onChange:L=>x({...y,titulo:L.target.value}),required:!0,className:"bg-slate-800/50"}),m.jsx(Wf,{placeholder:"Descrio da Trilha",value:y.descricao,onChange:L=>x({...y,descricao:L.target.value}),className:"bg-slate-800/50"}),m.jsxs(Ho,{value:y.departamento,onValueChange:L=>x({...y,departamento:L}),children:[m.jsx(zi,{className:"bg-slate-800/50",children:m.jsx(Wo,{})}),m.jsx(Hi,{children:i.map(L=>m.jsx(zr,{value:L.nome,children:L.nome},L.id))})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(qf,{id:"ativo",checked:y.ativo,onCheckedChange:L=>x({...y,ativo:L})}),m.jsx(At,{htmlFor:"ativo",children:"Ativa"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(At,{children:"Treinamentos (selecione na ordem desejada)"}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 p-2 border border-slate-700 rounded-md",children:n.map(L=>m.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-800/50 rounded",children:[m.jsx(GR,{id:`training-${L.id}`,checked:y.treinamentos.includes(L.id),onCheckedChange:()=>O(L.id)}),m.jsx("label",{htmlFor:`training-${L.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:L.titulo})]},L.id))})]}),m.jsxs(Uo,{children:[m.jsx(We,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),m.jsx(We,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:d?"Salvar":"Criar Trilha"})]})]})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((L,B)=>m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[m.jsxs(Kt,{children:[m.jsx(Qt,{className:"text-lg text-white",children:L.titulo}),m.jsx("p",{className:"text-sm text-slate-400",children:L.departamento})]}),m.jsxs(Vt,{className:"flex-grow",children:[m.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:L.descricao}),m.jsxs("div",{className:"text-xs text-slate-400 mt-4 pt-2 border-t border-slate-700 flex items-center gap-2",children:[m.jsx(QV,{className:"w-4 h-4"}),m.jsxs("span",{children:[(L.treinamentos||[]).length," Treinamento(s)"]})]})]}),m.jsxs(dv,{className:"flex justify-end space-x-2",children:[m.jsx(We,{size:"sm",variant:"outline",onClick:()=>R(L),children:m.jsx(lu,{className:"w-4 h-4"})}),m.jsx(We,{size:"sm",variant:"destructive",onClick:()=>k(L.id),children:m.jsx(hl,{className:"w-4 h-4"})})]})]})},L.id))})]})},YU=()=>{const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState("all");S.useEffect(()=>{const y=yt();r(y.treinamentos),a(y.usuarios.filter(x=>x.tipo==="funcionario")),u(y.historico)},[]),S.useEffect(()=>{i.length>0&&g()},[i,l,n,d]);const g=()=>{const y=d==="all"?n:n.filter(j=>j.id===parseInt(d)),x=l.filter(j=>j.concluido&&(d==="all"||j.treinamentoId===parseInt(d))).length,_=i.length*y.length,b=_>0?x/_*100:0,C=i.map(j=>{const k=l.filter(B=>B.usuarioId===j.id&&(d==="all"||B.treinamentoId===parseInt(d))),O=k.filter(B=>B.concluido).length,L=k.reduce((B,q)=>B+(q.notaQuestionario||0),0)/(k.length||1);return{...j,completedCount:O,progress:y.length>0?O/y.length*100:0,avgScore:L}}).sort((j,k)=>k.completedCount-j.completedCount),R=n.map(j=>{const k=l.filter(L=>L.treinamentoId===j.id&&L.concluido).length,O=new Set(l.filter(L=>L.treinamentoId===j.id).map(L=>L.usuarioId)).size;return{...j,completions:k,completionRate:i.length>0?k/i.length*100:0,participants:O}}).sort((j,k)=>k.completions-j.completions);e({totalCompletions:x,completionRate:b,userProgress:C,trainingStats:R})};return t?m.jsxs("div",{className:"space-y-6",children:[m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Relatrios"}),m.jsx("p",{className:"text-slate-400",children:"Analise o desempenho e progresso dos treinamentos."})]}),m.jsx("div",{className:"w-full sm:w-64",children:m.jsxs(Ho,{value:d,onValueChange:f,children:[m.jsxs(zi,{className:"bg-slate-800/50 border-slate-600",children:[m.jsx(zS,{className:"w-4 h-4 mr-2"}),m.jsx(Wo,{placeholder:"Filtrar por treinamento"})]}),m.jsxs(Hi,{children:[m.jsx(zr,{value:"all",children:"Todos os Treinamentos"}),n.map(y=>m.jsx(zr,{value:y.id.toString(),children:y.titulo},y.id))]})]})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{className:"flex flex-row items-center justify-between pb-2",children:[m.jsx(Qt,{className:"text-sm font-medium text-slate-200",children:"Total de Concluses"}),m.jsx(au,{className:"h-5 w-5 text-green-500"})]}),m.jsx(Vt,{children:m.jsx("div",{className:"text-2xl font-bold text-white",children:t.totalCompletions})})]})}),m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{className:"flex flex-row items-center justify-between pb-2",children:[m.jsx(Qt,{className:"text-sm font-medium text-slate-200",children:"Taxa de Concluso Geral"}),m.jsx(JV,{className:"h-5 w-5 text-blue-500"})]}),m.jsx(Vt,{children:m.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.completionRate.toFixed(1),"%"]})})]})}),m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{className:"flex flex-row items-center justify-between pb-2",children:[m.jsx(Qt,{className:"text-sm font-medium text-slate-200",children:"Total de Funcionrios"}),m.jsx(Pf,{className:"h-5 w-5 text-purple-500"})]}),m.jsx(Vt,{children:m.jsx("div",{className:"text-2xl font-bold text-white",children:i.length})})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsx(Kt,{children:m.jsx(Qt,{className:"text-white",children:"Progresso por Usurio"})}),m.jsx(Vt,{className:"space-y-2 max-h-96 overflow-y-auto scrollbar-thin",children:t.userProgress.map(y=>m.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"text-sm font-medium text-white",children:y.nome}),m.jsxs("span",{className:"text-sm font-semibold text-blue-400",children:[y.progress.toFixed(0),"%"]})]}),m.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5",children:m.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${y.progress}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[m.jsxs("span",{children:[y.completedCount," concludo(s)"]}),m.jsxs("span",{children:["Nota Mdia: ",y.avgScore.toFixed(1)]})]})]},y.id))})]})}),m.jsx(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsx(Kt,{children:m.jsx(Qt,{className:"text-white",children:"Desempenho por Treinamento"})}),m.jsx(Vt,{className:"space-y-2 max-h-96 overflow-y-auto scrollbar-thin",children:t.trainingStats.map(y=>m.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[m.jsx("p",{className:"text-sm font-medium text-white truncate",children:y.titulo}),m.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 mt-1",children:[m.jsxs("span",{children:[y.completions," concluses"]}),m.jsxs("span",{children:[y.participants," participantes"]}),m.jsxs("span",{className:"font-semibold text-green-400",children:[y.completionRate.toFixed(0),"%"]})]})]},y.id))})]})})]})]}):m.jsx("div",{className:"text-center text-slate-400",children:"Gerando relatrios..."})};var cf={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var XU=cf.exports,JE;function JU(){return JE||(JE=1,(function(t,e){((n,r)=>{t.exports=r()})(XU,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,u={},d=0,f={};function g(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var D=B(P);D.chunkSize=parseInt(D.chunkSize),P.step||P.chunk||(D.chunkSize=null),this._handle=new C(D),(this._handle.streamer=this)._config=D}).call(this,T),this.parseChunk=function(P,D){var U=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<U){let V=this._config.newline;V||(F=this._config.quoteChar||'"',V=this._handle.guessLineEndings(P,F)),P=[...P.split(V).slice(U)].join(V)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(P))!==void 0&&(P=F),this.isFirstChunk=!1,this._halted=!1;var U=this._partialLine+P,F=(this._partialLine="",this._handle.parse(U,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=F.meta.cursor,U=(this._finished||(this._partialLine=U.substring(P-this._baseIndex),this._baseIndex=P),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:F,workerId:f.WORKER_ID,finished:U});else if(I(this._config.chunk)&&!D){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!U||!I(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),U||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(P){I(this._config.error)?this._config.error(P):l&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:P,finished:!1})}}function y(T){var P;(T=T||{}).chunkSize||(T.chunkSize=f.RemoteChunkSize),g.call(this,T),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),a||(P.onload=q(this._chunkLoaded,this),P.onerror=q(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var D,U=this._config.downloadRequestHeaders;for(D in U)P.setRequestHeader(D,U[D])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+F));try{P.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}a&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(D){D=P.statusText||D,this._sendError(new Error(D))}}function x(T){(T=T||{}).chunkSize||(T.chunkSize=f.LocalChunkSize),g.call(this,T);var P,D,U=typeof FileReader<"u";this.stream=function(F){this._input=F,D=F.slice||F.webkitSlice||F.mozSlice,U?((P=new FileReader).onload=q(this._chunkLoaded,this),P.onerror=q(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),F=D.call(F,this._start,V)),P.readAsText(F,this._config.encoding));U||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(P.error)}}function _(T){var P;g.call(this,T=T||{}),this.stream=function(D){return P=D,this._nextChunk()},this._nextChunk=function(){var D,U;if(!this._finished)return D=this._config.chunkSize,P=D?(U=P.substring(0,D),P.substring(D)):(U=P,""),this._finished=!P,this.parseChunk(U)}}function b(T){g.call(this,T=T||{});var P=[],D=!0,U=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){U&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):D=!0},this._streamData=q(function(F){try{P.push(typeof F=="string"?F:F.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(V){this._streamError(V)}},this),this._streamError=q(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=q(function(){this._streamCleanUp(),U=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(T){var P,D,U,F,V=Math.pow(2,53),re=-V,we=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ue=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,Q=0,ee=0,ae=!1,$=!1,G=[],te={data:[],errors:[],meta:{}};function X(ce){return T.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function le(){if(te&&U&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),U=!1),T.skipEmptyLines&&(te.data=te.data.filter(function(Ae){return!X(Ae)})),me()){let Ae=function(qe,ze){I(T.transformHeader)&&(qe=T.transformHeader(qe,ze)),G.push(qe)};var ye=Ae;if(te)if(Array.isArray(te.data[0])){for(var ce=0;me()&&ce<te.data.length;ce++)te.data[ce].forEach(Ae);te.data.splice(0,1)}else te.data.forEach(Ae)}function xe(Ae,qe){for(var ze=T.header?{}:[],Ge=0;Ge<Ae.length;Ge++){var De=Ge,ht=Ae[Ge],ht=((Ye,Je)=>(dt=>(T.dynamicTypingFunction&&T.dynamicTyping[dt]===void 0&&(T.dynamicTyping[dt]=T.dynamicTypingFunction(dt)),(T.dynamicTyping[dt]||T.dynamicTyping)===!0))(Ye)?Je==="true"||Je==="TRUE"||Je!=="false"&&Je!=="FALSE"&&((dt=>{if(we.test(dt)&&(dt=parseFloat(dt),re<dt&&dt<V))return 1})(Je)?parseFloat(Je):ue.test(Je)?new Date(Je):Je===""?null:Je):Je)(De=T.header?Ge>=G.length?"__parsed_extra":G[Ge]:De,ht=T.transform?T.transform(ht,De):ht);De==="__parsed_extra"?(ze[De]=ze[De]||[],ze[De].push(ht)):ze[De]=ht}return T.header&&(Ge>G.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+Ge,ee+qe):Ge<G.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+Ge,ee+qe)),ze}var _e;te&&(T.header||T.dynamicTyping||T.transform)&&(_e=1,!te.data.length||Array.isArray(te.data[0])?(te.data=te.data.map(xe),_e=te.data.length):te.data=xe(te.data,0),T.header&&te.meta&&(te.meta.fields=G),ee+=_e)}function me(){return T.header&&G.length===0}function ie(ce,xe,_e,ye){ce={type:ce,code:xe,message:_e},ye!==void 0&&(ce.row=ye),te.errors.push(ce)}I(T.step)&&(F=T.step,T.step=function(ce){te=ce,me()?le():(le(),te.data.length!==0&&(Q+=ce.data.length,T.preview&&Q>T.preview?D.abort():(te.data=te.data[0],F(te,se))))}),this.parse=function(ce,xe,_e){var ye=T.quoteChar||'"',ye=(T.newline||(T.newline=this.guessLineEndings(ce,ye)),U=!1,T.delimiter?I(T.delimiter)&&(T.delimiter=T.delimiter(ce),te.meta.delimiter=T.delimiter):((ye=((Ae,qe,ze,Ge,De)=>{var ht,Ye,Je,dt;De=De||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var wn=0;wn<De.length;wn++){for(var _n,or=De[wn],Rt=0,En=0,Ke=0,rt=(Je=void 0,new j({comments:Ge,delimiter:or,newline:qe,preview:10}).parse(Ae)),Jt=0;Jt<rt.data.length;Jt++)ze&&X(rt.data[Jt])?Ke++:(_n=rt.data[Jt].length,En+=_n,Je===void 0?Je=_n:0<_n&&(Rt+=Math.abs(_n-Je),Je=_n));0<rt.data.length&&(En/=rt.data.length-Ke),(Ye===void 0||Rt<=Ye)&&(dt===void 0||dt<En)&&1.99<En&&(Ye=Rt,ht=or,dt=En)}return{successful:!!(T.delimiter=ht),bestDelimiter:ht}})(ce,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=ye.bestDelimiter:(U=!0,T.delimiter=f.DefaultDelimiter),te.meta.delimiter=T.delimiter),B(T));return T.preview&&T.header&&ye.preview++,P=ce,D=new j(ye),te=D.parse(P,xe,_e),le(),ae?{meta:{paused:!0}}:te||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,D.abort(),P=I(T.chunk)?"":P.substring(D.getCharIndex())},this.resume=function(){se.streamer._halted?(ae=!1,se.streamer.parseChunk(P,!0)):setTimeout(se.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,D.abort(),te.meta.aborted=!0,I(T.complete)&&T.complete(te),P=""},this.guessLineEndings=function(Ae,ye){Ae=Ae.substring(0,1048576);var ye=new RegExp(R(ye)+"([^]*?)"+R(ye),"gm"),_e=(Ae=Ae.replace(ye,"")).split("\r"),ye=Ae.split(`
`),Ae=1<ye.length&&ye[0].length<_e[0].length;if(_e.length===1||Ae)return`
`;for(var qe=0,ze=0;ze<_e.length;ze++)_e[ze][0]===`
`&&qe++;return qe>=_e.length/2?`\r
`:"\r"}}function R(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(T){var P=(T=T||{}).delimiter,D=T.newline,U=T.comments,F=T.step,V=T.preview,re=T.fastMode,we=null,ue=!1,se=T.quoteChar==null?'"':T.quoteChar,Q=se;if(T.escapeChar!==void 0&&(Q=T.escapeChar),(typeof P!="string"||-1<f.BAD_DELIMITERS.indexOf(P))&&(P=","),U===P)throw new Error("Comment character same as delimiter");U===!0?U="#":(typeof U!="string"||-1<f.BAD_DELIMITERS.indexOf(U))&&(U=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var ee=0,ae=!1;this.parse=function($,G,te){if(typeof $!="string")throw new Error("Input must be a string");var X=$.length,le=P.length,me=D.length,ie=U.length,ce=I(F),xe=[],_e=[],ye=[],Ae=ee=0;if(!$)return Rt();if(re||re!==!1&&$.indexOf(se)===-1){for(var qe=$.split(D),ze=0;ze<qe.length;ze++){if(ye=qe[ze],ee+=ye.length,ze!==qe.length-1)ee+=D.length;else if(te)return Rt();if(!U||ye.substring(0,ie)!==U){if(ce){if(xe=[],dt(ye.split(P)),En(),ae)return Rt()}else dt(ye.split(P));if(V&&V<=ze)return xe=xe.slice(0,V),Rt(!0)}}return Rt()}for(var Ge=$.indexOf(P,ee),De=$.indexOf(D,ee),ht=new RegExp(R(Q)+R(se),"g"),Ye=$.indexOf(se,ee);;)if($[ee]===se)for(Ye=ee,ee++;;){if((Ye=$.indexOf(se,Ye+1))===-1)return te||_e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:ee}),_n();if(Ye===X-1)return _n($.substring(ee,Ye).replace(ht,se));if(se===Q&&$[Ye+1]===Q)Ye++;else if(se===Q||Ye===0||$[Ye-1]!==Q){Ge!==-1&&Ge<Ye+1&&(Ge=$.indexOf(P,Ye+1));var Je=wn((De=De!==-1&&De<Ye+1?$.indexOf(D,Ye+1):De)===-1?Ge:Math.min(Ge,De));if($.substr(Ye+1+Je,le)===P){ye.push($.substring(ee,Ye).replace(ht,se)),$[ee=Ye+1+Je+le]!==se&&(Ye=$.indexOf(se,ee)),Ge=$.indexOf(P,ee),De=$.indexOf(D,ee);break}if(Je=wn(De),$.substring(Ye+1+Je,Ye+1+Je+me)===D){if(ye.push($.substring(ee,Ye).replace(ht,se)),or(Ye+1+Je+me),Ge=$.indexOf(P,ee),Ye=$.indexOf(se,ee),ce&&(En(),ae))return Rt();if(V&&xe.length>=V)return Rt(!0);break}_e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:ee}),Ye++}}else if(U&&ye.length===0&&$.substring(ee,ee+ie)===U){if(De===-1)return Rt();ee=De+me,De=$.indexOf(D,ee),Ge=$.indexOf(P,ee)}else if(Ge!==-1&&(Ge<De||De===-1))ye.push($.substring(ee,Ge)),ee=Ge+le,Ge=$.indexOf(P,ee);else{if(De===-1)break;if(ye.push($.substring(ee,De)),or(De+me),ce&&(En(),ae))return Rt();if(V&&xe.length>=V)return Rt(!0)}return _n();function dt(Ke){xe.push(Ke),Ae=ee}function wn(Ke){var rt=0;return rt=Ke!==-1&&(Ke=$.substring(Ye+1,Ke))&&Ke.trim()===""?Ke.length:rt}function _n(Ke){return te||(Ke===void 0&&(Ke=$.substring(ee)),ye.push(Ke),ee=X,dt(ye),ce&&En()),Rt()}function or(Ke){ee=Ke,dt(ye),ye=[],De=$.indexOf(D,ee)}function Rt(Ke){if(T.header&&!G&&xe.length&&!ue){var rt=xe[0],Jt=Object.create(null),xs=new Set(rt);let _r=!1;for(let Mn=0;Mn<rt.length;Mn++){let sn=rt[Mn];if(Jt[sn=I(T.transformHeader)?T.transformHeader(sn,Mn):sn]){let Er,Ks=Jt[sn];for(;Er=sn+"_"+Ks,Ks++,xs.has(Er););xs.add(Er),rt[Mn]=Er,Jt[sn]++,_r=!0,(we=we===null?{}:we)[Er]=sn}else Jt[sn]=1,rt[Mn]=sn;xs.add(sn)}_r&&console.warn("Duplicate headers found and renamed."),ue=!0}return{data:xe,errors:_e,meta:{delimiter:P,linebreak:D,aborted:ae,truncated:!!Ke,cursor:Ae+(G||0),renamedHeaders:we}}}function En(){F(Rt()),xe=[],_e=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return ee}}function k(T){var P=T.data,D=u[P.workerId],U=!1;if(P.error)D.userError(P.error,P.file);else if(P.results&&P.results.data){var F={abort:function(){U=!0,O(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:L,resume:L};if(I(D.userStep)){for(var V=0;V<P.results.data.length&&(D.userStep({data:P.results.data[V],errors:P.results.errors,meta:P.results.meta},F),!U);V++);delete P.results}else I(D.userChunk)&&(D.userChunk(P.results,F,P.file),delete P.results)}P.finished&&!U&&O(P.workerId,P.results)}function O(T,P){var D=u[T];I(D.userComplete)&&D.userComplete(P),D.terminate(),delete u[T]}function L(){throw new Error("Not implemented.")}function B(T){if(typeof T!="object"||T===null)return T;var P,D=Array.isArray(T)?[]:{};for(P in T)D[P]=B(T[P]);return D}function q(T,P){return function(){T.apply(P,arguments)}}function I(T){return typeof T=="function"}return f.parse=function(T,P){var D=(P=P||{}).dynamicTyping||!1;if(I(D)&&(P.dynamicTypingFunction=D,D={}),P.dynamicTyping=D,P.transform=!!I(P.transform)&&P.transform,!P.worker||!f.WORKERS_SUPPORTED)return D=null,f.NODE_STREAM_INPUT,typeof T=="string"?(T=(U=>U.charCodeAt(0)!==65279?U:U.slice(1))(T),D=new(P.download?y:_)(P)):T.readable===!0&&I(T.read)&&I(T.on)?D=new b(P):(r.File&&T instanceof File||T instanceof Object)&&(D=new x(P)),D.stream(T);(D=(()=>{var U;return!!f.WORKERS_SUPPORTED&&(U=(()=>{var F=r.URL||r.webkitURL||null,V=n.toString();return f.BLOB_URL||(f.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(U=new r.Worker(U)).onmessage=k,U.id=d++,u[U.id]=U)})()).userStep=P.step,D.userChunk=P.chunk,D.userComplete=P.complete,D.userError=P.error,P.step=I(P.step),P.chunk=I(P.chunk),P.complete=I(P.complete),P.error=I(P.error),delete P.worker,D.postMessage({input:T,config:P,workerId:D.id})},f.unparse=function(T,P){var D=!1,U=!0,F=",",V=`\r
`,re='"',we=re+re,ue=!1,se=null,Q=!1,ee=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||f.BAD_DELIMITERS.filter(function(G){return P.delimiter.indexOf(G)!==-1}).length||(F=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(D=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(ue=P.skipEmptyLines),typeof P.newline=="string"&&(V=P.newline),typeof P.quoteChar=="string"&&(re=P.quoteChar),typeof P.header=="boolean"&&(U=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");se=P.columns}P.escapeChar!==void 0&&(we=P.escapeChar+re),P.escapeFormulae instanceof RegExp?Q=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(R(re),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return ae(null,T,ue);if(typeof T[0]=="object")return ae(se||Object.keys(T[0]),T,ue)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||se),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),ae(T.fields||[],T.data||[],ue);throw new Error("Unable to serialize unrecognized input");function ae(G,te,X){var le="",me=(typeof G=="string"&&(G=JSON.parse(G)),typeof te=="string"&&(te=JSON.parse(te)),Array.isArray(G)&&0<G.length),ie=!Array.isArray(te[0]);if(me&&U){for(var ce=0;ce<G.length;ce++)0<ce&&(le+=F),le+=$(G[ce],ce);0<te.length&&(le+=V)}for(var xe=0;xe<te.length;xe++){var _e=(me?G:te[xe]).length,ye=!1,Ae=me?Object.keys(te[xe]).length===0:te[xe].length===0;if(X&&!me&&(ye=X==="greedy"?te[xe].join("").trim()==="":te[xe].length===1&&te[xe][0].length===0),X==="greedy"&&me){for(var qe=[],ze=0;ze<_e;ze++){var Ge=ie?G[ze]:ze;qe.push(te[xe][Ge])}ye=qe.join("").trim()===""}if(!ye){for(var De=0;De<_e;De++){0<De&&!Ae&&(le+=F);var ht=me&&ie?G[De]:De;le+=$(te[xe][ht],De)}xe<te.length-1&&(!X||0<_e&&!Ae)&&(le+=V)}}return le}function $(G,te){var X,le;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(le=!1,Q&&typeof G=="string"&&Q.test(G)&&(G="'"+G,le=!0),X=G.toString().replace(ee,we),(le=le||D===!0||typeof D=="function"&&D(G,te)||Array.isArray(D)&&D[te]||((me,ie)=>{for(var ce=0;ce<ie.length;ce++)if(-1<me.indexOf(ie[ce]))return!0;return!1})(X,f.BAD_DELIMITERS)||-1<X.indexOf(F)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?re+X+re:X)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!a&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=C,f.NetworkStreamer=y,f.FileStreamer=x,f.StringStreamer=_,f.ReadableStreamStreamer=b,r.jQuery&&((i=r.jQuery).fn.parse=function(T){var P=T.config||{},D=[];return this.each(function(V){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)D.push({file:this.files[re],inputElem:this,instanceConfig:i.extend({},P)})}),U(),this;function U(){if(D.length===0)I(T.complete)&&T.complete();else{var V,re,we,ue,se=D[0];if(I(T.before)){var Q=T.before(se.file,se.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return V="AbortError",re=se.file,we=se.inputElem,ue=Q.reason,void(I(T.error)&&T.error({name:V},re,we,ue));if(Q.action==="skip")return void F();typeof Q.config=="object"&&(se.instanceConfig=i.extend(se.instanceConfig,Q.config))}else if(Q==="skip")return void F()}var ee=se.instanceConfig.complete;se.instanceConfig.complete=function(ae){I(ee)&&ee(ae,se.file,se.inputElem),F()},f.parse(se.file,se.instanceConfig)}}function F(){D.splice(0,1),U()}}),l&&(r.onmessage=function(T){T=T.data,f.WORKER_ID===void 0&&T&&(f.WORKER_ID=T.workerId),typeof T.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(T.input,T.config),finished:!0}):(r.File&&T.input instanceof File||T.input instanceof Object)&&(T=f.parse(T.input,T.config))&&r.postMessage({workerId:f.WORKER_ID,results:T,finished:!0})}),(y.prototype=Object.create(g.prototype)).constructor=y,(x.prototype=Object.create(g.prototype)).constructor=x,(_.prototype=Object.create(_.prototype)).constructor=_,(b.prototype=Object.create(g.prototype)).constructor=b,f})})(cf)),cf.exports}var ZU=JU();const eB=qi(ZU),ZE={blue:{gradient:"from-blue-500 to-blue-600",bg:"bg-blue-600",hoverBg:"hover:bg-blue-700"},green:{gradient:"from-green-500 to-green-600",bg:"bg-green-600",hoverBg:"hover:bg-green-700"},purple:{gradient:"from-purple-500 to-purple-600",bg:"bg-purple-600",hoverBg:"hover:bg-purple-700"},red:{gradient:"from-red-500 to-orange-600",bg:"bg-red-600",hoverBg:"hover:bg-red-700"}},tB=()=>{const{toast:t}=Gs(),e=S.useRef(null),n=S.useRef(null),r=()=>{const g=yt(),y=JSON.stringify(g,null,2),x="data:application/json;charset=utf-8,"+encodeURIComponent(y),_="bd.json",b=document.createElement("a");b.setAttribute("href",x),b.setAttribute("download",_),b.click(),t({title:"Backup Realizado",description:"O arquivo bd.json foi baixado com sucesso."})},i=()=>{var g;(g=e.current)==null||g.click()},a=g=>{var _;const y=(_=g.target.files)==null?void 0:_[0];if(!y)return;const x=new FileReader;x.onload=b=>{var C;try{const R=JSON.parse((C=b.target)==null?void 0:C.result);Xt(R),t({title:" Importao Concluda",description:"Os dados do arquivo bd.json foram restaurados."})}catch{t({title:" Erro na Importao",description:"O arquivo selecionado no  um JSON vlido.",variant:"destructive"})}},x.readAsText(y),g.target.value=""},l=()=>{var g;(g=n.current)==null||g.click()},u=g=>{var x;const y=(x=g.target.files)==null?void 0:x[0];y&&(eB.parse(y,{header:!0,skipEmptyLines:!0,complete:_=>{try{const b=_.data,C=yt(),R=Math.max(...C.usuarios.map(k=>k.id),0)+1,j=b.map((k,O)=>({...k,id:R+O,ativo:!0,dataCriacao:new Date().toISOString().split("T")[0]}));C.usuarios=[...C.usuarios,...j],Xt(C),t({title:" Importao de Usurios Concluda",description:`${b.length} usurios foram importados do CSV.`})}catch{t({title:" Erro na Importao do CSV",description:"No foi possvel processar os dados do arquivo.",variant:"destructive"})}},error:_=>t({title:" Erro ao ler o arquivo CSV",description:_.message,variant:"destructive"})}),g.target.value="")},f=[{title:"Backup dos Dados",description:"Faa o download de um backup completo dos dados (bd.json).",icon:$S,action:r,buttonText:"Fazer Backup",color:"blue"},{title:"Importar Dados (JSON)",description:"Importe dados de um arquivo bd.json para restaurar um backup.",icon:WV,action:i,buttonText:"Importar JSON",color:"green"},{title:"Importar Usurios (CSV)",description:"Importe uma lista de usurios a partir de um arquivo CSV.",icon:HV,action:l,buttonText:"Importar CSV",color:"purple"},{title:"Resetar Dados da Aplicao",description:"Se a aplicao estiver com problemas, esta ao restaura os dados padro.",icon:Fy,action:()=>{window.confirm("ATENO: Esta ao ir apagar todos os dados locais (usurios, treinamentos, etc.) e restaurar a aplicao para o estado inicial. Deseja continuar?")&&(localStorage.removeItem("trainingDatabase"),t({title:"Dados Resetados!",description:"A aplicao ser recarregada com os dados padro."}),setTimeout(()=>{window.location.reload()},1500))},buttonText:"Resetar Dados",color:"red"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Configuraes"}),m.jsx("p",{className:"text-slate-400",children:"Gerencie as configuraes gerais da plataforma."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((g,y)=>{const x=g.icon,_=ZE[g.color]||ZE.blue;return m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*(y+1)},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[m.jsx(Kt,{children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${_.gradient}`,children:m.jsx(x,{className:"h-6 w-6 text-white"})}),m.jsx("div",{children:m.jsx(Qt,{className:"text-lg text-white",children:g.title})})]})}),m.jsxs(Vt,{className:"flex-grow flex flex-col justify-between",children:[m.jsx(gl,{className:"text-slate-300 mb-4",children:g.description}),m.jsx(We,{onClick:g.action,className:`w-full ${_.bg} ${_.hoverBg}`,children:g.buttonText})]})]})},g.title)})}),m.jsx("input",{type:"file",ref:e,onChange:a,accept:"application/json",style:{display:"none"}}),m.jsx("input",{type:"file",ref:n,onChange:u,accept:".csv",style:{display:"none"}})]})},nB=({training:t,userProgress:e,categories:n,onStartTraining:r,index:i})=>{const a=(d,f)=>{const g=n.find(y=>y.id===d);return f==="nome"?(g==null?void 0:g.nome)||"N/A":f==="cor"?(g==null?void 0:g.cor)||"#3b82f6":null},u=e?e.concluido?"completed":"in-progress":"not-started";return m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover h-full flex flex-col",children:[m.jsx(Kt,{className:"pb-3",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx(Qt,{className:"text-lg text-white mb-2",children:t.titulo}),m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(Do,{style:{backgroundColor:a(t.categoriaId,"cor")},className:"text-white",children:a(t.categoriaId,"nome")}),t.obrigatorio&&m.jsx(Do,{variant:"destructive",children:"Obrigatrio"})]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[u==="completed"&&m.jsx(au,{className:"w-6 h-6 text-green-500"}),u==="in-progress"&&m.jsx($y,{className:"w-6 h-6 text-yellow-500"}),u==="not-started"&&t.obrigatorio&&m.jsx(US,{className:"w-6 h-6 text-red-500"})]})]})}),m.jsxs(Vt,{className:"space-y-4 flex-grow flex flex-col justify-end",children:[m.jsx("p",{className:"text-sm text-slate-300 line-clamp-3 flex-grow",children:t.descricao}),e&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-400",children:"Progresso"}),m.jsx("span",{className:"text-white",children:e.concluido?"100%":"50%"})]}),m.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:m.jsx("div",{className:"progress-bar h-2 rounded-full",style:{width:e.concluido?"100%":"50%"}})}),e.concluido&&m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-400",children:"Nota:"}),m.jsxs("span",{className:"text-green-400 font-semibold",children:[e.notaQuestionario,"/10"]})]})]}),m.jsx("div",{className:"pt-4 border-t border-slate-700",children:m.jsxs(We,{onClick:r,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:u==="completed",children:[m.jsx(qS,{className:"w-4 h-4 mr-2"}),u==="completed"?"Concludo":"Assistir"]})})]})]})})},rB=({training:t,onQuizComplete:e})=>{const[n,r]=S.useState(0),[i,a]=S.useState([]),l=d=>{const f=[...i,d];if(a(f),n<t.perguntas.length-1)r(n+1);else{let g=0;t.perguntas.forEach((x,_)=>{f[_]===x.respostaCorreta&&g++});const y=Math.round(g/t.perguntas.length*10);e(y)}},u=t.perguntas[n];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Questionrio - Pergunta ",n+1," de ",t.perguntas.length]}),m.jsx("div",{className:"w-32 bg-slate-700 rounded-full h-2",children:m.jsx("div",{className:"progress-bar h-2 rounded-full",style:{width:`${(n+1)/t.perguntas.length*100}%`}})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"text-xl text-white",children:u.pergunta}),m.jsx("div",{className:"space-y-3",children:u.opcoes.map((d,f)=>m.jsxs(We,{variant:"outline",onClick:()=>l(f),className:"w-full text-left justify-start p-4 h-auto border-slate-600 hover:bg-slate-700",children:[m.jsx("span",{className:"mr-3 w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center text-sm",children:String.fromCharCode(65+f)}),d]},f))})]})]})},KR=({training:t,isOpen:e,onClose:n,onComplete:r})=>{const[i,a]=S.useState(!1),{toast:l}=Gs(),{user:u}=Gi(),d=()=>{if(!(t!=null&&t.perguntas)||t.perguntas.length===0){f(10);return}a(!0)},f=x=>{const _=yt(),b=_.historico.find(C=>C.usuarioId===u.id&&C.treinamentoId===t.id);if(b){const C=_.historico.map(R=>R.id===b.id?{...R,concluido:!0,dataConclusao:new Date().toISOString().split("T")[0],notaQuestionario:x,tempoAssistido:(R.tempoAssistido||0)+1800}:R);Xt({..._,historico:C})}else{const C={id:Math.max(0,..._.historico.map(R=>R.id)||[0])+1,usuarioId:u.id,treinamentoId:t.id,concluido:!0,dataConclusao:new Date().toISOString().split("T")[0],notaQuestionario:x,tempoAssistido:1800};Xt({..._,historico:[..._.historico,C]})}l({title:"Treinamento concludo!",description:`Parabns! Voc obteve nota ${x}/10.`}),a(!1),r()},g=x=>{x&&x.url?window.open(x.url,"_blank"):l({title:"Erro",description:"No foi possvel encontrar a URL do arquivo.",variant:"destructive"})},y=()=>{a(!1),n()};return m.jsx(Fo,{open:e,onOpenChange:y,children:m.jsxs(Li,{className:"glass-effect border-slate-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto scrollbar-thin",children:[m.jsx(Fi,{children:m.jsx(Ui,{className:"text-xl",children:t.titulo})}),i?m.jsx(rB,{training:t,onQuizComplete:f}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"aspect-video bg-slate-800 rounded-lg overflow-hidden",children:m.jsx("iframe",{src:t.video,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:t.titulo})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-slate-300",children:t.descricao}),(t.arquivosComplementares||[]).length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Arquivos Complementares"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.arquivosComplementares.map((x,_)=>m.jsxs(We,{variant:"outline",onClick:()=>g(x),className:"justify-start border-slate-600 hover:bg-slate-700",children:[m.jsx($S,{className:"w-4 h-4 mr-2"})," ",x.name]},_))})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(We,{onClick:d,className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600",children:[m.jsx(uh,{className:"w-4 h-4 mr-2"})," Fazer Questionrio"]})})]})]})]})})},eT=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[l,u]=S.useState(""),[d,f]=S.useState("all"),[g,y]=S.useState(null),[x,_]=S.useState({}),{user:b}=Gi(),C=()=>{const j=yt(),k=j.treinamentos.filter(L=>L.ativo&&(L.departamento==="Todos"||L.departamento===(b==null?void 0:b.departamento)));e(k),a(j.categorias);const O={};j.historico.filter(L=>L.usuarioId===(b==null?void 0:b.id)).forEach(L=>{O[L.treinamentoId]=L}),_(O)};S.useEffect(()=>{C()},[b]),S.useEffect(()=>{let j=t;l&&(j=j.filter(k=>k.titulo.toLowerCase().includes(l.toLowerCase())||k.descricao.toLowerCase().includes(l.toLowerCase()))),d!=="all"&&(j=j.filter(k=>k.categoriaId===parseInt(d))),r(j)},[t,l,d]);const R=()=>{y(null),C()};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meus Treinamentos"}),m.jsx("p",{className:"text-slate-400",children:"Acesse seus treinamentos disponveis"})]}),m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(zy,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),m.jsx(Gt,{placeholder:"Buscar treinamentos...",value:l,onChange:j=>u(j.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white"})]}),m.jsxs(Ho,{value:d,onValueChange:f,children:[m.jsxs(zi,{className:"w-full sm:w-48 bg-slate-800/50 border-slate-600",children:[m.jsx(zS,{className:"w-4 h-4 mr-2"}),m.jsx(Wo,{placeholder:"Categoria"})]}),m.jsxs(Hi,{children:[m.jsx(zr,{value:"all",children:"Todas as categorias"}),i.map(j=>m.jsx(zr,{value:j.id.toString(),children:j.nome},j.id))]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((j,k)=>m.jsx(nB,{training:j,userProgress:x[j.id],categories:i,onStartTraining:()=>y(j),index:k},j.id))}),n.length===0&&m.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[m.jsx(Kc,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhum treinamento encontrado"})]}),g&&m.jsx(KR,{training:g,isOpen:!!g,onClose:()=>y(null),onComplete:R})]})},sB=()=>{const[t,e]=S.useState([]),[n,r]=S.useState({}),[i,a]=S.useState({}),[l,u]=S.useState(null),{user:d}=Gi();S.useEffect(()=>{try{const g=yt();if(!g){console.error("Database is null or undefined.");return}const y=(g.trilhas||[]).filter(b=>b&&b.ativo&&(b.departamento==="Todos"||b.departamento===(d==null?void 0:d.departamento)));e(y);const x=(g.treinamentos||[]).reduce((b,C)=>(C&&C.id&&(b[C.id]=C),b),{});r(x);const _={};(g.historico||[]).filter(b=>b&&b.usuarioId===(d==null?void 0:d.id)).forEach(b=>{b.treinamentoId&&(_[b.treinamentoId]=b)}),a(_)}catch(g){console.error("Error loading data in LearningPathList:",g)}},[d]);const f=()=>{u(null)};try{return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Minhas Trilhas de Aprendizagem"}),m.jsx("p",{className:"text-slate-400",children:"Siga as sequncias de treinamento para aprimorar suas habilidades."})]}),t.length>0?t.map((g,y)=>{try{if(!g||typeof g!="object")return console.error("Invalid 'path' object found in list:",g),null;const x=Array.isArray(g.treinamentos)?g.treinamentos:[],_=x.filter(j=>{var k;return(k=i[j])==null?void 0:k.concluido}).length,b=x.length,C=b>0?_/b*100:0;let R=!1;return m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(y+1)*.1},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{children:[m.jsx(Qt,{className:"text-white",children:g.titulo||"Trilha sem ttulo"}),m.jsx("p",{className:"text-sm text-slate-300",children:g.descricao||""}),m.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[m.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:m.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${C}%`}})}),m.jsxs("span",{className:"text-sm font-semibold text-white",children:[Math.round(C),"%"]})]})]}),m.jsx(Vt,{className:"space-y-3",children:x.length>0?x.map(j=>{const k=n[j];if(!k)return null;const O=i[j],L=O==null?void 0:O.concluido,B=R;return L||(R=!0),m.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${B?"bg-slate-800/30 opacity-60":"bg-slate-800/60"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[L?m.jsx(au,{className:"w-5 h-5 text-green-500"}):B?m.jsx(HS,{className:"w-5 h-5 text-slate-500"}):m.jsx($y,{className:"w-5 h-5 text-blue-400"}),m.jsxs("div",{children:[m.jsx("p",{className:`font-medium ${B?"text-slate-400":"text-white"}`,children:k.titulo}),m.jsxs("p",{className:"text-xs text-slate-400",children:[(k.descricao||"").substring(0,50),"..."]})]})]}),!B&&!L&&m.jsxs(Button,{size:"sm",onClick:()=>u(k),className:"bg-blue-600 hover:bg-blue-700",children:[m.jsx(qS,{className:"w-4 h-4 mr-2"})," Iniciar"]})]},j)}):m.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Nenhum treinamento foi adicionado a esta trilha ainda."})})]})},g.id||y)}catch(x){return console.error(`ERRO CRTICO AO RENDERIZAR A TRILHA ID: ${g==null?void 0:g.id}`,x),m.jsx(Dt,{className:"border-red-500/50 bg-red-500/10 text-white p-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Fy,{className:"w-5 h-5 text-red-400"}),m.jsx("span",{children:"Ocorreu um erro ao carregar esta trilha."})]})})}}):m.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[m.jsx(Cg,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Nenhuma trilha de aprendizagem foi encontrada para voc no momento."})]}),l&&m.jsx(KR,{training:l,isOpen:!!l,onClose:()=>u(null),onComplete:f})]})}catch(g){return console.error("ERRO FATAL NO COMPONENTE LearningPathList:",g),m.jsxs("div",{className:"text-red-400 bg-red-500/10 p-6 rounded-lg",children:[m.jsx("h2",{className:"font-bold text-lg mb-2",children:"Ocorreu um erro crtico nesta pgina."}),m.jsx("p",{children:"Por favor, abra a consola do navegador (tecla F12) e envie o erro detalhado para depurao."})]})}},iB=()=>{const{user:t}=Gi(),[e,n]=S.useState(null);if(S.useEffect(()=>{if(t){const i=yt(),a=i.treinamentos.filter(_=>_.ativo&&(_.departamento==="Todos"||_.departamento===t.departamento)),l=i.historico.filter(_=>_.usuarioId===t.id),u=l.filter(_=>_.concluido),d=u.length,f=a.length>0?d/a.length*100:0,g=l.reduce((_,b)=>_+(b.tempoAssistido||0),0),y=u.length>0?u.reduce((_,b)=>_+(b.notaQuestionario||0),0)/u.length:0,x=u.sort((_,b)=>new Date(b.dataConclusao)-new Date(_.dataConclusao)).slice(0,5).map(_=>{const b=i.treinamentos.find(C=>C.id===_.treinamentoId);return{..._,trainingTitle:(b==null?void 0:b.titulo)||"Treinamento desconhecido"}});n({totalTrainings:a.length,completedCount:d,completionRate:f,totalTime:g,avgScore:y,recentCompletions:x})}},[t]),!e)return m.jsx("div",{className:"text-center text-slate-400",children:"Carregando seu progresso..."});const r=[{title:"Treinamentos Concludos",value:e.completedCount,icon:au,color:"green"},{title:"Progresso Geral",value:`${e.completionRate.toFixed(0)}%`,icon:GS,color:"blue"},{title:"Tempo de Estudo",value:`${Math.floor(e.totalTime/3600)}h ${Math.floor(e.totalTime%3600/60)}m`,icon:$y,color:"purple"},{title:"Nota Mdia",value:e.avgScore.toFixed(1),icon:uh,color:"yellow"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meu Progresso"}),m.jsx("p",{className:"text-slate-400",children:"Acompanhe sua jornada de aprendizado."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((i,a)=>{const l=i.icon;return m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*(a+1)},children:m.jsxs(Dt,{className:"glass-effect border-slate-700 card-hover",children:[m.jsxs(Kt,{className:"flex flex-row items-center justify-between pb-2",children:[m.jsx(Qt,{className:"text-sm font-medium text-slate-200",children:i.title}),m.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r from-${i.color}-500 to-${i.color}-600`,children:m.jsx(l,{className:"h-4 w-4 text-white"})})]}),m.jsxs(Vt,{children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:i.value}),m.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["de ",e.totalTrainings," disponveis"]})]})]})},i.title)})}),m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsxs(Kt,{children:[m.jsx(Qt,{className:"text-white",children:"ltimos Treinamentos Concludos"}),m.jsx(gl,{children:"Sua atividade mais recente na plataforma."})]}),m.jsx(Vt,{children:e.recentCompletions.length>0?m.jsx("ul",{className:"space-y-3",children:e.recentCompletions.map((i,a)=>m.jsxs(Me.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:m.jsx(Kc,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-white",children:i.trainingTitle}),m.jsxs("p",{className:"text-xs text-slate-400",children:["Concludo em: ",new Date(i.dataConclusao).toLocaleDateString("pt-BR")]})]})]}),m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"text-sm font-semibold text-green-400",children:["Nota: ",i.notaQuestionario,"/10"]})})]},i.id))}):m.jsx("p",{className:"text-center text-slate-400 py-8",children:"Voc ainda no concluiu nenhum treinamento."})})]})})]})},oB=()=>{const{user:t}=Gi(),[e,n]=S.useState([]),[r,i]=S.useState(null);S.useEffect(()=>{const u=yt(),d=u.usuarios.filter(_=>_.tipo==="funcionario"&&_.ativo),f=u.historico.filter(_=>_.concluido),y=d.map(_=>{const b=f.filter(j=>j.usuarioId===_.id).length,C=f.filter(j=>j.usuarioId===_.id).reduce((j,k)=>j+(k.notaQuestionario||0),0),R=b*10+(b>0?C/b:0);return{id:_.id,nome:_.nome,departamento:_.departamento,completedCount:b,finalScore:R.toFixed(2)}}).sort((_,b)=>b.finalScore-_.finalScore);n(y);const x=y.findIndex(_=>_.id===t.id)+1;i(x>0?x:null)},[t]);const a=u=>u===1?m.jsx(KS,{className:"w-6 h-6 text-yellow-400"}):u===2?m.jsx(XV,{className:"w-6 h-6 text-gray-400"}):u===3?m.jsx(uh,{className:"w-6 h-6 text-yellow-600"}):m.jsx(eM,{className:"w-5 h-5 text-slate-500"}),l=u=>u===1?"border-yellow-400/50":u===2?"border-gray-400/50":u===3?"border-yellow-600/50":"border-slate-700";return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Ranking de Colaboradores"}),m.jsx("p",{className:"text-slate-400",children:"Veja quem est se destacando nos treinamentos."})]}),r&&m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:m.jsxs(Dt,{className:"glass-effect border-blue-500/50",children:[m.jsx(Kt,{children:m.jsx(Qt,{className:"text-white text-center",children:"Sua Posio"})}),m.jsxs(Vt,{className:"text-center",children:[m.jsxs("p",{className:"text-5xl font-bold text-blue-400",children:[r,""]}),m.jsx("p",{className:"text-slate-300 mt-1",children:"Continue assim!"})]})]})}),m.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:m.jsxs(Dt,{className:"glass-effect border-slate-700",children:[m.jsx(Kt,{children:m.jsx(Qt,{className:"text-white",children:"Top Colaboradores"})}),m.jsx(Vt,{children:m.jsx("ul",{className:"space-y-3",children:e.map((u,d)=>{const f=d+1;return m.jsxs(Me.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*d},className:`flex items-center justify-between p-3 bg-slate-800/50 rounded-lg border-l-4 ${l(f)}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-lg font-bold",children:a(f)}),m.jsxs("div",{children:[m.jsx("p",{className:`font-medium ${u.id===t.id?"text-blue-400":"text-white"}`,children:u.nome}),m.jsx("p",{className:"text-xs text-slate-400",children:u.departamento})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-lg font-bold text-white",children:u.finalScore}),m.jsxs("p",{className:"text-xs text-slate-400",children:[u.completedCount," concludos"]})]})]},u.id)})})})]})})]})},aB=()=>{const{user:t,logout:e,isAdmin:n,loading:r}=Gi(),[i,a]=S.useState("");S.useEffect(()=>{t&&a(n()?"dashboard":"meus-treinamentos")},[t,n]);const l=()=>{e(),a("")},u=()=>{switch(i){case"dashboard":return m.jsx(bE,{setActiveTab:a});case"usuarios":return m.jsx(W9,{});case"treinamentos":return m.jsx(FU,{});case"trilhas":return m.jsx(QU,{});case"categorias":return m.jsx(UU,{});case"departamentos":return m.jsx(BU,{});case"relatorios":return m.jsx(YU,{});case"configuracoes":return m.jsx(tB,{});case"meus-treinamentos":return m.jsx(eT,{});case"minhas-trilhas":return m.jsx(sB,{});case"progresso":return m.jsx(iB,{});case"ranking":return m.jsx(oB,{});default:return n()?m.jsx(bE,{setActiveTab:a}):m.jsx(eT,{})}};return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):t?m.jsxs("div",{className:"flex h-screen bg-slate-900",children:[m.jsx(A6,{activeTab:i,setActiveTab:a,onLogout:l}),m.jsx("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:u()})]}):m.jsx(b6,{})};function lB(){const[t,e]=S.useState(!1);return S.useEffect(()=>{(async()=>{await vO(),e(!0)})()},[]),t?m.jsxs(xO,{children:[m.jsx(Ym,{children:m.jsx("title",{children:"Central de Treinamento NTW"})}),m.jsx(aB,{}),m.jsx(dM,{})]}):m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:[m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"}),m.jsx("p",{className:"text-white ml-4",children:"Carregando banco de dados..."})]})}aI.createRoot(document.getElementById("root")).render(m.jsx(Le.StrictMode,{children:m.jsx(lB,{})}));
